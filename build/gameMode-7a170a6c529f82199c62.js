webpackJsonp([6],{7:function(t,e,n){var r;(function(t,i){(function(){function o(t,e){if(t!==e){var n=null===t,r=t===O,i=t===t,o=null===e,u=e===O,a=e===e;if(t>e&&!o||!i||n&&!u&&a||r&&a)return 1;if(e>t&&!n||!a||o&&!r&&i||u&&i)return-1}return 0}function u(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function a(t,e,n){if(e!==e)return m(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function s(t){return"function"==typeof t||!1}function c(t){return null==t?"":t+""}function f(t,e){for(var n=-1,r=t.length;++n<r&&e.indexOf(t.charAt(n))>-1;);return n}function l(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function h(t,e){return o(t.criteria,e.criteria)||t.index-e.index}function p(t,e,n){for(var r=-1,i=t.criteria,u=e.criteria,a=i.length,s=n.length;++r<a;){var c=o(i[r],u[r]);if(c){if(r>=s)return c;var f=n[r];return c*("asc"===f||f===!0?1:-1)}}return t.index-e.index}function d(t){return Vt[t]}function v(t){return qt[t]}function g(t,e,n){return e?t=Kt[t]:n&&(t=Xt[t]),"\\"+t}function y(t){return"\\"+Xt[t]}function m(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}function b(t){return!!t&&"object"==typeof t}function _(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function w(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;)t[n]===e&&(t[n]=V,o[++i]=n);return o}function x(t,e){for(var n,r=-1,i=t.length,o=-1,u=[];++r<i;){var a=t[r],s=e?e(a,r,t):a;r&&n===s||(n=s,u[++o]=a)}return u}function S(t){for(var e=-1,n=t.length;++e<n&&_(t.charCodeAt(e)););return e}function E(t){for(var e=t.length;e--&&_(t.charCodeAt(e)););return e}function k(t){return Ht[t]}function A(t){function e(t){if(b(t)&&!Ia(t)&&!(t instanceof i)){if(t instanceof r)return t;if(eu.call(t,"__chain__")&&eu.call(t,"__wrapped__"))return pr(t)}return new r(t)}function n(){}function r(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function i(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ju,this.__views__=[]}function _(){var t=new i(this.__wrapped__);return t.__actions__=te(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=te(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=te(this.__views__),t}function Q(){if(this.__filtered__){var t=new i(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function rt(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ia(t),r=0>e,i=n?t.length:0,o=Vn(0,i,this.__views__),u=o.start,a=o.end,s=a-u,c=r?a:u-1,f=this.__iteratees__,l=f.length,h=0,p=Su(s,this.__takeCount__);if(!n||G>i||i==s&&p==s)return nn(r&&n?t.reverse():t,this.__actions__);var d=[];t:for(;s--&&p>h;){c+=e;for(var v=-1,g=t[c];++v<l;){var y=f[v],m=y.iteratee,b=y.type,_=m(g);if(b==Y)g=_;else if(!_){if(b==W)continue t;break t}}d[h++]=g}return d}function ot(){this.__data__={}}function Vt(t){return this.has(t)&&delete this.__data__[t]}function qt(t){return"__proto__"==t?O:this.__data__[t]}function Ht(t){return"__proto__"!=t&&eu.call(this.__data__,t)}function Jt(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Kt(t){var e=t?t.length:0;for(this.data={hash:yu(null),set:new lu};e--;)this.push(t[e])}function Xt(t,e){var n=t.data,r="string"==typeof e||Ci(e)?n.set.has(e):n.hash[e];return r?0:-1}function Zt(t){var e=this.data;"string"==typeof t||Ci(t)?e.set.add(t):e.hash[t]=!0}function Qt(t,e){for(var n=-1,r=t.length,i=-1,o=e.length,u=zo(r+o);++n<r;)u[n]=t[n];for(;++i<o;)u[n++]=e[i];return u}function te(t,e){var n=-1,r=t.length;for(e||(e=zo(r));++n<r;)e[n]=t[n];return e}function ee(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function ne(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function oe(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ue(t,e,n,r){for(var i=-1,o=t.length,u=r,a=u;++i<o;){var s=t[i],c=+e(s);n(c,u)&&(u=c,a=s)}return a}function ae(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var u=t[n];e(u,n,t)&&(o[++i]=u)}return o}function se(t,e){for(var n=-1,r=t.length,i=zo(r);++n<r;)i[n]=e(t[n],n,t);return i}function ce(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function fe(t,e,n,r){var i=-1,o=t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function le(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function he(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function pe(t,e){for(var n=t.length,r=0;n--;)r+=+e(t[n])||0;return r}function de(t,e){return t===O?e:t}function ve(t,e,n,r){return t!==O&&eu.call(r,n)?t:e}function ge(t,e,n){for(var r=-1,i=Fa(e),o=i.length;++r<o;){var u=i[r],a=t[u],s=n(a,e[u],u,t,e);(s===s?s===a:a!==a)&&(a!==O||u in t)||(t[u]=s)}return t}function ye(t,e){return null==e?t:be(e,Fa(e),t)}function me(t,e){for(var n=-1,r=null==t,i=!r&&Xn(t),o=i?t.length:0,u=e.length,a=zo(u);++n<u;){var s=e[n];i?a[n]=Zn(s,o)?t[s]:O:a[n]=r?O:t[s]}return a}function be(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var o=e[r];n[o]=t[o]}return n}function _e(t,e,n){var r=typeof t;return"function"==r?e===O?t:un(t,e,n):null==t?jo:"object"==r?Ue(t):e===O?Co(t):Fe(t,e)}function we(t,e,n,r,i,o,u){var a;if(n&&(a=i?n(t,r,i):n(t)),a!==O)return a;if(!Ci(t))return t;var s=Ia(t);if(s){if(a=qn(t),!e)return te(t,a)}else{var c=ru.call(t),f=c==Z;if(c!=et&&c!=q&&(!f||i))return $t[c]?Jn(t,c,e):i?t:{};if(a=Hn(f?{}:t),!e)return ye(a,t)}o||(o=[]),u||(u=[]);for(var l=o.length;l--;)if(o[l]==t)return u[l];return o.push(t),u.push(a),(s?ee:Pe)(t,function(r,i){a[i]=we(r,e,n,i,t,o,u)}),a}function xe(t,e,n){if("function"!=typeof t)throw new Ko($);return hu(function(){t.apply(O,n)},e)}function Se(t,e){var n=t?t.length:0,r=[];if(!n)return r;var i=-1,o=Wn(),u=o==a,s=u&&e.length>=G?vn(e):null,c=e.length;s&&(o=Xt,u=!1,e=s);t:for(;++i<n;){var f=t[i];if(u&&f===f){for(var l=c;l--;)if(e[l]===f)continue t;r.push(f)}else o(e,f,0)<0&&r.push(f)}return r}function Ee(t,e){var n=!0;return Lu(t,function(t,r,i){return n=!!e(t,r,i)}),n}function ke(t,e,n,r){var i=r,o=i;return Lu(t,function(t,u,a){var s=+e(t,u,a);(n(s,i)||s===r&&s===o)&&(i=s,o=t)}),o}function Ae(t,e,n,r){var i=t.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===O||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)t[n++]=e;return t}function Oe(t,e){var n=[];return Lu(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function je(t,e,n,r){var i;return n(t,function(t,n,o){return e(t,n,o)?(i=r?n:t,!1):void 0}),i}function Ie(t,e,n,r){r||(r=[]);for(var i=-1,o=t.length;++i<o;){var u=t[i];b(u)&&Xn(u)&&(n||Ia(u)||ki(u))?e?Ie(u,e,n,r):ce(r,u):n||(r[r.length]=u)}return r}function Me(t,e){return Nu(t,e,to)}function Pe(t,e){return Nu(t,e,Fa)}function Be(t,e){return Uu(t,e,Fa)}function Te(t,e){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var u=e[n];Ti(t[u])&&(o[++i]=u)}return o}function Ce(t,e,n){if(null!=t){n!==O&&n in lr(t)&&(e=[n]);for(var r=0,i=e.length;null!=t&&i>r;)t=t[e[r++]];return r&&r==i?t:O}}function De(t,e,n,r,i,o){return t===e?!0:null==t||null==e||!Ci(t)&&!b(e)?t!==t&&e!==e:Le(t,e,De,n,r,i,o)}function Le(t,e,n,r,i,o,u){var a=Ia(t),s=Ia(e),c=H,f=H;a||(c=ru.call(t),c==q?c=et:c!=et&&(a=Wi(t))),s||(f=ru.call(e),f==q?f=et:f!=et&&(s=Wi(e)));var l=c==et,h=f==et,p=c==f;if(p&&!a&&!l)return Un(t,e,c);if(!i){var d=l&&eu.call(t,"__wrapped__"),v=h&&eu.call(e,"__wrapped__");if(d||v)return n(d?t.value():t,v?e.value():e,r,i,o,u)}if(!p)return!1;o||(o=[]),u||(u=[]);for(var g=o.length;g--;)if(o[g]==t)return u[g]==e;o.push(t),u.push(e);var y=(a?Nn:Fn)(t,e,n,r,i,o,u);return o.pop(),u.pop(),y}function Re(t,e,n){var r=e.length,i=r,o=!n;if(null==t)return!i;for(t=lr(t);r--;){var u=e[r];if(o&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++r<i;){u=e[r];var a=u[0],s=t[a],c=u[1];if(o&&u[2]){if(s===O&&!(a in t))return!1}else{var f=n?n(s,c,a):O;if(!(f===O?De(c,s,n,!0):f))return!1}}return!0}function Ne(t,e){var n=-1,r=Xn(t)?zo(t.length):[];return Lu(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Ue(t){var e=Yn(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null==t?!1:t[n]===r&&(r!==O||n in lr(t))}}return function(t){return Re(t,e)}}function Fe(t,e){var n=Ia(t),r=tr(t)&&rr(e),i=t+"";return t=hr(t),function(o){if(null==o)return!1;var u=i;if(o=lr(o),(n||!r)&&!(u in o)){if(o=1==t.length?o:Ce(o,He(t,0,-1)),null==o)return!1;u=Ar(t),o=lr(o)}return o[u]===e?e!==O||u in o:De(e,o[u],O,!0)}}function ze(t,e,n,r,i){if(!Ci(t))return t;var o=Xn(e)&&(Ia(e)||Wi(e)),u=o?O:Fa(e);return ee(u||e,function(a,s){if(u&&(s=a,a=e[s]),b(a))r||(r=[]),i||(i=[]),Ge(t,e,s,ze,n,r,i);else{var c=t[s],f=n?n(c,a,s,t,e):O,l=f===O;l&&(f=a),f===O&&(!o||s in t)||!l&&(f===f?f===c:c!==c)||(t[s]=f)}}),t}function Ge(t,e,n,r,i,o,u){for(var a=o.length,s=e[n];a--;)if(o[a]==s)return void(t[n]=u[a]);var c=t[n],f=i?i(c,s,n,t,e):O,l=f===O;l&&(f=s,Xn(s)&&(Ia(s)||Wi(s))?f=Ia(c)?c:Xn(c)?te(c):[]:Fi(s)||ki(s)?f=ki(c)?Hi(c):Fi(c)?c:{}:l=!1),o.push(s),u.push(f),l?t[n]=r(f,s,i,o,u):(f===f?f!==c:c===c)&&(t[n]=f)}function We(t){return function(e){return null==e?O:e[t]}}function Ye(t){var e=t+"";return t=hr(t),function(n){return Ce(n,t,e)}}function $e(t,e){for(var n=t?e.length:0;n--;){var r=e[n];if(r!=i&&Zn(r)){var i=r;pu.call(t,r,1)}}return t}function Ve(t,e){return t+mu(Au()*(e-t+1))}function qe(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function He(t,e,n){var r=-1,i=t.length;e=null==e?0:+e||0,0>e&&(e=-e>i?0:i+e),n=n===O||n>i?i:+n||0,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=zo(i);++r<i;)o[r]=t[r+e];return o}function Je(t,e){var n;return Lu(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function Ke(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Xe(t,e,n){var r=zn(),i=-1;e=se(e,function(t){return r(t)});var o=Ne(t,function(t){var n=se(e,function(e){return e(t)});return{criteria:n,index:++i,value:t}});return Ke(o,function(t,e){return p(t,e,n)})}function Ze(t,e){var n=0;return Lu(t,function(t,r,i){n+=+e(t,r,i)||0}),n}function Qe(t,e){var n=-1,r=Wn(),i=t.length,o=r==a,u=o&&i>=G,s=u?vn():null,c=[];s?(r=Xt,o=!1):(u=!1,s=e?[]:c);t:for(;++n<i;){var f=t[n],l=e?e(f,n,t):f;if(o&&f===f){for(var h=s.length;h--;)if(s[h]===l)continue t;e&&s.push(l),c.push(f)}else r(s,l,0)<0&&((e||u)&&s.push(l),c.push(f))}return c}function tn(t,e){for(var n=-1,r=e.length,i=zo(r);++n<r;)i[n]=t[e[n]];return i}function en(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?He(t,r?0:o,r?o+1:i):He(t,r?o+1:0,r?i:o)}function nn(t,e){var n=t;n instanceof i&&(n=n.value());for(var r=-1,o=e.length;++r<o;){var u=e[r];n=u.func.apply(u.thisArg,ce([n],u.args))}return n}function rn(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&Pu>=i){for(;i>r;){var o=r+i>>>1,u=t[o];(n?e>=u:e>u)&&null!==u?r=o+1:i=o}return i}return on(t,e,jo,n)}function on(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,u=e!==e,a=null===e,s=e===O;o>i;){var c=mu((i+o)/2),f=n(t[c]),l=f!==O,h=f===f;if(u)var p=h||r;else p=a?h&&l&&(r||null!=f):s?h&&(r||l):null==f?!1:r?e>=f:e>f;p?i=c+1:o=c}return Su(o,Mu)}function un(t,e,n){if("function"!=typeof t)return jo;if(e===O)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,u){return t.call(e,n,r,i,o,u)}}return function(){return t.apply(e,arguments)}}function an(t){var e=new uu(t.byteLength),n=new du(e);return n.set(new du(t)),e}function sn(t,e,n){for(var r=n.length,i=-1,o=xu(t.length-r,0),u=-1,a=e.length,s=zo(a+o);++u<a;)s[u]=e[u];for(;++i<r;)s[n[i]]=t[i];for(;o--;)s[u++]=t[i++];return s}function cn(t,e,n){for(var r=-1,i=n.length,o=-1,u=xu(t.length-i,0),a=-1,s=e.length,c=zo(u+s);++o<u;)c[o]=t[o];for(var f=o;++a<s;)c[f+a]=e[a];for(;++r<i;)c[f+n[r]]=t[o++];return c}function fn(t,e){return function(n,r,i){var o=e?e():{};if(r=zn(r,i,3),Ia(n))for(var u=-1,a=n.length;++u<a;){var s=n[u];t(o,s,r(s,u,n),n)}else Lu(n,function(e,n,i){t(o,e,r(e,n,i),i)});return o}}function ln(t){return yi(function(e,n){var r=-1,i=null==e?0:n.length,o=i>2?n[i-2]:O,u=i>2?n[2]:O,a=i>1?n[i-1]:O;for("function"==typeof o?(o=un(o,a,5),i-=2):(o="function"==typeof a?a:O,i-=o?1:0),u&&Qn(n[0],n[1],u)&&(o=3>i?O:o,i=1);++r<i;){var s=n[r];s&&t(e,s,o)}return e})}function hn(t,e){return function(n,r){var i=n?Gu(n):0;if(!nr(i))return t(n,r);for(var o=e?i:-1,u=lr(n);(e?o--:++o<i)&&r(u[o],o,u)!==!1;);return n}}function pn(t){return function(e,n,r){for(var i=lr(e),o=r(e),u=o.length,a=t?u:-1;t?a--:++a<u;){var s=o[a];if(n(i[s],s,i)===!1)break}return e}}function dn(t,e){function n(){var i=this&&this!==re&&this instanceof n?r:t;return i.apply(e,arguments)}var r=yn(t);return n}function vn(t){return yu&&lu?new Kt(t):null}function gn(t){return function(e){for(var n=-1,r=ko(fo(e)),i=r.length,o="";++n<i;)o=t(o,r[n],n);return o}}function yn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Du(t.prototype),r=t.apply(n,e);return Ci(r)?r:n}}function mn(t){function e(n,r,i){i&&Qn(n,r,i)&&(r=O);var o=Rn(n,t,O,O,O,O,O,r);return o.placeholder=e.placeholder,o}return e}function bn(t,e){return yi(function(n){var r=n[0];return null==r?r:(n.push(e),t.apply(O,n))})}function _n(t,e){return function(n,r,i){if(i&&Qn(n,r,i)&&(r=O),r=zn(r,i,3),1==r.length){n=Ia(n)?n:fr(n);var o=ue(n,r,t,e);if(!n.length||o!==e)return o}return ke(n,r,t,e)}}function wn(t,e){return function(n,r,i){if(r=zn(r,i,3),Ia(n)){var o=u(n,r,e);return o>-1?n[o]:O}return je(n,r,t)}}function xn(t){return function(e,n,r){return e&&e.length?(n=zn(n,r,3),u(e,n,t)):-1}}function Sn(t){return function(e,n,r){return n=zn(n,r,3),je(e,n,t,!0)}}function En(t){return function(){for(var e,n=arguments.length,i=t?n:-1,o=0,u=zo(n);t?i--:++i<n;){var a=u[o++]=arguments[i];if("function"!=typeof a)throw new Ko($);!e&&r.prototype.thru&&"wrapper"==Gn(a)&&(e=new r([],!0))}for(i=e?-1:n;++i<n;){a=u[i];var s=Gn(a),c="wrapper"==s?zu(a):O;e=c&&er(c[0])&&c[1]==(L|B|C|R)&&!c[4].length&&1==c[9]?e[Gn(c[0])].apply(e,c[3]):1==a.length&&er(a)?e[s]():e.thru(a)}return function(){var t=arguments,r=t[0];if(e&&1==t.length&&Ia(r)&&r.length>=G)return e.plant(r).value();for(var i=0,o=n?u[i].apply(this,t):r;++i<n;)o=u[i].call(this,o);return o}}}function kn(t,e){return function(n,r,i){return"function"==typeof r&&i===O&&Ia(n)?t(n,r):e(n,un(r,i,3))}}function An(t){return function(e,n,r){return("function"!=typeof n||r!==O)&&(n=un(n,r,3)),t(e,n,to)}}function On(t){return function(e,n,r){return("function"!=typeof n||r!==O)&&(n=un(n,r,3)),t(e,n)}}function jn(t){return function(e,n,r){var i={};return n=zn(n,r,3),Pe(e,function(e,r,o){var u=n(e,r,o);r=t?u:r,e=t?e:u,i[r]=e}),i}}function In(t){return function(e,n,r){return e=c(e),(t?e:"")+Tn(e,n,r)+(t?"":e)}}function Mn(t){var e=yi(function(n,r){var i=w(r,e.placeholder);return Rn(n,t,O,r,i)});return e}function Pn(t,e){return function(n,r,i,o){var u=arguments.length<3;return"function"==typeof r&&o===O&&Ia(n)?t(n,r,i,u):qe(n,zn(r,o,4),i,u,e)}}function Bn(t,e,n,r,i,o,u,a,s,c){function f(){for(var m=arguments.length,b=m,_=zo(m);b--;)_[b]=arguments[b];if(r&&(_=sn(_,r,i)),o&&(_=cn(_,o,u)),d||g){var x=f.placeholder,S=w(_,x);if(m-=S.length,c>m){var E=a?te(a):O,k=xu(c-m,0),A=d?S:O,j=d?O:S,P=d?_:O,B=d?O:_;e|=d?C:D,e&=~(d?D:C),v||(e&=~(I|M));var T=[t,e,n,P,A,B,j,E,s,k],L=Bn.apply(O,T);return er(t)&&Wu(L,T),L.placeholder=x,L}}var R=h?n:this,N=p?R[t]:t;return a&&(_=sr(_,a)),l&&s<_.length&&(_.length=s),this&&this!==re&&this instanceof f&&(N=y||yn(t)),N.apply(R,_)}var l=e&L,h=e&I,p=e&M,d=e&B,v=e&P,g=e&T,y=p?O:yn(t);return f}function Tn(t,e,n){var r=t.length;if(e=+e,r>=e||!_u(e))return"";var i=e-r;return n=null==n?" ":n+"",yo(n,gu(i/n.length)).slice(0,i)}function Cn(t,e,n,r){function i(){for(var e=-1,a=arguments.length,s=-1,c=r.length,f=zo(c+a);++s<c;)f[s]=r[s];for(;a--;)f[s++]=arguments[++e];var l=this&&this!==re&&this instanceof i?u:t;return l.apply(o?n:this,f)}var o=e&I,u=yn(t);return i}function Dn(t){var e=$o[t];return function(t,n){return n=n===O?0:+n||0,n?(n=cu(10,n),e(t*n)/n):e(t)}}function Ln(t){return function(e,n,r,i){var o=zn(r);return null==r&&o===_e?rn(e,n,t):on(e,n,o(r,i,1),t)}}function Rn(t,e,n,r,i,o,u,a){var s=e&M;if(!s&&"function"!=typeof t)throw new Ko($);var c=r?r.length:0;if(c||(e&=~(C|D),r=i=O),c-=i?i.length:0,e&D){var f=r,l=i;r=i=O}var h=s?O:zu(t),p=[t,e,n,r,i,f,l,o,u,a];if(h&&(ir(p,h),e=p[1],a=p[9]),p[9]=null==a?s?0:t.length:xu(a-c,0)||0,e==I)var d=dn(p[0],p[2]);else d=e!=C&&e!=(I|C)||p[4].length?Bn.apply(O,p):Cn.apply(O,p);var v=h?Fu:Wu;return v(d,p)}function Nn(t,e,n,r,i,o,u){var a=-1,s=t.length,c=e.length;if(s!=c&&!(i&&c>s))return!1;for(;++a<s;){var f=t[a],l=e[a],h=r?r(i?l:f,i?f:l,a):O;if(h!==O){if(h)continue;return!1}if(i){if(!he(e,function(t){return f===t||n(f,t,r,i,o,u)}))return!1}else if(f!==l&&!n(f,l,r,i,o,u))return!1}return!0}function Un(t,e,n){switch(n){case J:case K:return+t==+e;case X:return t.name==e.name&&t.message==e.message;case tt:return t!=+t?e!=+e:t==+e;case nt:case it:return t==e+""}return!1}function Fn(t,e,n,r,i,o,u){var a=Fa(t),s=a.length,c=Fa(e),f=c.length;if(s!=f&&!i)return!1;for(var l=s;l--;){var h=a[l];if(!(i?h in e:eu.call(e,h)))return!1}for(var p=i;++l<s;){h=a[l];var d=t[h],v=e[h],g=r?r(i?v:d,i?d:v,h):O;if(!(g===O?n(d,v,r,i,o,u):g))return!1;p||(p="constructor"==h)}if(!p){var y=t.constructor,m=e.constructor;if(y!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m))return!1}return!0}function zn(t,n,r){var i=e.callback||Ao;return i=i===Ao?_e:i,r?i(t,n,r):i}function Gn(t){for(var e=t.name,n=Cu[e],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Wn(t,n,r){var i=e.indexOf||Er;return i=i===Er?a:i,t?i(t,n,r):i}function Yn(t){for(var e=eo(t),n=e.length;n--;)e[n][2]=rr(e[n][1]);return e}function $n(t,e){var n=null==t?O:t[e];return Ri(n)?n:O}function Vn(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],u=o.size;switch(o.type){case"drop":t+=u;break;case"dropRight":e-=u;break;case"take":e=Su(e,t+u);break;case"takeRight":t=xu(t,e-u)}}return{start:t,end:e}}function qn(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&eu.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Hn(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=qo),new e}function Jn(t,e,n){var r=t.constructor;switch(e){case ut:return an(t);case J:case K:return new r(+t);case at:case st:case ct:case ft:case lt:case ht:case pt:case dt:case vt:var i=t.buffer;return new r(n?an(i):i,t.byteOffset,t.length);case tt:case it:return new r(t);case nt:var o=new r(t.source,Ct.exec(t));o.lastIndex=t.lastIndex}return o}function Kn(t,e,n){null==t||tr(e,t)||(e=hr(e),t=1==e.length?t:Ce(t,He(e,0,-1)),e=Ar(e));var r=null==t?t:t[e];return null==r?O:r.apply(t,n)}function Xn(t){return null!=t&&nr(Gu(t))}function Zn(t,e){return t="number"==typeof t||Rt.test(t)?+t:-1,e=null==e?Bu:e,t>-1&&t%1==0&&e>t}function Qn(t,e,n){if(!Ci(n))return!1;var r=typeof e;if("number"==r?Xn(n)&&Zn(e,n.length):"string"==r&&e in n){var i=n[e];return t===t?t===i:i!==i}return!1}function tr(t,e){var n=typeof t;if("string"==n&&Ot.test(t)||"number"==n)return!0;if(Ia(t))return!1;var r=!At.test(t);return r||null!=e&&t in lr(e)}function er(t){var n=Gn(t);if(!(n in i.prototype))return!1;var r=e[n];if(t===r)return!0;var o=zu(r);return!!o&&t===o[0]}function nr(t){return"number"==typeof t&&t>-1&&t%1==0&&Bu>=t}function rr(t){return t===t&&!Ci(t)}function ir(t,e){var n=t[1],r=e[1],i=n|r,o=L>i,u=r==L&&n==B||r==L&&n==R&&t[7].length<=e[8]||r==(L|R)&&n==B;if(!o&&!u)return t;r&I&&(t[2]=e[2],i|=n&I?0:P);var a=e[3];if(a){var s=t[3];t[3]=s?sn(s,a,e[4]):te(a),t[4]=s?w(t[3],V):te(e[4])}return a=e[5],a&&(s=t[5],t[5]=s?cn(s,a,e[6]):te(a),t[6]=s?w(t[5],V):te(e[6])),a=e[7],a&&(t[7]=te(a)),r&L&&(t[8]=null==t[8]?e[8]:Su(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function or(t,e){return t===O?e:Ma(t,e,or)}function ur(t,e){t=lr(t);for(var n=-1,r=e.length,i={};++n<r;){var o=e[n];o in t&&(i[o]=t[o])}return i}function ar(t,e){var n={};return Me(t,function(t,r,i){e(t,r,i)&&(n[r]=t)}),n}function sr(t,e){for(var n=t.length,r=Su(e.length,n),i=te(t);r--;){var o=e[r];t[r]=Zn(o,n)?i[o]:O}return t}function cr(t){for(var e=to(t),n=e.length,r=n&&t.length,i=!!r&&nr(r)&&(Ia(t)||ki(t)),o=-1,u=[];++o<n;){var a=e[o];(i&&Zn(a,r)||eu.call(t,a))&&u.push(a)}return u}function fr(t){return null==t?[]:Xn(t)?Ci(t)?t:qo(t):oo(t)}function lr(t){return Ci(t)?t:qo(t)}function hr(t){if(Ia(t))return t;var e=[];return c(t).replace(jt,function(t,n,r,i){e.push(r?i.replace(Bt,"$1"):n||t)}),e}function pr(t){return t instanceof i?t.clone():new r(t.__wrapped__,t.__chain__,te(t.__actions__))}function dr(t,e,n){e=(n?Qn(t,e,n):null==e)?1:xu(mu(e)||1,1);for(var r=0,i=t?t.length:0,o=-1,u=zo(gu(i/e));i>r;)u[++o]=He(t,r,r+=e);return u}function vr(t){for(var e=-1,n=t?t.length:0,r=-1,i=[];++e<n;){var o=t[e];o&&(i[++r]=o)}return i}function gr(t,e,n){var r=t?t.length:0;return r?((n?Qn(t,e,n):null==e)&&(e=1),He(t,0>e?0:e)):[]}function yr(t,e,n){var r=t?t.length:0;return r?((n?Qn(t,e,n):null==e)&&(e=1),e=r-(+e||0),He(t,0,0>e?0:e)):[]}function mr(t,e,n){return t&&t.length?en(t,zn(e,n,3),!0,!0):[]}function br(t,e,n){return t&&t.length?en(t,zn(e,n,3),!0):[]}function _r(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Qn(t,e,n)&&(n=0,r=i),Ae(t,e,n,r)):[]}function wr(t){return t?t[0]:O}function xr(t,e,n){var r=t?t.length:0;return n&&Qn(t,e,n)&&(e=!1),r?Ie(t,e):[]}function Sr(t){var e=t?t.length:0;return e?Ie(t,!0):[]}function Er(t,e,n){var r=t?t.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?xu(r+n,0):n;else if(n){var i=rn(t,e);return r>i&&(e===e?e===t[i]:t[i]!==t[i])?i:-1}return a(t,e,n||0)}function kr(t){return yr(t,1)}function Ar(t){var e=t?t.length:0;return e?t[e-1]:O}function Or(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?xu(r+n,0):Su(n||0,r-1))+1;else if(n){i=rn(t,e,!0)-1;var o=t[i];return(e===e?e===o:o!==o)?i:-1}if(e!==e)return m(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1}function jr(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,r=Wn(),i=t.length;++n<i;)for(var o=0,u=t[n];(o=r(e,u,o))>-1;)pu.call(e,o,1);return e}function Ir(t,e,n){var r=[];if(!t||!t.length)return r;var i=-1,o=[],u=t.length;for(e=zn(e,n,3);++i<u;){var a=t[i];e(a,i,t)&&(r.push(a),o.push(i))}return $e(t,o),r}function Mr(t){return gr(t,1)}function Pr(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Qn(t,e,n)&&(e=0,n=r),He(t,e,n)):[]}function Br(t,e,n){var r=t?t.length:0;return r?((n?Qn(t,e,n):null==e)&&(e=1),He(t,0,0>e?0:e)):[]}function Tr(t,e,n){var r=t?t.length:0;return r?((n?Qn(t,e,n):null==e)&&(e=1),e=r-(+e||0),He(t,0>e?0:e)):[]}function Cr(t,e,n){return t&&t.length?en(t,zn(e,n,3),!1,!0):[]}function Dr(t,e,n){return t&&t.length?en(t,zn(e,n,3)):[]}function Lr(t,e,n,r){var i=t?t.length:0;if(!i)return[];null!=e&&"boolean"!=typeof e&&(r=n,n=Qn(t,e,r)?O:e,e=!1);var o=zn();return(null!=n||o!==_e)&&(n=o(n,r,3)),e&&Wn()==a?x(t,n):Qe(t,n)}function Rr(t){if(!t||!t.length)return[];var e=-1,n=0;t=ae(t,function(t){return Xn(t)?(n=xu(t.length,n),!0):void 0});for(var r=zo(n);++e<n;)r[e]=se(t,We(e));return r}function Nr(t,e,n){var r=t?t.length:0;if(!r)return[];var i=Rr(t);return null==e?i:(e=un(e,n,4),se(i,function(t){return fe(t,e,O,!0)}))}function Ur(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Xn(n))var r=r?ce(Se(r,n),Se(n,r)):n}return r?Qe(r):[]}function Fr(t,e){var n=-1,r=t?t.length:0,i={};for(!r||e||Ia(t[0])||(e=[]);++n<r;){var o=t[n];e?i[o]=e[n]:o&&(i[o[0]]=o[1])}return i}function zr(t){var n=e(t);return n.__chain__=!0,n}function Gr(t,e,n){return e.call(n,t),t}function Wr(t,e,n){return e.call(n,t)}function Yr(){return zr(this)}function $r(){return new r(this.value(),this.__chain__)}function Vr(t){for(var e,r=this;r instanceof n;){var i=pr(r);e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e}function qr(){var t=this.__wrapped__,e=function(t){return n&&n.__dir__<0?t:t.reverse()};if(t instanceof i){var n=t;return this.__actions__.length&&(n=new i(this)),n=n.reverse(),n.__actions__.push({func:Wr,args:[e],thisArg:O}),new r(n,this.__chain__)}return this.thru(e)}function Hr(){return this.value()+""}function Jr(){return nn(this.__wrapped__,this.__actions__)}function Kr(t,e,n){var r=Ia(t)?oe:Ee;return n&&Qn(t,e,n)&&(e=O),("function"!=typeof e||n!==O)&&(e=zn(e,n,3)),r(t,e)}function Xr(t,e,n){var r=Ia(t)?ae:Oe;return e=zn(e,n,3),r(t,e)}function Zr(t,e){return ia(t,Ue(e))}function Qr(t,e,n,r){var i=t?Gu(t):0;return nr(i)||(t=oo(t),i=t.length),n="number"!=typeof n||r&&Qn(e,n,r)?0:0>n?xu(i+n,0):n||0,"string"==typeof t||!Ia(t)&&Gi(t)?i>=n&&t.indexOf(e,n)>-1:!!i&&Wn(t,e,n)>-1}function ti(t,e,n){var r=Ia(t)?se:Ne;return e=zn(e,n,3),r(t,e)}function ei(t,e){return ti(t,Co(e))}function ni(t,e,n){var r=Ia(t)?ae:Oe;return e=zn(e,n,3),r(t,function(t,n,r){return!e(t,n,r)})}function ri(t,e,n){if(n?Qn(t,e,n):null==e){t=fr(t);var r=t.length;return r>0?t[Ve(0,r-1)]:O}var i=-1,o=qi(t),r=o.length,u=r-1;for(e=Su(0>e?0:+e||0,r);++i<e;){var a=Ve(i,u),s=o[a];o[a]=o[i],o[i]=s}return o.length=e,o}function ii(t){return ri(t,ju)}function oi(t){var e=t?Gu(t):0;return nr(e)?e:Fa(t).length}function ui(t,e,n){var r=Ia(t)?he:Je;return n&&Qn(t,e,n)&&(e=O),("function"!=typeof e||n!==O)&&(e=zn(e,n,3)),r(t,e)}function ai(t,e,n){if(null==t)return[];n&&Qn(t,e,n)&&(e=O);var r=-1;e=zn(e,n,3);var i=Ne(t,function(t,n,i){return{criteria:e(t,n,i),index:++r,value:t}});return Ke(i,h)}function si(t,e,n,r){return null==t?[]:(r&&Qn(e,n,r)&&(n=O),Ia(e)||(e=null==e?[]:[e]),Ia(n)||(n=null==n?[]:[n]),Xe(t,e,n))}function ci(t,e){return Xr(t,Ue(e))}function fi(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Ko($);var n=t;t=e,e=n}return t=_u(t=+t)?t:0,function(){return--t<1?e.apply(this,arguments):void 0}}function li(t,e,n){return n&&Qn(t,e,n)&&(e=O),e=t&&null==e?t.length:xu(+e||0,0),Rn(t,L,O,O,O,O,e)}function hi(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Ko($);var r=t;t=e,e=r}return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=O),n}}function pi(t,e,n){function r(){p&&au(p),c&&au(c),v=0,c=p=d=O}function i(e,n){n&&au(n),c=p=d=O,e&&(v=va(),f=t.apply(h,s),p||c||(s=h=O))}function o(){var t=e-(va()-l);0>=t||t>e?i(d,c):p=hu(o,t)}function u(){i(y,p)}function a(){if(s=arguments,l=va(),h=this,d=y&&(p||!m),g===!1)var n=m&&!p;else{c||m||(v=l);var r=g-(l-v),i=0>=r||r>g;i?(c&&(c=au(c)),v=l,f=t.apply(h,s)):c||(c=hu(u,r))}return i&&p?p=au(p):p||e===g||(p=hu(o,e)),n&&(i=!0,f=t.apply(h,s)),!i||p||c||(s=h=O),f}var s,c,f,l,h,p,d,v=0,g=!1,y=!0;if("function"!=typeof t)throw new Ko($);if(e=0>e?0:+e||0,n===!0){var m=!0;y=!1}else Ci(n)&&(m=!!n.leading,g="maxWait"in n&&xu(+n.maxWait||0,e),y="trailing"in n?!!n.trailing:y);return a.cancel=r,a}function di(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Ko($);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var u=t.apply(this,r);return n.cache=o.set(i,u),u};return n.cache=new di.Cache,n}function vi(t){if("function"!=typeof t)throw new Ko($);return function(){return!t.apply(this,arguments)}}function gi(t){return hi(2,t)}function yi(t,e){if("function"!=typeof t)throw new Ko($);return e=xu(e===O?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,i=xu(n.length-e,0),o=zo(i);++r<i;)o[r]=n[e+r];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,n[0],o);case 2:return t.call(this,n[0],n[1],o)}var u=zo(e+1);for(r=-1;++r<e;)u[r]=n[r];return u[e]=o,t.apply(this,u)}}function mi(t){if("function"!=typeof t)throw new Ko($);return function(e){return t.apply(this,e)}}function bi(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Ko($);return n===!1?r=!1:Ci(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),pi(t,e,{leading:r,maxWait:+e,trailing:i})}function _i(t,e){return e=null==e?jo:e,Rn(e,C,O,[t],[])}function wi(t,e,n,r){return e&&"boolean"!=typeof e&&Qn(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),"function"==typeof n?we(t,e,un(n,r,1)):we(t,e)}function xi(t,e,n){return"function"==typeof e?we(t,!0,un(e,n,1)):we(t,!0)}function Si(t,e){return t>e}function Ei(t,e){return t>=e}function ki(t){return b(t)&&Xn(t)&&eu.call(t,"callee")&&!fu.call(t,"callee")}function Ai(t){return t===!0||t===!1||b(t)&&ru.call(t)==J}function Oi(t){return b(t)&&ru.call(t)==K}function ji(t){return!!t&&1===t.nodeType&&b(t)&&!Fi(t)}function Ii(t){return null==t?!0:Xn(t)&&(Ia(t)||Gi(t)||ki(t)||b(t)&&Ti(t.splice))?!t.length:!Fa(t).length}function Mi(t,e,n,r){n="function"==typeof n?un(n,r,3):O;var i=n?n(t,e):O;return i===O?De(t,e,n):!!i}function Pi(t){return b(t)&&"string"==typeof t.message&&ru.call(t)==X}function Bi(t){return"number"==typeof t&&_u(t)}function Ti(t){return Ci(t)&&ru.call(t)==Z}function Ci(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Di(t,e,n,r){return n="function"==typeof n?un(n,r,3):O,Re(t,Yn(e),n)}function Li(t){return Ui(t)&&t!=+t}function Ri(t){return null==t?!1:Ti(t)?ou.test(tu.call(t)):b(t)&&Lt.test(t)}function Ni(t){return null===t}function Ui(t){return"number"==typeof t||b(t)&&ru.call(t)==tt}function Fi(t){var e;if(!b(t)||ru.call(t)!=et||ki(t)||!eu.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return Me(t,function(t,e){n=e}),n===O||eu.call(t,n)}function zi(t){return Ci(t)&&ru.call(t)==nt}function Gi(t){return"string"==typeof t||b(t)&&ru.call(t)==it}function Wi(t){return b(t)&&nr(t.length)&&!!Yt[ru.call(t)]}function Yi(t){return t===O}function $i(t,e){return e>t}function Vi(t,e){return e>=t}function qi(t){var e=t?Gu(t):0;return nr(e)?e?te(t):[]:oo(t)}function Hi(t){return be(t,to(t))}function Ji(t,e,n){var r=Du(t);return n&&Qn(t,e,n)&&(e=O),e?ye(r,e):r}function Ki(t){return Te(t,to(t))}function Xi(t,e,n){var r=null==t?O:Ce(t,hr(e),e+"");return r===O?n:r}function Zi(t,e){if(null==t)return!1;var n=eu.call(t,e);if(!n&&!tr(e)){if(e=hr(e),t=1==e.length?t:Ce(t,He(e,0,-1)),null==t)return!1;e=Ar(e),n=eu.call(t,e)}return n||nr(t.length)&&Zn(e,t.length)&&(Ia(t)||ki(t))}function Qi(t,e,n){n&&Qn(t,e,n)&&(e=O);for(var r=-1,i=Fa(t),o=i.length,u={};++r<o;){var a=i[r],s=t[a];e?eu.call(u,s)?u[s].push(a):u[s]=[a]:u[s]=a}return u}function to(t){if(null==t)return[];Ci(t)||(t=qo(t));var e=t.length;e=e&&nr(e)&&(Ia(t)||ki(t))&&e||0;for(var n=t.constructor,r=-1,i="function"==typeof n&&n.prototype===t,o=zo(e),u=e>0;++r<e;)o[r]=r+"";for(var a in t)u&&Zn(a,e)||"constructor"==a&&(i||!eu.call(t,a))||o.push(a);return o}function eo(t){t=lr(t);for(var e=-1,n=Fa(t),r=n.length,i=zo(r);++e<r;){var o=n[e];i[e]=[o,t[o]]}return i}function no(t,e,n){var r=null==t?O:t[e];return r===O&&(null==t||tr(e,t)||(e=hr(e),t=1==e.length?t:Ce(t,He(e,0,-1)),r=null==t?O:t[Ar(e)]),r=r===O?n:r),Ti(r)?r.call(t):r}function ro(t,e,n){if(null==t)return t;var r=e+"";e=null!=t[r]||tr(e,t)?[r]:hr(e);for(var i=-1,o=e.length,u=o-1,a=t;null!=a&&++i<o;){var s=e[i];Ci(a)&&(i==u?a[s]=n:null==a[s]&&(a[s]=Zn(e[i+1])?[]:{})),a=a[s]}return t}function io(t,e,n,r){var i=Ia(t)||Wi(t);if(e=zn(e,r,4),null==n)if(i||Ci(t)){var o=t.constructor;n=i?Ia(t)?new o:[]:Du(Ti(o)?o.prototype:O)}else n={};return(i?ee:Pe)(t,function(t,r,i){return e(n,t,r,i)}),n}function oo(t){return tn(t,Fa(t))}function uo(t){return tn(t,to(t))}function ao(t,e,n){return e=+e||0,n===O?(n=e,e=0):n=+n||0,t>=Su(e,n)&&t<xu(e,n)}function so(t,e,n){n&&Qn(t,e,n)&&(e=n=O);var r=null==t,i=null==e;if(null==n&&(i&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,i=!0)),r&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=Au();return Su(t+o*(e-t+su("1e-"+((o+"").length-1))),e)}return Ve(t,e)}function co(t){return t=c(t),
t&&t.charAt(0).toUpperCase()+t.slice(1)}function fo(t){return t=c(t),t&&t.replace(Nt,d).replace(Pt,"")}function lo(t,e,n){t=c(t),e+="";var r=t.length;return n=n===O?r:Su(0>n?0:+n||0,r),n-=e.length,n>=0&&t.indexOf(e,n)==n}function ho(t){return t=c(t),t&&xt.test(t)?t.replace(_t,v):t}function po(t){return t=c(t),t&&Mt.test(t)?t.replace(It,g):t||"(?:)"}function vo(t,e,n){t=c(t),e=+e;var r=t.length;if(r>=e||!_u(e))return t;var i=(e-r)/2,o=mu(i),u=gu(i);return n=Tn("",u,n),n.slice(0,o)+t+n}function go(t,e,n){return(n?Qn(t,e,n):null==e)?e=0:e&&(e=+e),t=_o(t),ku(t,e||(Dt.test(t)?16:10))}function yo(t,e){var n="";if(t=c(t),e=+e,1>e||!t||!_u(e))return n;do e%2&&(n+=t),e=mu(e/2),t+=t;while(e);return n}function mo(t,e,n){return t=c(t),n=null==n?0:Su(0>n?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function bo(t,n,r){var i=e.templateSettings;r&&Qn(t,n,r)&&(n=r=O),t=c(t),n=ge(ye({},r||n),i,ve);var o,u,a=ge(ye({},n.imports),i.imports,ve),s=Fa(a),f=tn(a,s),l=0,h=n.interpolate||Ut,p="__p += '",d=Ho((n.escape||Ut).source+"|"+h.source+"|"+(h===kt?Tt:Ut).source+"|"+(n.evaluate||Ut).source+"|$","g"),v="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Wt+"]")+"\n";t.replace(d,function(e,n,r,i,a,s){return r||(r=i),p+=t.slice(l,s).replace(Ft,y),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),a&&(u=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+e.length,e}),p+="';\n";var g=n.variable;g||(p="with (obj) {\n"+p+"\n}\n"),p=(u?p.replace(gt,""):p).replace(yt,"$1").replace(mt,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=Xa(function(){return Yo(s,v+"return "+p).apply(O,f)});if(m.source=p,Pi(m))throw m;return m}function _o(t,e,n){var r=t;return(t=c(t))?(n?Qn(r,e,n):null==e)?t.slice(S(t),E(t)+1):(e+="",t.slice(f(t,e),l(t,e)+1)):t}function wo(t,e,n){var r=t;return t=c(t),t?(n?Qn(r,e,n):null==e)?t.slice(S(t)):t.slice(f(t,e+"")):t}function xo(t,e,n){var r=t;return t=c(t),t?(n?Qn(r,e,n):null==e)?t.slice(0,E(t)+1):t.slice(0,l(t,e+"")+1):t}function So(t,e,n){n&&Qn(t,e,n)&&(e=O);var r=N,i=U;if(null!=e)if(Ci(e)){var o="separator"in e?e.separator:o;r="length"in e?+e.length||0:r,i="omission"in e?c(e.omission):i}else r=+e||0;if(t=c(t),r>=t.length)return t;var u=r-i.length;if(1>u)return i;var a=t.slice(0,u);if(null==o)return a+i;if(zi(o)){if(t.slice(u).search(o)){var s,f,l=t.slice(0,u);for(o.global||(o=Ho(o.source,(Ct.exec(o)||"")+"g")),o.lastIndex=0;s=o.exec(l);)f=s.index;a=a.slice(0,null==f?u:f)}}else if(t.indexOf(o,u)!=u){var h=a.lastIndexOf(o);h>-1&&(a=a.slice(0,h))}return a+i}function Eo(t){return t=c(t),t&&wt.test(t)?t.replace(bt,k):t}function ko(t,e,n){return n&&Qn(t,e,n)&&(e=O),t=c(t),t.match(e||zt)||[]}function Ao(t,e,n){return n&&Qn(t,e,n)&&(e=O),b(t)?Io(t):_e(t,e)}function Oo(t){return function(){return t}}function jo(t){return t}function Io(t){return Ue(we(t,!0))}function Mo(t,e){return Fe(t,we(e,!0))}function Po(t,e,n){if(null==n){var r=Ci(e),i=r?Fa(e):O,o=i&&i.length?Te(e,i):O;(o?o.length:r)||(o=!1,n=e,e=t,t=this)}o||(o=Te(e,Fa(e)));var u=!0,a=-1,s=Ti(t),c=o.length;n===!1?u=!1:Ci(n)&&"chain"in n&&(u=n.chain);for(;++a<c;){var f=o[a],l=e[f];t[f]=l,s&&(t.prototype[f]=function(e){return function(){var n=this.__chain__;if(u||n){var r=t(this.__wrapped__),i=r.__actions__=te(this.__actions__);return i.push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return e.apply(t,ce([this.value()],arguments))}}(l))}return t}function Bo(){return re._=iu,this}function To(){}function Co(t){return tr(t)?We(t):Ye(t)}function Do(t){return function(e){return Ce(t,hr(e),e+"")}}function Lo(t,e,n){n&&Qn(t,e,n)&&(e=n=O),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var r=-1,i=xu(gu((e-t)/(n||1)),0),o=zo(i);++r<i;)o[r]=t,t+=n;return o}function Ro(t,e,n){if(t=mu(t),1>t||!_u(t))return[];var r=-1,i=zo(Su(t,Iu));for(e=un(e,n,1);++r<t;)Iu>r?i[r]=e(r):e(r);return i}function No(t){var e=++nu;return c(t)+e}function Uo(t,e){return(+t||0)+(+e||0)}function Fo(t,e,n){return n&&Qn(t,e,n)&&(e=O),e=zn(e,n,3),1==e.length?pe(Ia(t)?t:fr(t),e):Ze(t,e)}t=t?ie.defaults(re.Object(),t,ie.pick(re,Gt)):re;var zo=t.Array,Go=t.Date,Wo=t.Error,Yo=t.Function,$o=t.Math,Vo=t.Number,qo=t.Object,Ho=t.RegExp,Jo=t.String,Ko=t.TypeError,Xo=zo.prototype,Zo=qo.prototype,Qo=Jo.prototype,tu=Yo.prototype.toString,eu=Zo.hasOwnProperty,nu=0,ru=Zo.toString,iu=re._,ou=Ho("^"+tu.call(eu).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),uu=t.ArrayBuffer,au=t.clearTimeout,su=t.parseFloat,cu=$o.pow,fu=Zo.propertyIsEnumerable,lu=$n(t,"Set"),hu=t.setTimeout,pu=Xo.splice,du=t.Uint8Array,vu=$n(t,"WeakMap"),gu=$o.ceil,yu=$n(qo,"create"),mu=$o.floor,bu=$n(zo,"isArray"),_u=t.isFinite,wu=$n(qo,"keys"),xu=$o.max,Su=$o.min,Eu=$n(Go,"now"),ku=t.parseInt,Au=$o.random,Ou=Vo.NEGATIVE_INFINITY,ju=Vo.POSITIVE_INFINITY,Iu=4294967295,Mu=Iu-1,Pu=Iu>>>1,Bu=9007199254740991,Tu=vu&&new vu,Cu={};e.support={};e.templateSettings={escape:St,evaluate:Et,interpolate:kt,variable:"",imports:{_:e}};var Du=function(){function t(){}return function(e){if(Ci(e)){t.prototype=e;var n=new t;t.prototype=O}return n||{}}}(),Lu=hn(Pe),Ru=hn(Be,!0),Nu=pn(),Uu=pn(!0),Fu=Tu?function(t,e){return Tu.set(t,e),t}:jo,zu=Tu?function(t){return Tu.get(t)}:To,Gu=We("length"),Wu=function(){var t=0,e=0;return function(n,r){var i=va(),o=z-(i-e);if(e=i,o>0){if(++t>=F)return n}else t=0;return Fu(n,r)}}(),Yu=yi(function(t,e){return b(t)&&Xn(t)?Se(t,Ie(e,!1,!0)):[]}),$u=xn(),Vu=xn(!0),qu=yi(function(t){for(var e=t.length,n=e,r=zo(l),i=Wn(),o=i==a,u=[];n--;){var s=t[n]=Xn(s=t[n])?s:[];r[n]=o&&s.length>=120?vn(n&&s):null}var c=t[0],f=-1,l=c?c.length:0,h=r[0];t:for(;++f<l;)if(s=c[f],(h?Xt(h,s):i(u,s,0))<0){for(var n=e;--n;){var p=r[n];if((p?Xt(p,s):i(t[n],s,0))<0)continue t}h&&h.push(s),u.push(s)}return u}),Hu=yi(function(t,e){e=Ie(e);var n=me(t,e);return $e(t,e.sort(o)),n}),Ju=Ln(),Ku=Ln(!0),Xu=yi(function(t){return Qe(Ie(t,!1,!0))}),Zu=yi(function(t,e){return Xn(t)?Se(t,e):[]}),Qu=yi(Rr),ta=yi(function(t){var e=t.length,n=e>2?t[e-2]:O,r=e>1?t[e-1]:O;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof r?(--e,r):O,r=O),t.length=e,Nr(t,n,r)}),ea=yi(function(t){return t=Ie(t),this.thru(function(e){return Qt(Ia(e)?e:[lr(e)],t)})}),na=yi(function(t,e){return me(t,Ie(e))}),ra=fn(function(t,e,n){eu.call(t,n)?++t[n]:t[n]=1}),ia=wn(Lu),oa=wn(Ru,!0),ua=kn(ee,Lu),aa=kn(ne,Ru),sa=fn(function(t,e,n){eu.call(t,n)?t[n].push(e):t[n]=[e]}),ca=fn(function(t,e,n){t[n]=e}),fa=yi(function(t,e,n){var r=-1,i="function"==typeof e,o=tr(e),u=Xn(t)?zo(t.length):[];return Lu(t,function(t){var a=i?e:o&&null!=t?t[e]:O;u[++r]=a?a.apply(t,n):Kn(t,e,n)}),u}),la=fn(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),ha=Pn(fe,Lu),pa=Pn(le,Ru),da=yi(function(t,e){if(null==t)return[];var n=e[2];return n&&Qn(e[0],e[1],n)&&(e.length=1),Xe(t,Ie(e),[])}),va=Eu||function(){return(new Go).getTime()},ga=yi(function(t,e,n){var r=I;if(n.length){var i=w(n,ga.placeholder);r|=C}return Rn(t,r,e,n,i)}),ya=yi(function(t,e){e=e.length?Ie(e):Ki(t);for(var n=-1,r=e.length;++n<r;){var i=e[n];t[i]=Rn(t[i],I,t)}return t}),ma=yi(function(t,e,n){var r=I|M;if(n.length){var i=w(n,ma.placeholder);r|=C}return Rn(e,r,t,n,i)}),ba=mn(B),_a=mn(T),wa=yi(function(t,e){return xe(t,1,e)}),xa=yi(function(t,e,n){return xe(t,e,n)}),Sa=En(),Ea=En(!0),ka=yi(function(t,e){if(e=Ie(e),"function"!=typeof t||!oe(e,s))throw new Ko($);var n=e.length;return yi(function(r){for(var i=Su(r.length,n);i--;)r[i]=e[i](r[i]);return t.apply(this,r)})}),Aa=Mn(C),Oa=Mn(D),ja=yi(function(t,e){return Rn(t,R,O,O,O,Ie(e))}),Ia=bu||function(t){return b(t)&&nr(t.length)&&ru.call(t)==H},Ma=ln(ze),Pa=ln(function(t,e,n){return n?ge(t,e,n):ye(t,e)}),Ba=bn(Pa,de),Ta=bn(Ma,or),Ca=Sn(Pe),Da=Sn(Be),La=An(Nu),Ra=An(Uu),Na=On(Pe),Ua=On(Be),Fa=wu?function(t){var e=null==t?O:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Xn(t)?cr(t):Ci(t)?wu(t):[]}:cr,za=jn(!0),Ga=jn(),Wa=yi(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=se(Ie(e),Jo);return ur(t,Se(to(t),e))}var n=un(e[0],e[1],3);return ar(t,function(t,e,r){return!n(t,e,r)})}),Ya=yi(function(t,e){return null==t?{}:"function"==typeof e[0]?ar(t,un(e[0],e[1],3)):ur(t,Ie(e))}),$a=gn(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),Va=gn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),qa=In(),Ha=In(!0),Ja=gn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Ka=gn(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Xa=yi(function(t,e){try{return t.apply(O,e)}catch(n){return Pi(n)?n:new Wo(n)}}),Za=yi(function(t,e){return function(n){return Kn(n,t,e)}}),Qa=yi(function(t,e){return function(n){return Kn(t,n,e)}}),ts=Dn("ceil"),es=Dn("floor"),ns=_n(Si,Ou),rs=_n($i,ju),is=Dn("round");return e.prototype=n.prototype,r.prototype=Du(n.prototype),r.prototype.constructor=r,i.prototype=Du(n.prototype),i.prototype.constructor=i,ot.prototype["delete"]=Vt,ot.prototype.get=qt,ot.prototype.has=Ht,ot.prototype.set=Jt,Kt.prototype.push=Zt,di.Cache=ot,e.after=fi,e.ary=li,e.assign=Pa,e.at=na,e.before=hi,e.bind=ga,e.bindAll=ya,e.bindKey=ma,e.callback=Ao,e.chain=zr,e.chunk=dr,e.compact=vr,e.constant=Oo,e.countBy=ra,e.create=Ji,e.curry=ba,e.curryRight=_a,e.debounce=pi,e.defaults=Ba,e.defaultsDeep=Ta,e.defer=wa,e.delay=xa,e.difference=Yu,e.drop=gr,e.dropRight=yr,e.dropRightWhile=mr,e.dropWhile=br,e.fill=_r,e.filter=Xr,e.flatten=xr,e.flattenDeep=Sr,e.flow=Sa,e.flowRight=Ea,e.forEach=ua,e.forEachRight=aa,e.forIn=La,e.forInRight=Ra,e.forOwn=Na,e.forOwnRight=Ua,e.functions=Ki,e.groupBy=sa,e.indexBy=ca,e.initial=kr,e.intersection=qu,e.invert=Qi,e.invoke=fa,e.keys=Fa,e.keysIn=to,e.map=ti,e.mapKeys=za,e.mapValues=Ga,e.matches=Io,e.matchesProperty=Mo,e.memoize=di,e.merge=Ma,e.method=Za,e.methodOf=Qa,e.mixin=Po,e.modArgs=ka,e.negate=vi,e.omit=Wa,e.once=gi,e.pairs=eo,e.partial=Aa,e.partialRight=Oa,e.partition=la,e.pick=Ya,e.pluck=ei,e.property=Co,e.propertyOf=Do,e.pull=jr,e.pullAt=Hu,e.range=Lo,e.rearg=ja,e.reject=ni,e.remove=Ir,e.rest=Mr,e.restParam=yi,e.set=ro,e.shuffle=ii,e.slice=Pr,e.sortBy=ai,e.sortByAll=da,e.sortByOrder=si,e.spread=mi,e.take=Br,e.takeRight=Tr,e.takeRightWhile=Cr,e.takeWhile=Dr,e.tap=Gr,e.throttle=bi,e.thru=Wr,e.times=Ro,e.toArray=qi,e.toPlainObject=Hi,e.transform=io,e.union=Xu,e.uniq=Lr,e.unzip=Rr,e.unzipWith=Nr,e.values=oo,e.valuesIn=uo,e.where=ci,e.without=Zu,e.wrap=_i,e.xor=Ur,e.zip=Qu,e.zipObject=Fr,e.zipWith=ta,e.backflow=Ea,e.collect=ti,e.compose=Ea,e.each=ua,e.eachRight=aa,e.extend=Pa,e.iteratee=Ao,e.methods=Ki,e.object=Fr,e.select=Xr,e.tail=Mr,e.unique=Lr,Po(e,e),e.add=Uo,e.attempt=Xa,e.camelCase=$a,e.capitalize=co,e.ceil=ts,e.clone=wi,e.cloneDeep=xi,e.deburr=fo,e.endsWith=lo,e.escape=ho,e.escapeRegExp=po,e.every=Kr,e.find=ia,e.findIndex=$u,e.findKey=Ca,e.findLast=oa,e.findLastIndex=Vu,e.findLastKey=Da,e.findWhere=Zr,e.first=wr,e.floor=es,e.get=Xi,e.gt=Si,e.gte=Ei,e.has=Zi,e.identity=jo,e.includes=Qr,e.indexOf=Er,e.inRange=ao,e.isArguments=ki,e.isArray=Ia,e.isBoolean=Ai,e.isDate=Oi,e.isElement=ji,e.isEmpty=Ii,e.isEqual=Mi,e.isError=Pi,e.isFinite=Bi,e.isFunction=Ti,e.isMatch=Di,e.isNaN=Li,e.isNative=Ri,e.isNull=Ni,e.isNumber=Ui,e.isObject=Ci,e.isPlainObject=Fi,e.isRegExp=zi,e.isString=Gi,e.isTypedArray=Wi,e.isUndefined=Yi,e.kebabCase=Va,e.last=Ar,e.lastIndexOf=Or,e.lt=$i,e.lte=Vi,e.max=ns,e.min=rs,e.noConflict=Bo,e.noop=To,e.now=va,e.pad=vo,e.padLeft=qa,e.padRight=Ha,e.parseInt=go,e.random=so,e.reduce=ha,e.reduceRight=pa,e.repeat=yo,e.result=no,e.round=is,e.runInContext=A,e.size=oi,e.snakeCase=Ja,e.some=ui,e.sortedIndex=Ju,e.sortedLastIndex=Ku,e.startCase=Ka,e.startsWith=mo,e.sum=Fo,e.template=bo,e.trim=_o,e.trimLeft=wo,e.trimRight=xo,e.trunc=So,e.unescape=Eo,e.uniqueId=No,e.words=ko,e.all=Kr,e.any=ui,e.contains=Qr,e.eq=Mi,e.detect=ia,e.foldl=ha,e.foldr=pa,e.head=wr,e.include=Qr,e.inject=ha,Po(e,function(){var t={};return Pe(e,function(n,r){e.prototype[r]||(t[r]=n)}),t}(),!1),e.sample=ri,e.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return ri(e,t)}):ri(this.value())},e.VERSION=j,ee(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),ee(["drop","take"],function(t,e){i.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new i(this);n=null==n?1:xu(mu(n)||0,0);var o=this.clone();return r?o.__takeCount__=Su(o.__takeCount__,n):o.__views__.push({size:n,type:t+(o.__dir__<0?"Right":"")}),o},i.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ee(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n!=Y;i.prototype[t]=function(t,e){var i=this.clone();return i.__iteratees__.push({iteratee:zn(t,e,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),ee(["first","last"],function(t,e){var n="take"+(e?"Right":"");i.prototype[t]=function(){return this[n](1).value()[0]}}),ee(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");i.prototype[t]=function(){return this.__filtered__?new i(this):this[n](1)}}),ee(["pluck","where"],function(t,e){var n=e?"filter":"map",r=e?Ue:Co;i.prototype[t]=function(t){return this[n](r(t))}}),i.prototype.compact=function(){return this.filter(jo)},i.prototype.reject=function(t,e){return t=zn(t,e,1),this.filter(function(e){return!t(e)})},i.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||0>e)?new i(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==O&&(e=+e||0,n=0>e?n.dropRight(-e):n.take(e-t)),n)},i.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},i.prototype.toArray=function(){return this.take(ju)},Pe(i.prototype,function(t,n){var o=/^(?:filter|map|reject)|While$/.test(n),u=/^(?:first|last)$/.test(n),a=e[u?"take"+("last"==n?"Right":""):n];a&&(e.prototype[n]=function(){var e=u?[1]:arguments,n=this.__chain__,s=this.__wrapped__,c=!!this.__actions__.length,f=s instanceof i,l=e[0],h=f||Ia(s);h&&o&&"function"==typeof l&&1!=l.length&&(f=h=!1);var p=function(t){return u&&n?a(t,1)[0]:a.apply(O,ce([t],e))},d={func:Wr,args:[p],thisArg:O},v=f&&!c;if(u&&!n)return v?(s=s.clone(),s.__actions__.push(d),t.call(s)):a.call(O,this.value())[0];if(!u&&h){s=v?s:new i(this);var g=t.apply(s,e);return g.__actions__.push(d),new r(g,n)}return this.thru(p)})}),ee(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var n=(/^(?:replace|split)$/.test(t)?Qo:Xo)[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?n.apply(this.value(),t):this[r](function(e){return n.apply(e,t)})}}),Pe(i.prototype,function(t,n){var r=e[n];if(r){var i=r.name,o=Cu[i]||(Cu[i]=[]);o.push({name:n,func:r})}}),Cu[Bn(O,M).name]=[{name:"wrapper",func:O}],i.prototype.clone=_,i.prototype.reverse=Q,i.prototype.value=rt,e.prototype.chain=Yr,e.prototype.commit=$r,e.prototype.concat=ea,e.prototype.plant=Vr,e.prototype.reverse=qr,e.prototype.toString=Hr,e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Jr,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var O,j="3.10.1",I=1,M=2,P=4,B=8,T=16,C=32,D=64,L=128,R=256,N=30,U="...",F=150,z=16,G=200,W=1,Y=2,$="Expected a function",V="__lodash_placeholder__",q="[object Arguments]",H="[object Array]",J="[object Boolean]",K="[object Date]",X="[object Error]",Z="[object Function]",Q="[object Map]",tt="[object Number]",et="[object Object]",nt="[object RegExp]",rt="[object Set]",it="[object String]",ot="[object WeakMap]",ut="[object ArrayBuffer]",at="[object Float32Array]",st="[object Float64Array]",ct="[object Int8Array]",ft="[object Int16Array]",lt="[object Int32Array]",ht="[object Uint8Array]",pt="[object Uint8ClampedArray]",dt="[object Uint16Array]",vt="[object Uint32Array]",gt=/\b__p \+= '';/g,yt=/\b(__p \+=) '' \+/g,mt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bt=/&(?:amp|lt|gt|quot|#39|#96);/g,_t=/[&<>"'`]/g,wt=RegExp(bt.source),xt=RegExp(_t.source),St=/<%-([\s\S]+?)%>/g,Et=/<%([\s\S]+?)%>/g,kt=/<%=([\s\S]+?)%>/g,At=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Ot=/^\w*$/,jt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,It=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Mt=RegExp(It.source),Pt=/[\u0300-\u036f\ufe20-\ufe23]/g,Bt=/\\(\\)?/g,Tt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ct=/\w*$/,Dt=/^0[xX]/,Lt=/^\[object .+?Constructor\]$/,Rt=/^\d+$/,Nt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ut=/($^)/,Ft=/['\n\r\u2028\u2029\\]/g,zt=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),Gt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Wt=-1,Yt={};Yt[at]=Yt[st]=Yt[ct]=Yt[ft]=Yt[lt]=Yt[ht]=Yt[pt]=Yt[dt]=Yt[vt]=!0,Yt[q]=Yt[H]=Yt[ut]=Yt[J]=Yt[K]=Yt[X]=Yt[Z]=Yt[Q]=Yt[tt]=Yt[et]=Yt[nt]=Yt[rt]=Yt[it]=Yt[ot]=!1;var $t={};$t[q]=$t[H]=$t[ut]=$t[J]=$t[K]=$t[at]=$t[st]=$t[ct]=$t[ft]=$t[lt]=$t[tt]=$t[et]=$t[nt]=$t[it]=$t[ht]=$t[pt]=$t[dt]=$t[vt]=!0,$t[X]=$t[Z]=$t[Q]=$t[rt]=$t[ot]=!1;var Vt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},qt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ht={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Jt={"function":!0,object:!0},Kt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Xt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zt=Jt[typeof e]&&e&&!e.nodeType&&e,Qt=Jt[typeof t]&&t&&!t.nodeType&&t,te=Zt&&Qt&&"object"==typeof i&&i&&i.Object&&i,ee=Jt[typeof self]&&self&&self.Object&&self,ne=Jt[typeof window]&&window&&window.Object&&window,re=(Qt&&Qt.exports===Zt&&Zt,te||ne!==(this&&this.window)&&ne||ee||this),ie=A();re._=ie,r=function(){return ie}.call(e,n,e,t),!(r!==O&&(t.exports=r))}).call(this)}).call(e,n(55)(t),function(){return this}())},18:function(t,e,n){var r,i;/*!
	  Copyright (c) 2015 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var t="",e=0;e<arguments.length;e++){var r=arguments[e];if(r){var i=typeof r;if("string"===i||"number"===i)t+=" "+r;else if(Array.isArray(r))t+=" "+n.apply(null,r);else if("object"===i)for(var u in r)o.call(r,u)&&r[u]&&(t+=" "+u)}}return t.substr(1)}var o={}.hasOwnProperty;"undefined"!=typeof t&&t.exports?t.exports=n:(r=[],i=function(){return n}.apply(e,r),!(void 0!==i&&(t.exports=i)))}()},19:function(t,e,n){var r,i;(function(t,o){(function(){function u(t,e){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];this.obs=t,this.sync=e,this.lazy=n,this.queue=[]}function a(){u.apply(this,arguments)}function s(t){u.call(this,t,!0)}function c(t,e,n){this.context=t,this.method=e,this.args=n}function f(t){this.value=t}function l(){this.id=++ut}function h(t,e){return this instanceof h?(l.call(this),void(!e&&z.isFunction(t)||(null!=t?t._isNext:void 0)?(this.valueF=t,this.valueInternal=void 0):(this.valueF=void 0,this.valueInternal=t))):new h(t,e)}function p(t,e){return this instanceof p?void h.call(this,t,e):new p(t,e)}function d(){return this instanceof d?void l.call(this):new d}function v(t){return this instanceof v?(this.error=t,void l.call(this)):new v(t)}function g(t){this.desc=t,this.id=++lt,this.initialDesc=this.desc}function y(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];this.unsubscribe=z.bind(this.unsubscribe,this),this.unsubscribed=!1,this.subscriptions=[],this.starting=[];for(var e,n=0;n<t.length;n++)e=t[n],this.add(e)}function m(t,e){this._subscribe=t,this._handleEvent=e,this.subscribe=z.bind(this.subscribe,this),this.handleEvent=z.bind(this.handleEvent,this),this.pushing=!1,this.ended=!1,this.prevError=void 0,this.unsubSrc=void 0,this.subscriptions=[],this.queue=[]}function b(t,e,n){return this instanceof b?(z.isFunction(t)&&(n=e,e=t,t=c.empty),g.call(this,t),C(e),this.dispatcher=new m(e,n),void ht(this)):new b(t,e,n)}function _(t,e,n){m.call(this,e,n),this.property=t,this.subscribe=z.bind(this.subscribe,this),this.current=it,this.currentValueRootId=void 0,this.propertyEnded=!1}function w(t,e,n){g.call(this,t),C(e),this.dispatcher=new _(this,e,n),ht(this)}function x(){return this instanceof x?(this.unsubAll=z.bind(this.unsubAll,this),this.subscribeAll=z.bind(this.subscribeAll,this),this.guardedSink=z.bind(this.guardedSink,this),this.sink=void 0,this.subscriptions=[],this.ended=!1,void b.call(this,new k.Desc(k,"Bus",[]),this.subscribeAll)):new x}function S(t){return[t,ct()]}var E=Array.prototype.slice,k={toString:function(){return"Bacon"}};k.version="0.7.83";var A=("undefined"!=typeof t&&null!==t?t:this).Error,O=function(){},j=function(t,e){return t},I=function(t){return t.slice(0)},M=function(t,e){if(!e)throw new A(t)},P=function(t){if((null!=t?t._isObservable:void 0)&&!(null!=t?t._isProperty:void 0))throw new A("Observable is not a Property : "+t)},B=function(t){if(!(null!=t?t._isEventStream:void 0))throw new A("not an EventStream : "+t)},T=function(t){if(!(null!=t?t._isObservable:void 0))throw new A("not an Observable : "+t)},C=function(t){return M("not a function : "+t,z.isFunction(t))},D=function(t){return t instanceof Array},L=function(t){return t&&t._isObservable},R=function(t){if(!D(t))throw new A("not an array : "+t)},N=function(t){return M("no arguments supported",0===t.length)},U=function(t){for(var e=arguments.length,n=1;e>1?e>n:n>e;e>1?n++:n--)for(var r in arguments[n])t[r]=arguments[n][r];return t},F=function(t,e){var n={}.hasOwnProperty,r=function(){};r.prototype=e.prototype,t.prototype=new r;for(var i in e)n.call(e,i)&&(t[i]=e[i]);return t},z={indexOf:function(){return Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n,r=0;r<t.length;r++)if(n=t[r],e===n)return r;return-1}}(),indexWhere:function(t,e){for(var n,r=0;r<t.length;r++)if(n=t[r],e(n))return r;return-1},head:function(t){return t[0]},always:function(t){return function(){return t}},negate:function(t){return function(e){return!t(e)}},empty:function(t){return 0===t.length},tail:function(t){return t.slice(1,t.length)},filter:function(t,e){for(var n,r=[],i=0;i<e.length;i++)n=e[i],t(n)&&r.push(n);return r},map:function(t,e){return function(){for(var n,r=[],i=0;i<e.length;i++)n=e[i],r.push(t(n));return r}()},each:function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];e(n,r)}},toArray:function(t){return D(t)?t:[t]},contains:function(t,e){return-1!==z.indexOf(t,e)},id:function(t){return t},last:function(t){return t[t.length-1]},all:function(t){for(var e,n=arguments.length<=1||void 0===arguments[1]?z.id:arguments[1],r=0;r<t.length;r++)if(e=t[r],!n(e))return!1;return!0},any:function(t){for(var e,n=arguments.length<=1||void 0===arguments[1]?z.id:arguments[1],r=0;r<t.length;r++)if(e=t[r],n(e))return!0;return!1},without:function(t,e){return z.filter(function(e){return e!==t},e)},remove:function(t,e){var n=z.indexOf(e,t);return n>=0?e.splice(n,1):void 0},fold:function(t,e,n){for(var r,i=0;i<t.length;i++)r=t[i],e=n(e,r);return e},flatMap:function(t,e){return z.fold(e,[],function(e,n){return e.concat(t(n))})},cached:function(t){var e=it;return function(){return("undefined"!=typeof e&&null!==e?e._isNone:void 0)&&(e=t(),t=void 0),e}},bind:function(t,e){return function(){return t.apply(e,arguments)}},isFunction:function(t){return"function"==typeof t},toString:function(t){var e,n,r,i={}.hasOwnProperty;try{return G++,null==t?"undefined":z.isFunction(t)?"function":D(t)?G>5?"[..]":"["+z.map(z.toString,t).toString()+"]":null!=(null!=t?t.toString:void 0)&&t.toString!==Object.prototype.toString?t.toString():"object"==typeof t?G>5?"{..}":(e=function(){var e=[];for(n in t)i.call(t,n)&&(r=function(){var e;try{return t[n]}catch(e){return e}}(),e.push(z.toString(n)+":"+z.toString(r)));return e}(),"{"+e+"}"):t}finally{G--}}},G=0;k._=z;var W=k.UpdateBarrier=function(){var t,e=[],n={},r=[],i=0,o={},u=function(e){return t?r.push(e):e()},a=function(r,i){if(t){var o=n[r.id];return"undefined"==typeof o||null===o?(o=n[r.id]=[i],e.push(r)):o.push(i)}return i()},s=function(){for(;e.length>0;)c(0,!0);o={}},c=function(t,r){var i=e[t],o=i.id,u=n[o];e.splice(t,1),delete n[o],r&&e.length>0&&f(i);for(var a,s=0;s<u.length;s++)(a=u[s])()},f=function(t){if(!o[t.id]){for(var r,i=t.internalDeps(),u=0;u<i.length;u++)if(r=i[u],f(r),n[r.id]){var a=z.indexOf(e,r);c(a,!1)}o[t.id]=!0}},l=function(e,n,o,u){if(t)return o.apply(n,u);t=e;try{var a=o.apply(n,u);s()}finally{for(t=void 0;i<r.length;){var c=r[i];i++,c()}i=0,r=[]}return a},h=function(){return t?t.id:void 0},p=function(t,e){var n=!1,r=!1,i=function(){return r=!0},o=function(){return n=!0,i()};return i=t.dispatcher.subscribe(function(t){return u(function(){if(!n){var r=e(t);if(r===k.noMore)return o()}})}),r&&i(),o},d=function(){return e.length>0};return{whenDoneWith:a,hasWaiters:d,inTransaction:l,currentEventId:h,wrappedSubscribe:p,afterTransaction:u}}();U(u.prototype,{_isSource:!0,subscribe:function(t){return this.obs.dispatcher.subscribe(t)},toString:function(){return this.obs.toString()},markEnded:function(){return this.ended=!0,!0},consume:function(){return this.lazy?{value:z.always(this.queue[0])}:this.queue[0]},push:function(t){return this.queue=[t],[t]},mayHave:function(){return!0},hasAtLeast:function(){return this.queue.length},flatten:!0}),F(a,u),U(a.prototype,{consume:function(){return this.queue.shift()},push:function(t){return this.queue.push(t)},mayHave:function(t){return!this.ended||this.queue.length>=t},hasAtLeast:function(t){return this.queue.length>=t},flatten:!1}),F(s,u),U(s.prototype,{consume:function(){var t=this.queue;return this.queue=[],{value:function(){return t}}},push:function(t){return this.queue.push(t.value())},hasAtLeast:function(){return!0}}),u.isTrigger=function(t){return(null!=t?t._isSource:void 0)?t.sync:null!=t?t._isEventStream:void 0},u.fromObservable=function(t){return(null!=t?t._isSource:void 0)?t:(null!=t?t._isProperty:void 0)?new u(t,!1):new a(t,!0)},U(c.prototype,{_isDesc:!0,deps:function(){return this.cached||(this.cached=V([this.context].concat(this.args))),this.cached},toString:function(){return z.toString(this.context)+"."+z.toString(this.method)+"("+z.map(z.toString,this.args)+")"}});var Y=function(t,e){var n=t||e;if(n&&n._isDesc)return t||e;for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;r>o;o++)i[o-2]=arguments[o];return new c(t,e,i)},$=function(t,e){return e.desc=t,e},V=function(t){return D(t)?z.flatMap(V,t):L(t)?[t]:("undefined"!=typeof t&&null!==t?t._isSource:void 0)?[t.obs]:[]};k.Desc=c,k.Desc.empty=new k.Desc("","",[]);var q=function(t){return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];if("object"==typeof e&&r.length){var o=e,u=r[0];e=function(){return o[u].apply(o,arguments)},r=r.slice(1)}return t.apply(void 0,[e].concat(r))}},H=function(t){return t=Array.prototype.slice.call(t),Q.apply(void 0,t)},J=function(t,e){return function(){for(var n=arguments.length,r=Array(n),i=0;n>i;i++)r[i]=arguments[i];return t.apply(void 0,e.concat(r))}},K=function(t){return function(e){return function(n){if("undefined"!=typeof n&&null!==n){var r=n[e];return z.isFunction(r)?r.apply(n,t):r}}}},X=function(t,e){var n=t.slice(1).split("."),r=z.map(K(e),n);return function(t){for(var e,n=0;n<r.length;n++)e=r[n],t=e(t);return t}},Z=function(t){return"string"==typeof t&&t.length>1&&"."===t.charAt(0)},Q=q(function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return z.isFunction(t)?n.length?J(t,n):t:Z(t)?X(t,n):z.always(t)}),tt=function(t,e){return Q.apply(void 0,[t].concat(e))},et=function(t,e,n,r){if("undefined"!=typeof e&&null!==e?e._isProperty:void 0){var i=e.sampledBy(t,function(t,e){return[t,e]});return r.call(i,function(t){var e=t[0];t[1];return e}).map(function(t){var e=(t[0],t[1]);return e})}return e=tt(e,n),r.call(t,e)},nt=function(t){if(z.isFunction(t))return t;if(Z(t)){var e=rt(t);return function(t,n){return t[e](n)}}throw new A("not a function or a field key: "+t)},rt=function(t){return t.slice(1)};U(f.prototype,{_isSome:!0,getOrElse:function(){return this.value},get:function(){return this.value},filter:function(t){return t(this.value)?new f(this.value):it},map:function(t){return new f(t(this.value))},forEach:function(t){return t(this.value)},isDefined:!0,toArray:function(){return[this.value]},inspect:function(){return"Some("+this.value+")"},toString:function(){return this.inspect()}});var it={_isNone:!0,getOrElse:function(t){return t},filter:function(){return it},map:function(){return it},forEach:function(){},isDefined:!1,toArray:function(){return[]},inspect:function(){return"None"},toString:function(){return this.inspect()}},ot=function(t){return("undefined"!=typeof t&&null!==t?t._isSome:void 0)||("undefined"!=typeof t&&null!==t?t._isNone:void 0)?t:new f(t)};k.noMore="<no-more>",k.more="<more>";var ut=0;l.prototype._isEvent=!0,l.prototype.isEvent=function(){return!0},l.prototype.isEnd=function(){return!1},l.prototype.isInitial=function(){return!1},l.prototype.isNext=function(){return!1},l.prototype.isError=function(){return!1},l.prototype.hasValue=function(){return!1},l.prototype.filter=function(){return!0},l.prototype.inspect=function(){return this.toString()},l.prototype.log=function(){return this.toString()},F(h,l),h.prototype.isNext=function(){return!0},h.prototype.hasValue=function(){return!0},h.prototype.value=function(){var t;return(null!=(t=this.valueF)?t._isNext:void 0)?(this.valueInternal=this.valueF.value(),this.valueF=void 0):this.valueF&&(this.valueInternal=this.valueF(),this.valueF=void 0),this.valueInternal},h.prototype.fmap=function(t){var e,n;return this.valueInternal?(n=this.valueInternal,this.apply(function(){return t(n)})):(e=this,this.apply(function(){return t(e.value())}))},h.prototype.apply=function(t){return new h(t)},h.prototype.filter=function(t){return t(this.value())},h.prototype.toString=function(){return z.toString(this.value())},h.prototype.log=function(){return this.value()},h.prototype._isNext=!0,F(p,h),p.prototype._isInitial=!0,p.prototype.isInitial=function(){return!0},p.prototype.isNext=function(){return!1},p.prototype.apply=function(t){return new p(t)},p.prototype.toNext=function(){return new h(this)},F(d,l),d.prototype.isEnd=function(){return!0},d.prototype.fmap=function(){return this},d.prototype.apply=function(){return this},d.prototype.toString=function(){return"<end>"},F(v,l),v.prototype.isError=function(){return!0},v.prototype.fmap=function(){return this},v.prototype.apply=function(){return this},v.prototype.toString=function(){return"<error> "+z.toString(this.error)},k.Event=l,k.Initial=p,k.Next=h,k.End=d,k.Error=v;var at=function(t){return new p(t,!0)},st=function(t){return new h(t,!0)},ct=function(){return new d},ft=function(t){return t&&t._isEvent?t:st(t)},lt=0,ht=function(){};U(g.prototype,{_isObservable:!0,subscribe:function(t){return W.wrappedSubscribe(this,t)},subscribeInternal:function(t){return this.dispatcher.subscribe(t)},onValue:function(){var t=H(arguments);return this.subscribe(function(e){return e.hasValue()?t(e.value()):void 0})},onValues:function(t){return this.onValue(function(e){return t.apply(void 0,e)})},onError:function(){var t=H(arguments);return this.subscribe(function(e){return e.isError()?t(e.error):void 0})},onEnd:function(){var t=H(arguments);return this.subscribe(function(e){return e.isEnd()?t():void 0})},name:function(t){return this._name=t,this},withDescription:function(){return this.desc=Y.apply(void 0,arguments),this},toString:function(){return this._name?this._name:this.desc.toString()},internalDeps:function(){return this.initialDesc.deps()}}),g.prototype.assign=g.prototype.onValue,g.prototype.forEach=g.prototype.onValue,g.prototype.inspect=g.prototype.toString,k.Observable=g,U(y.prototype,{add:function(t){var e=this;if(!this.unsubscribed){var n=!1,r=O;this.starting.push(t);var i=function(){return e.unsubscribed?void 0:(n=!0,e.remove(r),z.remove(t,e.starting))};return r=t(this.unsubscribe,i),this.unsubscribed||n?r():this.subscriptions.push(r),z.remove(t,this.starting),r}},remove:function(t){return this.unsubscribed?void 0:void 0!==z.remove(t,this.subscriptions)?t():void 0},unsubscribe:function(){if(!this.unsubscribed){this.unsubscribed=!0;for(var t=this.subscriptions,e=0;e<t.length;e++)t[e]();return this.subscriptions=[],this.starting=[],[]}},count:function(){return this.unsubscribed?0:this.subscriptions.length+this.starting.length},empty:function(){return 0===this.count()}}),k.CompositeUnsubscribe=y,m.prototype.hasSubscribers=function(){return this.subscriptions.length>0},m.prototype.removeSub=function(t){return this.subscriptions=z.without(t,this.subscriptions),this.subscriptions},m.prototype.push=function(t){return t.isEnd()&&(this.ended=!0),W.inTransaction(t,this,this.pushIt,[t])},m.prototype.pushToSubscriptions=function(t){try{for(var e=this.subscriptions,n=e.length,r=0;n>r;r++){var i=e[r],o=i.sink(t);(o===k.noMore||t.isEnd())&&this.removeSub(i)}return!0}catch(u){throw this.pushing=!1,this.queue=[],u}},m.prototype.pushIt=function(t){if(this.pushing)return this.queue.push(t),k.more;if(t!==this.prevError){for(t.isError()&&(this.prevError=t),this.pushing=!0,this.pushToSubscriptions(t),this.pushing=!1;this.queue.length;)t=this.queue.shift(),this.push(t);return this.hasSubscribers()?k.more:(this.unsubscribeFromSource(),k.noMore)}},m.prototype.handleEvent=function(t){return this._handleEvent?this._handleEvent(t):this.push(t)},m.prototype.unsubscribeFromSource=function(){this.unsubSrc&&this.unsubSrc(),this.unsubSrc=void 0},m.prototype.subscribe=function(t){var e;return this.ended?(t(ct()),O):(C(t),e={sink:t},this.subscriptions.push(e),1===this.subscriptions.length&&(this.unsubSrc=this._subscribe(this.handleEvent),C(this.unsubSrc)),function(t){return function(){return t.removeSub(e),t.hasSubscribers()?void 0:t.unsubscribeFromSource()}}(this))},k.Dispatcher=m,F(b,g),U(b.prototype,{_isEventStream:!0,toProperty:function(t){var e=0===arguments.length?it:ot(function(){return t}),n=this.dispatcher,r=new k.Desc(this,"toProperty",[t]);return new w(r,function(t){var r=!1,i=!1,o=O,u=k.more,a=function(){return r?void 0:e.forEach(function(e){return r=!0,u=t(new p(e)),u===k.noMore?(o(),o=O,O):void 0})};return o=n.subscribe(function(n){return n.hasValue()?n.isInitial()&&!i?(e=new f(function(){return n.value()}),k.more):(n.isInitial()||a(),r=!0,e=new f(n),t(n)):(n.isEnd()&&(u=a()),u!==k.noMore?t(n):void 0)}),i=!0,a(),o})},toEventStream:function(){return this},withHandler:function(t){return new b(new k.Desc(this,"withHandler",[t]),this.dispatcher.subscribe,t)}}),k.EventStream=b,k.never=function(){return new b(Y(k,"never"),function(t){return t(ct()),O})},k.when=function(){if(0===arguments.length)return k.never();var t=arguments.length,e="when: expecting arguments in the form (Observable+,function)+";M(e,t%2===0);for(var n=[],r=[],i=0,o=[];t>i;){o[i]=arguments[i],o[i+1]=arguments[i+1];for(var a,s=z.toArray(arguments[i]),c=dt(arguments[i+1]),f={f:c,ixs:[]},l=!1,h=0;h<s.length;h++){a=s[h];var p=z.indexOf(n,a);l||(l=u.isTrigger(a)),0>p&&(n.push(a),p=n.length-1);for(var d,v=0;v<f.ixs.length;v++)d=f.ixs[v],d.index===p&&d.count++;f.ixs.push({index:p,count:1})}M("At least one EventStream required",l||!s.length),s.length>0&&r.push(f),i+=2}if(!n.length)return k.never();n=z.map(u.fromObservable,n);var g=z.any(n,function(t){return t.flatten})&&pt(z.map(function(t){return t.obs},n)),y=new k.Desc(k,"when",o),m=new b(y,function(t){var e=[],i=!1,o=function(t){for(var e,r=0;r<t.ixs.length;r++)if(e=t.ixs[r],!n[e.index].hasAtLeast(e.count))return!1;return!0},u=function(t){return!t.sync||t.ended},a=function(t){for(var e,r=0;r<t.ixs.length;r++)if(e=t.ixs[r],!n[e.index].mayHave(e.count))return!0},s=function(t){return!t.source.flatten},c=function(c){return function(f){var l=function(){return W.whenDoneWith(m,p)},h=function(){if(!(e.length>0))return k.more;for(var i,u=k.more,a=e.pop(),c=0;c<r.length;c++)if(i=r[c],o(i)){var f=function(){for(var t,e=[],r=0;r<i.ixs.length;r++)t=i.ixs[r],e.push(n[t.index].consume());return e}();return u=t(a.e.apply(function(){var t,e=function(){for(var t,e=[],n=0;n<f.length;n++)t=f[n],e.push(t.value());return e}();return(t=i).f.apply(t,e)})),e.length&&(e=z.filter(s,e)),u===k.noMore?u:h()}},p=function(){var e=h();return i&&(z.all(n,u)||z.all(r,a))&&(e=k.noMore,t(ct())),e===k.noMore&&f(),e};return c.subscribe(function(n){if(n.isEnd())i=!0,c.markEnded(),l();else if(n.isError())var r=t(n);else c.push(n),c.sync&&(e.push({source:c,e:n}),g||W.hasWaiters()?l():p());return r===k.noMore&&f(),r||k.more})}};return new k.CompositeUnsubscribe(function(){for(var t,e=[],r=0;r<n.length;r++)t=n[r],e.push(c(t));return e}()).unsubscribe});return m};var pt=function(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=function(t){if(z.contains(e,t))return!0;var r=t.internalDeps();return r.length?(e.push(t),z.any(r,n)):(e.push(t),!1)};return z.any(t,n)},dt=function(t){return z.isFunction(t)?t:z.always(t)};k.groupSimultaneous=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];1===e.length&&D(e[0])&&(e=e[0]);var r=function(){for(var t,n=[],r=0;r<e.length;r++)t=e[r],n.push(new s(t));return n}();return $(new k.Desc(k,"groupSimultaneous",e),k.when(r,function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return e}))},F(_,m),U(_.prototype,{push:function(t){return t.isEnd()&&(this.propertyEnded=!0),t.hasValue()&&(this.current=new f(t),this.currentValueRootId=W.currentEventId()),m.prototype.push.call(this,t)},maybeSubSource:function(t,e){return e===k.noMore?O:this.propertyEnded?(t(ct()),O):m.prototype.subscribe.call(this,t)},subscribe:function(t){var e=this,n=k.more;if(this.current.isDefined&&(this.hasSubscribers()||this.propertyEnded)){var r=W.currentEventId(),i=this.currentValueRootId;return!this.propertyEnded&&i&&r&&r!==i?(W.whenDoneWith(this.property,function(){return e.currentValueRootId===i?t(at(e.current.get().value())):void 0}),this.maybeSubSource(t,n)):(W.inTransaction(void 0,this,function(){return n=t(at(this.current.get().value()))},[]),this.maybeSubSource(t,n))}return this.maybeSubSource(t,n)}}),F(w,g),U(w.prototype,{_isProperty:!0,changes:function(){var t=this;return new b(new k.Desc(this,"changes",[]),function(e){return t.dispatcher.subscribe(function(t){return t.isInitial()?void 0:e(t)})})},withHandler:function(t){return new w(new k.Desc(this,"withHandler",[t]),this.dispatcher.subscribe,t)},toProperty:function(){return N(arguments),this},toEventStream:function(){var t=this;return new b(new k.Desc(this,"toEventStream",[]),function(e){return t.dispatcher.subscribe(function(t){return t.isInitial()&&(t=t.toNext()),e(t)})})}}),k.Property=w,k.constant=function(t){return new w(new k.Desc(k,"constant",[t]),function(e){return e(at(t)),e(ct()),O})},k.fromBinder=function(t){var e=arguments.length<=1||void 0===arguments[1]?z.id:arguments[1],n=new k.Desc(k,"fromBinder",[t,e]);return new b(n,function(n){var r=!1,i=!1,o=function(){return r?void 0:"undefined"!=typeof u&&null!==u?(u(),r=!0):i=!0},u=t(function(){for(var t,r=arguments.length,i=Array(r),u=0;r>u;u++)i[u]=arguments[u];var a=e.apply(this,i);D(a)&&(null!=(t=z.last(a))?t._isEvent:void 0)||(a=[a]);for(var s,c=k.more,f=0;f<a.length;f++)if(s=a[f],c=n(s=ft(s)),c===k.noMore||s.isEnd())return o(),c;return c});return i&&o(),o})},k.Observable.prototype.map=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return et(this,t,n,function(t){return $(new k.Desc(this,"map",[t]),this.withHandler(function(e){return this.push(e.fmap(t))}))})};var vt=function(t){return D(t[0])?t[0]:Array.prototype.slice.call(t)},gt=function(t){return z.isFunction(t[0])?[vt(Array.prototype.slice.call(t,1)),t[0]]:[vt(Array.prototype.slice.call(t,0,t.length-1)),z.last(t)]};k.combineAsArray=function(){for(var t,e=vt(arguments),n=0;n<e.length;n++)t=e[n],L(t)||(e[n]=k.constant(t));if(e.length){var r=function(){for(var t,n=[],r=0;r<e.length;r++)t=e[r],n.push(new u(t,!0));return n}();return $(new k.Desc(k,"combineAsArray",e),k.when(r,function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return e}).toProperty())}return k.constant([])},k.onValues=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return k.combineAsArray(e.slice(0,e.length-1)).onValues(e[e.length-1])},k.combineWith=function(){var t=gt(arguments),e=t[0],n=t[1],r=new k.Desc(k,"combineWith",[n].concat(e));return $(r,k.combineAsArray(e).map(function(t){return n.apply(void 0,t)}))},k.Observable.prototype.combine=function(t,e){var n=nt(e),r=new k.Desc(this,"combine",[t,e]);return $(r,k.combineAsArray(this,t).map(function(t){return n(t[0],t[1])}))},k.Observable.prototype.withStateMachine=function(t,e){var n=t,r=new k.Desc(this,"withStateMachine",[t,e]);return $(r,this.withHandler(function(t){var r=e(n,t),i=r[0],o=r[1];n=i;for(var u,a=k.more,s=0;s<o.length;s++)if(u=o[s],a=this.push(u),a===k.noMore)return a;return a}))};var yt=function(t,e){return t===e},mt=function(t){return"undefined"!=typeof t&&null!==t?t._isNone:!1};k.Observable.prototype.skipDuplicates=function(){var t=arguments.length<=0||void 0===arguments[0]?yt:arguments[0],e=new k.Desc(this,"skipDuplicates",[]);return $(e,this.withStateMachine(it,function(e,n){return n.hasValue()?n.isInitial()||mt(e)||!t(e.get(),n.value())?[new f(n.value()),[n]]:[e,[]]:[e,[n]]}))},k.Observable.prototype.awaiting=function(t){var e=new k.Desc(this,"awaiting",[t]);return $(e,k.groupSimultaneous(this,t).map(function(t){return 0===t[1].length}).toProperty(!1).skipDuplicates())},k.Observable.prototype.not=function(){return $(new k.Desc(this,"not",[]),this.map(function(t){return!t}))},k.Property.prototype.and=function(t){return $(new k.Desc(this,"and",[t]),this.combine(t,function(t,e){return t&&e}))},k.Property.prototype.or=function(t){return $(new k.Desc(this,"or",[t]),this.combine(t,function(t,e){return t||e}))},k.scheduler={setTimeout:function(t,e){return setTimeout(t,e)},setInterval:function(t,e){return setInterval(t,e)},clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)},now:function(){return(new Date).getTime()}},k.EventStream.prototype.bufferWithTime=function(t){return $(new k.Desc(this,"bufferWithTime",[t]),this.bufferWithTimeOrCount(t,Number.MAX_VALUE))},k.EventStream.prototype.bufferWithCount=function(t){return $(new k.Desc(this,"bufferWithCount",[t]),this.bufferWithTimeOrCount(void 0,t))},k.EventStream.prototype.bufferWithTimeOrCount=function(t,e){var n=function(n){return n.values.length===e?n.flush():void 0!==t?n.schedule():void 0},r=new k.Desc(this,"bufferWithTimeOrCount",[t,e]);return $(r,this.buffer(t,n,n))},k.EventStream.prototype.buffer=function(t){var e=arguments.length<=1||void 0===arguments[1]?O:arguments[1],n=arguments.length<=2||void 0===arguments[2]?O:arguments[2],r={scheduled:null,end:void 0,values:[],flush:function(){if(this.scheduled&&(k.scheduler.clearTimeout(this.scheduled),this.scheduled=null),this.values.length>0){var t=this.values;this.values=[];var e=this.push(st(t));if(null!=this.end)return this.push(this.end);if(e!==k.noMore)return n(this)}else if(null!=this.end)return this.push(this.end)},schedule:function(){var e=this;return this.scheduled?void 0:this.scheduled=t(function(){return e.flush()})}},i=k.more;if(!z.isFunction(t)){var o=t;t=function(t){return k.scheduler.setTimeout(t,o)}}return $(new k.Desc(this,"buffer",[]),this.withHandler(function(t){var n=this;return r.push=function(t){return n.push(t)},t.isError()?i=this.push(t):t.isEnd()?(r.end=t,r.scheduled||r.flush()):(r.values.push(t.value()),e(r)),i}))},k.Observable.prototype.filter=function(t){P(t);for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return et(this,t,n,function(t){return $(new k.Desc(this,"filter",[t]),this.withHandler(function(e){return e.filter(t)?this.push(e):k.more}))})},k.once=function(t){return new b(new c(k,"once",[t]),function(e){return e(ft(t)),e(ct()),O})},k.EventStream.prototype.concat=function(t){var e=this;return new b(new k.Desc(e,"concat",[t]),function(n){var r=O,i=e.dispatcher.subscribe(function(e){return e.isEnd()?r=t.dispatcher.subscribe(n):n(e)});return function(){return i(),r()}})},k.Observable.prototype.flatMap=function(){return wt(this,bt(arguments))},k.Observable.prototype.flatMapFirst=function(){return wt(this,bt(arguments),!0)};var bt=function(t){return 1===t.length&&L(t[0])?z.always(t[0]):H(t)},_t=function(t){return L(t)?t:k.once(t)},wt=function(t,e,n,r){var i=[t],o=[],u=new k.Desc(t,"flatMap"+(n?"First":""),[e]),a=new b(u,function(i){var u=new y,a=[],s=function(t){var n=_t(e(t.value()));return o.push(n),u.add(function(t,e){return n.dispatcher.subscribe(function(r){if(r.isEnd())return z.remove(n,o),c(),f(e),k.noMore;("undefined"!=typeof r&&null!==r?r._isInitial:void 0)&&(r=r.toNext());var u=i(r);return u===k.noMore&&t(),u})})},c=function(){var t=a.shift();return t?s(t):void 0},f=function(t){return t(),u.empty()?i(ct()):void 0};return u.add(function(e,o){return t.dispatcher.subscribe(function(t){return t.isEnd()?f(o):t.isError()?i(t):n&&u.count()>1?k.more:u.unsubscribed?k.noMore:r&&u.count()>r?a.push(t):s(t)})}),u.unsubscribe});return a.internalDeps=function(){return o.length?i.concat(o):i},a};k.Observable.prototype.flatMapWithConcurrencyLimit=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];var i=new k.Desc(this,"flatMapWithConcurrencyLimit",[t].concat(n));return $(i,wt(this,bt(n),!1,t))},k.Observable.prototype.flatMapConcat=function(){var t=new k.Desc(this,"flatMapConcat",Array.prototype.slice.call(arguments,0));return $(t,this.flatMapWithConcurrencyLimit.apply(this,[1].concat(E.call(arguments))))},k.later=function(t,e){return $(new k.Desc(k,"later",[t,e]),k.fromBinder(function(n){var r=function(){return n([e,ct()])},i=k.scheduler.setTimeout(r,t);return function(){return k.scheduler.clearTimeout(i)}}))},k.Observable.prototype.bufferingThrottle=function(t){var e=new k.Desc(this,"bufferingThrottle",[t]);return $(e,this.flatMapConcat(function(e){return k.once(e).concat(k.later(t).filter(!1))}))},k.Property.prototype.bufferingThrottle=function(){return k.Observable.prototype.bufferingThrottle.apply(this,arguments).toProperty()},F(x,b),U(x.prototype,{unsubAll:function(){for(var t,e=this.subscriptions,n=0;n<e.length;n++)t=e[n],"function"==typeof t.unsub&&t.unsub()},subscribeAll:function(t){if(this.ended)t(ct());else{this.sink=t;for(var e,n=I(this.subscriptions),r=0;r<n.length;r++)e=n[r],this.subscribeInput(e)}return this.unsubAll},guardedSink:function(t){var e=this;return function(n){return n.isEnd()?(e.unsubscribeInput(t),k.noMore):e.sink(n)}},subscribeInput:function(t){return t.unsub=t.input.dispatcher.subscribe(this.guardedSink(t.input)),t.unsub},unsubscribeInput:function(t){for(var e,n=this.subscriptions,r=0;r<n.length;r++)if(e=n[r],e.input===t)return"function"==typeof e.unsub&&e.unsub(),void this.subscriptions.splice(r,1)},plug:function(t){var e=this;if(T(t),!this.ended){var n={input:t};return this.subscriptions.push(n),"undefined"!=typeof this.sink&&this.subscribeInput(n),function(){return e.unsubscribeInput(t)}}},end:function(){return this.ended=!0,this.unsubAll(),"function"==typeof this.sink?this.sink(ct()):void 0},push:function(t){return this.ended||"function"!=typeof this.sink?void 0:this.sink(st(t))},error:function(t){return"function"==typeof this.sink?this.sink(new v(t)):void 0}}),k.Bus=x;var xt=function(t,e){return q(function(n){for(var r=J(e,[function(t,e){return n.apply(void 0,t.concat([e]))}]),i=arguments.length,o=Array(i>1?i-1:0),u=1;i>u;u++)o[u-1]=arguments[u];return $(new k.Desc(k,t,[n].concat(o)),k.combineAsArray(o).flatMap(r))})};k.fromCallback=xt("fromCallback",function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return k.fromBinder(function(e){return tt(t,n)(e),O},function(t){return[t,ct()]})}),k.fromNodeCallback=xt("fromNodeCallback",function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return k.fromBinder(function(e){return tt(t,n)(e),O},function(t,e){return t?[new v(t),ct()]:[e,ct()]})}),k.combineTemplate=function(t){function e(t){return t[t.length-1]}function n(t,n,r){return e(t)[n]=r,r}function r(t,e){return function(r,i){return n(r,t,i[e])}}function i(t,e){return function(r){return n(r,t,e)}}function o(t){return D(t)?[]:{}}function u(t,e){return function(r){var i=o(e);return n(r,t,i),r.push(i)}}function a(t,e){if(L(e))return l.push(e),f.push(r(t,l.length-1));if(!e||e.constructor!=Object&&e.constructor!=Array)return f.push(i(t,e));var n=function(t){return t.pop()};return f.push(u(t,e)),c(e),f.push(n)}function s(e){for(var n,r=o(t),i=[r],u=0;u<f.length;u++)(n=f[u])(i,e);return r}function c(t){return z.each(t,a)}var f=[],l=[];return c(t),$(new k.Desc(k,"combineTemplate",[t]),k.combineAsArray(l).map(s))};var St=function(t,e){var n=new b(Y(t,"justInitValue"),function(e){var r=void 0,i=t.dispatcher.subscribe(function(t){return t.isEnd()||(r=t),k.noMore});return W.whenDoneWith(n,function(){return"undefined"!=typeof r&&null!==r&&e(r),e(ct())}),i});return n.concat(e).toProperty()};k.Observable.prototype.mapEnd=function(){var t=H(arguments);return $(new k.Desc(this,"mapEnd",[t]),this.withHandler(function(e){return e.isEnd()?(this.push(st(t(e))),this.push(ct()),k.noMore):this.push(e)}))},k.Observable.prototype.skipErrors=function(){return $(new k.Desc(this,"skipErrors",[]),this.withHandler(function(t){return t.isError()?k.more:this.push(t)}))},k.EventStream.prototype.takeUntil=function(t){var e={};return $(new k.Desc(this,"takeUntil",[t]),k.groupSimultaneous(this.mapEnd(e),t.skipErrors()).withHandler(function(t){if(t.hasValue()){var n=t.value(),r=n[0],i=n[1];if(i.length)return this.push(ct());for(var o,u=k.more,a=0;a<r.length;a++)o=r[a],u=o===e?this.push(ct()):this.push(st(o));return u}return this.push(t)}))},k.Property.prototype.takeUntil=function(t){var e=this.changes().takeUntil(t);return $(new k.Desc(this,"takeUntil",[t]),St(this,e));
},k.Observable.prototype.flatMapLatest=function(){var t=bt(arguments),e=this.toEventStream();return $(new k.Desc(this,"flatMapLatest",[t]),e.flatMap(function(n){return _t(t(n)).takeUntil(e)}))},k.Property.prototype.delayChanges=function(t,e){return $(t,St(this,e(this.changes())))},k.EventStream.prototype.delay=function(t){return $(new k.Desc(this,"delay",[t]),this.flatMap(function(e){return k.later(t,e)}))},k.Property.prototype.delay=function(t){return this.delayChanges(new k.Desc(this,"delay",[t]),function(e){return e.delay(t)})},k.EventStream.prototype.debounce=function(t){return $(new k.Desc(this,"debounce",[t]),this.flatMapLatest(function(e){return k.later(t,e)}))},k.Property.prototype.debounce=function(t){return this.delayChanges(new k.Desc(this,"debounce",[t]),function(e){return e.debounce(t)})},k.EventStream.prototype.debounceImmediate=function(t){return $(new k.Desc(this,"debounceImmediate",[t]),this.flatMapFirst(function(e){return k.once(e).concat(k.later(t).filter(!1))}))},k.Observable.prototype.decode=function(t){return $(new k.Desc(this,"decode",[t]),this.combine(k.combineTemplate(t),function(t,e){return e[t]}))},k.Observable.prototype.scan=function(t,e){var n,r=this;e=nt(e);var i=ot(t),o=!1,u=function(t){var u=!1,a=O,s=k.more,c=function(){return u?void 0:i.forEach(function(e){return u=o=!0,s=t(new p(function(){return e})),s===k.noMore?(a(),a=O):void 0})};return a=r.dispatcher.subscribe(function(n){if(n.hasValue()){if(o&&n.isInitial())return k.more;n.isInitial()||c(),u=o=!0;var r=i.getOrElse(void 0),a=e(r,n.value());return i=new f(a),t(n.apply(function(){return a}))}return n.isEnd()&&(s=c()),s!==k.noMore?t(n):void 0}),W.whenDoneWith(n,c),a};return n=new w(new k.Desc(this,"scan",[t,e]),u)},k.Observable.prototype.diff=function(t,e){return e=nt(e),$(new k.Desc(this,"diff",[t,e]),this.scan([t],function(t,n){return[n,e(t[0],n)]}).filter(function(t){return 2===t.length}).map(function(t){return t[1]}))},k.Observable.prototype.doAction=function(){var t=H(arguments);return $(new k.Desc(this,"doAction",[t]),this.withHandler(function(e){return e.hasValue()&&t(e.value()),this.push(e)}))},k.Observable.prototype.doEnd=function(){var t=H(arguments);return $(new k.Desc(this,"doEnd",[t]),this.withHandler(function(e){return e.isEnd()&&t(),this.push(e)}))},k.Observable.prototype.doError=function(){var t=H(arguments);return $(new k.Desc(this,"doError",[t]),this.withHandler(function(e){return e.isError()&&t(e.error),this.push(e)}))},k.Observable.prototype.doLog=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return $(new k.Desc(this,"doLog",e),this.withHandler(function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log&&console.log.apply(console,e.concat([t.log()])),this.push(t)}))},k.Observable.prototype.endOnError=function(t){("undefined"==typeof t||null===t)&&(t=!0);for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return et(this,t,n,function(t){return $(new k.Desc(this,"endOnError",[]),this.withHandler(function(e){return e.isError()&&t(e.error)?(this.push(e),this.push(ct())):this.push(e)}))})},g.prototype.errors=function(){return $(new k.Desc(this,"errors",[]),this.filter(function(){return!1}))},k.Observable.prototype.take=function(t){return 0>=t?k.never():$(new k.Desc(this,"take",[t]),this.withHandler(function(e){return e.hasValue()?(t--,t>0?this.push(e):(0===t&&this.push(e),this.push(ct()),k.noMore)):this.push(e)}))},k.Observable.prototype.first=function(){return $(new k.Desc(this,"first",[]),this.take(1))},k.Observable.prototype.mapError=function(){var t=H(arguments);return $(new k.Desc(this,"mapError",[t]),this.withHandler(function(e){return e.isError()?this.push(st(t(e.error))):this.push(e)}))},k.Observable.prototype.flatMapError=function(t){var e=new k.Desc(this,"flatMapError",[t]);return $(e,this.mapError(function(t){return new v(t)}).flatMap(function(e){return e instanceof v?t(e.error):k.once(e)}))},k.EventStream.prototype.sampledBy=function(t,e){return $(new k.Desc(this,"sampledBy",[t,e]),this.toProperty().sampledBy(t,e))},k.Property.prototype.sampledBy=function(t,e){var n=!1;"undefined"!=typeof e&&null!==e?e=nt(e):(n=!0,e=function(t){return t.value()});var r=new u(this,!1,n),i=new u(t,!0,n),o=k.when([r,i],e),a=t._isProperty?o.toProperty():o;return $(new k.Desc(this,"sampledBy",[t,e]),a)},k.Property.prototype.sample=function(t){return $(new k.Desc(this,"sample",[t]),this.sampledBy(k.interval(t,{})))},k.Observable.prototype.map=function(t){if(t&&t._isProperty)return t.sampledBy(this,j);for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return et(this,t,n,function(t){return $(new k.Desc(this,"map",[t]),this.withHandler(function(e){return this.push(e.fmap(t))}))})},k.Observable.prototype.fold=function(t,e){return $(new k.Desc(this,"fold",[t,e]),this.scan(t,e).sampledBy(this.filter(!1).mapEnd().toProperty()))},g.prototype.reduce=g.prototype.fold;var Et=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"],["bind","unbind"]],kt=function(t){for(var e,n=0;n<Et.length;n++){e=Et[n];var r=[t[e[0]],t[e[1]]];if(r[0]&&r[1])return r}for(var i=0;i<Et.length;i++){e=Et[i];var o=t[e[0]];if(o)return[o,function(){}]}throw new v("No suitable event methods in "+t)};k.fromEventTarget=function(t,e,n){var r=kt(t),i=r[0],o=r[1],u=new k.Desc(k,"fromEvent",[t,e]);return $(u,k.fromBinder(function(n){return i.call(t,e,n),function(){return o.call(t,e,n)}},n))},k.fromEvent=k.fromEventTarget,k.fromPoll=function(t,e){var n=new k.Desc(k,"fromPoll",[t,e]);return $(n,k.fromBinder(function(e){var n=k.scheduler.setInterval(e,t);return function(){return k.scheduler.clearInterval(n)}},e))},k.fromPromise=function(t,e){var n=arguments.length<=2||void 0===arguments[2]?S:arguments[2];return $(new k.Desc(k,"fromPromise",[t]),k.fromBinder(function(n){var r=t.then(n,function(t){return n(new v(t))});return r&&"function"==typeof r.done&&r.done(),e?function(){return"function"==typeof t.abort?t.abort():void 0}:function(){}},n))},k.Observable.prototype.groupBy=function(t){var e=arguments.length<=1||void 0===arguments[1]?k._.id:arguments[1],n={},r=this;return r.filter(function(e){return!n[t(e)]}).map(function(i){var o=t(i),u=r.filter(function(e){return t(e)===o}),a=k.once(i).concat(u),s=e(a,i).withHandler(function(t){return this.push(t),t.isEnd()?delete n[o]:void 0});return n[o]=s,s})},k.fromArray=function(t){if(R(t),t.length){var e=0;return new b(new k.Desc(k,"fromArray",[t]),function(n){var r=!1,i=k.more,o=!1,u=!1,a=function(){if(u=!0,!o){for(o=!0;u;)if(u=!1,i!==k.noMore&&!r){var s=t[e++];i=n(ft(s)),i!==k.noMore&&(e===t.length?n(ct()):W.afterTransaction(a))}return o=!1}};return a(),function(){return r=!0}})}return $(new k.Desc(k,"fromArray",t),k.never())},k.EventStream.prototype.holdWhen=function(t){var e=!1,n=[],r=this;return new b(new k.Desc(this,"holdWhen",[t]),function(i){var o=new y,u=!1,a=function(t){return"function"==typeof t&&t(),o.empty()&&u?i(ct()):void 0};return o.add(function(r,o){return t.subscribeInternal(function(t){if(!t.hasValue())return t.isEnd()?a(o):i(t);if(e=t.value(),!e){var r=n;return n=[],function(){for(var t,e=[],n=0;n<r.length;n++)t=r[n],e.push(i(st(t)));return e}()}})}),o.add(function(t,o){return r.subscribeInternal(function(t){return e&&t.hasValue()?n.push(t.value()):t.isEnd()&&n.length?a(o):i(t)})}),u=!0,a(),o.unsubscribe})},k.interval=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return $(new k.Desc(k,"interval",[t,e]),k.fromPoll(t,function(){return st(e)}))},k.$={},k.$.asEventStream=function(t,e,n){var r=this;return z.isFunction(e)&&(n=e,e=void 0),$(new k.Desc(this.selector||this,"asEventStream",[t]),k.fromBinder(function(n){return r.on(t,e,n),function(){return r.off(t,e,n)}},n))},"undefined"!=typeof jQuery&&jQuery&&(jQuery.fn.asEventStream=k.$.asEventStream),"undefined"!=typeof Zepto&&Zepto&&(Zepto.fn.asEventStream=k.$.asEventStream),k.Observable.prototype.last=function(){var t;return $(new k.Desc(this,"last",[]),this.withHandler(function(e){return e.isEnd()?(t&&this.push(t),this.push(ct()),k.noMore):void(t=e)}))},k.Observable.prototype.log=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return this.subscribe(function(t){"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,e.concat([t.log()]))}),this},k.EventStream.prototype.merge=function(t){B(t);var e=this;return $(new k.Desc(e,"merge",[t]),k.mergeAll(this,t))},k.mergeAll=function(){var t=vt(arguments);return t.length?new b(new k.Desc(k,"mergeAll",t),function(e){var n=0,r=function(r){return function(i){return r.dispatcher.subscribe(function(r){if(r.isEnd())return n++,n===t.length?e(ct()):k.more;var o=e(r);return o===k.noMore&&i(),o})}},i=z.map(r,t);return new k.CompositeUnsubscribe(i).unsubscribe}):k.never()},k.repeatedly=function(t,e){var n=0;return $(new k.Desc(k,"repeatedly",[t,e]),k.fromPoll(t,function(){return e[n++%e.length]}))},k.repeat=function(t){var e=0;return k.fromBinder(function(n){function r(t){return t.isEnd()?o?i():o=!0:u=n(t)}function i(){var i;for(o=!0;o&&u!==k.noMore;)i=t(e++),o=!1,i?a=i.subscribeInternal(r):n(ct());return o=!0}var o=!1,u=k.more,a=function(){};return i(),function(){return a()}})},k.retry=function(t){if(!z.isFunction(t.source))throw new A("'source' option has to be a function");var e=t.source,n=t.retries||0,r=t.maxRetries||n,i=t.delay||function(){return 0},o=t.isRetryable||function(){return!0},u=!1,a=null;return $(new k.Desc(k,"retry",[t]),k.repeat(function(){function t(){return e().endOnError().withHandler(function(t){return t.isError()?(a=t,o(a.error)&&n>0?void 0:(u=!0,this.push(t))):(t.hasValue()&&(a=null,u=!0),this.push(t))})}if(u)return null;if(a){var s={error:a.error,retriesDone:r-n},c=k.later(i(s)).filter(!1);return n-=1,c.concat(k.once().flatMap(t))}return t()}))},k.sequentially=function(t,e){var n=0;return $(new k.Desc(k,"sequentially",[t,e]),k.fromPoll(t,function(){var t=e[n++];return n<e.length?t:n===e.length?[t,ct()]:ct()}))},k.Observable.prototype.skip=function(t){return $(new k.Desc(this,"skip",[t]),this.withHandler(function(e){return e.hasValue()&&t>0?(t--,k.more):this.push(e)}))},k.EventStream.prototype.skipUntil=function(t){var e=t.take(1).map(!0).toProperty(!1);return $(new k.Desc(this,"skipUntil",[t]),this.filter(e))},k.EventStream.prototype.skipWhile=function(t){P(t);for(var e=!1,n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];return et(this,t,r,function(t){return $(new k.Desc(this,"skipWhile",[t]),this.withHandler(function(n){return!e&&n.hasValue()&&t(n.value())?k.more:(n.hasValue()&&(e=!0),this.push(n))}))})},k.Observable.prototype.slidingWindow=function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return $(new k.Desc(this,"slidingWindow",[t,e]),this.scan([],function(e,n){return e.concat([n]).slice(-t)}).filter(function(t){return t.length>=e}))};var At=[],ht=function(t){if(At.length&&!ht.running)try{ht.running=!0,At.forEach(function(e){e(t)})}finally{delete ht.running}};k.spy=function(t){return At.push(t)},k.Property.prototype.startWith=function(t){return $(new k.Desc(this,"startWith",[t]),this.scan(t,function(t,e){return e}))},k.EventStream.prototype.startWith=function(t){return $(new k.Desc(this,"startWith",[t]),k.once(t).concat(this))},k.Observable.prototype.takeWhile=function(t){P(t);for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return et(this,t,n,function(t){return $(new k.Desc(this,"takeWhile",[t]),this.withHandler(function(e){return e.filter(t)?this.push(e):(this.push(ct()),k.noMore)}))})},k.EventStream.prototype.throttle=function(t){return $(new k.Desc(this,"throttle",[t]),this.bufferWithTime(t).map(function(t){return t[t.length-1]}))},k.Property.prototype.throttle=function(t){return this.delayChanges(new k.Desc(this,"throttle",[t]),function(e){return e.throttle(t)})},g.prototype.firstToPromise=function(t){var e=this;if("function"!=typeof t){if("function"!=typeof Promise)throw new A("There isn't default Promise, use shim or parameter");t=Promise}return new t(function(t,n){return e.subscribe(function(e){return e.hasValue()&&t(e.value()),e.isError()&&n(e.error),k.noMore})})},g.prototype.toPromise=function(t){return this.last().firstToPromise(t)},k["try"]=function(t){return function(e){try{return k.once(t(e))}catch(n){return new k.Error(n)}}},k.update=function(t){function e(t){return function(){for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];return function(e){return t.apply(void 0,[e].concat(n))}}}for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];for(var o=r.length-1;o>0;)r[o]instanceof Function||(r[o]=z.always(r[o])),r[o]=e(r[o]),o-=2;return $(new k.Desc(k,"update",[t].concat(r)),k.when.apply(k,r).scan(t,function(t,e){return e(t)}))},k.zipAsArray=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];var r=vt(e);return $(new k.Desc(k,"zipAsArray",r),k.zipWith(r,function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return e}))},k.zipWith=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];var r=gt(e),i=r[0],o=r[1];return i=z.map(function(t){return t.toEventStream()},i),$(new k.Desc(k,"zipWith",[o].concat(i)),k.when(i,o))},k.Observable.prototype.zip=function(t,e){return $(new k.Desc(this,"zip",[t]),k.zipWith([this,t],e||Array))},null!==n(218)&&null!=n(219)?(r=[],i=function(){return k}.apply(e,r),!(void 0!==i&&(o.exports=i)),"undefined"!=typeof this&&null!==this&&(this.Bacon=k)):"undefined"!=typeof o&&null!==o&&null!=o.exports?(o.exports=k,k.Bacon=k):this.Bacon=k}).call(this)}).call(e,function(){return this}(),n(55)(t))},21:function(t,e){function n(t){return!!t&&"object"==typeof t}function r(t,e){var n=null==t?void 0:t[e];return a(n)?n:void 0}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&y>=t}function o(t){return u(t)&&d.call(t)==c}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){return null==t?!1:o(t)?v.test(h.call(t)):n(t)&&f.test(t)}var s="[object Array]",c="[object Function]",f=/^\[object .+?Constructor\]$/,l=Object.prototype,h=Function.prototype.toString,p=l.hasOwnProperty,d=l.toString,v=RegExp("^"+h.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),g=r(Array,"isArray"),y=9007199254740991,m=g||function(t){return n(t)&&i(t.length)&&d.call(t)==s};t.exports=m},22:function(t,e,n){function r(t){return function(e){return null==e?void 0:e[t]}}function i(t){return null!=t&&u(m(t))}function o(t,e){return t="number"==typeof t||p.test(t)?+t:-1,e=null==e?y:e,t>-1&&t%1==0&&e>t}function u(t){return"number"==typeof t&&t>-1&&t%1==0&&y>=t}function a(t){for(var e=c(t),n=e.length,r=n&&t.length,i=!!r&&u(r)&&(h(t)||l(t)),a=-1,s=[];++a<n;){var f=e[a];(i&&o(f,r)||v.call(t,f))&&s.push(f)}return s}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function c(t){if(null==t)return[];s(t)||(t=Object(t));var e=t.length;e=e&&u(e)&&(h(t)||l(t))&&e||0;for(var n=t.constructor,r=-1,i="function"==typeof n&&n.prototype===t,a=Array(e),c=e>0;++r<e;)a[r]=r+"";for(var f in t)c&&o(f,e)||"constructor"==f&&(i||!v.call(t,f))||a.push(f);return a}var f=n(92),l=n(201),h=n(21),p=/^\d+$/,d=Object.prototype,v=d.hasOwnProperty,g=f(Object,"keys"),y=9007199254740991,m=r("length"),b=g?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&i(t)?a(t):s(t)?g(t):[]}:a;t.exports=b},24:function(t,e){function n(t){var e=this,n=l.call(arguments,1);return new Promise(function(i,o){function u(e){var n;try{n=t.next(e)}catch(r){return o(r)}c(n)}function s(e){var n;try{n=t["throw"](e)}catch(r){return o(r)}c(n)}function c(t){if(t.done)return i(t.value);var n=r.call(e,t.value);return n&&a(n)?n.then(u,s):s(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(t.value)+'"'))}return"function"==typeof t&&(t=t.apply(e,n)),t&&"function"==typeof t.next?void u():i(t)})}function r(t){return t?a(t)?t:c(t)||s(t)?n.call(this,t):"function"==typeof t?i.call(this,t):Array.isArray(t)?o.call(this,t):f(t)?u.call(this,t):t:t}function i(t){var e=this;return new Promise(function(n,r){t.call(e,function(t,e){return t?r(t):(arguments.length>2&&(e=l.call(arguments,1)),void n(e))})})}function o(t){return Promise.all(t.map(r,this))}function u(t){function e(t,e){n[e]=void 0,o.push(t.then(function(t){n[e]=t}))}for(var n=new t.constructor,i=Object.keys(t),o=[],u=0;u<i.length;u++){var s=i[u],c=r.call(this,t[s]);c&&a(c)?e(c,s):n[s]=t[s]}return Promise.all(o).then(function(){return n})}function a(t){return"function"==typeof t.then}function s(t){return"function"==typeof t.next&&"function"==typeof t["throw"]}function c(t){var e=t.constructor;return e?"GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName?!0:s(e.prototype):!1}function f(t){return Object==t.constructor}var l=Array.prototype.slice;t.exports=n["default"]=n.co=n,n.wrap=function(t){function e(){return n.call(this,t.apply(this,arguments))}return e.__generatorFunction__=t,e}},26:function(t,e){t.exports=function(t,e,n,r,i){this.confidence=n,this.name=r||e.name(t),this.lang=i}},30:function(t,e,n){t.exports={uniq:n(207),pluck:n(205),values:n(208),assign:n(200)}},35:function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&e._extend(r,n),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),s(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function u(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function s(t,n,r){if(t.customInspect&&n&&A(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return b(i)||(i=s(t,i,r)),i}var o=c(t,n);if(o)return o;var u=Object.keys(n),v=a(u);if(t.showHidden&&(u=Object.getOwnPropertyNames(n)),k(n)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return f(n);if(0===u.length){if(A(n)){var g=n.name?": "+n.name:"";return t.stylize("[Function"+g+"]","special")}if(x(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return t.stylize(Date.prototype.toString.call(n),"date");if(k(n))return f(n)}var y="",m=!1,_=["{","}"];if(d(n)&&(m=!0,_=["[","]"]),A(n)){var w=n.name?": "+n.name:"";y=" [Function"+w+"]"}if(x(n)&&(y=" "+RegExp.prototype.toString.call(n)),E(n)&&(y=" "+Date.prototype.toUTCString.call(n)),k(n)&&(y=" "+f(n)),0===u.length&&(!m||0==n.length))return _[0]+y+_[1];if(0>r)return x(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var S;return S=m?l(t,n,r,v,u):u.map(function(e){return h(t,n,r,v,e,m)}),t.seen.pop(),p(S,y,_)}function c(t,e){if(w(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):v(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function l(t,e,n,r,i){for(var o=[],u=0,a=e.length;a>u;++u)P(e,String(u))?o.push(h(t,e,n,r,String(u),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}function h(t,e,n,r,i,o){var u,a,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),P(r,i)||(u="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=g(n)?s(t,c.value,null):s(t,c.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),w(u)){if(o&&i.match(/^\d+$/))return a;u=JSON.stringify(""+i),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=t.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=t.stylize(u,"string"))}return u+": "+a}function p(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function g(t){return null===t}function y(t){return null==t}function m(t){return"number"==typeof t}function b(t){return"string"==typeof t}function _(t){return"symbol"==typeof t}function w(t){return void 0===t}function x(t){return S(t)&&"[object RegExp]"===j(t)}function S(t){return"object"==typeof t&&null!==t}function E(t){return S(t)&&"[object Date]"===j(t)}function k(t){return S(t)&&("[object Error]"===j(t)||t instanceof Error)}function A(t){return"function"==typeof t}function O(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function j(t){return Object.prototype.toString.call(t)}function I(t){return 10>t?"0"+t.toString(10):t.toString(10)}function M(){var t=new Date,e=[I(t.getHours()),I(t.getMinutes()),I(t.getSeconds())].join(":");return[t.getDate(),D[t.getMonth()],e].join(" ")}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var B=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,u=String(t).replace(B,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),a=r[n];o>n;a=r[++n])u+=g(a)||!S(a)?" "+a:" "+i(a);return u},e.deprecate=function(n,i){function o(){if(!u){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),u=!0}return n.apply(this,arguments)}if(w(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var u=!1;return o};var T,C={};e.debuglog=function(t){if(w(T)&&(T=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!C[t])if(new RegExp("\\b"+t+"\\b","i").test(T)){var n=r.pid;C[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else C[t]=function(){};return C[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=v,e.isNull=g,e.isNullOrUndefined=y,e.isNumber=m,e.isString=b,e.isSymbol=_,e.isUndefined=w,e.isRegExp=x,e.isObject=S,e.isDate=E,e.isError=k,e.isFunction=A,e.isPrimitive=O,e.isBuffer=n(217);var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",M(),e.format.apply(e,arguments))},e.inherits=n(121),e._extend=function(t,e){if(!e||!S(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,function(){return this}(),n(5))},36:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return function(e,n){for(var r=Math.abs(e-n),i=0;i<p.length;i++)if(r<t(p[i]))return p[i].value;return n>e?l:h}}function o(t){return f["default"].find(p,{value:t}).timegate}function u(t){return t>=4}function a(t){return t===h||u(t)}function s(t){return 1===t?100:2===t?80:3===t?50:0}Object.defineProperty(e,"__esModule",{value:!0}),e.judgeTimeWith=i,e.timegate=o,e.isBad=u,e.breaksCombo=a,e.weight=s;var c=n(7),f=r(c),l=0;e.UNJUDGED=l;var h=-1;e.MISSED=h;var p=[{value:1,timegate:.02,endTimegate:.04},{value:2,timegate:.05,endTimegate:.1},{value:3,timegate:.1,endTimegate:.2},{value:4,timegate:.2,endTimegate:.2}];e.JUDGMENTS=p;var d=i(f["default"].property("timegate"));e.judgeTime=d;var v=i(f["default"].property("endTimegate"));e.judgeEndTime=v},42:function(t,e){function n(){function t(e){return t.validate(e),e}var e=[].slice.call(arguments);return t.validate=function(t){for(var n=0;n<e.length;n++)r(e[n],t)},t}function r(t,e){if(t===Number&&(t="number"),t===String&&(t="string"),"string"==typeof t){if(typeof e!==t)throw new Error("should be a "+t)}else if("function"==typeof t){if("function"==typeof t.validate)t.validate(e);else if(!(e instanceof t))throw new Error("should be an instance of "+t)}else{if("object"!=typeof t)throw new Error("invalid schema");if(!e)throw new Error("should be an object");i(t,e)}}function i(t,e){for(var n in t){if(!(n in e))throw new Error('missing property: "'+n+'"');try{r(t[n],e[n])}catch(i){throw new Error('error in property "'+n+'": '+i.message)}}}t.exports=n,n.maybe=function(t){function e(t){return e.validate(t),t}return e.validate=function(e){null!==e&&void 0!==e&&r(t,e)},e}},43:function(t,e,n){(function(e){"use strict";var n=function(t,n,r,i,o,u,a,s){if("production"!==e.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!t){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[r,i,o,u,a,s],l=0;c=new Error(n.replace(/%s/g,function(){return f[l++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};t.exports=n}).call(e,n(5))},46:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(133),o=r(i),u=function(t){return function(e){return null!==e.progress?t(e):""}},a=u(function(t){return(0,o["default"])(t.current)+" / "+(0,o["default"])(t.total)});e.BYTES_FORMATTER=a;var s=u(function(t){return(t.current/t.total*100).toFixed(1)+"%"});e.PERCENTAGE_FORMATTER=s;var c=u(function(t){return t.extra+""});e.EXTRA_FORMATTER=c},47:function(t,e,n){function r(t){this._segments=t.map(i)}var i=n(181);t.exports=r;var o=function(t){return t.t},u=function(t){return t.x};r.prototype._reached=function(t,e,n){if(t>=this._segments.length)return!1;var r=this._segments[t],i=e(r);return r.inclusive?n>=i:n>i},r.prototype._segmentAt=function(t,e){for(var n=0;n<this._segments.length;n++)if(!this._reached(n+1,t,e))return this._segments[n]},r.prototype.segmentAtX=function(t){return this._segmentAt(u,t)},r.prototype.segmentAtT=function(t){return this._segmentAt(o,t)},r.prototype.t=function(t){var e=this.segmentAtX(t);return e.t+(t-e.x)/(e.dx||1)},r.prototype.x=function(t){var e=this.segmentAtT(t);return e.x+(t-e.t)*e.dx},r.prototype.dx=function(t){var e=this.segmentAtT(t);return e.dx}},55:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},56:function(t,e){"use strict";function n(t){return{as:function(e){return new Promise(function(n,r){var i=new FileReader;switch(i.onload=function(){n(i.result)},i.onerror=function(){r(new Error("Unable to read from Blob"))},e){case"arraybuffer":i.readAsArrayBuffer(t);break;case"text":i.readAsText(t)}})}}}Object.defineProperty(e,"__esModule",{value:!0}),e.readBlob=n,e["default"]=n},57:function(t,e,n){e.Reader=n(179),e.Compiler=n(175),e.BMSChart=n(111),e.BMSHeaders=n(112),e.BMSObjects=n(113),e.Speedcore=n(47),e.TimeSignatures=n(114),e.Notes=n(177),e.Timing=n(182),e.SongInfo=n(180),e.Keysounds=n(284),e.Positioning=n(285),e.Spacing=n(286)},58:function(t,e,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,n){if(t&&c(t)&&t instanceof r)return t;var i=new r;return i.parse(t,e,n),i}function o(t){return s(t)&&(t=i(t)),t instanceof r?t.format():r.prototype.format.call(t)}function u(t,e){return i(t,!1,!0).resolve(e)}function a(t,e){return t?i(t,!1,!0).resolveObject(e):e}function s(t){return"string"==typeof t}function c(t){return"object"==typeof t&&null!==t}function f(t){return null===t}function l(t){return null==t}var h=n(326);e.parse=i,e.resolve=u,e.resolveObject=a,e.format=o,e.Url=r;var p=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,v=["<",">",'"',"`"," ","\r","\n","	"],g=["{","}","|","\\","^","`"].concat(v),y=["'"].concat(g),m=["%","/","?",";","#"].concat(y),b=["/","?","#"],_=255,w=/^[a-z0-9A-Z_-]{0,63}$/,x=/^([a-z0-9A-Z_-]{0,63})(.*)$/,S={javascript:!0,"javascript:":!0},E={javascript:!0,"javascript:":!0},k={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=n(507);r.prototype.parse=function(t,e,n){if(!s(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t;r=r.trim();var i=p.exec(r);if(i){i=i[0];var o=i.toLowerCase();this.protocol=o,r=r.substr(i.length)}if(n||i||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var u="//"===r.substr(0,2);!u||i&&E[i]||(r=r.substr(2),this.slashes=!0)}if(!E[i]&&(u||i&&!k[i])){for(var a=-1,c=0;c<b.length;c++){var f=r.indexOf(b[c]);-1!==f&&(-1===a||a>f)&&(a=f)}var l,d;d=-1===a?r.lastIndexOf("@"):r.lastIndexOf("@",a),-1!==d&&(l=r.slice(0,d),r=r.slice(d+1),this.auth=decodeURIComponent(l)),a=-1;for(var c=0;c<m.length;c++){var f=r.indexOf(m[c]);-1!==f&&(-1===a||a>f)&&(a=f)}-1===a&&(a=r.length),this.host=r.slice(0,a),r=r.slice(a),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var g=this.hostname.split(/\./),c=0,O=g.length;O>c;c++){var j=g[c];if(j&&!j.match(w)){for(var I="",M=0,P=j.length;P>M;M++)I+=j.charCodeAt(M)>127?"x":j[M];if(!I.match(w)){var B=g.slice(0,c),T=g.slice(c+1),C=j.match(x);C&&(B.push(C[1]),T.unshift(C[2])),T.length&&(r="/"+T.join(".")+r),this.hostname=B.join(".");break}}}if(this.hostname.length>_?this.hostname="":this.hostname=this.hostname.toLowerCase(),!v){for(var D=this.hostname.split("."),L=[],c=0;c<D.length;++c){var R=D[c];L.push(R.match(/[^A-Za-z0-9_-]/)?"xn--"+h.encode(R):R)}this.hostname=L.join(".")}var N=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+N,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!S[o])for(var c=0,O=y.length;O>c;c++){var F=y[c],z=encodeURIComponent(F);z===F&&(z=escape(F)),r=r.split(F).join(z)}var G=r.indexOf("#");-1!==G&&(this.hash=r.substr(G),r=r.slice(0,G));var W=r.indexOf("?");if(-1!==W?(this.search=r.substr(W),this.query=r.substr(W+1),e&&(this.query=A.parse(this.query)),r=r.slice(0,W)):e&&(this.search="",this.query={}),r&&(this.pathname=r),k[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var N=this.pathname||"",R=this.search||"";this.path=N+R}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&c(this.query)&&Object.keys(this.query).length&&(o=A.stringify(this.query));var u=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||k[e])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),u&&"?"!==u.charAt(0)&&(u="?"+u),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),u=u.replace("#","%23"),e+i+n+u+r},r.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(s(t)){var e=new r;e.parse(t,!1,!0),t=e}var n=new r;if(Object.keys(this).forEach(function(t){
n[t]=this[t]},this),n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(n[e]=t[e])}),k[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(t.protocol&&t.protocol!==n.protocol){if(!k[t.protocol])return Object.keys(t).forEach(function(e){n[e]=t[e]}),n.href=n.format(),n;if(n.protocol=t.protocol,t.host||E[t.protocol])n.pathname=t.pathname;else{for(var i=(t.pathname||"").split("/");i.length&&!(t.host=i.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var o=n.pathname||"",u=n.search||"";n.path=o+u}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var a=n.pathname&&"/"===n.pathname.charAt(0),c=t.host||t.pathname&&"/"===t.pathname.charAt(0),h=c||a||n.host&&t.pathname,p=h,d=n.pathname&&n.pathname.split("/")||[],i=t.pathname&&t.pathname.split("/")||[],v=n.protocol&&!k[n.protocol];if(v&&(n.hostname="",n.port=null,n.host&&(""===d[0]?d[0]=n.host:d.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===i[0]?i[0]=t.host:i.unshift(t.host)),t.host=null),h=h&&(""===i[0]||""===d[0])),c)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,d=i;else if(i.length)d||(d=[]),d.pop(),d=d.concat(i),n.search=t.search,n.query=t.query;else if(!l(t.search)){if(v){n.hostname=n.host=d.shift();var g=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return n.search=t.search,n.query=t.query,f(n.pathname)&&f(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!d.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var y=d.slice(-1)[0],m=(n.host||t.host)&&("."===y||".."===y)||""===y,b=0,_=d.length;_>=0;_--)y=d[_],"."==y?d.splice(_,1):".."===y?(d.splice(_,1),b++):b&&(d.splice(_,1),b--);if(!h&&!p)for(;b--;b)d.unshift("..");!h||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),m&&"/"!==d.join("/").substr(-1)&&d.push("");var w=""===d[0]||d[0]&&"/"===d[0].charAt(0);if(v){n.hostname=n.host=w?"":d.length?d.shift():"";var g=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return h=h||n.host&&d.length,h&&!w&&d.unshift(""),d.length?n.pathname=d.join("/"):(n.pathname=null,n.path=null),f(n.pathname)&&f(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=d.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},60:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(324),o=r(i),u=void 0,a=0;window.performance&&"function"==typeof window.performance.now?e.now=u=function(){return window.performance.now()}:e.now=u=function(){return Date.now()},u.synchronize=function(t){function e(t){a=t+Date.now()-u()}function n(t,n){t?console.error("Cannot synchronize time!",t):(e(n),console.log("Synchronized. Offset = "+a))}(0,o["default"])(t,n,e)},u["synchronized"]=function(){var t=a;return function(){return u()+t}},e.now=u,e["default"]=u},72:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){return"probably"===p.canPlayType(t)}function u(){var t=arguments.length<=0||void 0===arguments[0]?l["default"]:arguments[0],e=t.createGain(),n=t.createOscillator();n.frequency.value=440,n.start(t.currentTime+.1),n.stop(t.currentTime+.1),e.connect(t.destination),e.disconnect()}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.canPlay=o,e.unmuteAudio=u;var s=n(56),c=r(s),f=n(119),l=r(f),h=.001;e.FADE_LENGTH=h;var p=document.createElement("audio"),d=function(){function t(e){i(this,t),this._audioContext=e||l["default"],this._samples=[],this._groups=[],this._instances=new Set,this._destination=this._audioContext.destination}return a(t,[{key:"unmute",value:function(){u(this._audioContext)}},{key:"destroy",value:function(){if(!this._destroyed){this._destroyed=!0;var t=!0,e=!1,n=void 0;try{for(var r,i=this._samples[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;o.destroy()}}catch(u){e=!0,n=u}finally{try{!t&&i["return"]&&i["return"]()}finally{if(e)throw n}}var a=!0,s=!1,c=void 0;try{for(var f,l=this._instances[Symbol.iterator]();!(a=(f=l.next()).done);a=!0){var h=f.value;h.destroy()}}catch(u){s=!0,c=u}finally{try{!a&&l["return"]&&l["return"]()}finally{if(s)throw c}}this._samples=null,this._instances=null}}},{key:"sample",value:function(t){var e=this;return this._coerceToArrayBuffer(t).then(function(t){return e._decodeAudio(t)}).then(function(t){if(e._destroyed)throw new Error("SamplingMaster already destroyed!");var n=new g(e,t);return e._samples.push(n),n})}},{key:"group",value:function e(t){var e=new v(this,t);return this._groups.push(e),e}},{key:"_coerceToArrayBuffer",value:function(t){return t instanceof ArrayBuffer?Promise.resolve(t):(0,c["default"])(t).as("arraybuffer")}},{key:"_decodeAudio",value:function(t){var e=this;return new Promise(function(n,r){e.audioContext.decodeAudioData(t,function(t){n(t)},function(t){r("Unable to decode audio: "+t)})})}},{key:"_startPlaying",value:function(t){this._instances.add(t)}},{key:"_stoppedPlaying",value:function(t){this._instances["delete"](t)}},{key:"audioContext",get:function(){return this._audioContext}},{key:"destination",get:function(){return this._destination}}]),t}();e.SamplingMaster=d;var v=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=n.volume;i(this,t),this._master=e,this._gain=this._master.audioContext.createGain(),null!=r&&(this._gain.gain.value=r),this._gain.connect(this._master.destination)}return a(t,[{key:"destroy",value:function(){this._gain.disconnect(),this._gain=null}},{key:"destination",get:function(){return this._gain}}]),t}(),g=function(){function t(e,n){i(this,t),this._master=e,this._buffer=n}return a(t,[{key:"play",value:function(t,e){return new y(this._master,this._buffer,t,e)}},{key:"destroy",value:function(){this._master=null,this._buffer=null}}]),t}(),y=function(){function t(e,n,r){var o=this,u=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];i(this,t),r=r||0,this._master=e;var a=e.audioContext,s=a.createBufferSource();s.buffer=n,s.onended=function(){return o.stop()};var c=a.createGain();s.connect(c);var f=u.node||u.group&&u.group.destination||e.destination;c.connect(f),this._source=s,this._gain=this.TEST_node=c;var l=r?Math.max(0,a.currentTime+r):0,p=u.start||0,d=p>0,v=!1;if(d&&c.gain.setValueAtTime(0,0),void 0!==u.end){var g=Math.max(u.end-p,0);s.start(l,p,g+h),v=a.currentTime+r+g}else s.start(l,p);d&&(c.gain.setValueAtTime(0,a.currentTime+r),c.gain.linearRampToValueAtTime(1,a.currentTime+r+h)),v!==!1&&(c.gain.setValueAtTime(1,v),c.gain.linearRampToValueAtTime(0,v+h)),this._master._startPlaying(this)}return a(t,[{key:"stop",value:function(){this._source&&(this._source.stop(0),this._source.disconnect(),this._gain.disconnect(),this._source=null,this._gain=null,this._master._stoppedPlaying(this),this.onstop&&this.onstop())}},{key:"bad",value:function(){this._source&&(this._source.playbackRate.value=Math.random()<.5?Math.pow(2,1/12):Math.pow(2,-1/12))}},{key:"destroy",value:function(){this.stop()}}]),t}();e["default"]=d},74:function(t,e,n){"use strict";function r(t,e){if(!e)return function(){};var n=0;return e.report(0,t),function(r){return e.report(++n,t,r)}}function i(t,e){return t?Promise.resolve(e).tap(function(e){e&&e.byteLength?(t.formatter=s.BYTES_FORMATTER,t.report(e.byteLength,e.byteLength)):t.report(1,1)}):e}function o(t,e){var n=0,r=0;return function(){return t.report(n,++r),Promise.resolve(e.apply(this,arguments)).tap(function(){return t.report(++n,r)})}}function u(t,e){return t.watch(function(){return e.report(t.current,t.total,t.extra)})}function a(t){function e(){i&&t.report(i.current,i.total,i.extra),r.length>0&&(!i||i.progress>=1)&&n(r.shift())}function n(t){i!==t&&(o&&(o(),o=null),i=t,i&&(o=i.watch(e)))}var r=[],i=void 0,o=void 0;return{add:function(t){r.push(t),e()}}}Object.defineProperty(e,"__esModule",{value:!0}),e.fixed=r,e.atomic=i,e.wrapPromise=o,e.bind=u,e.simultaneous=a;var s=n(46)},76:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),n(323);var i=n(1),o=r(i),u=n(18),a=r(u);e["default"]=o["default"].createClass({displayName:"Scene",render:function(){return o["default"].createElement("div",{className:(0,a["default"])("Scene",this.props.className)},this.props.children)}}),t.exports=e["default"]},83:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){return"1"===l["default"].BEMUSE_SHOW_OPTIONS}function o(){return"1"===l["default"].BEMUSE_BENCHMARK}function u(){return"1"===l["default"].BEMUSE_NO_FULLSCREEN}function a(){return"1"===l["default"].BEMUSE_SHOW_ABOUT}function s(){return"1"===l["default"].BEMUSE_SHOW_MODE_SELECT}function c(){return"1"===l["default"].BEMUSE_TITLE_DISPLAY}Object.defineProperty(e,"__esModule",{value:!0}),e.shouldShowOptions=i,e.shouldEnableBenchmark=o,e.shouldDisableFullScreen=u,e.shouldShowAbout=a,e.shouldShowModeSelect=s,e.isTitleDisplayMode=c;var f=n(110),l=r(f)},85:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=document.querySelector("main"),t.exports=e["default"]},87:function(t,e){function n(t){var e=!1;return{when:function(n,r){if(e)return this;var i=t.match(n);return i&&(e=!0,r(i)),this},"else":function(t){return e?this:void t()}}}t.exports=n},88:function(t,e,n){(function(t,r){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function i(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(n){return!1}}function o(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function t(e){return this instanceof t?(t.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof e?u(this,e):"string"==typeof e?a(this,e,arguments.length>1?arguments[1]:"utf8"):s(this,e)):arguments.length>1?new t(e,arguments[1]):new t(e)}function u(e,n){if(e=v(e,0>n?0:0|g(n)),!t.TYPED_ARRAY_SUPPORT)for(var r=0;n>r;r++)e[r]=0;return e}function a(t,e,n){("string"!=typeof n||""===n)&&(n="utf8");var r=0|m(e,n);return t=v(t,r),t.write(e,n),t}function s(e,n){if(t.isBuffer(n))return c(e,n);if(K(n))return f(e,n);if(null==n)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(n.buffer instanceof ArrayBuffer)return l(e,n);if(n instanceof ArrayBuffer)return h(e,n)}return n.length?p(e,n):d(e,n)}function c(t,e){var n=0|g(e.length);return t=v(t,n),e.copy(t,0,0,n),t}function f(t,e){var n=0|g(e.length);t=v(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function l(t,e){var n=0|g(e.length);t=v(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function h(e,n){return t.TYPED_ARRAY_SUPPORT?(n.byteLength,e=t._augment(new Uint8Array(n))):e=l(e,new Uint8Array(n)),e}function p(t,e){var n=0|g(e.length);t=v(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function d(t,e){var n,r=0;"Buffer"===e.type&&K(e.data)&&(n=e.data,r=0|g(n.length)),t=v(t,r);for(var i=0;r>i;i+=1)t[i]=255&n[i];return t}function v(e,n){t.TYPED_ARRAY_SUPPORT?(e=t._augment(new Uint8Array(n)),e.__proto__=t.prototype):(e.length=n,e._isBuffer=!0);var r=0!==n&&n<=t.poolSize>>>1;return r&&(e.parent=X),e}function g(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function y(e,n){if(!(this instanceof y))return new y(e,n);var r=new t(e,n);return delete r.parent,r}function m(t,e){"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(t).length;default:if(r)return W(t).length;e=(""+e).toLowerCase(),r=!0}}function b(t,e,n){var r=!1;if(e=0|e,n=void 0===n||n===1/0?this.length:0|n,t||(t="utf8"),0>e&&(e=0),n>this.length&&(n=this.length),e>=n)return"";for(;;)switch(t){case"hex":return P(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return I(this,e,n);case"binary":return M(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function _(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var u=0;r>u;u++){var a=parseInt(e.substr(2*u,2),16);if(isNaN(a))throw new Error("Invalid hex string");t[n+u]=a}return u}function w(t,e,n,r){return q(W(e,t.length-n),t,n,r)}function x(t,e,n,r){return q(Y(e),t,n,r)}function S(t,e,n,r){return x(t,e,n,r)}function E(t,e,n,r){return q(V(e),t,n,r)}function k(t,e,n,r){return q($(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?H.fromByteArray(t):H.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;n>i;){var o=t[i],u=null,a=o>239?4:o>223?3:o>191?2:1;if(n>=i+a){var s,c,f,l;switch(a){case 1:128>o&&(u=o);break;case 2:s=t[i+1],128===(192&s)&&(l=(31&o)<<6|63&s,l>127&&(u=l));break;case 3:s=t[i+1],c=t[i+2],128===(192&s)&&128===(192&c)&&(l=(15&o)<<12|(63&s)<<6|63&c,l>2047&&(55296>l||l>57343)&&(u=l));break;case 4:s=t[i+1],c=t[i+2],f=t[i+3],128===(192&s)&&128===(192&c)&&128===(192&f)&&(l=(15&o)<<18|(63&s)<<12|(63&c)<<6|63&f,l>65535&&1114112>l&&(u=l))}}null===u?(u=65533,a=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=a}return j(r)}function j(t){var e=t.length;if(Z>=e)return String.fromCharCode.apply(String,t);for(var n="",r=0;e>r;)n+=String.fromCharCode.apply(String,t.slice(r,r+=Z));return n}function I(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(127&t[i]);return r}function M(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(t[i]);return r}function P(t,e,n){var r=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=e;n>o;o++)i+=G(t[o]);return i}function B(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function T(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function C(e,n,r,i,o,u){if(!t.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(n>o||u>n)throw new RangeError("value is out of bounds");if(r+i>e.length)throw new RangeError("index out of range")}function D(t,e,n,r){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);o>i;i++)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(t,e,n,r){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);o>i;i++)t[n+i]=e>>>8*(r?i:3-i)&255}function R(t,e,n,r,i,o){if(e>i||o>e)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function N(t,e,n,r,i){return i||R(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(t,e,n,r,23,4),n+4}function U(t,e,n,r,i){return i||R(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(t,e,n,r,52,8),n+8}function F(t){if(t=z(t).replace(tt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function z(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function G(t){return 16>t?"0"+t.toString(16):t.toString(16)}function W(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],u=0;r>u;u++){if(n=t.charCodeAt(u),n>55295&&57344>n){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(u+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,128>n){if((e-=1)<0)break;o.push(n)}else if(2048>n){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Y(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function $(t,e){for(var n,r,i,o=[],u=0;u<t.length&&!((e-=2)<0);u++)n=t.charCodeAt(u),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function V(t){return H.toByteArray(F(t))}function q(t,e,n,r){for(var i=0;r>i&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}var H=n(287),J=n(295),K=n(288);e.Buffer=t,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50,t.poolSize=8192;var X={};t.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:i(),t.TYPED_ARRAY_SUPPORT?(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array):(t.prototype.length=void 0,t.prototype.parent=void 0),t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,i=n.length,o=0,u=Math.min(r,i);u>o&&e[o]===n[o];)++o;return o!==u&&(r=e[o],i=n[o]),i>r?-1:r>i?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!K(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new t(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;r++)n+=e[r].length;var i=new t(n),o=0;for(r=0;r<e.length;r++){var u=e[r];u.copy(i,o),o+=u.length}return i},t.byteLength=m,t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):b.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===t.compare(this,e)},t.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:t.compare(this,e)},t.prototype.indexOf=function(e,n){function r(t,e,n){for(var r=-1,i=0;n+i<t.length;i++)if(t[n+i]===e[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===e.length)return n+r}else r=-1;return-1}if(n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n>>=0,0===this.length)return-1;if(n>=this.length)return-1;if(0>n&&(n=Math.max(this.length+n,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,n);if(t.isBuffer(e))return r(this,e,n);if("number"==typeof e)return t.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,n):r(this,[e],n);throw new TypeError("val must be string, number or Buffer")},t.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},t.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},t.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var i=r;r=e,e=0|n,n=i}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(0>n||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var u=!1;;)switch(r){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return x(this,t,e,n);case"binary":return S(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(u)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),u=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;t.prototype.slice=function(e,n){var r=this.length;e=~~e,n=void 0===n?r:~~n,0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),0>n?(n+=r,0>n&&(n=0)):n>r&&(n=r),e>n&&(n=e);var i;if(t.TYPED_ARRAY_SUPPORT)i=t._augment(this.subarray(e,n));else{var o=n-e;i=new t(o,void 0);for(var u=0;o>u;u++)i[u]=this[u+e]}return i.length&&(i.parent=this.parent||this),i},t.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||T(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},t.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||T(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},t.prototype.readUInt8=function(t,e){return e||T(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||T(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||T(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||T(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||T(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||T(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},t.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||T(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},t.prototype.readInt8=function(t,e){return e||T(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},t.prototype.readInt16LE=function(t,e){e||T(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(t,e){e||T(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(t,e){return e||T(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||T(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||T(t,4,this.length),J.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||T(t,4,this.length),J.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||T(t,8,this.length),J.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||T(t,8,this.length),J.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||C(this,t,e,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},t.prototype.writeUIntBE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||C(this,t,e,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},t.prototype.writeUInt8=function(e,n,r){return e=+e,n=0|n,r||C(this,e,n,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},t.prototype.writeUInt16LE=function(e,n,r){return e=+e,n=0|n,r||C(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):D(this,e,n,!0),n+2},t.prototype.writeUInt16BE=function(e,n,r){return e=+e,n=0|n,r||C(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):D(this,e,n,!1),n+2},t.prototype.writeUInt32LE=function(e,n,r){return e=+e,n=0|n,r||C(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):L(this,e,n,!0),n+4},t.prototype.writeUInt32BE=function(e,n,r){return e=+e,n=0|n,r||C(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):L(this,e,n,!1),n+4},t.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);C(this,t,e,n,i-1,-i)}var o=0,u=1,a=0>t?1:0;for(this[e]=255&t;++o<n&&(u*=256);)this[e+o]=(t/u>>0)-a&255;return e+n},t.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);C(this,t,e,n,i-1,-i)}var o=n-1,u=1,a=0>t?1:0;for(this[e+o]=255&t;--o>=0&&(u*=256);)this[e+o]=(t/u>>0)-a&255;return e+n},t.prototype.writeInt8=function(e,n,r){return e=+e,n=0|n,r||C(this,e,n,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[n]=255&e,n+1},t.prototype.writeInt16LE=function(e,n,r){return e=+e,n=0|n,r||C(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):D(this,e,n,!0),n+2},t.prototype.writeInt16BE=function(e,n,r){return e=+e,n=0|n,r||C(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):D(this,e,n,!1),n+2},t.prototype.writeInt32LE=function(e,n,r){return e=+e,n=0|n,r||C(this,e,n,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):L(this,e,n,!0),n+4},t.prototype.writeInt32BE=function(e,n,r){return e=+e,n=0|n,r||C(this,e,n,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):L(this,e,n,!1),n+4},t.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},t.prototype.copy=function(e,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&r>i&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var o,u=i-r;if(this===e&&n>r&&i>n)for(o=u-1;o>=0;o--)e[o+n]=this[o+r];else if(1e3>u||!t.TYPED_ARRAY_SUPPORT)for(o=0;u>o;o++)e[o+n]=this[o+r];else e._set(this.subarray(r,r+u),n);return u},t.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),e>n)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof t)for(r=e;n>r;r++)this[r]=t;else{var i=W(t.toString()),o=i.length;for(r=e;n>r;r++)this[r]=i[r%o]}return this}},t.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(t.TYPED_ARRAY_SUPPORT)return new t(this).buffer;for(var e=new Uint8Array(this.length),n=0,r=e.length;r>n;n+=1)e[n]=this[n];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Q=t.prototype;t._augment=function(e){return e.constructor=t,e._isBuffer=!0,e._set=e.set,e.get=Q.get,e.set=Q.set,e.write=Q.write,e.toString=Q.toString,e.toLocaleString=Q.toString,e.toJSON=Q.toJSON,e.equals=Q.equals,e.compare=Q.compare,e.indexOf=Q.indexOf,e.copy=Q.copy,e.slice=Q.slice,e.readUIntLE=Q.readUIntLE,e.readUIntBE=Q.readUIntBE,e.readUInt8=Q.readUInt8,e.readUInt16LE=Q.readUInt16LE,e.readUInt16BE=Q.readUInt16BE,e.readUInt32LE=Q.readUInt32LE,e.readUInt32BE=Q.readUInt32BE,e.readIntLE=Q.readIntLE,e.readIntBE=Q.readIntBE,e.readInt8=Q.readInt8,e.readInt16LE=Q.readInt16LE,e.readInt16BE=Q.readInt16BE,e.readInt32LE=Q.readInt32LE,e.readInt32BE=Q.readInt32BE,e.readFloatLE=Q.readFloatLE,e.readFloatBE=Q.readFloatBE,e.readDoubleLE=Q.readDoubleLE,e.readDoubleBE=Q.readDoubleBE,e.writeUInt8=Q.writeUInt8,e.writeUIntLE=Q.writeUIntLE,e.writeUIntBE=Q.writeUIntBE,e.writeUInt16LE=Q.writeUInt16LE,e.writeUInt16BE=Q.writeUInt16BE,e.writeUInt32LE=Q.writeUInt32LE,e.writeUInt32BE=Q.writeUInt32BE,e.writeIntLE=Q.writeIntLE,e.writeIntBE=Q.writeIntBE,e.writeInt8=Q.writeInt8,e.writeInt16LE=Q.writeInt16LE,e.writeInt16BE=Q.writeInt16BE,e.writeInt32LE=Q.writeInt32LE,e.writeInt32BE=Q.writeInt32BE,e.writeFloatLE=Q.writeFloatLE,e.writeFloatBE=Q.writeFloatBE,e.writeDoubleLE=Q.writeDoubleLE,e.writeDoubleBE=Q.writeDoubleBE,e.fill=Q.fill,e.inspect=Q.inspect,e.toArrayBuffer=Q.toArrayBuffer,e};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,n(88).Buffer,function(){return this}())},90:function(t,e,n){function r(t){return null==t?"":t+""}function i(t,e,n){var r=typeof t;return"function"==r?void 0===e?t:x(t,e,n):null==t?b:"object"==r?a(t):void 0===e?_(t):s(t,e)}function o(t,e,n){if(null!=t){void 0!==n&&n in v(t)&&(e=[n]);for(var r=0,i=e.length;null!=t&&i>r;)t=t[e[r++]];return r&&r==i?t:void 0}}function u(t,e,n){var r=e.length,i=r,o=!n;if(null==t)return!i;for(t=v(t);r--;){var u=e[r];if(o&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++r<i;){u=e[r];var a=u[0],s=t[a],c=u[1];if(o&&u[2]){if(void 0===s&&!(a in t))return!1}else{var f=n?n(s,c,a):void 0;if(!(void 0===f?w(c,s,n,!0):f))return!1}}return!0}function a(t){var e=h(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null==t?!1:t[n]===r&&(void 0!==r||n in v(t))}}return function(t){return u(t,e)}}function s(t,e){var n=S(t),r=p(t)&&d(e),i=t+"";return t=g(t),function(u){if(null==u)return!1;var a=i;if(u=v(u),(n||!r)&&!(a in u)){if(u=1==t.length?u:o(u,l(t,0,-1)),null==u)return!1;a=y(t),u=v(u)}return u[a]===e?void 0!==e||a in u:w(e,u[a],void 0,!0)}}function c(t){return function(e){return null==e?void 0:e[t]}}function f(t){var e=t+"";return t=g(t),function(n){return o(n,t,e)}}function l(t,e,n){var r=-1,i=t.length;e=null==e?0:+e||0,0>e&&(e=-e>i?0:i+e),n=void 0===n||n>i?i:+n||0,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}function h(t){for(var e=E(t),n=e.length;n--;)e[n][2]=d(e[n][1]);return e}function p(t,e){var n=typeof t;if("string"==n&&A.test(t)||"number"==n)return!0;if(S(t))return!1;var r=!k.test(t);return r||null!=e&&t in v(e)}function d(t){return t===t&&!m(t)}function v(t){return m(t)?t:Object(t)}function g(t){if(S(t))return t;var e=[];return r(t).replace(O,function(t,n,r,i){e.push(r?i.replace(j,"$1"):n||t)}),e}function y(t){var e=t?t.length:0;return e?t[e-1]:void 0}function m(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function b(t){return t}function _(t){return p(t)?c(t):f(t)}var w=n(193),x=n(91),S=n(21),E=n(204),k=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,A=/^\w*$/,O=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,j=/\\(\\)?/g;t.exports=i},91:function(t,e){function n(t,e,n){if("function"!=typeof t)return r;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,u){return t.call(e,n,r,i,o,u)}}return function(){return t.apply(e,arguments)}}function r(t){return t}t.exports=n},92:function(t,e){function n(t){return!!t&&"object"==typeof t}function r(t,e){var n=null==t?void 0:t[e];return u(n)?n:void 0}function i(t){return o(t)&&h.call(t)==a}function o(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function u(t){return null==t?!1:i(t)?p.test(f.call(t)):n(t)&&s.test(t)}var a="[object Function]",s=/^\[object .+?Constructor\]$/,c=Object.prototype,f=Function.prototype.toString,l=c.hasOwnProperty,h=c.toString,p=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},93:function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}function r(t){return null!=t&&u(f(t))}function i(t,e){return t="number"==typeof t||s.test(t)?+t:-1,e=null==e?c:e,t>-1&&t%1==0&&e>t}function o(t,e,n){if(!a(n))return!1;var o=typeof e;if("number"==o?r(n)&&i(e,n.length):"string"==o&&e in n){var u=n[e];return t===t?t===u:u!==u}return!1}function u(t){return"number"==typeof t&&t>-1&&t%1==0&&c>=t}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var s=/^\d+$/,c=9007199254740991,f=n("length");t.exports=o},105:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){var t=0,e=0,n=0,r=[],i=0,u=0;return{push:function(o){var a=(0,c["default"])();for(t+=o,e+=1,n=t/e,i+=o,r.push({delta:o,time:a});r[0]&&r[0].time<a-1e3;)i-=r.shift().delta;u=i/r.length},toString:function(){return o(n)+" / "+o(u)}}}function o(t){return t.toFixed(2)+"ms"}function u(){var t={},e={enabled:!0,stats:t,wrap:function(e,n){return function(){try{var r=(0,c["default"])();return n.apply(this,arguments)}finally{var o=(0,c["default"])(),u=t[e]||(t[e]=new i(e));u.push(o-r)}}},benchmark:function(t,e,n){e[n]=this.wrap(t,e[n])},toString:function(){var e=[];return Object.keys(t).forEach(function(n){e.push("- "+n+": "+t[n])}),e.join("\n")}},n=document.createElement("div");return n.setAttribute("style","position:fixed;top:10px;right:10px;z-index:99999"),document.body.appendChild(n),h["default"].render(h["default"].createElement(d["default"],{bench:e}),n),e}function a(){return{enabled:!1,wrap:function(t,e){return e}}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(60),c=r(s),f=n(83),l=n(1),h=r(l),p=n(274),d=r(p);e["default"]=window.BEMUSE_BENCHMARK=(0,f.shouldEnableBenchmark)()?new u:new a,t.exports=e["default"]},108:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){t&&t.parentNode===v["default"]&&v["default"].removeChild(t)}function u(t){return function(e){var n=l["default"].cloneElement(t,{scene:t}),r=p["default"].render(n,e);return{teardown:function(){return Promise["try"](function(){return r.teardown?r.teardown():void 0}).then(function(){p["default"].unmountComponentAtNode(e)})}}}}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(24),c=r(s),f=n(1),l=r(f),h=n(117),p=r(h),d=n(85),v=r(d),g=function(){function t(){i(this,t),this._transitioning=!1,this._stack=[]}return a(t,[{key:"display",value:function(t){return this._transitionTo(function(){return t})}},{key:"push",value:function(t){var e=this,n=this.currentScene;return this._transitionTo(function(){return e._stack.push(n),t})}},{key:"pop",value:function(){var t=this;return this._transitionTo(function(){return t._stack.pop()})}},{key:"_transitionTo",value:function(t){return(0,c["default"])(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._transitioning){e.next=2;break}throw new Error("Scene is transitioning!");case 2:if(e.prev=2,this._transitioning=!0,!this.currentSceneInstance){e.next=8;break}return e.next=7,Promise.resolve(this.currentSceneInstance.teardown());case 7:o(this.currentElement);case 8:n=t(),"function"!=typeof n&&(n=new u(n)),r=document.createElement("div"),r.className="scene-manager--scene",v["default"].appendChild(r),this.currentElement=r,this.currentScene=n,this.currentSceneInstance=n(r);case 16:return e.prev=16,this._transitioning=!1,e.finish(16);case 19:case"end":return e.stop()}},e,this,[[2,,16,19]])}).bind(this))}}]),t}();e.SceneManager=g;var y=new g;e.instance=y,e["default"]=y},109:function(t,e,n){"use strict";function r(t){return{as:function(e,n){return new Promise(function(r,o){var u=new XMLHttpRequest;u.open("GET",t,!0),u.responseType=e,u.onload=function(){200===+u.status?r(u.response):o(new Error("Unable to download "+t+": HTTP "+u.status))},u.onerror=function(){return o(new Error("Unable to download "+t))},n&&(n.formatter=i.BYTES_FORMATTER,u.onprogress=function(t){return n.report(t.loaded,t.total)}),u.send(null)})}}}Object.defineProperty(e,"__esModule",{value:!0}),e.download=r;var i=n(46);e["default"]=r},111:function(t,e,n){function r(){this.headers=new i,this.objects=new o,this.timeSignatures=new u}var i=n(112),o=n(113),u=n(114);t.exports=r,r.prototype.measureToBeat=function(t,e){return this.timeSignatures.measureToBeat(t,e)}},112:function(t,e){function n(){this._data={},this._dataAll={}}t.exports=n,n.prototype.each=function(t){for(var e in this._data)t(e,this._data[e])},n.prototype.get=function(t){return this._data[t.toLowerCase()]},n.prototype.getAll=function(t){return this._dataAll[t.toLowerCase()]},n.prototype.set=function(t,e){var n=t.toLowerCase();this._data[n]=e,(this._dataAll[n]||(this._dataAll[n]=[])).push(e)}},113:function(t,e){function n(){this._objects=[]}t.exports=n,n.prototype.add=function(t){if("01"!==t.channel)for(var e=0;e<this._objects.length;e++){var n=this._objects[e];if(n.channel===t.channel&&n.measure===t.measure&&n.fraction===t.fraction)return void(this._objects[e]=t)}this._objects.push(t)},n.prototype.all=function(){return this._objects.slice()},n.prototype.allSorted=function(){var t=this.all();return t.sort(function(t,e){return t.measure+t.fraction-(e.measure+e.fraction)}),t}},114:function(t,e){function n(){this._values={}}t.exports=n,n.prototype.set=function(t,e){this._values[t]=e},n.prototype.get=function(t){return this._values[t]||1},n.prototype.getBeats=function(t){return 4*this.get(t)},n.prototype.measureToBeat=function(t,e){for(var n=0,r=0;t>r;r++)n+=this.getBeats(r);return n+this.getBeats(t)*e}},117:function(t,e,n){"use strict";t.exports=n(513)},119:function(t,e,n){var r=n(186),i=r.AudioContext||r.webkitAudioContext;i&&(t.exports=new i)},120:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){var t=arguments.length<=0||void 0===arguments[0]?new m:arguments[0],e=arguments.length<=1||void 0===arguments[1]?window:arguments[1];return u(v["default"].fromBinder(function(n){var r=e.setInterval(function(){n(new v["default"].Next(t.update()))},16);return function(){return e.clearInterval(r)}}))}function u(t){return t.map(function(t){return Object.keys(t).filter(function(e){return t[e]})}).diff([],function(t,e){return p["default"].difference(e,t)}).flatMap(function(t){return v["default"].fromArray(t)})}function a(t){if(+t)return p["default"].capitalize((0,l["default"])(+t));var e=t.match(/^gamepad\.(\d+)\.axis\.(\d+)\.(\w+)/);if(e)return"Joy"+e[1]+" Axis"+e[2]+" ("+("positive"===e[3]?"+":"-")+")";var e=t.match(/^gamepad\.(\d+)\.button\.(\d+)/);if(e)return"Joy"+e[1]+" Btn"+e[2];var e=t.match(/^midi\.(.+)\.(\d+)\.(.+)$/);if(e){var n=e[3].split("."),r=e[1],i=b[r]||(b[r]=Object.keys(b).length+1),o="MIDI"+i+" Ch"+(+e[2]+1);if("note"===n[0]){var u=+n[1],a=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],s=a[u%12],c=Math.floor(u/12)-1;return o+" "+s+c}if("pitch"===n[0])return o+" Pitch"+("up"===n[1]?"+":"-");if("sustain"===n[0])return"Sustain";if("mod"===n[0])return"Mod"}return String(t).replace(/\./g," ")+"?"}function s(t,e,n){return t.addEventListener(e,n),function(){t.removeEventListener(e,n)}}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.key川=o,e._key川ForUpdate川=u,e.getName=a;var f=n(296),l=r(f),h=n(7),p=r(h),d=n(19),v=r(d),g=n(280),y=r(g),m=function(){function t(){var e=this,n=arguments.length<=0||void 0===arguments[0]?window:arguments[0],r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t);var o=(r.getMidi川||y["default"])();this._window=n,this._exclusive=!!r.exclusive,this._disposables=[s(n,"keydown",function(t){return e._handleKeyDown(t)}),s(n,"keyup",function(t){return e._handleKeyUp(t)}),o.onValue(function(t){return e._handleMIDIMessage(t)})],this._status={}}return c(t,[{key:"_handleKeyDown",value:function(t){this._status[""+t.which]=!0,this._exclusive&&t.preventDefault()}},{key:"_handleKeyUp",value:function(t){this._status[""+t.which]=!1}},{key:"_handleMIDIMessage",value:function(t){var e=this;if(t&&t.data){var n=t.data,r="midi."+t.target.id+"."+(15&t.data[0]),i=function(t){e._status[r+".note."+n[1]]=t};if(128===(240&n[0]))i(!1);else if(144===(240&n[0]))i(n[2]>0?!0:!1);else if(176===(240&n[0]))64===n[1]?this._status[r+".sustain"]=n[2]>=64:1===n[1]&&(this._status[r+".mod"]=n[2]>=16);else if(224===(240&n[0])){var o=n[1]|n[2]<<7;this._status[r+".pitch.up"]=o>=8448,this._status[r+".pitch.down"]=7936>o}}}},{key:"_updateGamepads",value:function(){var t=this._window.navigator,e=t.getGamepads?t.getGamepads():t.webkitGetGamepads?t.webkitGetGamepads():[];if(e)for(var n=0;n<e.length;n++){var r=e[n];r&&this._updateGamepad(r)}}},{key:"_updateGamepad",value:function(t){for(var e="gamepad."+t.index,n=0;n<t.buttons.length;n++){var r=t.buttons[n];this._status[e+".button."+n]=r&&r.value>=.5}for(var n=0;n<t.axes.length;n++){var i=t.axes[n];this._status[e+".axis."+n+".positive"]=i>=.01,this._status[e+".axis."+n+".negative"]=-.01>=i}}},{key:"update",value:function(){return this._updateGamepads(),this._status}},{key:"dispose",value:function e(){var t=!0,n=!1,r=void 0;try{for(var i,o=this._disposables[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var e=i.value;e()}}catch(u){n=!0,r=u}finally{try{!t&&o["return"]&&o["return"]()}finally{if(n)throw r}}}}]),t}();e.OmniInput=m,e["default"]=m;var b={}},121:function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t;
}},124:function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var u=o>=0?arguments[o]:t.cwd();if("string"!=typeof u)throw new TypeError("Arguments to path.resolve must be strings");u&&(e=u+"/"+e,i="/"===u.charAt(0))}return e=n(r(e.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),o="/"===u(t,-1);return t=n(r(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),u=Math.min(i.length,o.length),a=u,s=0;u>s;s++)if(i[s]!==o[s]){a=s;break}for(var c=[],s=a;s<i.length;s++)c.push("..");return c=c.concat(o.slice(a)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return o(t)[3]};var u="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return 0>e&&(e=t.length+e),t.substr(e,n)}}).call(e,n(5))},127:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(42),o=r(i),u=new o["default"]({beat:Number,time:Number,position:Number});e.GameEvent=u,e["default"]=u},128:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var u=i.value;if("6"===u.column||"7"===u.column)return"7K"}}catch(a){n=!0,r=a}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw r}}return"5K"}function u(t,e){var n=l["default"].max(t.map(function(t){return t.endBeat||t.beat})),r=[0],i=0,o=0;do i+=e.timeSignatures.getBeats(o),o+=1,r.push(i);while(n>=i);return r}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(57),c=r(s),f=n(7),l=r(f),h=n(43),p=r(h),d=n(127),v=r(d),g=n(275),y=r(g),m=function(){function t(e){var n=this,r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t);var o=e.notes,u=e.timing,a=e.keysounds,s=e.songInfo,c=e.positioning,f=e.spacing,l=e.barLines,h=e.images;(0,p["default"])(o,'Expected "data.notes"'),(0,p["default"])(u,'Expected "data.timing"'),(0,p["default"])(a,'Expected "data.keysounds"'),(0,p["default"])(s,'Expected "data.songInfo"'),(0,p["default"])(c,'Expected "data.positioning"'),(0,p["default"])(f,'Expected "data.spacing"'),(0,p["default"])(l,'Expected "data.barLines"'),o=this._preTransform(o,r),this._timing=u,this._positioning=c,this._spacing=f,this._keysounds=a,this._duration=0,this._notes=this._generatePlayableNotesFromBMS(o),this._autos=this._generateAutoKeysoundEventsFromBMS(o),this._barLines=this._generateBarLineEvents(l),this._samples=this._generateKeysoundFiles(a),this._infos=new Map(this._notes.map(function(t){return[t,n._getNoteInfo(t)]})),this._songInfo=s,this._images=h}return a(t,[{key:"info",value:function(t){return this._infos.get(t)}},{key:"beatToSeconds",value:function(t){return this._timing.beatToSeconds(t)}},{key:"beatToPosition",value:function(t){return this._positioning.position(t)}},{key:"secondsToBeat",value:function(t){return this._timing.secondsToBeat(t)}},{key:"secondsToPosition",value:function(t){return this.beatToPosition(this.secondsToBeat(t))}},{key:"bpmAtBeat",value:function(t){return this._timing.bpmAtBeat(t)}},{key:"scrollSpeedAtBeat",value:function(t){return this._positioning.speed(t)}},{key:"spacingAtBeat",value:function(t){return this._spacing.factor(t)}},{key:"_preTransform",value:function(t,e){var n=l["default"].chain(t),r=o(t);return"off"===e.scratch&&(n=n.map(function(t){return t.column&&"SC"===t.column?Object.assign({},t,{column:null}):t})),"5K"===r&&!function(){var t=["1","2","3","4","5","6","7"],r=function(e){return function(n){if(n.column){var r=t.indexOf(n.column);if(r>-1){var i=r+e;(0,p["default"])(i<t.length,"Weird. Columns must not shift beyond available column");var o=t[i];return Object.assign({},n,{column:o})}}return n}};"off"===e.scratch?n=n.map(r(1)):"right"===e.scratch&&(n=n.map(r(2)))}(),n.value()}},{key:"_generatePlayableNotesFromBMS",value:function(t){var e=this,n=1;return t.filter(function(t){return t.column}).map(function(t){var r=e._generateEvent(t.beat);return r.id=n++,r.column=t.column,r.keysound=t.keysound,r.keysoundStart=t.keysoundStart,r.keysoundEnd=t.keysoundEnd,e._updateDuration(r),void 0!==t.endBeat?(r.end=e._generateEvent(t.endBeat),e._updateDuration(r.end)):r.end=void 0,new y["default"](r)})}},{key:"_updateDuration",value:function(t){t.time>this._duration&&(this._duration=t.time)}},{key:"_generateAutoKeysoundEventsFromBMS",value:function(t){var e=this;return t.filter(function(t){return!t.column}).map(function(t){var n=e._generateEvent(t.beat);return n.keysound=t.keysound,n.keysoundStart=t.keysoundStart,n.keysoundEnd=t.keysoundEnd,new v["default"](n)})}},{key:"_generateKeysoundFiles",value:function(t){for(var e=new Set,n=[this.notes,this.autos],r=0;r<n.length;r++){var i=n[r],o=!0,u=!1,a=void 0;try{for(var s,c=i[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var f=s.value,l=t.get(f.keysound);l&&e.add(l)}}catch(h){u=!0,a=h}finally{try{!o&&c["return"]&&c["return"]()}finally{if(u)throw a}}}return Array.from(e)}},{key:"_generateBarLineEvents",value:function(t){var e=this;return t.map(function(t){return e._generateEvent(t)})}},{key:"_generateEvent",value:function(t){return{beat:t,time:this.beatToSeconds(t),position:this.beatToPosition(t)}}},{key:"_getNoteInfo",value:function(t){var e=t.end?2:1;return{combos:e}}},{key:"notes",get:function(){return this._notes}},{key:"autos",get:function(){return this._autos}},{key:"samples",get:function(){return this._samples}},{key:"keysounds",get:function(){return this._keysounds.all()}},{key:"barLines",get:function(){return this._barLines}},{key:"columns",get:function(){return["SC","1","2","3","4","5","6","7"]}},{key:"duration",get:function(){return this._duration}},{key:"songInfo",get:function(){return this._songInfo}},{key:"eyecatchImage",get:function(){return this._images&&this._images.eyecatch||"eyecatch_image.png"}},{key:"backgroundImage",get:function(){return this._images&&this._images.background||"back_image.png"}}],[{key:"fromBMSChart",value:function(e,n){var r=c["default"].Notes.fromBMSChart(e).all(),i=c["default"].Timing.fromBMSChart(e),o=c["default"].Keysounds.fromBMSChart(e),a=c["default"].SongInfo.fromBMSChart(e),s=c["default"].Positioning.fromBMSChart(e),f=c["default"].Spacing.fromBMSChart(e),l={notes:r,timing:i,keysounds:o,songInfo:a,positioning:s,spacing:f,barLines:u(r,e)};return new t(l,n)}}]),t}();e.Notechart=m,e["default"]=m},133:function(t,e){/*!
	 * bytes
	 * Copyright(c) 2012-2014 TJ Holowaychuk
	 * Copyright(c) 2015 Jed Watson
	 * MIT Licensed
	 */
"use strict";function n(t,e){return"string"==typeof t?i(t):"number"==typeof t?r(t,e):null}function r(t,e){if("number"!=typeof t)return null;var n=Math.abs(t),r=e&&e.thousandsSeparator||"",i=e&&void 0!==e.decimalPlaces?e.decimalPlaces:2,u=Boolean(e&&e.fixedDecimals),a="B";n>=o.tb?a="TB":n>=o.gb?a="GB":n>=o.mb?a="MB":n>=o.kb&&(a="kB");var s=t/o[a.toLowerCase()],c=s.toFixed(i);return u||(c=c.replace(/(?:\.0*|(\.[^0]+)0+)$/,"$1")),r&&(c=c.replace(/\B(?=(\d{3})+(?!\d))/g,r)),c+a}function i(t){if("number"==typeof t&&!isNaN(t))return t;if("string"!=typeof t)return null;var e,n=t.match(/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb)$/i),r="b";return n?(e=parseFloat(n[1]),r=n[4].toLowerCase()):(e=parseInt(t),r="b"),o[r]*e}t.exports=n,t.exports.format=r,t.exports.parse=i;var o={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:1024*(1<<30)}},166:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(278),s=r(a),c=n(7),f=r(c),l=n(105),h=r(l),p=function(){function t(){i(this,t),this._controls=new Map,this._plugins=[]}return u(t,[{key:"update",value:function(){var t=new Map,e=!0,n=!1,r=void 0;try{for(var i,u=this._controls[Symbol.iterator]();!(e=(i=u.next()).done);e=!0){var a=o(i.value,2),s=(a[0],a[1]);s.changed=!1}}catch(c){n=!0,r=c}finally{try{!e&&u["return"]&&u["return"]()}finally{if(n)throw r}}var f=!0,l=!1,h=void 0;try{for(var p,d=this._plugins[Symbol.iterator]();!(f=(p=d.next()).done);f=!0){var v=p.value,g=!0,y=!1,m=void 0;try{for(var b,_=v.get()[Symbol.iterator]();!(g=(b=_.next()).done);g=!0){var w=o(b.value,2),x=w[0],S=w[1];t.set(x,S)}}catch(c){y=!0,m=c}finally{try{!g&&_["return"]&&_["return"]()}finally{if(y)throw m}}}}catch(c){l=!0,h=c}finally{try{!f&&d["return"]&&d["return"]()}finally{if(l)throw h}}var E=!0,k=!1,A=void 0;try{for(var O,j=t[Symbol.iterator]();!(E=(O=j.next()).done);E=!0){var I=o(O.value,2),M=I[0],S=I[1],s=this.get(M);s.value!==S&&(s.changed=!0,s.value=S)}}catch(c){k=!0,A=c}finally{try{!E&&j["return"]&&j["return"]()}finally{if(k)throw A}}}},{key:"destroy",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,i=this._plugins[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;o.destroy()}}catch(u){e=!0,n=u}finally{try{!t&&i["return"]&&i["return"]()}finally{if(e)throw n}}}},{key:"get",value:function(t){return this._controls.has(t)||this._controls.set(t,new s["default"]),this._controls.get(t)}},{key:"use",value:function(t){var e={},n="input:"+t.name;this._plugins.push({get:h["default"].wrap(n,function(){var n=t.get(),r=[],i=!0,o=!1,u=void 0;try{for(var a,s=f["default"].union(f["default"].keys(n),f["default"].keys(e))[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var c=a.value,l=+e[c]||0,h=+n[c]||0;l!==h&&r.push([c,h]),e[c]=h}}catch(p){o=!0,u=p}finally{try{!i&&s["return"]&&s["return"]()}finally{if(o)throw u}}return r}),destroy:function(){return"function"==typeof t.destroy?t.destroy():!0}})}}]),t}();e.GameInput=p,e["default"]=p},167:function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e,r,i){n(this,t),this._notechart=e,this._number=r,this._options={autosound:!!i.autosound,speed:+i.speed,placement:i.placement||"center",scratch:i.scratch||"left",input:i.input}}return r(t,[{key:"notechart",get:function(){return this._notechart}},{key:"columns",get:function(){return this._notechart.columns}},{key:"number",get:function(){return this._number}},{key:"options",get:function(){return this._options}}]),t}();e.Player=i,e["default"]=i},169:function(t,e,n){var r=n(174),i=n(173),o=n(171),u=(n(172),n(170),[new r,new i.UTF_16BE,new i.UTF_16LE,new o.sjis,new o.euc_kr]);t.exports.detect=function(t){for(var e=[],n=0;256>n;n++)e[n]=0;for(var n=t.length-1;n>=0;n--)e[255&t[n]]++;for(var r=!1,n=128;159>=n;n+=1)if(0!=e[n]){r=!0;break}var i={fByteStats:e,fC1Bytes:r,fRawInput:t,fRawLength:t.length,fInputBytes:t,fInputLen:t.length},o=u.map(function(t){return t.match(i)}).filter(function(t){return!!t}).sort(function(t,e){return t.confidence-e.confidence}).pop();return o?o.name:null}},170:function(t,e,n){function r(){}var i=n(35),o=n(26);r.prototype.match=function(t){var e,n,r,i,u=0,a=0,s=0,c=t.fInputBytes,f=t.fInputLen;t:for(e=0;f>e;e++){if(27==c[e]){e:for(r=0;r<this.escapeSequences.length;r++){var l=this.escapeSequences[r];if(!(f-e<l.length)){for(n=1;n<l.length;n++)if(l[n]!=c[e+n])continue e;u++,e+=l.length-1;continue t}}a++}(14==c[e]||15==c[e])&&s++}return 0==u?null:(i=(100*u-100*a)/(u+a),5>u+s&&(i-=10*(5-(u+s))),0>=i?null:new o(t,this,i))},t.exports.ISO_2022_JP=function(){this.name=function(){return"ISO-2022-JP"},this.escapeSequences=[[27,36,40,67],[27,36,40,68],[27,36,64],[27,36,65],[27,36,66],[27,38,64],[27,40,66],[27,40,72],[27,40,73],[27,40,74],[27,46,65],[27,46,70]]},i.inherits(t.exports.ISO_2022_JP,r),t.exports.ISO_2022_KR=function(){this.name=function(){return"ISO-2022-KR"},this.escapeSequences=[[27,36,41,67]]},i.inherits(t.exports.ISO_2022_KR,r),t.exports.ISO_2022_CN=function(){this.name=function(){return"ISO-2022-CN"},this.escapeSequences=[[27,36,41,65],[27,36,41,71],[27,36,42,72],[27,36,41,69],[27,36,43,73],[27,36,43,74],[27,36,43,75],[27,36,43,76],[27,36,43,77],[27,78],[27,79]]},i.inherits(t.exports.ISO_2022_CN,r)},171:function(t,e,n){function r(t,e){function n(t,e,r,i){if(r>i)return-1;var o=Math.floor(r+i>>>1);return e>t[o]?n(t,e,o+1,i):e<t[o]?n(t,e,r,o-1):o}return n(t,e,0,t.length-1)}function i(){this.charValue=0,this.index=0,this.nextIndex=0,this.error=!1,this.done=!1,this.reset=function(){this.charValue=0,this.index=-1,this.nextIndex=0,this.error=!1,this.done=!1},this.nextByte=function(t){if(this.nextIndex>=t.fRawLength)return this.done=!0,-1;var e=255&t.fRawInput[this.nextIndex++];return e}}function o(){}function u(t,e){t.index=t.nextIndex,t.error=!1;var n=0,r=0,i=0;return n=t.charValue=t.nextByte(e),0>n?t.done=!0:141>=n||(r=t.nextByte(e),t.charValue=t.charValue<<8|r,n>=161&&254>=n?161>r&&(t.error=!0):142!=n?143==n&&(i=t.nextByte(e),t.charValue=t.charValue<<8|i,161>i&&(t.error=!0)):161>r&&(t.error=!0)),0==t.done}var a=n(35),s=n(26);o.prototype.match=function(t){var e=0,n=0,o=0,u=0,a=0,c=0,f=new i;t:{for(f.reset();this.nextChar(f,t);){if(a++,f.error)u++;else{var l=4294967295&f.charValue;255>=l?e++:(n++,null!=this.commonChars&&r(this.commonChars,l)>=0&&o++)}if(u>=2&&5*u>=n)break t}if(10>=n&&0==u)c=0==n&&10>a?0:10;else if(20*u>n)c=0;else if(null==this.commonChars)c=30+n-20*u,c>100&&(c=100);else{var h=Math.log(parseFloat(n)/4),p=90/h;c=Math.floor(Math.log(o+1)*p+10),c=Math.min(c,100)}}return 0==c?null:new s(t,this,c)},o.prototype.nextChar=function(t,e){},t.exports.sjis=function(){this.name=function(){return"Shift-JIS"},this.language=function(){return"ja"},this.commonChars=[33088,33089,33090,33093,33115,33129,33130,33141,33142,33440,33442,33444,33449,33450,33451,33453,33455,33457,33459,33461,33463,33469,33470,33473,33476,33477,33478,33480,33481,33484,33485,33500,33504,33511,33512,33513,33514,33520,33521,33601,33603,33614,33615,33624,33630,33634,33639,33653,33654,33673,33674,33675,33677,33683,36502,37882,38314],this.nextChar=function(t,e){t.index=t.nextIndex,t.error=!1;var n;if(n=t.charValue=t.nextByte(e),0>n)return!1;if(127>=n||n>160&&223>=n)return!0;var r=t.nextByte(e);return 0>r?!1:(t.charValue=n<<8|r,r>=64&&127>=r||r>=128&&255>=r||(t.error=!0),!0)}},a.inherits(t.exports.sjis,o),t.exports.big5=function(){this.name=function(){return"Big5"},this.language=function(){return"zh"},this.commonChars=[41280,41281,41282,41283,41287,41289,41333,41334,42048,42054,42055,42056,42065,42068,42071,42084,42090,42092,42103,42147,42148,42151,42177,42190,42193,42207,42216,42237,42304,42312,42328,42345,42445,42471,42583,42593,42594,42600,42608,42664,42675,42681,42707,42715,42726,42738,42816,42833,42841,42970,43171,43173,43181,43217,43219,43236,43260,43456,43474,43507,43627,43706,43710,43724,43772,44103,44111,44208,44242,44377,44745,45024,45290,45423,45747,45764,45935,46156,46158,46412,46501,46525,46544,46552,46705,47085,47207,47428,47832,47940,48033,48593,49860,50105,50240,50271],this.nextChar=function(t,e){t.index=t.nextIndex,t.error=!1;var n=t.charValue=t.nextByte(e);if(0>n)return!1;if(127>=n||255==n)return!0;var r=t.nextByte(e);return 0>r?!1:(t.charValue=t.charValue<<8|r,(64>r||127==r||255==r)&&(t.error=!0),!0)}},a.inherits(t.exports.big5,o),t.exports.euc_jp=function(){this.name=function(){return"EUC-JP"},this.language=function(){return"ja"},this.commonChars=[41377,41378,41379,41382,41404,41418,41419,41430,41431,42146,42148,42150,42152,42154,42155,42156,42157,42159,42161,42163,42165,42167,42169,42171,42173,42175,42176,42177,42179,42180,42182,42183,42184,42185,42186,42187,42190,42191,42192,42206,42207,42209,42210,42212,42216,42217,42218,42219,42220,42223,42226,42227,42402,42403,42404,42406,42407,42410,42413,42415,42416,42419,42421,42423,42424,42425,42431,42435,42438,42439,42440,42441,42443,42448,42453,42454,42455,42462,42464,42465,42469,42473,42474,42475,42476,42477,42483,47273,47572,47854,48072,48880,49079,50410,50940,51133,51896,51955,52188,52689],this.nextChar=u},a.inherits(t.exports.euc_jp,o),t.exports.euc_kr=function(){this.name=function(){return"EUC-KR"},this.language=function(){return"ko"},this.commonChars=[45217,45235,45253,45261,45268,45286,45293,45304,45306,45308,45496,45497,45511,45527,45538,45994,46011,46274,46287,46297,46315,46501,46517,46527,46535,46569,46835,47023,47042,47054,47270,47278,47286,47288,47291,47337,47531,47534,47564,47566,47613,47800,47822,47824,47857,48103,48115,48125,48301,48314,48338,48374,48570,48576,48579,48581,48838,48840,48863,48878,48888,48890,49057,49065,49088,49124,49131,49132,49144,49319,49327,49336,49338,49339,49341,49351,49356,49358,49359,49366,49370,49381,49403,49404,49572,49574,49590,49622,49631,49654,49656,50337,50637,50862,51151,51153,51154,51160,51173,51373],this.nextChar=u},a.inherits(t.exports.euc_kr,o),t.exports.gb_18030=function(){this.name=function(){return"GB18030"},this.language=function(){return"zh"},this.nextChar=function(t,e){t.index=t.nextIndex,t.error=!1;var n=0,r=0,i=0,o=0;t:if(n=t.charValue=t.nextByte(e),0>n)t.done=!0;else if(!(128>=n))if(r=t.nextByte(e),t.charValue=t.charValue<<8|r,n>=129&&254>=n){if(r>=64&&126>=r||r>=80&&254>=r)break t;if(r>=48&&57>=r&&(i=t.nextByte(e),i>=129&&254>=i&&(o=t.nextByte(e),o>=48&&57>=o))){t.charValue=t.charValue<<16|i<<8|o;break t}t.error=!0}else;return 0==t.done},this.commonChars=[41377,41378,41379,41380,41392,41393,41457,41459,41889,41900,41914,45480,45496,45502,45755,46025,46070,46323,46525,46532,46563,46767,46804,46816,47010,47016,47037,47062,47069,47284,47327,47350,47531,47561,47576,47610,47613,47821,48039,48086,48097,48122,48316,48347,48382,48588,48845,48861,49076,49094,49097,49332,49389,49611,49883,50119,50396,50410,50636,50935,51192,51371,51403,51413,51431,51663,51706,51889,51893,51911,51920,51926,51957,51965,52460,52728,52906,52932,52946,52965,53173,53186,53206,53442,53445,53456,53460,53671,53930,53938,53941,53947,53972,54211,54224,54269,54466,54490,54754,54992]},a.inherits(t.exports.gb_18030,o)},172:function(t,e,n){function r(t,e){var n=16777215;this.byteIndex=0,this.ngram=0,this.ngramList=t,this.byteMap=e,this.ngramCount=0,this.hitCount=0,this.spaceChar,this.search=function(t,e){var n=0;return t[n+32]<=e&&(n+=32),t[n+16]<=e&&(n+=16),t[n+8]<=e&&(n+=8),t[n+4]<=e&&(n+=4),t[n+2]<=e&&(n+=2),t[n+1]<=e&&(n+=1),t[n]>e&&(n-=1),0>n||t[n]!=e?-1:n},this.lookup=function(t){this.ngramCount+=1,this.search(this.ngramList,t)>=0&&(this.hitCount+=1)},this.addByte=function(t){this.ngram=(this.ngram<<8)+(255&t)&n,this.lookup(this.ngram)},this.nextByte=function(t){return this.byteIndex>=t.fInputLen?-1:255&t.fInputBytes[this.byteIndex++]},this.parse=function(t,e){var n,r=!1;for(this.spaceChar=e;(n=this.nextByte(t))>=0;){var i=this.byteMap[n];0!=i&&(i==this.spaceChar&&r||this.addByte(i),r=i==this.spaceChar)}this.addByte(this.spaceChar);var o=this.hitCount/this.ngramCount;return o>.33?98:Math.floor(300*o)}}function i(t,e){this.fLang=t,this.fNGrams=e}function o(){}var u=n(35),a=n(26);o.prototype.spaceChar=32,o.prototype.ngrams=function(){},o.prototype.byteMap=function(){},o.prototype.match=function(t){var e=this.ngrams(),n=Array.isArray(e)&&e[0]instanceof i;if(!n){var o=new r(e,this.byteMap()),u=o.parse(t,this.spaceChar);return 0>=u?null:new a(t,this,u)}for(var s=-1,c=null,f=e.length-1;f>=0;f--){var l=e[f],o=new r(l.fNGrams,this.byteMap()),u=o.parse(t,this.spaceChar);u>s&&(s=u,c=l.fLang)}var h=this.name(t);return 0>=s?null:new a(t,this,s,h,c)},t.exports.ISO_8859_1=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,186,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,255]},this.ngrams=function(){return[new i("da",[2122086,2122100,2122853,2123118,2123122,2123375,2123873,2124064,2125157,2125671,2126053,2126697,2126708,2126953,2127465,6383136,6385184,6385252,6386208,6386720,6579488,6579566,6579570,6579572,6627443,6644768,6644837,6647328,6647396,6648352,6648421,6648608,6648864,6713202,6776096,6776174,6776178,6907749,6908960,6909543,7038240,7039845,7103858,7104871,7105637,7169380,7234661,7234848,7235360,7235429,7300896,7302432,7303712,7398688,7479396,7479397,7479411,7496992,7566437,7610483,7628064,7628146,7629164,7759218]),new i("de",[2122094,2122101,2122341,2122849,2122853,2122857,2123113,2123621,2123873,2124142,2125161,2126691,2126693,2127214,2127461,2127471,2127717,2128501,6448498,6514720,6514789,6514804,6578547,6579566,6579570,6580581,6627428,6627443,6646126,6646132,6647328,6648352,6648608,6776174,6841710,6845472,6906728,6907168,6909472,6909541,6911008,7104867,7105637,7217249,7217252,7217267,7234592,7234661,7234848,7235360,7235429,7238757,7479396,7496805,7497065,7562088,7566437,7610468,7628064,7628142,7628146,7695972,7695975,7759218]),new i("en",[2122016,2122094,2122341,2122607,2123375,2123873,2123877,2124142,2125153,2125670,2125938,2126437,2126689,2126708,2126952,2126959,2127720,6383972,6384672,6385184,6385252,6386464,6386720,6386789,6386793,6561889,6561908,6627425,6627443,6627444,6644768,6647412,6648352,6648608,6713202,6840692,6841632,6841714,6906912,6909472,6909543,6909806,6910752,7217249,7217268,7234592,7235360,7238688,7300640,7302688,7303712,7496992,7500576,7544929,7544948,7561577,7566368,7610484,7628146,7628897,7628901,7629167,7630624,7631648]),new i("es",[2122016,2122593,2122607,2122853,2123116,2123118,2123123,2124142,2124897,2124911,2125921,2125935,2125938,2126197,2126437,2126693,2127214,2128160,6365283,6365284,6365285,6365292,6365296,6382441,6382703,6384672,6386208,6386464,6515187,6516590,6579488,6579564,6582048,6627428,6627429,6627436,6646816,6647328,6647412,6648608,6648692,6907246,6943598,7102752,7106419,7217253,7238757,7282788,7282789,7302688,7303712,7303968,7364978,7435621,7495968,7497075,7544932,7544933,7544944,7562528,7628064,7630624,7693600,15953440]),new i("fr",[2122101,2122607,2122849,2122853,2122869,2123118,2123124,2124897,2124901,2125921,2125935,2125938,2126197,2126693,2126703,2127214,2154528,6385268,6386793,6513952,6516590,6579488,6579571,6583584,6627425,6627427,6627428,6627429,6627436,6627440,6627443,6647328,6647412,6648352,6648608,6648864,6649202,6909806,6910752,6911008,7102752,7103776,7103859,7169390,7217252,7234848,7238432,7238688,7302688,7302772,7304562,7435621,7479404,7496992,7544929,7544932,7544933,7544940,7544944,7610468,7628064,7629167,7693600,7696928]),new i("it",[2122092,2122600,2122607,2122853,2122857,2123040,2124140,2124142,2124897,2125925,2125938,2127214,6365283,6365284,6365296,6365299,6386799,6514789,6516590,6579564,6580512,6627425,6627427,6627428,6627433,6627436,6627440,6627443,6646816,6646892,6647412,6648352,6841632,6889569,6889571,6889572,6889587,6906144,6908960,6909472,6909806,7102752,7103776,7104800,7105633,7234848,7235872,7237408,7238757,7282785,7282788,7282793,7282803,7302688,7302757,7366002,7495968,7496992,7563552,7627040,7628064,7629088,7630624,8022383]),new i("nl",[2122092,2122341,2122849,2122853,2122857,2123109,2123118,2123621,2123877,2124142,2125153,2125157,2125680,2126949,2127457,2127461,2127471,2127717,2128489,6381934,6381938,6385184,6385252,6386208,6386720,6514804,6579488,6579566,6579570,6627426,6627446,6645102,6645106,6647328,6648352,6648435,6648864,6776174,6841716,6907168,6909472,6909543,6910752,7217250,7217252,7217253,7217256,7217263,7217270,7234661,7235360,7302756,7303026,7303200,7303712,7562088,7566437,7610468,7628064,7628142,7628146,7758190,7759218,7761775]),new i("no",[2122100,2122102,2122853,2123118,2123122,2123375,2123873,2124064,2125157,2125671,2126053,2126693,2126699,2126703,2126708,2126953,2127465,2155808,6385252,6386208,6386720,6579488,6579566,6579572,6627443,6644768,6647328,6647397,6648352,6648421,6648864,6648948,6713202,6776174,6908779,6908960,6909543,7038240,7039845,7103776,7105637,7169380,7169390,7217267,7234848,7235360,7235429,7237221,7300896,7302432,7303712,7398688,7479411,7496992,7565165,7566437,7610483,7628064,7628142,7628146,7629164,7631904,7631973,7759218]),new i("pt",[2122016,2122607,2122849,2122853,2122863,2123040,2123123,2125153,2125423,2125600,2125921,2125935,2125938,2126197,2126437,2126693,2127213,6365281,6365283,6365284,6365296,6382693,6382703,6384672,6386208,6386273,6386464,6516589,6516590,6578464,6579488,6582048,6582131,6627425,6627428,6647072,6647412,6648608,6648692,6906144,6906721,7169390,7238757,7238767,7282785,7282787,7282788,7282789,7282800,7303968,7364978,7435621,7495968,7497075,7544929,7544932,7544933,7544944,7566433,7628064,7630624,7693600,14905120,15197039]),new i("sv",[2122100,2122102,2122853,2123118,2123510,2123873,2124064,2124142,2124655,2125157,2125667,2126053,2126699,2126703,2126708,2126953,2127457,2127465,2155634,6382693,6385184,6385252,6386208,6386804,6514720,6579488,6579566,6579570,6579572,6644768,6647328,6648352,6648864,6747762,6776174,6909036,6909543,7037216,7105568,7169380,7217267,7233824,7234661,7235360,7235429,7235950,7299944,7302432,7302688,7398688,7479393,7479411,7495968,7564129,7565165,7610483,7627040,7628064,7628146,7629164,7631904,7758194,14971424,16151072])]},this.name=function(t){return t&&t.fC1Bytes?"windows-1252":"ISO-8859-1"}},u.inherits(t.exports.ISO_8859_1,o),t.exports.ISO_8859_2=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,177,32,179,32,181,182,32,32,185,186,187,188,32,190,191,32,177,32,179,32,181,182,183,32,185,186,187,188,32,190,191,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,32]},this.ngrams=function(){return[new i("cs",[2122016,2122361,2122863,2124389,2125409,2125413,2125600,2125668,2125935,2125938,2126072,2126447,2126693,2126703,2126708,2126959,2127392,2127481,2128481,6365296,6513952,6514720,6627440,6627443,6627446,6647072,6647533,6844192,6844260,6910836,6972704,7042149,7103776,7104800,7233824,7268640,7269408,7269664,7282800,7300206,7301737,7304052,7304480,7304801,7368548,7368554,7369327,7403621,7562528,7565173,7566433,7566441,7566446,7628146,7630573,7630624,7676016,12477728,14773997,15296623,15540336,15540339,15559968,16278884]),new i("hu",[2122016,2122106,2122341,2123111,2123116,2123365,2123873,2123887,2124147,2124645,2124649,2124790,2124901,2125153,2125157,2125161,2125413,2126714,2126949,2156915,6365281,6365291,6365293,6365299,6384416,6385184,6388256,6447470,6448494,6645625,6646560,6646816,6646885,6647072,6647328,6648421,6648864,6648933,6648948,6781216,6844263,6909556,6910752,7020641,7075450,7169383,7170414,7217249,7233899,7234923,7234925,7238688,7300985,7544929,7567973,7567988,7568097,7596391,7610465,7631904,7659891,8021362,14773792,15299360]),new i("pl",[2122618,2122863,2124064,2124389,2124655,2125153,2125161,2125409,2125417,2125668,2125935,2125938,2126697,2127648,2127721,2127737,2128416,2128481,6365296,6365303,6385257,6514720,6519397,6519417,6582048,6584937,6627440,6627443,6627447,6627450,6645615,6646304,6647072,6647401,6778656,6906144,6907168,6907242,7037216,7039264,7039333,7170405,7233824,7235937,7235941,7282800,7305057,7305065,7368556,7369313,7369327,7369338,7502437,7502457,7563754,7564137,7566433,7825765,7955304,7957792,8021280,8022373,8026400,15955744]),new i("ro",[2122016,2122083,2122593,2122597,2122607,2122613,2122853,2122857,2124897,2125153,2125925,2125938,2126693,2126819,2127214,2144873,2158190,6365283,6365284,6386277,6386720,6386789,6386976,6513010,6516590,6518048,6546208,6579488,6627425,6627427,6627428,6627440,6627443,6644e3,6646048,6646885,6647412,6648692,6889569,6889571,6889572,6889584,6907168,6908192,6909472,7102752,7103776,7106418,7107945,7234848,7238770,7303712,7365998,7496992,7497057,7501088,7594784,7628064,7631477,7660320,7694624,7695392,12216608,15625760])]},this.name=function(t){return t&&t.fC1Bytes?"windows-1250":"ISO-8859-2"}},u.inherits(t.exports.ISO_8859_2,o),t.exports.ISO_8859_5=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,241,242,243,244,245,246,247,248,249,250,251,252,32,254,255,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,32,241,242,243,244,245,246,247,248,249,250,251,252,32,254,255]},this.ngrams=function(){return[2150944,2151134,2151646,2152400,2152480,2153168,2153182,2153936,2153941,2154193,2154462,2154464,2154704,2154974,2154978,2155230,2156514,2158050,13688280,13689580,13884960,14015468,14015960,14016994,14017056,14164191,14210336,14211104,14216992,14407133,14407712,14413021,14536736,14538016,14538965,14538991,14540320,14540498,14557394,14557407,14557409,14602784,14602960,14603230,14604576,14605292,14605344,14606818,14671579,14672085,14672088,14672094,14733522,14734804,14803664,14803666,14803672,14806816,14865883,14868e3,14868192,14871584,15196894,15459616]},this.name=function(t){return"ISO-8859-5"},this.language=function(){return"ru"}},u.inherits(t.exports.ISO_8859_5,o),t.exports.ISO_8859_6=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32]},this.ngrams=function(){return[2148324,2148326,2148551,2152932,2154986,2155748,2156006,2156743,13050055,13091104,13093408,13095200,13100064,13100227,13100231,13100232,13100234,13100236,13100237,13100239,13100243,13100249,13100258,13100261,13100264,13100266,13100320,13100576,13100746,13115591,13181127,13181153,13181156,13181157,13181160,13246663,13574343,13617440,13705415,13748512,13836487,14229703,14279913,14805536,14950599,14993696,15001888,15002144,15016135,15058720,15059232,15066656,15081671,15147207,15189792,15255524,15263264,15278279,15343815,15343845,15343848,15386912,15388960,15394336]},this.name=function(t){return"ISO-8859-6"},this.language=function(){return"ar"}},u.inherits(t.exports.ISO_8859_6,o),t.exports.ISO_8859_7=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,161,162,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,220,32,221,222,223,32,252,32,253,254,192,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,32,243,244,245,246,247,248,249,250,251,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,32]},this.ngrams=function(){return[2154989,2154992,2155497,2155753,2156016,2156320,2157281,2157797,2158049,2158368,2158817,2158831,2158833,2159604,2159605,2159847,2159855,14672160,14754017,14754036,14805280,14806304,14807292,14807584,14936545,15067424,15069728,15147252,15199520,15200800,15278324,15327520,15330014,15331872,15393257,15393268,15525152,15540449,15540453,15540464,15589664,15725088,15725856,15790069,15790575,15793184,15868129,15868133,15868138,15868144,15868148,15983904,15984416,15987951,16048416,16048617,16050157,16050162,16050666,16052e3,16052213,16054765,16379168,16706848]},this.name=function(t){return t&&t.fC1Bytes?"windows-1253":"ISO-8859-7"},this.language=function(){return"el"}},u.inherits(t.exports.ISO_8859_7,o),t.exports.ISO_8859_8=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,32,32,32,32,32]},this.ngrams=function(){return[new i("he",[2154725,2154727,2154729,2154746,2154985,2154990,2155744,2155749,2155753,2155758,2155762,2155769,2155770,2157792,2157796,2158304,2159340,2161132,14744096,14950624,14950625,14950628,14950636,14950638,14950649,15001056,15065120,15068448,15068960,15071264,15071776,15278308,15328288,15328762,15329773,15330592,15331104,15333408,15333920,15474912,15474916,15523872,15524896,15540448,15540449,15540452,15540460,15540462,15540473,15655968,15671524,15787040,15788320,15788525,15920160,16261348,16312813,16378912,16392416,16392417,16392420,16392428,16392430,16392441]),new i("he",[2154725,2154732,2155753,2155756,2155758,2155760,2157040,2157810,2157817,2158053,2158057,2158565,2158569,2160869,2160873,2161376,2161381,2161385,14688484,14688492,14688493,14688506,14738464,14738916,14740512,14741024,14754020,14754029,14754042,14950628,14950633,14950636,14950637,14950639,14950648,14950650,15002656,15065120,15066144,15196192,15327264,15327520,15328288,15474916,15474925,15474938,15528480,15530272,15591913,15591920,15591928,15605988,15605997,15606010,15655200,15655968,15918112,16326884,16326893,16326906,16376864,16441376,16442400,16442857])]},this.name=function(t){return t&&t.fC1Bytes?"windows-1255":"ISO-8859-8"},this.language=function(){return"he"}},u.inherits(t.exports.ISO_8859_8,o),t.exports.ISO_8859_9=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,186,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,105,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,255]},this.ngrams=function(){return[2122337,2122345,2122357,2122849,2122853,2123621,2123873,2124140,2124641,2124655,2125153,2125676,2126689,2126945,2127461,2128225,6365282,6384416,6384737,6384993,6385184,6385405,6386208,6386273,6386429,6386685,6388065,6449522,6578464,6579488,6580512,6627426,6627435,6644841,6647328,6648352,6648425,6648681,6909029,6909472,6909545,6910496,7102830,7102834,7103776,7103858,7217249,7217250,7217259,7234657,7234661,7234848,7235872,7235950,7273760,7498094,7535982,7759136,7954720,7958386,16608800,16608868,16609021,16642301]},this.name=function(t){return t&&t.fC1Bytes?"windows-1254":"ISO-8859-9"},this.language=function(){return"tr"}},u.inherits(t.exports.ISO_8859_9,o),t.exports.windows_1251=function(){
this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,144,131,32,131,32,32,32,32,32,32,154,32,156,157,158,159,144,32,32,32,32,32,32,32,32,32,154,32,156,157,158,159,32,162,162,188,32,180,32,32,184,32,186,32,32,32,32,191,32,32,179,179,180,181,32,32,184,32,186,32,188,190,190,191,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},this.ngrams=function(){return[2155040,2155246,2155758,2156512,2156576,2157280,2157294,2158048,2158053,2158305,2158574,2158576,2158816,2159086,2159090,2159342,2160626,2162162,14740968,14742268,14937632,15068156,15068648,15069682,15069728,15212783,15263008,15263776,15269664,15459821,15460384,15465709,15589408,15590688,15591653,15591679,15592992,15593186,15605986,15605999,15606001,15655456,15655648,15655918,15657248,15657980,15658016,15659506,15724267,15724773,15724776,15724782,15786210,15787492,15856352,15856354,15856360,15859488,15918571,15920672,15920880,15924256,16249582,16512288]},this.name=function(t){return"windows-1251"},this.language=function(){return"ru"}},u.inherits(t.exports.windows_1251,o),t.exports.windows_1256=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,129,32,131,32,32,32,32,136,32,138,32,156,141,142,143,144,32,32,32,32,32,32,32,152,32,154,32,156,32,32,159,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,32,32,32,32,32,32,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,32,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,32,32,32,32,244,32,32,32,32,249,32,251,252,32,32,255]},this.ngrams=function(){return[2148321,2148324,2148551,2153185,2153965,2154977,2155492,2156231,13050055,13091104,13093408,13095200,13099296,13099459,13099463,13099464,13099466,13099468,13099469,13099471,13099475,13099482,13099486,13099491,13099494,13099501,13099808,13100064,13100234,13115591,13181127,13181149,13181153,13181155,13181158,13246663,13574343,13617440,13705415,13748512,13836487,14295239,14344684,14544160,14753991,14797088,14806048,14806304,14885063,14927648,14928160,14935072,14950599,15016135,15058720,15124449,15131680,15474887,15540423,15540451,15540454,15583520,15585568,15590432]},this.name=function(t){return"windows-1256"},this.language=function(){return"ar"}},u.inherits(t.exports.windows_1256,o),t.exports.KOI8_R=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,163,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,163,32,32,32,32,32,32,32,32,32,32,32,32,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223]},this.ngrams=function(){return[2147535,2148640,2149313,2149327,2150081,2150085,2150338,2150607,2150610,2151105,2151375,2151380,2151631,2152224,2152399,2153153,2153684,2154196,12701385,12702936,12963032,12963529,12964820,12964896,13094688,13181136,13223200,13224224,13226272,13419982,13420832,13424846,13549856,13550880,13552069,13552081,13553440,13553623,13574352,13574355,13574359,13617103,13617696,13618392,13618464,13620180,13621024,13621185,13684684,13685445,13685449,13685455,13812183,13813188,13881632,13882561,13882569,13882583,13944268,13946656,13946834,13948960,14272544,14603471]},this.name=function(t){return"KOI8-R"},this.language=function(){return"ru"}},u.inherits(t.exports.KOI8_R,o)},173:function(t,e,n){function r(){}var i=n(35),o=n(26);t.exports.UTF_16BE=function(){this.name=function(){return"UTF-16BE"},this.match=function(t){var e=t.fRawInput;return e.length>=2&&254==(255&e[0])&&255==(255&e[1])?new o(t,this,confidence=100):null}},t.exports.UTF_16LE=function(){this.name=function(){return"UTF-16LE"},this.match=function(t){var e=t.fRawInput;return e.length>=2&&255==(255&e[0])&&254==(255&e[1])?e.length>=4&&0==e[2]&&0==e[3]?null:new o(t,this,confidence=100):null}},r.prototype.match=function(t){var e=t.fRawInput,n=t.fRawLength/4*4,r=0,i=0,u=!1,a=0;if(0==n)return null;65279==this.getChar(e,0)&&(u=!0);for(var s=0;n>s;s+=4){var c=this.getChar(e,s);0>c||c>=1114111||c>=55296&&57343>=c?i+=1:r+=1}return u&&0==i?a=100:u&&r>10*i?a=80:r>3&&0==i?a=100:r>0&&0==i?a=80:r>10*i&&(a=25),0==a?null:new o(t,this,a)},t.exports.UTF_32BE=function(){this.name=function(){return"UTF-32BE"},this.getChar=function(t,e){return(255&t[e+0])<<24|(255&t[e+1])<<16|(255&t[e+2])<<8|255&t[e+3]}},i.inherits(t.exports.UTF_32BE,r),t.exports.UTF_32LE=function(){this.name=function(){return"UTF-32LE"},this.getChar=function(t,e){return(255&t[e+3])<<24|(255&t[e+2])<<16|(255&t[e+1])<<8|255&t[e+0]}},i.inherits(t.exports.UTF_32LE,r)},174:function(t,e,n){var r=n(26);t.exports=function(){this.name=function(){return"UTF-8"},this.match=function(t){var e,n=!1,i=0,o=0,u=t.fRawInput,a=0;t.fRawLength>=3&&239==(255&u[0])&&187==(255&u[1])&&191==(255&u[2])&&(n=!0);for(var s=0;s<t.fRawLength;s++){var c=u[s];if(0!=(128&c)){if(192==(224&c))a=1;else if(224==(240&c))a=2;else if(240==(248&c))a=3;else{if(o++,o>5)break;a=0}for(;s++,!(s>=t.fRawLength);){if(128!=(192&u[s])){o++;break}if(0==--a){i++;break}}}}if(e=0,n&&0==o)e=100;else if(n&&i>10*o)e=80;else if(i>3&&0==o)e=100;else if(i>0&&0==o)e=80;else if(0==i&&0==o)e=10;else{if(!(i>10*o))return null;e=25}return new r(t,this,e)}}},175:function(t,e,n){function r(t,e){t.split(/\r\n|\r|\n/).map(function(t){return t.trim()}).forEach(function(t,n){e(t,n+1)})}var i=n(87),o=n(111);e.compile=function(t,e){function n(t,e,n,r){var i=Math.floor(n.length/2);if(0!==i)for(var o=0;i>o;o++){var u=n.substr(2*o,2),s=o/i;"00"!==u&&a.objects.add({measure:t,fraction:s,value:u,channel:e,lineNumber:r})}}function u(t,e){l.warnings.push({lineNumber:t,message:e})}e=e||{};var a=new o,s=e.rng||function(t){return 1+Math.floor(Math.random()*t)},c=[],f=[!1],l={headerSentences:0,channelSentences:0,controlSentences:0,skippedSentences:0,malformedSentences:0,chart:a,warnings:[]};return r(t,function(t,e){var r=!0;if("#"===t.charAt(0)&&(i(t).when(/^#RANDOM\s+(\d+)$/i,function(t){l.controlSentences+=1,c.push(s(+t[1]))}).when(/^#IF\s+(\d+)$/i,function(t){l.controlSentences+=1,f.push(c[c.length-1]!==+t[1])}).when(/^#ENDIF$/i,function(t){l.controlSentences+=1,f.pop()})["else"](function(){r=!1}),!r)){var o=f[f.length-1];i(t).when(/^#(\d\d\d)02:(\S*)$/,function(t){l.channelSentences+=1,o||a.timeSignatures.set(+t[1],+t[2])}).when(/^#(?:EXT\s+#)?(\d\d\d)(\S\S):(\S*)$/,function(t){l.channelSentences+=1,o||n(+t[1],t[2],t[3],e)}).when(/^#(\w+)(?:\s+(\S.*))?$/,function(t){l.headerSentences+=1,o||a.headers.set(t[1],t[2])})["else"](function(){u(e,"Invalid command")})}}),l}},176:function(t,e){t.exports={IIDX_P1:{11:"1",12:"2",13:"3",14:"4",15:"5",18:"6",19:"7",16:"SC"}}},177:function(t,e,n){function r(t){t.forEach(o.validate),this._notes=t}function i(t,e){this._chart=t,u(e.mapping,"Expected options.mapping"),u("object"==typeof e.mapping,"options.mapping must be object"),this._mapping=e.mapping}var o=n(178),u=n(43);t.exports=r,r.CHANNEL_MAPPING=n(176),r.prototype.count=function(){return this._notes.length},r.prototype.all=function(){return this._notes.slice()},r.fromBMSChart=function(t,e){e=e||{};var n=e.mapping||r.CHANNEL_MAPPING.IIDX_P1,o=new i(t,{mapping:n});return o.build()},i.prototype.build=function(){return this._notes=[],this._activeLN={},this._lastNote={},this._lnObj=(this._chart.headers.get("lnobj")||"").toLowerCase(),this._channelMapping=this._mapping,this._objects=this._chart.objects.allSorted(),this._objects.forEach(function(t){this._handle(t)}.bind(this)),new r(this._notes)},i.prototype._handle=function(t){if("01"===t.channel)this._handleNormalNote(t);else switch(t.channel.charAt(0)){case"1":case"2":this._handleNormalNote(t);break;case"5":case"6":this._handleLongNote(t)}},i.prototype._handleNormalNote=function(t){var e=this._normalizeChannel(t.channel),n=this._getBeat(t);if(t.value.toLowerCase()===this._lnObj)this._lastNote[e]&&(this._lastNote[e].endBeat=n);else{var r={beat:n,endBeat:void 0,keysound:t.value,column:this._getColumn(e)};this._lastNote[e]=r,this._notes.push(r)}},i.prototype._handleLongNote=function(t){var e=this._normalizeChannel(t.channel),n=this._getBeat(t);if(this._activeLN[e]){var r=this._activeLN[e];r.endBeat=n,this._notes.push(r),delete this._activeLN[e]}else this._activeLN[e]={beat:n,keysound:t.value,column:this._getColumn(e)}},i.prototype._getBeat=function(t){return this._chart.measureToBeat(t.measure,t.fraction)},i.prototype._getColumn=function(t){return this._channelMapping[t]},i.prototype._normalizeChannel=function(t){return t.replace(/^5/,"1").replace(/^6/,"2")}},178:function(t,e,n){var r=n(42);t.exports=new r({beat:"number",endBeat:r.maybe("number"),column:r.maybe("string"),keysound:"string"})},179:function(t,e,n){var r=n(169);e.read=function(t){throw new Error("Synchronous read unsupported in browser!")},e.readAsync=function(t,e){var n=r.detect(t),i=new FileReader;i.onload=function(){e(null,i.result)},i.onerror=function(){e(new Error("cannot read it"))},i.readAsText(new Blob([t]),n)}},180:function(t,e,n){function r(t){this.title="NO TITLE",this.artist="NO ARTIST",this.genre="NO GENRE",this.subtitles=[],this.subartists=[],this.difficulty=0,this.level=0,t&&o.assign(this,t)}var i=n(87),o=n(30);t.exports=r,r.fromBMSChart=function(t){var e={},n=t.headers.get("title"),o=t.headers.get("artist"),u=t.headers.get("genre"),a=+t.headers.get("difficulty"),s=+t.headers.get("playlevel"),c=t.headers.getAll("subtitle"),f=t.headers.getAll("subartist");if("string"==typeof n&&!c){var l=function(t){n=t[1],c=[t[2]]};i(n).when(/^(.*\S)\s*-(.+?)-$/,l).when(/^(.*\S)\s*～(.+?)～$/,l).when(/^(.*\S)\s*\((.+?)\)$/,l).when(/^(.*\S)\s*\[(.+?)\]$/,l).when(/^(.*\S)\s*<(.+?)>$/,l)}return n&&(e.title=n),o&&(e.artist=o),u&&(e.genre=u),c&&(e.subtitles=c),f&&(e.subartists=f),a&&(e.difficulty=a),s&&(e.level=s),new r(e)}},181:function(t,e,n){var r=n(42);t.exports=new r({t:"number",x:"number",dx:"number"})},182:function(t,e,n){function r(t,e){var n={bpm:t,beat:0,seconds:0},r=[];r.push({t:0,x:0,dx:n.bpm/60,bpm:n.bpm,inclusive:!0}),e=e.slice(),e.sort(function(t,e){return t.beat-e.beat||u[t.type]-u[e.type]}),e.forEach(function(t){var e=t.beat,i=n.seconds+60*(e-n.beat)/n.bpm;switch(t.type){case"bpm":n.bpm=t.bpm,r.push({t:i,x:e,dx:n.bpm/60,bpm:n.bpm,inclusive:!0});break;case"stop":r.push({t:i,x:e,dx:0,bpm:n.bpm,inclusive:!0}),i+=60*(t.stopBeats||0)/n.bpm,r.push({t:i,x:e,dx:n.bpm/60,bpm:n.bpm,inclusive:!1});break;default:throw new Error("Unrecognized segment object!")}n.beat=e,n.seconds=i}),this._speedcore=new i(r),this._eventBeats=o.uniq(o.pluck(e,"beat"),!0)}var i=n(47),o=n(30);t.exports=r;var u={bpm:1,stop:2};r.prototype.beatToSeconds=function(t){return this._speedcore.t(t)},r.prototype.secondsToBeat=function(t){return this._speedcore.x(t)},r.prototype.bpmAtBeat=function(t){return this._speedcore.segmentAtX(t).bpm},r.prototype.getEventBeats=function(t){return this._eventBeats},r.fromBMSChart=function(t){var e=[];return t.objects.all().forEach(function(n){var r,i=t.measureToBeat(n.measure,n.fraction);if("03"===n.channel)r=parseInt(n.value,16),e.push({type:"bpm",beat:i,bpm:r});else if("08"===n.channel)r=+t.headers.get("bpm"+n.value),isNaN(r)||e.push({type:"bpm",beat:i,bpm:r});else if("09"===n.channel){var o=t.headers.get("stop"+n.value)/48;e.push({type:"stop",beat:i,stopBeats:o})}}),new r(+t.headers.get("bpm")||60,e)}},186:function(t,e){(function(e){"undefined"!=typeof window?t.exports=window:"undefined"!=typeof e?t.exports=e:t.exports={}}).call(e,function(){return this}())},187:function(t,e){function n(t,e){for(var n=-1,r=t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}t.exports=n},188:function(t,e,n){function r(t,e){return null==e?t:i(e,o(e),t)}var i=n(189),o=n(22);t.exports=r},189:function(t,e){function n(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var o=e[r];n[o]=t[o]}return n}t.exports=n},190:function(t,e,n){function r(t,e){return p(t,e,f)}function i(t){return function(e){return null==e?void 0:e[t]}}function o(t,e){return function(n,r){var i=n?d(n):0;if(!a(i))return t(n,r);for(var o=e?i:-1,u=s(n);(e?o--:++o<i)&&r(u[o],o,u)!==!1;);return n}}function u(t){return function(e,n,r){for(var i=s(e),o=r(e),u=o.length,a=t?u:-1;t?a--:++a<u;){var c=o[a];if(n(i[c],c,i)===!1)break}return e}}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&l>=t}function s(t){return c(t)?t:Object(t)}function c(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var f=n(22),l=9007199254740991,h=o(r),p=u(),d=i("length");t.exports=h},191:function(t,e){function n(t,e,n){if(null!=t){void 0!==n&&n in r(t)&&(e=[n]);for(var i=0,o=e.length;null!=t&&o>i;)t=t[e[i++]];return i&&i==o?t:void 0}}function r(t){return i(t)?t:Object(t)}function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},192:function(t,e){function n(t,e,n){if(e!==e)return r(t,n);for(var i=n-1,o=t.length;++i<o;)if(t[i]===e)return i;return-1}function r(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}t.exports=n},193:function(t,e,n){function r(t){return!!t&&"object"==typeof t}function i(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function o(t,e,n,i,a,s){return t===e?!0:null==t||null==e||!f(t)&&!r(e)?t!==t&&e!==e:u(t,e,o,n,i,a,s)}function u(t,e,n,r,i,o,u){var f=l(t),p=l(e),g=v,y=v;f||(g=k.call(t),g==d?g=_:g!=_&&(f=h(t))),p||(y=k.call(e),y==d?y=_:y!=_&&(p=h(e)));var m=g==_,b=y==_,w=g==y;if(w&&!f&&!m)return s(t,e,g);if(!i){var x=m&&E.call(t,"__wrapped__"),S=b&&E.call(e,"__wrapped__");if(x||S)return n(x?t.value():t,S?e.value():e,r,i,o,u)}if(!w)return!1;o||(o=[]),u||(u=[]);for(var A=o.length;A--;)if(o[A]==t)return u[A]==e;o.push(t),u.push(e);var O=(f?a:c)(t,e,n,r,i,o,u);return o.pop(),u.pop(),O}function a(t,e,n,r,o,u,a){var s=-1,c=t.length,f=e.length;if(c!=f&&!(o&&f>c))return!1;for(;++s<c;){var l=t[s],h=e[s],p=r?r(o?h:l,o?l:h,s):void 0;if(void 0!==p){if(p)continue;return!1}if(o){if(!i(e,function(t){return l===t||n(l,t,r,o,u,a)}))return!1}else if(l!==h&&!n(l,h,r,o,u,a))return!1}return!0}function s(t,e,n){switch(n){case g:case y:return+t==+e;case m:return t.name==e.name&&t.message==e.message;case b:return t!=+t?e!=+e:t==+e;case w:case x:return t==e+""}return!1}function c(t,e,n,r,i,o,u){var a=p(t),s=a.length,c=p(e),f=c.length;if(s!=f&&!i)return!1;for(var l=s;l--;){var h=a[l];if(!(i?h in e:E.call(e,h)))return!1}for(var d=i;++l<s;){h=a[l];var v=t[h],g=e[h],y=r?r(i?g:v,i?v:g,h):void 0;if(!(void 0===y?n(v,g,r,i,o,u):y))return!1;d||(d="constructor"==h)}if(!d){var m=t.constructor,b=e.constructor;if(m!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b))return!1}return!0}function f(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var l=n(21),h=n(202),p=n(22),d="[object Arguments]",v="[object Array]",g="[object Boolean]",y="[object Date]",m="[object Error]",b="[object Number]",_="[object Object]",w="[object RegExp]",x="[object String]",S=Object.prototype,E=S.hasOwnProperty,k=S.toString;t.exports=o},194:function(t,e,n){function r(t,e){var n=-1,r=i,s=t.length,c=!0,f=c&&s>=a,l=f?u():null,h=[];l?(r=o,c=!1):(f=!1,l=e?[]:h);t:for(;++n<s;){var p=t[n],d=e?e(p,n,t):p;if(c&&p===p){for(var v=l.length;v--;)if(l[v]===d)continue t;e&&l.push(d),h.push(p)}else r(l,d,0)<0&&((e||f)&&l.push(d),h.push(p))}return h}var i=n(192),o=n(196),u=n(198),a=200;t.exports=r},195:function(t,e){function n(t,e){for(var n=-1,r=e.length,i=Array(r);++n<r;)i[n]=t[e[n]];return i}t.exports=n},196:function(t,e){function n(t,e){var n=t.data,i="string"==typeof e||r(e)?n.set.has(e):n.hash[e];return i?0:-1}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},197:function(t,e,n){function r(t){return u(function(e,n){var r=-1,u=null==e?0:n.length,a=u>2?n[u-2]:void 0,s=u>2?n[2]:void 0,c=u>1?n[u-1]:void 0;for("function"==typeof a?(a=i(a,c,5),u-=2):(a="function"==typeof c?c:void 0,u-=a?1:0),s&&o(n[0],n[1],s)&&(a=3>u?void 0:a,u=1);++r<u;){var f=n[r];f&&t(e,f,a)}return e})}var i=n(91),o=n(93),u=n(206);t.exports=r},198:function(t,e,n){(function(e){function r(t){var e=t?t.length:0;for(this.data={hash:c(null),set:new s};e--;)this.push(t[e])}function i(t){var e=this.data;"string"==typeof t||u(t)?e.set.add(t):e.hash[t]=!0}function o(t){return c&&s?new r(t):null}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var a=n(92),s=a(e,"Set"),c=a(Object,"create");r.prototype.push=i,t.exports=o}).call(e,function(){return this}())},199:function(t,e,n){function r(t){return null==t?"":t+""}function i(t){if(o(t))return t;var e=[];return r(t).replace(u,function(t,n,r,i){e.push(r?i.replace(a,"$1"):n||t)}),e}var o=n(21),u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,a=/\\(\\)?/g;t.exports=i},200:function(t,e,n){function r(t,e,n){for(var r=-1,i=u(e),o=i.length;++r<o;){var a=i[r],s=t[a],c=n(s,e[a],a,t,e);(c===c?c===s:s!==s)&&(void 0!==s||a in t)||(t[a]=c)}return t}var i=n(188),o=n(197),u=n(22),a=o(function(t,e,n){return n?r(t,e,n):i(t,e)});t.exports=a},201:function(t,e){function n(t){return!!t&&"object"==typeof t}function r(t){return function(e){return null==e?void 0:e[t]}}function i(t){return null!=t&&o(l(t))}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&f>=t}function u(t){return n(t)&&i(t)&&s.call(t,"callee")&&!c.call(t,"callee")}var a=Object.prototype,s=a.hasOwnProperty,c=a.propertyIsEnumerable,f=9007199254740991,l=r("length");t.exports=u},202:function(t,e){function n(t){return!!t&&"object"==typeof t}function r(t){return"number"==typeof t&&t>-1&&t%1==0&&P>=t}function i(t){return n(t)&&r(t.length)&&!!j[M.call(t)]}var o="[object Arguments]",u="[object Array]",a="[object Boolean]",s="[object Date]",c="[object Error]",f="[object Function]",l="[object Map]",h="[object Number]",p="[object Object]",d="[object RegExp]",v="[object Set]",g="[object String]",y="[object WeakMap]",m="[object ArrayBuffer]",b="[object Float32Array]",_="[object Float64Array]",w="[object Int8Array]",x="[object Int16Array]",S="[object Int32Array]",E="[object Uint8Array]",k="[object Uint8ClampedArray]",A="[object Uint16Array]",O="[object Uint32Array]",j={};j[b]=j[_]=j[w]=j[x]=j[S]=j[E]=j[k]=j[A]=j[O]=!0,j[o]=j[u]=j[m]=j[a]=j[s]=j[c]=j[f]=j[l]=j[h]=j[p]=j[d]=j[v]=j[g]=j[y]=!1;var I=Object.prototype,M=I.toString,P=9007199254740991;t.exports=i},203:function(t,e,n){function r(t,e){var n=-1,r=o(t)?Array(t.length):[];return f(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function i(t){return function(e){return null==e?void 0:e[t]}}function o(t){return null!=t&&u(p(t))}function u(t){return"number"==typeof t&&t>-1&&t%1==0&&h>=t}function a(t,e,n){var i=l(t)?s:r;return e=c(e,n,3),i(t,e)}var s=n(187),c=n(90),f=n(190),l=n(21),h=9007199254740991,p=i("length");t.exports=a},204:function(t,e,n){function r(t){return i(t)?t:Object(t)}function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function o(t){t=r(t);for(var e=-1,n=u(t),i=n.length,o=Array(i);++e<i;){var a=n[e];o[e]=[a,t[a]]}return o}var u=n(22);t.exports=o},205:function(t,e,n){function r(t){return function(e){return null==e?void 0:e[t]}}function i(t){var e=t+"";return t=l(t),function(n){return f(n,t,e)}}function o(t,e){var n=typeof t;if("string"==n&&v.test(t)||"number"==n)return!0;if(h(t))return!1;var r=!d.test(t);return r||null!=e&&t in u(e)}function u(t){return s(t)?t:Object(t)}function a(t,e){return p(t,c(e))}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function c(t){return o(t)?r(t):i(t)}var f=n(191),l=n(199),h=n(21),p=n(203),d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,v=/^\w*$/;t.exports=a},206:function(t,e){function n(t,e){if("function"!=typeof t)throw new TypeError(r);return e=i(void 0===e?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,o=i(n.length-e,0),u=Array(o);++r<o;)u[r]=n[e+r];switch(e){case 0:return t.call(this,u);case 1:return t.call(this,n[0],u);case 2:return t.call(this,n[0],n[1],u)}var a=Array(e+1);for(r=-1;++r<e;)a[r]=n[r];return a[e]=u,t.apply(this,a)}}var r="Expected a function",i=Math.max;t.exports=n},207:function(t,e,n){function r(t,e){for(var n,r=-1,i=t.length,o=-1,u=[];++r<i;){var a=t[r],s=e?e(a,r,t):a;r&&n===s||(n=s,u[++o]=a)}return u}function i(t,e,n,i){var s=t?t.length:0;return s?(null!=e&&"boolean"!=typeof e&&(i=n,n=a(t,e,i)?void 0:e,e=!1),n=null==n?n:o(n,i,3),e?r(t,n):u(t,n)):[]}var o=n(90),u=n(194),a=n(93);t.exports=i},208:function(t,e,n){function r(t){return i(t,o(t))}var i=n(195),o=n(22);t.exports=r},217:function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},218:function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},219:function(t,e){(function(e){t.exports=e}).call(e,{})},221:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e,n){return 1-(n-t)/(e-t)}function u(t){return t.position}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(7),c=r(s),f=function(){function t(e,n){i(this,t),this._notes=c["default"].sortBy(e,u),this._barLines=(0,c["default"])(n).pluck("position").sortBy().value()}return a(t,[{key:"getVisibleNotes",value:function(t,e,n){var r=[],i=this._notes;n||(n=0);for(var u=0;u<i.length;u++){var a=i[u],s=a.end?!(a.position>e||a.end.position<t-n):!(a.position>e||a.position<t-n);if(s){var c={note:a};if(a.end){var f=o(t,e,a.position),l=o(t,e,a.end.position);c.y=Math.min(f,l),c.height=Math.abs(f-l)}else c.y=o(t,e,a.position);r.push(c)}}return r}},{key:"getVisibleBarLines",value:function(t,e,n){return n||(n=0),this._barLines.filter(function(r){return r>=t-n&&e>=r}).map(function(n){return{id:n,y:o(t,e,n)}})}}]),t}();e.NoteArea=f,e["default"]=f},222:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(221),a=r(u),s=n(36),c=function(){function t(e){i(this,t);var n=e.notechart;this._currentSpeed=1,this._player=e,this._noteArea=new a["default"](n.notes,n.barLines),this._stateful={},this._defaultData={placement:e.options.placement,scratch:e.options.scratch}}return o(t,[{key:"update",value:function(t,e,n){function r(){b.beat=g}function i(t){return n.stats.counts&&n.stats.counts[t]}function o(){return(100*(n.stats.currentAccuracy||0)).toFixed(2)+"%"}function u(){var t=d.getVisibleNotes(y,h(),1),e=!0,r=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(e=(o=u.next()).done);e=!0){var a=o.value,c=a.note,f=c.column;if(a.height){var l=n.getNoteJudgment(c),p=n.getNoteStatus(c);_("longnote_"+f,{key:c.id,y:a.y,height:a.height,active:0!==l&&l!==s.MISSED,missed:"judged"===p&&l===s.MISSED})}else"judged"!==n.getNoteStatus(c)&&_("note_"+f,{key:c.id,y:a.y})}}catch(v){r=!0,i=v}finally{try{!e&&u["return"]&&u["return"]()}finally{if(r)throw i}}}function a(){var t=d.getVisibleBarLines(y,h(),1),e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var u=i.value;_("barlines",{key:u.id,y:u.y})}}catch(a){n=!0,r=a}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw r}}}function c(){var e=n.input,r=!0,i=!1,o=void 0;try{for(var u,a=p.columns[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var s=u.value,c=e.get(s);b[s+"_active"]=0!==c.value?1:0,c.changed&&(0!==c.value?v[s+"_down"]=t:v[s+"_up"]=t)}}catch(f){i=!0,o=f}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw o}}}function f(){var e=n.notifications.judgments,r=e[e.length-1];if(r){var i=-1===r.judgment?"missed":""+r.judgment;v["judge_"+i]=t;var o=-1===r.judgment||1===r.judgment?"none":r.delta>0?"late":r.delta<0?"early":"none";v["judge_deviation_"+o]=t,v.combo=r.combo}b.score=n.stats.score}function l(){for(var e=n.notifications.judgments,r=0;r<e.length;r++){var i=e[r];(0,s.breaksCombo)(i.judgment)||(v[i.column+"_explode"]=t)}}function h(){return y+5/w}var p=this._player,d=this._noteArea,v=this._stateful,g=p.notechart.secondsToBeat(e),y=p.notechart.beatToPosition(g),m=p.notechart.spacingAtBeat(g),b=Object.assign({},this._defaultData),_=function(t,e){return(b[t]||(b[t]=[])).push(e)};this._currentSpeed+=(n.speed-this._currentSpeed)/3;var w=this._currentSpeed*m;return r(),u(),a(),c(),f(),l(),b.speed=n.speed.toFixed(1)+"x",b.stat_1=i(1),b.stat_2=i(2),b.stat_3=i(3),b.stat_4=i(4),b.stat_missed=i(s.MISSED),b.stat_acc=o(),b.bpm=Math.round(p.notechart.bpmAtBeat(g)),Object.assign(b,v),b}}]),t}();e.PlayerDisplay=c,e["default"]=c},223:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){return function(e){var n=0;return Object.defineProperties({notes:e,update:function(){for(;n<e.length&&"judged"===t.getNoteStatus(e[n]);)n+=1}},{startIndex:{get:function(){return n},configurable:!0,enumerable:!0}})}}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(7),s=r(a),c=n(36),f=n(224),l=r(f),h=function(){function t(e){i(this,t),this._player=e,this._columns=e.columns,this._noteBufferByColumn=(0,s["default"])(e.notechart.notes).sortBy("time").groupBy("column").mapValues(o(this)).value(),this._noteResult=new Map,this._duration=e.notechart.duration,this.stats=new l["default"](e.notechart),this.notifications={},this.speed=e.options.speed,this.finished=!1}return u(t,[{key:"update",value:function(t,e){this._gameTime=t,this._rawInput=e,this.notifications={},this.notifications.sounds=[],this.notifications.judgments=[],this._updateInputColumnMap(),this._judgeNotes(),this._updateSpeed(),t>this._duration+1&&(this.finished=!0)}},{key:"getNoteStatus",value:function(t){var e=this._noteResult.get(t);return e?e.status:"unjudged"}},{key:"getNoteJudgment",value:function(t){var e=this._noteResult.get(t);return e?e.judgment:0}},{key:"getPlayerInput",value:function(t){return this._rawInput.get("p"+this._player.number+"_"+t)}},{key:"_updateInputColumnMap",value:function(){var t=this;this.input=new Map(this._columns.map(function(e){return[e,t.getPlayerInput(e)]}))}},{key:"_judgeNotes",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,i=this._columns[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value,u=this._noteBufferByColumn[o];if(u){var a=this.input.get(o);this._judgeColumn(u,a),u.update()}}}catch(s){e=!0,n=s}finally{try{!t&&i["return"]&&i["return"]()}finally{if(e)throw n}}}},{key:"_updateSpeed",value:function(){this.getPlayerInput("speedup").justPressed&&this._modifySpeed(1),this.getPlayerInput("speeddown").justPressed&&this._modifySpeed(-1);var t=this.getPlayerInput("pinch").value;if(t&&!this._pinching?this._pinching={start:t,speed:this.speed}:t||(this._pinching=null),t){var e=this._pinching,n=e.speed*t/e.start;this.speed=Math.max(.2,Math.round(10*n)/10)}}},{key:"_modifySpeed",value:function(t){var e=this._rawInput.get("select").value?.1:this.speed<.5?.3:.5;this.speed+=t*e,this.speed<.2&&(this.speed=.2)}},{key:"_judgeColumn",value:function(t,e){for(var n=void 0,r=void 0,i=t.notes,o=t.startIndex;o<i.length;o++){var u=i[o];if(this._shouldJudge(u,e,t)){var a="active"!==this.getNoteStatus(u);if(n=u,r=this._judge(u),a)break}}if(e.justPressed)if(n)this.notifications.sounds.push({note:n,type:"hit",judgment:r});else{var s=this._getFreestyleNote(i);s&&this.notifications.sounds.push({note:s,type:"free"})}}},{key:"_getClosestNote",value:function(t){var e=this;return s["default"].min(t,function(t){return Math.abs(e._gameTime-t.time)})}},{key:"_getFreestyleNote",value:function(t){var e=this;return s["default"].min(t,function(t){var n=Math.abs(e._gameTime-t.time),r=e._gameTime<t.time-1?1e6:0;return n+r})}},{key:"_shouldJudge",value:function(t,e,n){var r=this.getNoteStatus(t);if("unjudged"===r){var i=(0,c.judgeTime)(this._gameTime,t.time),o=i===c.MISSED,u=i>0&&e.changed&&e.value;return(0,c.isBad)(i)&&this._getClosestNote(n.notes)!==t&&(u=!1),o||u}if("active"===r){var i=(0,c.judgeEndTime)(this._gameTime,t.end.time),o=i===c.MISSED,a=e.changed,s="SC"===t.column,f=this._gameTime>=t.end.time;return o||a||s&&f}return!1}},{key:"_judge",value:function(t){var e=this._gameTime-t.time,n=(0,c.judgeTime)(this._gameTime,t.time),r=this._noteResult.get(t),i=!r||"unjudged"===r.status,o=r&&"active"===r.status;if(t.end){if(i){var u=n===c.MISSED?"judged":"active";r={status:u,judgment:n,delta:e}}else if(o){var a="SC"===t.column;e=this._gameTime-t.end.time,n=(0,c.judgeEndTime)(this._gameTime,t.end.time)||c.MISSED,a&&e>0&&(n=1),r={status:"judged",judgment:n,delta:e}}}else r={status:"judged",judgment:n,delta:e};return n===c.MISSED&&this.notifications.sounds.push({note:t,type:"break"}),i&&n!==c.MISSED&&this.stats.handleDelta(e),this._noteResult.set(t,r),this._setJudgment(n,e,t.column),n}},{key:"_setJudgment",value:function(t,e,n){this.stats.handleJudgment(t);var r={judgment:t,combo:this.stats.combo,delta:e,column:n};this.notifications.judgments.push(r)}},{key:"player",get:function(){return this._player}}]),t}();e.PlayerState=h,e["default"]=h},224:function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(7),c=i(s),f=n(36),l=r(f),h=function(){
function t(e){var n;u(this,t),this.totalCombo=(0,c["default"])(e.notes).map(function(t){return e.info(t).combos}).sum(),this.combo=0,this.maxCombo=0,this.rawSumJudgmentWeight=0,this.rawTotalComboScore=this._calculateRawTotalComboScore(),this.rawSumComboScore=0,this.counts=(n={},o(n,l.MISSED,0),o(n,"1",0),o(n,"2",0),o(n,"3",0),o(n,"4",0),n),this.numJudgments=0,this.poor=!1,this._log=[],this.deltas=[]}return a(t,[{key:"handleJudgment",value:function(t){l.breaksCombo(t)?(this.combo=0,this.poor=!0):(this.combo+=1,this.rawSumComboScore+=this._calculateRawComboScore(this.combo),this.poor=!1),this.rawSumJudgmentWeight+=l.weight(t),this.combo>this.maxCombo&&(this.maxCombo=this.combo),this.counts[t]+=1,this.numJudgments+=1,this._recordLog(t)}},{key:"handleDelta",value:function(t){this.deltas.push(t)}},{key:"_calculateRawTotalComboScore",value:function(){for(var t=0,e=1;e<=this.totalCombo;e++)t+=this._calculateRawComboScore(e);return t}},{key:"_calculateRawComboScore",value:function(t){return 0===t?0:23>t?1:51>t?2:92>t?3:161>t?4:5}},{key:"_recordLog",value:function(t){var e=this._getLogCharacter(t);e&&(0===this._log.length||this._log[this._log.length-1].character!==e?this._log.push({character:e,count:1}):this._log[this._log.length-1].count+=1)}},{key:"_getLogCharacter",value:function(t){switch(t){case 1:return"A";case 2:return"B";case 3:return"C";case 4:return"D";case l.MISSED:return"M"}}},{key:"score",get:function(){var t=Math.floor(5e5*this.accuracy),e=Math.floor(55555*this.rawSumComboScore/this.rawTotalComboScore);return t+e}},{key:"accuracy",get:function(){return this.rawSumJudgmentWeight/(l.weight(1)*this.totalCombo)}},{key:"currentAccuracy",get:function(){return this.rawSumJudgmentWeight/(l.weight(1)*this.numJudgments||1)}},{key:"log",get:function(){return this._log.map(function(t){var e=t.character,n=t.count;return""+(n>1?n:"")+e}).join("")}}]),t}();e.PlayerStats=h,e["default"]=h},225:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(109),a=r(u),s=n(124),c=function(){function t(e){i(this,t),this._url=e}return o(t,[{key:"read",value:function(t){return(0,a["default"])(this._url).as("arraybuffer",t)}},{key:"name",get:function(){return(0,s.basename)(this._url)}}]),t}();e.URLResource=c,e["default"]=c},230:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e,n){var r=n.beatForPulse,o=new Set,u=new Set,s=new Set,c=!0,f=!1,l=void 0;try{for(var h,p=t[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var d=h.value,v=d.x,g=d.y,y=d.c;o.add(g),v&&u.add(g),y||s.add(g)}}catch(m){f=!0,l=m}finally{try{!c&&p["return"]&&p["return"]()}finally{if(f)throw l}}var b=new Map,_=null,w=!0,x=void 0,S=void 0,E=!0,k=!1,A=void 0;try{for(var O,j=a["default"].sortBy([].concat(i(o)))[Symbol.iterator]();!(E=(O=j.next()).done);E=!0){var g=O.value,I=e.beatToSeconds(r(g));null===_||s.has(g)?_=0:_+=I-x;var M=w||u.has(g)||s.has(g);if(M){S&&!s.has(g)&&(S.keysoundEnd=_);var P={keysoundStart:_,keysoundEnd:void 0};b.set(g,P),S=P}w=u.has(g),x=I}}catch(m){k=!0,A=m}finally{try{!E&&j["return"]&&j["return"]()}finally{if(k)throw A}}return b}Object.defineProperty(e,"__esModule",{value:!0}),e.slicesForNotesAndTiming=o;var u=n(7),a=r(u)},238:function(t,e,n){t.exports=n.p+"7d6d69a86d70e4e52079c5ce873435c6.jpg"},274:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),n(321);var i=n(1),o=r(i);e["default"]=o["default"].createClass({displayName:"BenchmarkPanel",render:function(){return o["default"].createElement("div",{className:"BenchmarkPanel",onClick:this.handleInteraction,onTouchStart:this.handleInteraction},this.state.show?o["default"].createElement("article",null,o["default"].createElement("b",null,"Benchmark Stats"),o["default"].createElement("br",null),this.renderTable()):"Show Benchmark Stats")},componentDidMount:function(){var t=this;setInterval(function(){return t.forceUpdate()},1e3)},renderTable:function(){var t=this.props.bench.stats;return o["default"].createElement("table",null,o["default"].createElement("tbody",null,Object.keys(t).map(function(e){var n=t[e];return o["default"].createElement("tr",null,o["default"].createElement("td",null,o["default"].createElement("strong",null,e)),o["default"].createElement("td",{align:"right"},""+n))})))},getInitialState:function(){return{show:!1,text:"wow"}},handleInteraction:function(t){t.preventDefault(),t.stopPropagation(),this.setState({show:!this.state.show})}}),t.exports=e["default"]},275:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(42),o=r(i),u=n(127),a=r(u),s=new o["default"](a["default"],{id:Number,end:o["default"].maybe(a["default"]),column:String});e.GameNote=s,e["default"]=s},276:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(222),s=r(a);n(322);var c=n(27),f=r(c),l=function(){function t(e){var n=e.game,r=e.context,o=e.backgroundImagePromise;i(this,t),this._game=n,this._context=r,this._players=new Map(n.players.map(function(t){return[t,new s["default"](t)]})),this._stateful={},this._wrapper=this._createWrapper({backgroundImagePromise:o})}return u(t,[{key:"start",value:function(){this._started=(new Date).getTime();var t=this._game.players[0],e=t.notechart.songInfo;this._stateful.song_title=e.title,this._stateful.song_artist=e.artist,this._duration=t.notechart.duration}},{key:"destroy",value:function(){this._context.destroy()}},{key:"update",value:function(t,e){var n=((new Date).getTime()-this._started)/1e3,r=this._getData(n,t,e);this._updateStatefulData(n,t,e),this._context.render(Object.assign({},this._stateful,r))}},{key:"_getData",value:function(t,e,n){var r={};r.tutorial=this._game.options.tutorial?"yes":"no",r.t=t,r.gameTime=e,r.ready=this._getReady(n),r.song_time=this._getSongTime(e);var i=!0,u=!1,a=void 0;try{for(var s,c=this._players[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var f=o(s.value,2),l=f[0],h=f[1],p=n.player(l),d=h.update(t,e,p);for(var v in d)r["p"+l.number+"_"+v]=d[v]}}catch(g){u=!0,a=g}finally{try{!i&&c["return"]&&c["return"]()}finally{if(u)throw a}}return r}},{key:"_updateStatefulData",value:function(t,e,n){var r=this._stateful;void 0===r.started&&n.started&&(r.started=t),void 0===r.gettingStarted&&n.gettingStarted&&(r.gettingStarted=t)}},{key:"_getSongTime",value:function(t){return this._formatTime(Math.min(this._duration,Math.max(0,t)))+" / "+this._formatTime(this._duration)}},{key:"_getReady",value:function(t){var e=t.readyFraction;return e>.5?Math.pow(1-(e-.5)/.5,2):0}},{key:"_createWrapper",value:function(t){var e=t.backgroundImagePromise,n=(0,f["default"])('<div class="game-display"></div>').append('<div class="game-display--bg js-back-image"></div>').append(this.view);return e&&Promise.resolve(e).then(function(t){return n.find(".js-back-image").append(t)}),n[0]}},{key:"_formatTime",value:function(t){var e=Math.floor(t%60);return Math.floor(t/60)+":"+(10>e?"0":"")+e}},{key:"context",get:function(){return this._context}},{key:"view",get:function(){return this._context.view}},{key:"wrapper",get:function(){return this._wrapper}}]),t}();e.GameDisplay=l,e["default"]=l},277:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(167),a=r(u),s=function(){function t(e,n){i(this,t),this.options=n,this.players=n.players.map(function(t,r){return t=Object.assign({},t,{autosound:n.audioInputLatency>=.01}),new a["default"](e[r],r+1,t)})}return o(t,[{key:"samples",get:function(){var t=new Set,e=!0,n=!1,r=void 0;try{for(var i,o=this.players[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var u=i.value,a=!0,s=!1,c=void 0;try{for(var f,l=u.notechart.samples[Symbol.iterator]();!(a=(f=l.next()).done);a=!0){var h=f.value;t.add(h)}}catch(p){s=!0,c=p}finally{try{!a&&l["return"]&&l["return"]()}finally{if(s)throw c}}}}catch(p){n=!0,r=p}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw r}}return Array.from(t)}}]),t}();e.Game=s,e["default"]=s},278:function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){n(this,t),this.value=0,this.changed=!1}return r(t,[{key:"justPressed",get:function(){return this.changed&&this.value}}]),t}();e.Control=i,e["default"]=i},279:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(223),s=r(a),c=function(){function t(e){i(this,t),this._game=e,this._players=new Map(e.players.map(function(t){return[t,new s["default"](t)]}))}return u(t,[{key:"update",value:function(t,e,n){var r=!0,i=!0,u=!1,a=void 0;try{for(var s,c=this._players[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var f=o(s.value,2),l=(f[0],f[1]);l.update(t,e),l.finished||(r=!1)}}catch(h){u=!0,a=h}finally{try{!i&&c["return"]&&c["return"]()}finally{if(u)throw a}}this.readyFraction=n.readyFraction,this.gettingStarted=n.gettingStarted,this.started=n.started,this.finished=r}},{key:"player",value:function(t){return this._players.get(t)}},{key:"game",get:function(){return this._game}}]),t}();e.GameState=c,e["default"]=c},280:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return c["default"].fromBinder(function(e){var n=!0,r=!1,i=void 0;try{for(var o,u=t.inputs.values()[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var a=o.value;e(new c["default"].Next(a))}}catch(s){r=!0,i=s}finally{try{!n&&u["return"]&&u["return"]()}finally{if(r)throw i}}var f=!0,l=!1,h=void 0;try{for(var p,d=t.outputs.values()[Symbol.iterator]();!(f=(p=d.next()).done);f=!0){var a=p.value;e(new c["default"].Next(a))}}catch(s){l=!0,h=s}finally{try{!f&&d["return"]&&d["return"]()}finally{if(l)throw h}}t.onstatechange=function(t){e(new c["default"].Next(t.port))}})}function o(){return navigator.requestMIDIAccess?navigator.requestMIDIAccess():Promise.reject(new Error("MIDI is not supported"))}function u(){return c["default"].fromPromise(o()).flatMap(i).flatMapError(function(t){return console.warn("MIDI Error:",t.stack),c["default"].never()}).flatMap(a).doLog("messageforport")}function a(t){return"input"!==t.type?c["default"].never():c["default"].fromEvent(t,"midimessage")}Object.defineProperty(e,"__esModule",{value:!0}),e.getMidi川=u;var s=n(19),c=r(s);e["default"]=u},283:function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){function e(t){return(0,f["default"])(regeneratorRuntime.mark(function e(){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.webkitGetAsEntry&&t.webkitGetAsEntry(),!r){e.next=6;break}return e.next=4,n(r,"");case 4:e.next=8;break;case 6:i=t.getAsFile&&t.getAsFile(),u(i);case 8:case"end":return e.stop()}},e,this)}))}function n(t){return t.isFile?r(t):t.isDirectory?i(t):void 0}function r(t){return new Promise(function(e,n){t.file(e,n)}).tap(function(t){u(t)})}function i(t){return(0,f["default"])(regeneratorRuntime.mark(function e(){var r,i,u,a,s,c,f,l,h,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=[],i=t.createReader(),u=function(){return new Promise(function(t,e){i.readEntries(t,e)})};case 3:return e.next=5,u();case 5:if(a=e.sent,a&&0!==a.length){e.next=8;break}return e.abrupt("break",11);case 8:r.push.apply(r,o(Array.from(a)));case 9:e.next=3;break;case 11:s=!0,c=!1,f=void 0,e.prev=14,l=r[Symbol.iterator]();case 16:if(s=(h=l.next()).done){e.next=23;break}return p=h.value,e.next=20,n(p);case 20:s=!0,e.next=16;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](14),c=!0,f=e.t0;case 29:e.prev=29,e.prev=30,!s&&l["return"]&&l["return"]();case 32:if(e.prev=32,!c){e.next=35;break}throw f;case 35:return e.finish(32);case 36:return e.finish(29);case 37:case"end":return e.stop()}},e,this,[[14,25,29,37],[30,,32,36]])}))}function u(t){t&&a.push({name:t.name,file:t})}var a=[];return(0,f["default"])(regeneratorRuntime.mark(function s(){var n,r,i,o,c,f,l,h,p,d,v,g;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!t.dataTransfer.items){s.next=29;break}n=!0,r=!1,i=void 0,s.prev=4,o=Array.from(t.dataTransfer.items)[Symbol.iterator]();case 6:if(n=(c=o.next()).done){s.next=13;break}return f=c.value,s.next=10,e(f);case 10:n=!0,s.next=6;break;case 13:s.next=19;break;case 15:s.prev=15,s.t0=s["catch"](4),r=!0,i=s.t0;case 19:s.prev=19,s.prev=20,!n&&o["return"]&&o["return"]();case 22:if(s.prev=22,!r){s.next=25;break}throw i;case 25:return s.finish(22);case 26:return s.finish(19);case 27:s.next=49;break;case 29:if(!t.dataTransfer.files){s.next=49;break}for(l=!0,h=!1,p=void 0,s.prev=33,d=Array.from(t.dataTransfer.files)[Symbol.iterator]();!(l=(v=d.next()).done);l=!0)g=v.value,u(g);s.next=41;break;case 37:s.prev=37,s.t1=s["catch"](33),h=!0,p=s.t1;case 41:s.prev=41,s.prev=42,!l&&d["return"]&&d["return"]();case 44:if(s.prev=44,!h){s.next=47;break}throw p;case 47:return s.finish(44);case 48:return s.finish(41);case 49:return s.abrupt("return",a);case 50:case"end":return s.stop()}},s,this,[[4,15,19,27],[20,,22,26],[33,37,41,49],[42,,44,48]])}))}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(24),f=i(c),l=n(56),h=i(l),p=n(74),d=r(p),v=function(){function t(e){u(this,t),this._files=a(e)}return s(t,[{key:"file",value:function(t){return this._files.then(function(e){var n=!0,r=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var a=o.value;if(a.name.toLowerCase()===t.toLowerCase())return new g(a.file)}}catch(s){r=!0,i=s}finally{try{!n&&u["return"]&&u["return"]()}finally{if(r)throw i}}throw new Error("unable to find "+t)})}},{key:"fileList",get:function(){return Promise.resolve(this._files.map(function(t){return t.name}))}}]),t}();e.DndResources=v;var g=function(){function t(e){u(this,t),this._file=e}return s(t,[{key:"read",value:function(t){return d.atomic(t,(0,h["default"])(this._file).as("arraybuffer"))}},{key:"name",get:function(){return this._file.name}}]),t}();e.FileResource=g,e["default"]=v},284:function(t,e,n){function r(t){this._map=t}var i=n(30);r.prototype.get=function(t){return this._map[t.toLowerCase()]},r.prototype.files=function(){return i.uniq(i.values(this._map))},r.prototype.all=function(){return this._map},r.fromBMSChart=function(t){var e={};return t.headers.each(function(t,n){var r=t.match(/^wav(\S\S)$/i);r&&(e[r[1].toLowerCase()]=n)}),new r(e)},t.exports=r},285:function(t,e,n){function r(t){this._speedcore=new i(t)}var i=n(47);n(30);t.exports=r,r.prototype.speed=function(t){return this._speedcore.dx(t)},r.prototype.position=function(t){return this._speedcore.x(t)},r.fromBMSChart=function(t){var e=[],n=0;return e.push({t:0,x:n,dx:1,inclusive:!0}),t.objects.allSorted().forEach(function(r){if("SC"===r.channel){var i=t.measureToBeat(r.measure,r.fraction),o=+t.headers.get("scroll"+r.value);if(isNaN(o))return;var u=e[e.length-1];n+=(i-u.t)*u.dx,0===i&&1===e.length?e[0].dx=o:e.push({t:i,x:n,dx:o,inclusive:!0})}}),new r(e)}},286:function(t,e,n){function r(t){t.length>0&&(this._speedcore=new i(t))}var i=n(47);n(30);t.exports=r,r.prototype.factor=function(t){return this._speedcore?this._speedcore.x(t):1},r.fromBMSChart=function(t){var e=[];return t.objects.allSorted().forEach(function(n){if("SP"===n.channel){var r=t.measureToBeat(n.measure,n.fraction),i=+t.headers.get("speed"+n.value);if(isNaN(i))return;if(e.length>0){var o=e[e.length-1];o.dx=(i-o.x)/(r-o.t)}e.push({t:r,x:i,dx:0,inclusive:!0})}}),e.length>0&&e.unshift({t:0,x:e[0].x,dx:0,inclusive:!0}),new r(e)}},287:function(t,e,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===u||e===l?62:e===a||e===h?63:s>e?-1:s+10>e?e-s+26+26:f+26>e?e-f:c+26>e?e-c+26:void 0}function n(t){function n(t){c[l++]=t}var r,i,u,a,s,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=t.length;s="="===t.charAt(f-2)?2:"="===t.charAt(f-1)?1:0,c=new o(3*t.length/4-s),u=s>0?t.length-4:t.length;var l=0;for(r=0,i=0;u>r;r+=4,i+=3)a=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===s?(a=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&a)):1===s&&(a=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(a>>8&255),n(255&a)),c}function i(t){function e(t){return r.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,o,u,a=t.length%3,s="";for(i=0,u=t.length-a;u>i;i+=3)o=(t[i]<<16)+(t[i+1]<<8)+t[i+2],s+=n(o);switch(a){case 1:o=t[t.length-1],s+=e(o>>2),s+=e(o<<4&63),s+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],s+=e(o>>10),s+=e(o>>4&63),s+=e(o<<2&63),s+="="}return s}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,u="+".charCodeAt(0),a="/".charCodeAt(0),s="0".charCodeAt(0),c="a".charCodeAt(0),f="A".charCodeAt(0),l="-".charCodeAt(0),h="_".charCodeAt(0);t.toByteArray=n,t.fromByteArray=i}(e)},288:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},291:function(t,e,n){e=t.exports=n(3)(),e.push([t.id,".BenchmarkPanel{background:#449;border:2px solid #66e;padding:4px}.BenchmarkPanel table{font-size:10px}",""])},292:function(t,e,n){e=t.exports=n(3)(),e.push([t.id,".game-display{display:block;margin:0 auto;overflow:hidden;position:relative}.game-display--bg{position:absolute;top:0;left:0;z-index:10;background:url("+n(294)+") center no-repeat;background-size:cover;-webkit-animation:1.5s game-display--bg-default;animation:1.5s game-display--bg-default;animation-fill-mode:both}.game-display--bg,.game-display--bg img{width:100%;height:100%;-webkit-animation-fill-mode:both}.game-display--bg img{display:block;object-fit:cover;-webkit-animation:1.2s game-display--bg-default;animation:1.2s game-display--bg-default;animation-fill-mode:both}.game-display>canvas{position:relative;z-index:100}@-webkit-keyframes game-display--bg-default{0%{-webkit-transform:translate(0);transform:translate(0);opacity:0}to{-webkit-transform:translateY(-35px);transform:translateY(-35px);opacity:1}}@keyframes game-display--bg-default{0%{-webkit-transform:translate(0);transform:translate(0);opacity:0}to{-webkit-transform:translateY(-35px);transform:translateY(-35px);opacity:1}}",""])},293:function(t,e,n){e=t.exports=n(3)(),e.push([t.id,".Scene{top:0;bottom:0;overflow:hidden;font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}.Scene,.Scene>.SceneHeading{position:absolute;right:0;left:0}.Scene>.SceneHeading{top:2rem}.Scene>.SceneToolbar{position:absolute;right:0;bottom:0;left:0}",""])},294:function(t,e,n){t.exports=n.p+"ea410328703171d8f693d3a404a11a8f.jpg"},295:function(t,e){e.read=function(t,e,n,r,i){var o,u,a=8*i-r-1,s=(1<<a)-1,c=s>>1,f=-7,l=n?i-1:0,h=n?-1:1,p=t[e+l];for(l+=h,o=p&(1<<-f)-1,p>>=-f,f+=a;f>0;o=256*o+t[e+l],l+=h,f-=8);for(u=o&(1<<-f)-1,o>>=-f,f+=r;f>0;u=256*u+t[e+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===s)return u?NaN:(p?-1:1)*(1/0);u+=Math.pow(2,r),o-=c}return(p?-1:1)*u*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var u,a,s,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,v=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,u=f):(u=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-u))<1&&(u--,s*=2),e+=u+l>=1?h/s:h*Math.pow(2,1-l),e*s>=2&&(u++,s/=2),u+l>=f?(a=0,u=f):u+l>=1?(a=(e*s-1)*Math.pow(2,i),u+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),u=0));i>=8;t[n+p]=255&a,p+=d,a/=256,i-=8);for(u=u<<i|a,c+=i;c>0;t[n+p]=255&u,p+=d,u/=256,c-=8);t[n+p-d]|=128*v}},296:function(t,e){e=t.exports=function(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return o[t];var i=String(t),u=n[i.toLowerCase()];if(u)return u;var u=r[i.toLowerCase()];return u?u:1===i.length?i.charCodeAt(0):void 0};var n=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,"delete":46,command:91,"right click":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,"break":19,caps:20,"return":13,escape:27,spc:32,pgup:33,pgdn:33,ins:45,del:46,cmd:91};/*!
	 * Programatically add the following
	 */
for(i=97;123>i;i++)n[String.fromCharCode(i)]=i-32;for(var i=48;58>i;i++)n[i-48]=i;for(i=1;13>i;i++)n["f"+i]=i+111;for(i=0;10>i;i++)n["numpad "+i]=i+96;var o=e.names=e.title={};for(i in n)o[n[i]]=i;for(var u in r)n[u]=r[u]},321:function(t,e,n){var r=n(291);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},322:function(t,e,n){var r=n(292);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},323:function(t,e,n){var r=n(293);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},324:function(t,e,n){(function(e){function r(t,e,n){function r(){try{u.send(""+(new Date).getTime())}catch(t){}}function o(t){var e=t.split(","),r=+e[0],o=+e[1],u=(new Date).getTime();u>=r&&a.push(i.convert([r,o,o,u])),a.length>=8&&n&&n(i.offset(a))}var u=new WebSocket(t),a=[];u.onmessage=function(t){"k"==t.data&&r(),t.data.indexOf(",")>=0&&(o(t.data),r())},u.onclose=function(){return a.length<1?e(new Error("no offset received")):e(null,i.offset(a))}}var i=n(325);t.exports=r}).call(e,n(5))},325:function(t,e){e.convert=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return{offset:(n-e+(r-i))/2,delay:i-e-(r-n)}},e.offset=function(t){t=t.slice(),t.sort(function(t,e){return t.offset-e.offset}),t=t.slice(1,t.length-1),t.sort(function(t,e){return t.delay-e.delay});for(var e=0,n=0,r=Math.ceil(t.length/8),i=0;i<t.length&&(t[i].delay>t[0].delay&&r--,0!==r);i++)e+=t[i].offset,n+=1;return e/n}},326:function(t,e,n){var r;(function(t,i){!function(o){function u(t){throw RangeError(B[t])}function a(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function s(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(P,".");var i=t.split("."),o=a(i,e).join(".");return r+o}function c(t){for(var e,n,r=[],i=0,o=t.length;o>i;)e=t.charCodeAt(i++),e>=55296&&56319>=e&&o>i?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function f(t){return a(t,function(t){var e="";return t>65535&&(t-=65536,e+=D(t>>>10&1023|55296),t=56320|1023&t),e+=D(t)}).join("")}function l(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:w}function h(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function p(t,e,n){var r=0;for(t=n?C(t/k):t>>1,t+=C(t/e);t>T*S>>1;r+=w)t=C(t/T);return C(r+(T+1)*t/(t+E))}function d(t){var e,n,r,i,o,a,s,c,h,d,v=[],g=t.length,y=0,m=O,b=A;for(n=t.lastIndexOf(j),0>n&&(n=0),r=0;n>r;++r)t.charCodeAt(r)>=128&&u("not-basic"),v.push(t.charCodeAt(r));for(i=n>0?n+1:0;g>i;){for(o=y,a=1,s=w;i>=g&&u("invalid-input"),c=l(t.charCodeAt(i++)),(c>=w||c>C((_-y)/a))&&u("overflow"),y+=c*a,h=b>=s?x:s>=b+S?S:s-b,!(h>c);s+=w)d=w-h,a>C(_/d)&&u("overflow"),a*=d;e=v.length+1,b=p(y-o,e,0==o),C(y/e)>_-m&&u("overflow"),m+=C(y/e),y%=e,v.splice(y++,0,m)}return f(v)}function v(t){var e,n,r,i,o,a,s,f,l,d,v,g,y,m,b,E=[];for(t=c(t),g=t.length,e=O,n=0,o=A,a=0;g>a;++a)v=t[a],128>v&&E.push(D(v));for(r=i=E.length,i&&E.push(j);g>r;){for(s=_,a=0;g>a;++a)v=t[a],v>=e&&s>v&&(s=v);for(y=r+1,s-e>C((_-n)/y)&&u("overflow"),n+=(s-e)*y,e=s,a=0;g>a;++a)if(v=t[a],e>v&&++n>_&&u("overflow"),v==e){for(f=n,l=w;d=o>=l?x:l>=o+S?S:l-o,!(d>f);l+=w)b=f-d,m=w-d,E.push(D(h(d+b%m,0))),f=C(b/m);E.push(D(h(f,0))),o=p(n,y,r==i),n=0,++r}++n,++e}return E.join("")}function g(t){return s(t,function(t){return I.test(t)?d(t.slice(4).toLowerCase()):t})}function y(t){return s(t,function(t){return M.test(t)?"xn--"+v(t):t})}var m=("object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof i&&i);(m.global===m||m.window===m||m.self===m)&&(o=m);var b,_=2147483647,w=36,x=1,S=26,E=38,k=700,A=72,O=128,j="-",I=/^xn--/,M=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,B={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=w-x,C=Math.floor,D=String.fromCharCode;b={version:"1.3.2",ucs2:{decode:c,encode:f},decode:d,encode:v,toASCII:y,toUnicode:g},r=function(){return b}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)}).call(e,n(55)(t),function(){return this}())},337:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){t=s["default"].sortBy(t,"time");var e=0;return{next:function(n){for(var r=[];e<t.length&&n>=t[e].time;e++)r.push(t[e]);return r}}}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(7),s=r(a),c=n(338),f=r(c),l=n(36),h=function(){function t(e){var n=e.player,r=e.samples,u=e.master,a=e.waveFactory,s=e.volume;i(this,t);var c=n.notechart;this._waveFactory=a||new f["default"](u,r,c.keysounds,{volume:s}),this._autos=o(c.autos),this._notes=o(c.notes),this._played=new Map,this._autosound=!!n.options.autosound}return u(t,[{key:"update",value:function(t,e){this._playAutokeysounds(t),this._playAutosounds(t,e),this._handleSoundNotifications(e&&e.notifications.sounds||[])}},{key:"_playAutokeysounds",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=this._autos.next(t+1/30)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var u=i.value;this._waveFactory.playAuto(u,u.time-t)}}catch(a){n=!0,r=a}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw r}}}},{key:"_playAutosounds",value:function(t,e){var n=this._notes.next(t+1/30),r=e&&e.stats.poor,i=this._autosound&&!r;if(i){var o=!0,u=!1,a=void 0;try{for(var s,c=n[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var f=s.value;this._hitNote(f,f.time-t)}}catch(l){u=!0,a=l}finally{try{!o&&c["return"]&&c["return"]()}finally{if(u)throw a}}}}},{key:"_handleSoundNotifications",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var u=i.value,a=u.type,s=u.note;"hit"===a?this._hitNote(s,0,u.judgment):"break"===a?this._breakNote(s):"free"===a&&this._waveFactory.playFree(s,0)}}catch(c){n=!0,r=c}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw r}}}},{key:"_hitNote",value:function(t,e,n){var r=this._played.get(t);r||(r=this._waveFactory.playNote(t,e),this._played.set(t,r)),r&&(0,l.isBad)(n)&&r.bad()}},{key:"_breakNote",value:function(t){var e=this._played.get(t);e&&(console.log(e),e.stop())}}]),t}();e.PlayerAudio=h,e["default"]=h},338:function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e,r,i){var o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],u=o.volume;n(this,t),this._master=e,this._samples=r,this._map=i,this._exclusiveInstances=new Map,this._group=this._master.group({volume:u})}return r(t,[{key:"playAuto",value:function(t,e,n){return this._play({note:t,delay:e,exclusive:!0,slice:n})}},{key:"playNote",value:function(t,e,n){return this._play({note:t,delay:e,exclusive:!0,slice:n})}},{key:"playFree",value:function(t,e,n){return this._play({note:t,delay:0,exclusive:!1,slice:n})}},{key:"_play",value:function(t){var e=t.note,n=t.delay,r=t.exclusive,i=e.keysound;r&&this._stopOldExclusiveSound(i,n);var o=this._map[i.toLowerCase()];if(!o)return null;var u=this._samples[o];if(!u)return null;var a=u.play(n,{start:e.keysoundStart,end:e.keysoundEnd,group:this._group});return r&&this._exclusiveInstances.set(i,a),a}},{key:"_stopOldExclusiveSound",value:function(t,e){var n=this._exclusiveInstances.get(t);n&&(setTimeout(function(){return n.stop()},1e3*e),this._exclusiveInstances["delete"](t))}}]),t}();e.WaveFactory=i,e["default"]=i},339:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){var t=[];return window.BEMUSE_TOUCH_STATS.push(t),{record:function(e){var n=!0,r=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var a=o.value,s=a.x,c=a.y;t.push({x:Math.round(s),y:Math.round(c)})}}catch(f){r=!0,i=f}finally{try{!n&&u["return"]&&u["return"]()}finally{if(r)throw i}}},done:function(){t.length&&(localStorage._stats_touch=JSON.stringify(window.BEMUSE_TOUCH_STATS))}}}function o(t){function e(t){var e=arguments.length<=1||void 0===arguments[1]?4:arguments[1],n=t.clone();return n.x-=e,n.y-=e,n.width+=2*e,n.height+=2*e,n}function n(){return t.input}function r(n,r){var i=t.refs[r];if(i){var o=!0,u=!1,a=void 0;try{for(var s,c=i[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var f=s.value,l=e(f.getBounds()),h=!0,p=!1,d=void 0;try{for(var v,g=n[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){var y=v.value;if(l.contains(y.x,y.y))return 1}}catch(m){p=!0,d=m}finally{try{!h&&g["return"]&&g["return"]()}finally{if(p)throw d}}}}catch(m){u=!0,a=m}finally{try{!o&&c["return"]&&c["return"]()}finally{if(u)throw a}}}return 0}function o(n){var r=t.refs.p1_SC;if(!r)return 0;f=null;var i=!0,o=!1,u=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,h=!0,p=!1,d=void 0;try{for(var v,g=r[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){var y=v.value;if(e(y.getBounds(),32).contains(l.x,l.y)){f=l.y;break}}}catch(m){p=!0,d=m}finally{try{!h&&g["return"]&&g["return"]()}finally{if(p)throw d}}if(null!==f)break}}catch(m){o=!0,u=m}finally{try{!i&&s["return"]&&s["return"]()}finally{if(o)throw u}}return null===f?(c=null,0):(null===c&&(c=f),f>c+24?c=f-24:c-24>f&&(c=f+24),f>c+4?-1:c-4>f?1:0)}function u(t){var e=null,n=null,r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var s=u.value;if(s.y<550)if(null===e)e=s.y;else{if(null!==n)return 0;n=s.y}}}catch(c){i=!0,o=c}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw o}}return null!==e&&null!==n?Math.abs(e-n):0}var c=null,f=null,l=a["default"].wrap("input:touch:I",n),h=a["default"].wrap("input:touch:SC",o),p=a["default"].wrap("input:touch:B",r),d=a["default"].wrap("input:touch:P",u),v=new i;return{name:"TouchPlugin",get:function(){var t=l(),e={};a["default"].enabled&&(a["default"].stats["input:touch:n"]=""+t.length),v.record(t),e.p1_SC=h(t);var n=!0,r=!1,i=void 0;try{for(var o,u=s[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var c=o.value;e[c]=p(t,c)}}catch(f){r=!0,i=f}finally{try{!n&&u["return"]&&u["return"]()}finally{if(r)throw i}}return e.p1_pinch=d(t),e},destroy:function(){v.done()}}}Object.defineProperty(e,"__esModule",{value:!0}),e.TouchPlugin=o;var u=n(105),a=r(u),s=["p1_1","p1_2","p1_3","p1_4","p1_5","p1_6","p1_7","start"];window.BEMUSE_TOUCH_STATS=[],e["default"]=o},340:function(t,e,n){(function(t){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(24),s=i(a),c=n(57),f=i(c),l=n(128),h=i(l),p=n(364),d=r(p),v=function(){function e(){o(this,e)}return u(e,[{key:"load",value:function(t,e,n){return e.name.match(/\.bmson$/i)?this.loadBmson(t,e,n):this.loadBMS(t,e,n)}},{key:"loadBMS",value:function(e,n,r){return(0,s["default"])(regeneratorRuntime.mark(function i(){var n,o,u,a,s;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=new t(new Uint8Array(e)),i.next=3,Promise.promisify(f["default"].Reader.readAsync)(n);case 3:return o=i.sent,u=f["default"].Compiler.compile(o),a=u.chart,s=h["default"].fromBMSChart(a,r),i.abrupt("return",s);case 8:case"end":return i.stop()}},i,this)}))}},{key:"loadBmson",value:function(e,n,r){return(0,s["default"])(regeneratorRuntime.mark(function i(){var n,o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=new t(new Uint8Array(e)),o=n.toString("utf-8"),i.abrupt("return",d.load(o,r));case 3:case"end":return i.stop()}},i,this)}))}}]),e}();e.NotechartLoader=v,e["default"]=v}).call(e,n(88).Buffer)},341:function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(7),s=i(a),c=n(74),f=r(c),l=n(46),h=n(72),p=function(){function t(e,n){o(this,t),this._assets=e,this._master=n}return u(t,[{key:"loadFiles",value:function(t,e,n){var r=this,i=f.fixed(t.length,e),o=f.fixed(t.length,n),u=function(t){return r._loadSample(t,i,o)};return n&&(n.formatter=l.EXTRA_FORMATTER),Promise.map(t,u).then(function(t){return(0,s["default"])(t).filter().object().value()})}},{key:"_loadSample",value:function(t,e,n){var r=this;return this._getFile(t).then(function(i){return i.read().tap(function(){return e(t)}).then(function(t){return r._decode(t)}).tap(function(){return n(t)}).then(function(e){return[t,e]})["catch"](function(e){return console.error("Unable to decode: "+t,e),null})},function(e){return console.error("Unable to read: "+t,e),null})}},{key:"_decode",value:function(t){return this._master.sample(t)}},{key:"_getFile",value:function(t){var e=this;return Promise["try"](function(){if(!(0,h.canPlay)('audio/ogg; codecs="vorbis"'))throw new Error("cannot play OGG");return e._assets.file(t.replace(/\.\w+$/,".ogg"))})["catch"](function(){return e._assets.file(t.replace(/\.\w+$/,".m4a"))})["catch"](function(){return e._assets.file(t.replace(/\.\w+$/,".mp3"))})["catch"](function(){return e._assets.file(t)})}}]),t}();e.SamplesLoader=p,e["default"]=p},344:function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t){return(0,v["default"])(t.slice(0,10)).as("text").then(function(e){if("BEMUSEPACK"!==e)throw new Error("Invalid magic number");return(0,v["default"])(t.slice(10,14)).as("arraybuffer")}).then(function(t){var e=new Uint8Array(t),n=e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24);return n}).then(function(e){return t.slice(14+e)})}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(58),f=n(488),l=i(f),h=n(109),p=i(h),d=n(56),v=i(d),g=n(543),y=i(g),m=n(107),b=i(m),_=n(74),w=r(_),x=n(225),S=function(){function t(e){var n=this,r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,t);var i=l["default"].bind(null,this);this._url=e,this._fallback=r.fallback,this._fallbackPattern=r.fallbackPattern,i("metadata",function(){return(0,p["default"])((0,c.resolve)(n._url,"metadata.json")).as("text").then(function(t){return JSON.parse(t)})}),i("refs",function(){return n.metadata.then(function(t){return t.refs.map(function(t){return new k(n,t)})})}),i("_fileMap",function(){return n.metadata.then(function(t){var e=new Map,n=!0,r=!1,i=void 0;try{for(var o,u=t.files[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var a=o.value;e.set(a.name.toLowerCase(),a)}}catch(s){r=!0,i=s}finally{try{!n&&u["return"]&&u["return"]()}finally{if(r)throw i}}return e})}),this.progress={all:new b["default"],current:new b["default"]};var a=w.simultaneous(this.progress.current),s=function(){var t=new b["default"];return a.add(t),t};this._loadPayload=w.wrapPromise(this.progress.all,(0,y["default"])(2,function(t){return(0,p["default"])(t).as("blob",s()).then(u)}))}return s(t,[{key:"file",value:function(t){var e=this;return this._fileMap.then(function(n){var r=n.get(t.toLowerCase());if(r)return new E(e,r.ref,r.name);if(e._fallback&&e._fallbackPattern.test(t))return new x.URLResource((0,c.resolve)(e._fallback,t));throw new Error("Unable to find: "+t)})}},{key:"getBlob",value:function(t){var e=a(t,3),n=e[0],r=e[1],i=e[2];return this.refs.then(function(t){return t[n]}).then(function(t){return t.load()}).then(function(t){return t.slice(r,i)})}},{key:"url",get:function(){return this._url}}]),t}();e.BemusePackageResources=S;var E=function(){function t(e,n,r){o(this,t),this._resources=e,this._ref=n,this._name=r}return s(t,[{key:"read",value:function(t){return w.atomic(t,this._resources.getBlob(this._ref).then(function(t){return(0,v["default"])(t).as("arraybuffer")}))}},{key:"name",get:function(){return this._name}}]),t}(),k=function(){function t(e,n){o(this,t),this._resources=e,this._url=(0,c.resolve)(e.url,n.path)}return s(t,[{key:"load",value:function(){return this._promise||(this._promise=this._resources._loadPayload(this._url))}}]),t}();e["default"]=S},364:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t,e){var n=JSON.parse(t),r=a.songInfoForBmson(n),i=a.musicalScoreForBmson(n),o=a.barLinesForBmson(n),u={notes:i.notes.all(),timing:i.timing,keysounds:i.keysounds,songInfo:r,positioning:new l["default"].Positioning([{t:0,x:0,dx:1,inclusive:!0}]),spacing:new l["default"].Spacing([]),barLines:o,images:{eyecatch:n.info.eyecatch_image,background:n.info.back_image}};return new c["default"](u,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.load=o;var u=n(399),a=i(u),s=n(128),c=r(s),f=n(57),l=r(f)},365:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(337),s=r(a),c=function(){function t(e){var n=e.game,r=e.samples,o=e.master;i(this,t);var u=n.options.soundVolume;this._master=o,this._context=o.audioContext,this._players=new Map(n.players.map(function(t){return[t,new s["default"]({player:t,samples:r,master:o,volume:u})]}))}return u(t,[{key:"destroy",value:function(){this._master.destroy()}},{key:"unmute",value:function(){this._master.unmute()}},{key:"update",value:function(t,e){var n=!0,r=!1,i=void 0;try{for(var u,a=this._players[Symbol.iterator]();!(n=(u=a.next()).done);n=!0){var s=o(u.value,2),c=s[0],f=s[1];f.update(t,e.player(c))}}catch(l){r=!0,i=l}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw i}}}},{key:"context",get:function(){return this._context}}]),t}();e.GameAudio=c,e["default"]=c},366:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(60),a=r(u),s=function(){function t(e){i(this,t),e.unmute(),this._context=e.context,this._offset=[],this._sum=0,this.update()}return o(t,[{key:"update",value:function(){var t=(0,a["default"])()/1e3,e=t-this._context.currentTime;for(this._offset.push(e),this._sum+=e;this._offset.length>60;)this._sum-=this._offset.shift();this.time=t-this._sum/this._offset.length}}]),t}();e.Clock=s,e["default"]=s},367:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(369),a=r(u),s=n(279),c=r(s),f=n(166),l=r(f),h=n(366),p=r(h),d=n(105),v=r(d),g=n(339),y=r(g),m=n(370),b=r(m),_=function(){function t(e){var n=this,r=e.game,o=e.display,u=e.audio;i(this,t),this._audioInputLatency=r.options.audioInputLatency,this._game=r,this._display=o,this._audio=u,this._clock=new p["default"](this._audio),this._input=new l["default"],this._timer=new a["default"](this._clock,this._input),this._state=new c["default"](r),this._promise=new Promise(function(t){return n._resolvePromise=t}),v["default"].enabled&&this.enableBenchmark()}return o(t,[{key:"start",value:function(){var t=this;this._handleEscape(),this._display.start(),this._input.use(new b["default"](this._game)),this._input.use(new y["default"](this._display.context));var e=!1,n=function r(){e||(t._update(),requestAnimationFrame(r))};requestAnimationFrame(n),this._endGameLoop=function(){return e=!0}}},{key:"_handleEscape",value:function(){var t=this,e=function(e){27===e.keyCode&&(e.preventDefault(),e.stopPropagation(),t._resolvePromise(t._state))};window.addEventListener("keydown",e,!0),this._promise["finally"](function(){window.removeEventListener("keydown",e,!0)}).done()}},{key:"destroy",value:function(){this._endGameLoop(),this._audio.destroy(),this._input.destroy(),this._display.destroy()}},{key:"_update",value:function(){this._clock.update(),this._input.update(),this._timer.update();var t=this._timer.time,e=this._audioInputLatency;this._state.update(t-e,this._input,this._timer),this._audio.update(t,this._state),this._display.update(t,this._state),this._state.finished&&this._resolvePromise&&(this._resolvePromise(this._state),this._resolvePromise=null)}},{key:"enableBenchmark",value:function(){v["default"].benchmark("update",this,"_update"),v["default"].benchmark("input_update",this._input,"update"),v["default"].benchmark("state_update",this._state,"update"),v["default"].benchmark("audio_update",this._audio,"update"),v["default"].benchmark("display_update",this._display,"update"),v["default"].benchmark("display_compute",this._display,"_getData"),v["default"].benchmark("display_push",this._display._context._instance,"push"),v["default"].benchmark("display_render",this._display._context._renderer,"render")}},{key:"game",get:function(){return this._game}},{key:"display",get:function(){return this._display}},{key:"audio",get:function(){return this._audio}},{key:"promise",get:function(){return this._promise}}]),t}();e.GameController=_,e["default"]=_},368:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return function(e){var n=function(){return!1};return(0,a["default"])(window).on("touchstart",n),o(t,e),{teardown:function(){(0,a["default"])(window).off("touchstart",n)}}}}function o(t,e){function n(){var t=Math.min(window.innerWidth/o,window.innerHeight/u);r.style.width=Math.round(o*t)+"px",r.style.height=Math.round(u*t)+"px",i.style.width=Math.round(o*t)+"px",i.style.height=Math.round(u*t)+"px";var e=(window.innerHeight-u*t)/2;i.style.marginTop=Math.round(e)+"px"}var r=t.view,i=t.wrapper,o=r.width,u=r.height;return e.appendChild(i),n(),(0,a["default"])(window).on("resize",n),i}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var u=n(27),a=r(u);t.exports=e["default"]},369:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(60),a=r(u),s=function(){function t(e,n){i(this,t),this._clock=e,this._input=n,this._now=a["default"]["synchronized"](),this.startTime=null,this.readyFraction=0}return o(t,[{key:"update",value:function(){this._checkStartGame(),this.time=this._calculateTime()}},{key:"_checkStartGame",value:function(){this.started||(this._input.get("start").value&&(this.gettingStarted=!0),this.gettingStarted&&!this._input.get("start").value&&(this.startTime=this._clock.time+this._getWait()),this.started||(this.readyFraction=1-this._getWait()))}},{key:"_getWait",value:function(){var t=this._now()/1e3;return Math.ceil(t)-t}},{key:"_calculateTime",value:function(){var t=null===this.startTime?0:this._clock.time-this.startTime;return 0>t&&(t=0),1>t?(Math.pow(t,6)-1)/6-1/30:t-31/30}},{key:"started",get:function(){return null!==this.startTime}}]),t}();e.GameTimer=s,e["default"]=s},370:function(t,e,n){"use strict";function r(t){var e=new i.OmniInput(window,{exclusive:!0}),n=t.players[0].options.input.keyboard;return{name:"GameKBPlugin",get:function(){var t=e.update(),r={p1_1:t[n[1]||"83"],p1_2:t[n[2]||"68"],p1_3:t[n[3]||"70"],p1_4:t[n[4]||"32"],p1_5:t[n[5]||"74"],p1_6:t[n[6]||"75"],p1_7:t[n[7]||"76"],p1_SC:t[n.SC||"65"]||-t[n.SC2||"16"],p1_speedup:t[38],p1_speeddown:t[40],start:t[13]||t["gamepad.0.button.9"],select:t[18]||t["gamepad.0.button.8"]};return(r.start||r.select)&&((r.p1_1||r.p1_3||r.p1_5||r.p1_7)&&(r.p1_speeddown=!0),(r.p1_2||r.p1_4||r.p1_6)&&(r.p1_speedup=!0)),r},destroy:function(){e.dispose()}}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(120);e["default"]=r,t.exports=e["default"]},371:function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){var e=t.assets,r=t.bms;return v.start(function(i,o){i("Scintillator","Loading game engine",[],function(t){return new Promise(function(e){var r=new p["default"](t);r.use(function(){n.e(5,function(t){return e(n(159))})})})}),i("Skin","Loading skin",["Scintillator"],function(t,e){return t.load(t.getSkinUrl(),e)}),i("SkinContext",null,["Scintillator","Skin"],function(t,e){return new t.Context(e)}),e.progress&&(e.progress.current&&i.bar("Loading package",e.progress.current),e.progress.all&&i.bar("Loading song packages",e.progress.all)),i("Notechart","Loading "+t.bms.name,[],a["default"].wrap(regeneratorRuntime.mark(function f(e){var n,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=new b["default"],o.next=3,r.read(e);case 3:return i=o.sent,o.next=6,n.load(i,t.bms,t.options.players[0]);case 6:return o.abrupt("return",o.sent);case 7:case"end":return o.stop()}},f,this)}))),i("EyecatchImage",null,["Notechart"],function(t){return(0,w["default"])(e,t.eyecatchImage)}),i("BackgroundImage",null,["Notechart"],function(t){return(0,w["default"])(e,t.backgroundImage)});var u=new c["default"],s=new c["default"];return i.bar("Loading audio",u),i.bar("Decoding audio",s),i("SamplingMaster",null,[],function(){return new l["default"]}),i("Game",null,["Notechart"],function(e){return new S["default"]([e],t.options)}),i("GameDisplay",null,["Game","Skin","SkinContext"],function(t,e,n){return new I["default"]({game:t,skin:e,context:n,backgroundImagePromise:o("BackgroundImage")})}),i("Samples",null,["SamplingMaster","Game"],function(t,n){var r=new y["default"](e,t);return r.loadFiles(n.samples,u,s)}),i("GameAudio",null,["Game","Samples","SamplingMaster"],function(t,e,n){return new O["default"]({game:t,samples:e,master:n})}),i("GameController",null,["Game","GameDisplay","GameAudio"],function(t,e,n){return new k["default"]({game:t,display:e,audio:n})}),o("GameController")})}Object.defineProperty(e,"__esModule",{value:!0}),e.load=o;var u=n(24),a=i(u),s=n(107),c=i(s),f=n(72),l=i(f),h=n(627),p=i(h),d=n(373),v=r(d),g=n(341),y=i(g),m=n(340),b=i(m),_=n(372),w=i(_),x=n(277),S=i(x),E=n(367),k=i(E),A=n(365),O=i(A),j=n(276),I=i(j)},372:function(t,e){"use strict";function n(t,e){return t.file(e).then(function(t){return t.read()}).then(function(t){return new Blob([t])}).then(function(t){return URL.createObjectURL(t)}).then(function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src=t})})}Object.defineProperty(e,"__esModule",{value:!0}),e.loadImage=n,e["default"]=n},373:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t){function e(t,e,n,o){var a=new c["default"];e&&l.push({text:e,progress:a}),u[t]=function(){return Promise.all(n.map(r)).then(function(t){return o.apply(void 0,i(t.concat([a])))})}}function n(t,e){l.push({text:t,progress:e})}function r(t){return s[t]||(s[t]=u[t]())}function o(){return l.map(function(t){return{text:t.text,progress:t.progress.progress,progressText:t.progress.toString()}})}var u={},s={},l=[];e.bar=n;var h=t(e,r),p=new a["default"](o()),d=(0,f.throttle)(function(){p.value=o()},16),v=!0,g=!1,y=void 0;try{for(var m,b=l[Symbol.iterator]();!(v=(m=b.next()).done);v=!0){var _=m.value;_.progress.watch(d)}}catch(w){g=!0,y=w}finally{try{!v&&b["return"]&&b["return"]()}finally{if(g)throw y}}return{tasks:p,promise:h,get:r}}Object.defineProperty(e,"__esModule",{value:!0}),e.start=o;var u=n(394),a=r(u),s=n(107),c=r(s),f=n(7)},374:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),n(531);var i=n(1),o=r(i),u=n(76),a=r(u),s=n(377),c=r(s),f=n(375),l=r(f);e["default"]=o["default"].createClass({displayName:"LoadingScene",render:function(){return o["default"].createElement(a["default"],{className:"LoadingScene",ref:"scene"},o["default"].createElement("div",{className:"LoadingSceneのimage",ref:"eyecatch"}),o["default"].createElement("div",{className:"LoadingSceneのinfo"},o["default"].createElement(c["default"],{song:this.props.song})),o["default"].createElement(l["default"],{tasks:this.props.tasks}),o["default"].createElement("div",{className:"LoadingSceneのflash"}),o["default"].createElement("div",{className:"LoadingSceneのcover"}))},componentDidMount:function(){var t=this;
this.props.eyecatchImagePromise&&this.props.eyecatchImagePromise.then(function(e){o["default"].findDOMNode(t.refs.eyecatch).appendChild(e)})},teardown:function(){return o["default"].findDOMNode(this.refs.scene).classList.add("is-exiting"),Promise.delay(500)}}),t.exports=e["default"]},375:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),n(532);var i=n(1),o=r(i),u=n(376),a=r(u);e["default"]=o["default"].createClass({displayName:"LoadingSceneProgress",render:function(){var t=this;return o["default"].createElement("div",{className:"LoadingSceneProgress"},this.props.tasks.value.map(function(e){return t.renderItem(e)}))},renderItem:function(t){var e=t.text,n=t.progressText,r=t.progress,i=Math.round(100*r||0)+"%",u=n?" ("+n+")":"";return o["default"].createElement("div",{className:"LoadingSceneProgressのitem"},o["default"].createElement(a["default"],{width:i}),e,o["default"].createElement("span",{className:"LoadingSceneProgressのextra"},u))},componentDidMount:function(){var t=this;this._unsubscribe=this.props.tasks.watch(function(){return t.forceUpdate()})},componentWillUnmount:function(){this._unsubscribe()}}),t.exports=e["default"]},376:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),n(533);var i=n(1),o=r(i);e["default"]=o["default"].createClass({displayName:"LoadingSceneProgressBar",render:function(){return o["default"].createElement("div",{className:"LoadingSceneProgressBar"},o["default"].createElement("div",{className:"LoadingSceneProgressBarのbar",style:{width:this.props.width}}))}}),t.exports=e["default"]},377:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),n(534);var i=n(1),o=r(i),u=n(83);e["default"]=o["default"].createClass({displayName:"LoadingSceneSongInfo",render:function(){var t=this.props.song;return o["default"].createElement("div",{className:"LoadingSceneSongInfo"},o["default"].createElement("div",{className:"LoadingSceneSongInfoのgenre"},t.genre),o["default"].createElement("div",{className:"LoadingSceneSongInfoのtitle"},t.title),(0,u.isTitleDisplayMode)()?null:t.subtitles.map(function(t){return o["default"].createElement("div",{className:"LoadingSceneSongInfoのsubtitle"},t)}),o["default"].createElement("div",{className:"LoadingSceneSongInfoのartist"},t.artist),t.subartists.map(function(t){return o["default"].createElement("div",{className:"LoadingSceneSongInfoのsubartist"},t)}))}}),t.exports=e["default"]},398:function(t,e,n){t.exports=n(623)},399:function(t,e,n){t.exports=n(400)},400:function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function u(t){function e(){if(!t.version)return["Warning: legacy bmson"];var e=[];return n.chart_name&&"string"==typeof n.chart_name&&e.push(n.chart_name),n.subtitle&&"string"==typeof n.subtitle&&e.push.apply(e,o(n.subtitle.split("\n"))),e}var n=t.info,r={};return n.title&&(r.title=n.title),n.artist&&(r.artist=n.artist),n.genre&&(r.genre=n.genre),n.level&&(r.level=n.level),r.subtitles=e(),n.subartists&&(r.subartists=n.subartists),new _["default"].SongInfo(r)}function a(t){if(!t.version)return x.barLinesForBmson(t);var e=p(t),n=t.lines;return(0,m["default"])(n).map(function(t){var n=t.y;return e(n)}).sortBy().value()}function s(t){if(!t.version)return x.timingInfoForBmson(t);var e=p(t);return{initialBPM:t.info.init_bpm,actions:[].concat(o((t.bpm_events||[]).map(function(t){var n=t.y,r=t.bpm;return{type:"bpm",beat:e(n),bpm:r}})),o((t.stop_events||[]).map(function(t){var n=t.y,r=t.duration;return{type:"stop",beat:e(n),stopBeats:e(Math.floor(r))}})))}}function c(t){var e=s(t),n=e.initialBPM,r=e.actions;return new _["default"].Timing(n,r)}function f(t){var e=c(t),n=h(t,e),r=n.notes,i=n.keysounds;return{timing:e,notes:new _["default"].Notes(r),keysounds:new _["default"].Keysounds(i)}}function l(t){return t.version?t.sound_channels:t.soundChannel}function h(t,e){var n=1,r=p(t),i=[],o={},u=l(t);if(u){var a=!0,s=!1,c=void 0;try{for(var f,h=u[Symbol.iterator]();!(a=(f=h.next()).done);a=!0){var v=f.value,g=v.name,y=v.notes,b=m["default"].sortBy(y,"y"),_=n++,w=m["default"].padLeft(""+_,4,"0"),x=E.slicesForNotesAndTiming(y,e,{beatForPulse:r});o[w]=g;var S=!0,k=!1,A=void 0;try{for(var O,j=b[Symbol.iterator]();!(S=(O=j.next()).done);S=!0){var I=O.value,M=I.x,P=I.y,B=I.l,T={column:d(M),beat:r(P),keysound:w,endBeat:void 0};B>0&&(T.endBeat=r(P+B));var C=x.get(P);C&&(Object.assign(T,C),i.push(T))}}catch(D){k=!0,A=D}finally{try{!S&&j["return"]&&j["return"]()}finally{if(k)throw A}}}}catch(D){s=!0,c=D}finally{try{!a&&h["return"]&&h["return"]()}finally{if(s)throw c}}}return{notes:i,keysounds:o}}function p(t){if(!t.version)return x.beatForLoc;var e=t.info&&t.info.resolution||240;return function(t){return t/e}}function d(t){switch(t){case 1:return"1";case 2:return"2";case 3:return"3";case 4:return"4";case 5:return"5";case 6:return"6";case 7:return"7";case 8:return"SC"}}function v(t){var e=l(t);if(e){var n=!0,r=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var a=o.value.notes,s=!0,c=!1,f=void 0;try{for(var h,p=a[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var d=h.value.x;if(8===d||18===d)return!0}}catch(v){c=!0,f=v}finally{try{!s&&p["return"]&&p["return"]()}finally{if(c)throw f}}}}catch(v){r=!0,i=v}finally{try{!n&&u["return"]&&u["return"]()}finally{if(r)throw i}}}return!1}function g(t){var e=l(t),n=!1,r=!1,i=!1;if(e){var o=!0,u=!1,a=void 0;try{for(var s,c=e[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var f=s.value.notes,h=!0,p=!1,d=void 0;try{for(var v,g=f[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){var y=v.value.x;n=!0,y>=11&&20>=y&&(r=!0),(6===y||7===y||16===y||17===y)&&(i=!0)}}catch(m){p=!0,d=m}finally{try{!h&&g["return"]&&g["return"]()}finally{if(p)throw d}}}}catch(m){u=!0,a=m}finally{try{!o&&c["return"]&&c["return"]()}finally{if(u)throw a}}}return n?r?i?"14K":"10K":i?"7K":"5K":"empty"}Object.defineProperty(e,"__esModule",{value:!0}),e.songInfoForBmson=u,e.barLinesForBmson=a,e.timingInfoForBmson=s,e.musicalScoreForBmson=f,e.hasScratch=v,e.keysForBmson=g,n(398);var y=n(7),m=i(y),b=n(57),_=i(b),w=n(401),x=r(w),S=n(230),E=r(S);Object.defineProperty(e,"_slicesForNotesAndTiming",{enumerable:!0,get:function(){return w._slicesForNotesAndTiming}})},401:function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function u(t){var e=t.lines;return(0,l["default"])(e).map(function(t){var e=t.y;return s(e)}).sortBy().value()}function a(t){return{initialBPM:t.info.initBPM,actions:[].concat(o((t.bpmNotes||[]).map(function(t){var e=t.y,n=t.v;return{type:"bpm",beat:s(e),bpm:n}})),o((t.stopNotes||[]).map(function(t){var e=t.y,n=t.v;return{type:"stop",beat:s(e),stopBeats:s(Math.floor(n))}})))}}function s(t){return t/240}function c(t,e){return p.slicesForNotesAndTiming(t,e,{beatForPulse:s})}Object.defineProperty(e,"__esModule",{value:!0}),e.barLinesForBmson=u,e.timingInfoForBmson=a,e.beatForLoc=s;var f=n(7),l=i(f),h=n(230),p=r(h);e._slicesForNotesAndTiming=c},436:function(t,e,n){e=t.exports=n(3)(),e.push([t.id,'@charset "UTF-8";.LoadingScene{background:url('+n(238)+") center no-repeat;background-size:cover}.LoadingSceneのinfo{position:absolute;top:40%;left:0;right:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.LoadingScene .LoadingSceneSongInfo{-webkit-animation:loading-scene--loading-scene-song-info--animation 1s ease;animation:loading-scene--loading-scene-song-info--animation 1s ease}.LoadingScene .LoadingSceneProgress{position:absolute;bottom:10px;left:10px}.LoadingSceneのimage{position:absolute;top:0;right:0;bottom:0;left:0}.LoadingSceneのimage img{width:100%;height:100%;display:block;object-fit:cover;-webkit-animation:loading-scene--eyecatch-fade .8s;animation:loading-scene--eyecatch-fade .8s}.LoadingSceneのflash{background:#fff;-webkit-animation:loading-scene--flash-animation .8s ease-out;animation:loading-scene--flash-animation .8s ease-out}.LoadingSceneのcover,.LoadingSceneのflash{position:absolute;top:0;right:0;bottom:0;left:0;opacity:0;pointer-events:none}.LoadingSceneのcover{background:#000}.Scene.is-exiting .LoadingSceneのinfo{-webkit-animation:loading-scene--info-exit .3s linear;animation:loading-scene--info-exit .3s linear}.Scene.is-exiting .LoadingSceneのflash{-webkit-animation:loading-scene--flash-exit .3s ease;animation:loading-scene--flash-exit .3s ease}.Scene.is-exiting .LoadingSceneのcover{-webkit-animation:loading-scene--cover-exit .3s linear;animation:loading-scene--cover-exit .3s linear;opacity:1}@-webkit-keyframes loading-scene--eyecatch-fade{0%{opacity:0}to{opacity:1}}@keyframes loading-scene--eyecatch-fade{0%{opacity:0}to{opacity:1}}@-webkit-keyframes loading-scene--loading-scene-song-info--animation{0%{-webkit-transform:scale(1.5,.02);transform:scale(1.5,.02)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes loading-scene--loading-scene-song-info--animation{0%{-webkit-transform:scale(1.5,.02);transform:scale(1.5,.02)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes loading-scene--info-exit{0%{-webkit-transform:translateY(-50%) scale(1);transform:translateY(-50%) scale(1)}to{-webkit-transform:translateY(-50%) scale(2);transform:translateY(-50%) scale(2)}}@keyframes loading-scene--info-exit{0%{-webkit-transform:translateY(-50%) scale(1);transform:translateY(-50%) scale(1)}to{-webkit-transform:translateY(-50%) scale(2);transform:translateY(-50%) scale(2)}}@-webkit-keyframes loading-scene--cover-exit{0%{opacity:0}to{opacity:1}}@keyframes loading-scene--cover-exit{0%{opacity:0}to{opacity:1}}@-webkit-keyframes loading-scene--flash-animation{0%{opacity:1}to{opacity:0}}@keyframes loading-scene--flash-animation{0%{opacity:1}to{opacity:0}}@-webkit-keyframes loading-scene--flash-exit{0%{opacity:.5}to{opacity:0}}@keyframes loading-scene--flash-exit{0%{opacity:.5}to{opacity:0}}",""])},437:function(t,e,n){e=t.exports=n(3)(),e.push([t.id,'@charset "UTF-8";.LoadingSceneProgress{color:#333;font-size:11px}.LoadingSceneProgress .LoadingSceneProgressBar{display:inline-block;vertical-align:middle;width:48px;margin-right:4px;position:relative;top:-1px}.LoadingSceneProgressのextra{font-size:83%;opacity:.7}',""])},438:function(t,e,n){e=t.exports=n(3)(),e.push([t.id,'@charset "UTF-8";.LoadingSceneProgressBar{border:1px solid rgba(0,0,0,.6);padding:1px}.LoadingSceneProgressBarのbar{height:8px;background:rgba(0,0,0,.6);width:0}',""])},439:function(t,e,n){e=t.exports=n(3)(),e.push([t.id,'@charset "UTF-8";.LoadingSceneSongInfo{background:hsla(0,0%,100%,.96);color:#191817;text-align:center;padding:25px 0;box-shadow:0 2px 18px rgba(0,0,0,.2)}.LoadingSceneSongInfoのgenre{font-size:3vmin}.LoadingSceneSongInfoのtitle{font-size:8vmin;font-weight:700}.LoadingSceneSongInfoのsubtitle{font-size:6vmin}.LoadingSceneSongInfoのartist{font-size:4vmin;margin-top:.8ex}.LoadingSceneSongInfoのsubartist{font-size:2.5vmin}',""])},488:function(t,e){"use strict";function n(t,e,n,r){Object.defineProperty(t,e,{get:function(){var t=n.call(this);return Object.defineProperty(this,e,{value:t,enumerable:!!r,writable:!0}),t},set:function(t){return Object.defineProperty(this,e,{value:t,enumerable:!!r,writable:!0}),t},enumerable:!!r,configurable:!0})}t.exports=n},531:function(t,e,n){var r=n(436);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},532:function(t,e,n){var r=n(437);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},533:function(t,e,n){var r=n(438);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},534:function(t,e,n){var r=n(439);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},543:function(t,e){"use strict";function n(t,e,n,r){this.resolve=t,this.fn=e,this.self=n||null,this.args=r}t.exports=function(e){function r(t,e){function r(e,r,a){if(t){t--;var s=new i(function(t){t(e.apply(r,a))});return s.then(o,o),s}return new i(function(t){u.push(new n(t,e,r,a))})}function o(){if(t++,u.length){var e=u.shift();e.resolve(r(e.fn,e.self,e.args))}}var u=[];if("function"==typeof t&&"number"==typeof e){var a=e;e=t,t=a}return"function"==typeof e?function(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);return r(e,this,t)}:function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);return r(t,this,e)}}var i;if("number"==typeof arguments[0]||"number"==typeof arguments[1]){if(i=t.exports.Promise,"function"!=typeof i)throw new Error("You must provide a Promise polyfill for this library to work in older environments");return r(arguments[0],arguments[1])}return i=e,r},"function"==typeof Promise&&(t.exports.Promise=Promise)},762:function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(){window.addEventListener("touchstart",function n(){(0,E.unmuteAudio)(A["default"]),window.removeEventListener("touchstart",n)});var t=function(t){return new Promise(function(e){var n=p["default"].createElement(y["default"],{options:t,play:function(t){e(t)}});c["default"].display(n).done()})},e=a["default"].wrap(regeneratorRuntime.mark(function r(){var e,n,i,o,u,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=(l["default"].keyboard||"").split(",").map(function(t){return+t}),n={url:l["default"].bms||"/music/[snack]dddd/dddd_sph.bme",game:{audioInputLatency:+l["default"].latency||0},players:[{speed:+l["default"].speed||3,autoplay:!!l["default"].autoplay,placement:"center",scratch:l["default"].scratch||"left",input:{keyboard:{1:e[0]||83,2:e[1]||68,3:e[2]||70,4:e[3]||32,5:e[4]||74,6:e[5]||75,7:e[6]||76,SC:e[7]||65,SC2:e[8]||16}}}]},r.next=4,t(n);case 4:return n=r.sent,i=n.url,o=(0,O.resolve)(i,"assets/"),u={title:"Loading",subtitles:[],artist:"",genre:"",subartists:[]},a={bms:n.resource||new w["default"](i),assets:n.resources||new S["default"](o),metadata:u,options:Object.assign({},n.game,{players:n.players})},r.abrupt("return",a);case 10:case"end":return r.stop()}},r,this)}));(0,a["default"])(regeneratorRuntime.mark(function i(){var t,n,r,o,u;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e();case 2:return t=i.sent,n=I.load(t),r=n.tasks,o=n.promise,i.next=8,c["default"].display(p["default"].createElement(v["default"],{tasks:r,song:t.metadata}));case 8:return i.next=10,o;case 10:return u=i.sent,i.next=13,c["default"].display(new b["default"](u.display));case 13:u.start();case 14:case"end":return i.stop()}},i,this)})).done()}Object.defineProperty(e,"__esModule",{value:!0}),e.main=o;var u=n(24),a=i(u),s=n(108),c=i(s),f=n(110),l=i(f),h=n(1),p=i(h),d=n(374),v=i(d),g=n(910),y=i(g),m=n(368),b=i(m),_=n(225),w=i(_),x=n(344),S=i(x),E=n(72),k=n(119),A=i(k),O=n(58),j=n(371),I=r(j)},910:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),n(1308);var i=n(1),o=r(i),u=n(283),a=r(u),s=n(18),c=r(s),f=o["default"].createClass({displayName:"CustomChartSelector",render:function(){var t=this,e=this.state.files;return o["default"].createElement("div",{className:"drop-zone"},e.length?o["default"].createElement("ul",null,e.map(function(e){return o["default"].createElement("li",null,o["default"].createElement("a",{href:"javascript://",onClick:t.handleItemClick(e),className:(0,c["default"])({"is-active":e.resource===t.props.selectedResource})},e.name))}),this.props.selectedResource?o["default"].createElement("li",null,o["default"].createElement("a",{href:"javascript://",onClick:this.handleClear},"Clear")):null):o["default"].createElement("div",{className:"drop-zone-hint"},"Drop BMS folder here",o["default"].createElement("br",null),"(only works on Google Chrome)"))},getInitialState:function(){return{files:[]}},handleDrop:function(t){var e=this;t.preventDefault();var n=t.nativeEvent,r=new a["default"](n);r.fileList.then(function(t){return t.filter(function(t){return/\.(bms|bme|bml)$/i.test(t)})}).map(function(t){return r.file(t).then(function(e){return{name:t,resource:e}})}).then(function(t){e.setState({files:t,resources:r})})["catch"](function(e){throw"FileError"===e.constructor.name?new Error("File Error code "+t.code):e}).done()},handleItemClick:function(t){var e=this;return function(){e.props.onSelect(e.state.resources,t.resource)}},handleClear:function(){this.props.onSelect(null,null)}});e["default"]=o["default"].createClass({displayName:"GameShellScene",render:function(){var t=this,e=this.state.options;return o["default"].createElement("div",{className:"GameShellScene",onDragOver:this.handleDragOver,onDrop:this.handleDrop},o["default"].createElement("h1",null,"Bemuse Game Shell"),o["default"].createElement("p",null,"This tool is intended for developers testing the game."),o["default"].createElement("form",{onSubmit:this.submit},o["default"].createElement("div",{className:"text"},o["default"].createElement("label",null,o["default"].createElement("span",{className:"label"},"BMS URL:"),o["default"].createElement("input",{type:"text",disabled:e.resource,onChange:this.bindOption(function(t,e){return t.url=e}),value:e.url}))),o["default"].createElement("div",{className:"text"},o["default"].createElement("label",null,o["default"].createElement("span",{className:"label"},"-or- Drop BMS folder here"),o["default"].createElement(f,{ref:"dropzone",selectedResource:e.resource,onSelect:this.handleSelectFile}))),o["default"].createElement("div",{className:"text"},o["default"].createElement("label",null,o["default"].createElement("span",{className:"label"},"Audio-Input Latency"),o["default"].createElement("input",{type:"text",onChange:this.bindOption(function(t,e){return t.game.audioInputLatency=e}),value:e.game.audioInputLatency}))),o["default"].createElement("div",{className:"text"},o["default"].createElement("label",null,o["default"].createElement("span",{className:"label"},"HI-SPEED:"),o["default"].createElement("input",{type:"text",onChange:this.bindOption(function(t,e){return t.players[0].speed=e}),value:e.players[0].speed}))),o["default"].createElement("div",{className:"radio"},o["default"].createElement("h3",null,"Placement"),["left","center","right"].map(function(n){return o["default"].createElement("label",null,o["default"].createElement("input",{type:"radio",value:n,onChange:t.bindOption(function(t,e){return t.players[0].placement=e}),checked:e.players[0].placement===n}),o["default"].createElement("span",{className:"label"},n))})),o["default"].createElement("button",{type:"submit"},"Play")))},submit:function(t){t.preventDefault(),this.props.play(this.state.options)},getInitialState:function(){return{options:this.props.options}},bindOption:function(t){var e=this;return function(n){t(e.state.options,n.target.value),e.forceUpdate()}},handleDragOver:function(t){t.preventDefault()},handleDrop:function(t){t.preventDefault(),this.refs.dropzone.handleDrop(t)},handleSelectFile:function(t,e){this.setState({options:Object.assign(this.state.options,{resources:t,resource:e})}),this.forceUpdate()}}),t.exports=e["default"]},1077:function(t,e,n){e=t.exports=n(3)(),e.push([t.id,".GameShellScene{margin:20px auto;background:#353433;border:1px solid #555453;padding:15px;max-width:720px}.GameShellScene .drop-zone{border:2px dashed #555453;padding:5px}.GameShellScene .drop-zone a.is-active{font-weight:700}.GameShellScene .drop-zone-hint{padding:10px;text-align:center;color:#8b8685}.GameShellScene form>div{margin-bottom:1em}.GameShellScene form>div.text .label{display:block;color:#8b8685;font-weight:700;font-size:.8em;margin:0;margin-bottom:.5ex}.GameShellScene form>div.text input{font:inherit;display:block;width:100%;box-sizing:border-box;border:1px inset #555453;background:#252423;color:#bfb}.GameShellScene form>div.text input:disabled{opacity:.2}.GameShellScene form>div.checkbox input{margin-right:1ex}.GameShellScene form>div.radio>h3{display:block;color:#8b8685;font-weight:700;font-size:.8em;margin:0;margin-bottom:.5ex}.GameShellScene form>div.radio>label{display:block}.GameShellScene form>div.radio input{margin-right:1ex}.GameShellScene button{background:#8b8685;border:1px outset #aba6a5;font:inherit;font-size:1.5em;color:#e9e8e7;display:block;width:100%;box-sizing:border-box}.GameShellScene a{color:#fed}",""])},1308:function(t,e,n){var r=n(1077);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)}});
//# sourceMappingURL=gameMode-7a170a6c529f82199c62.js.map