webpackJsonp([4],[,function(t,e,n){var r;(function(t,i){(function(){function o(t,e){if(t!==e){var n=t===t,r=e===e;if(t>e||!n||t===C&&r)return 1;if(e>t||!r||e===C&&n)return-1}return 0}function a(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function s(t,e,n){if(e!==e)return y(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function u(t){return"function"==typeof t||!1}function c(t){return"string"==typeof t?t:null==t?"":t+""}function l(t){return t.charCodeAt(0)}function f(t,e){for(var n=-1,r=t.length;++n<r&&e.indexOf(t.charAt(n))>-1;);return n}function h(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function p(t,e){return o(t.criteria,e.criteria)||t.index-e.index}function d(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,u=n.length;++r<s;){var c=o(i[r],a[r]);if(c)return r>=u?c:c*(n[r]?1:-1)}return t.index-e.index}function v(t){return He[t]}function g(t){return Ye[t]}function m(t){return"\\"+Ke[t]}function y(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}function b(t){return!!t&&"object"==typeof t}function w(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function _(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;)t[n]===e&&(t[n]=$,o[++i]=n);return o}function x(t,e){for(var n,r=-1,i=t.length,o=-1,a=[];++r<i;){var s=t[r],u=e?e(s,r,t):s;r&&n===u||(n=u,a[++o]=s)}return a}function E(t){for(var e=-1,n=t.length;++e<n&&w(t.charCodeAt(e)););return e}function S(t){for(var e=t.length;e--&&w(t.charCodeAt(e)););return e}function T(t){return Xe[t]}function A(t){function e(t){if(b(t)&&!Eu(t)&&!(t instanceof i)){if(t instanceof r)return t;if(qa.call(t,"__chain__")&&qa.call(t,"__wrapped__"))return ii(t)}return new r(t)}function n(){}function r(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function i(t){this.__wrapped__=t,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=ws,this.__views__=null}function w(){var t=this.__actions__,e=this.__iteratees__,n=this.__views__,r=new i(this.__wrapped__);return r.__actions__=t?tn(t):null,r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=e?tn(e):null,r.__takeCount__=this.__takeCount__,r.__views__=n?tn(n):null,r}function Z(){if(this.__filtered__){var t=new i(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function re(){var t=this.__wrapped__.value();if(!Eu(t))return er(t,this.__actions__);var e=this.__dir__,n=0>e,r=Nr(0,t.length,this.__views__),i=r.start,o=r.end,a=o-i,s=n?o:i-1,u=ds(a,this.__takeCount__),c=this.__iteratees__,l=c?c.length:0,f=0,h=[];t:for(;a--&&u>f;){s+=e;for(var p=-1,d=t[s];++p<l;){var v=c[p],g=v.iteratee,m=v.type;if(m==W){if(v.done&&(n?s>v.index:s<v.index)&&(v.count=0,v.done=!1),v.index=s,!v.done){var y=v.limit;if(!(v.done=y>-1?v.count++>=y:!g(d)))continue t}}else{var b=g(d);if(m==V)d=b;else if(!b){if(m==z)continue t;break t}}}h[f++]=d}return h}function oe(){this.__data__={}}function He(t){return this.has(t)&&delete this.__data__[t]}function Ye(t){return"__proto__"==t?C:this.__data__[t]}function Xe(t){return"__proto__"!=t&&qa.call(this.__data__,t)}function Je(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Ke(t){var e=t?t.length:0;for(this.data={hash:ls(null),set:new ns};e--;)this.push(t[e])}function Qe(t,e){var n=t.data,r="string"==typeof e||xo(e)?n.set.has(e):n.hash[e];return r?0:-1}function Ze(t){var e=this.data;"string"==typeof t||xo(t)?e.set.add(t):e.hash[t]=!0}function tn(t,e){var n=-1,r=t.length;for(e||(e=Aa(r));++n<r;)e[n]=t[n];return e}function en(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function nn(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function an(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function sn(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[++i]=a)}return o}function un(t,e){for(var n=-1,r=t.length,i=Aa(r);++n<r;)i[n]=e(t[n],n,t);return i}function cn(t){for(var e=-1,n=t.length,r=bs;++e<n;){var i=t[e];i>r&&(r=i)}return r}function ln(t){for(var e=-1,n=t.length,r=ws;++e<n;){var i=t[e];r>i&&(r=i)}return r}function fn(t,e,n,r){var i=-1,o=t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function hn(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function pn(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function dn(t){for(var e=t.length,n=0;e--;)n+=+t[e]||0;return n}function vn(t,e){return t===C?e:t}function gn(t,e,n,r){return t!==C&&qa.call(r,n)?t:e}function mn(t,e,n){var r=Lu(e);Za.apply(r,Us(e));for(var i=-1,o=r.length;++i<o;){var a=r[i],s=t[a],u=n(s,e[a],a,t,e);(u===u?u===s:s!==s)&&(s!==C||a in t)||(t[a]=u)}return t}function yn(t,e){for(var n=-1,r=t.length,i=Hr(r),o=e.length,a=Aa(o);++n<o;){var s=e[n];a[n]=i?zr(s,r)?t[s]:C:t[s]}return a}function bn(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var o=e[r];n[o]=t[o]}return n}function wn(t,e,n){var r=typeof t;return"function"==r?e===C?t:ir(t,e,n):null==t?pa:"object"==r?Nn(t):e===C?ba(t):Dn(t,e)}function _n(t,e,n,r,i,o,a){var s;if(n&&(s=i?n(t,r,i):n(t)),s!==C)return s;if(!xo(t))return t;var u=Eu(t);if(u){if(s=Dr(t),!e)return tn(t,s)}else{var c=za.call(t),l=c==Q;if(c!=ee&&c!=H&&(!l||i))return Ge[c]?qr(t,c,e):i?t:{};if(s=Ur(l?{}:t),!e)return js(s,t)}o||(o=[]),a||(a=[]);for(var f=o.length;f--;)if(o[f]==t)return a[f];return o.push(t),a.push(s),(u?en:On)(t,function(r,i){s[i]=_n(r,e,n,i,t,o,a)}),s}function xn(t,e,n){if("function"!=typeof t)throw new La(G);return rs(function(){t.apply(C,n)},e)}function En(t,e){var n=t?t.length:0,r=[];if(!n)return r;var i=-1,o=Br(),a=o==s,u=a&&e.length>=200?Fs(e):null,c=e.length;u&&(o=Qe,a=!1,e=u);t:for(;++i<n;){var l=t[i];if(a&&l===l){for(var f=c;f--;)if(e[f]===l)continue t;r.push(l)}else o(e,l,0)<0&&r.push(l)}return r}function Sn(t,e){var n=!0;return Rs(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Tn(t,e,n,r){var i=t.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===C||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)t[n++]=e;return t}function An(t,e){var n=[];return Rs(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Cn(t,e,n,r){var i;return n(t,function(t,n,o){return e(t,n,o)?(i=r?n:t,!1):void 0}),i}function kn(t,e,n){for(var r=-1,i=t.length,o=-1,a=[];++r<i;){var s=t[r];if(b(s)&&Hr(s.length)&&(Eu(s)||vo(s))){e&&(s=kn(s,e,n));var u=-1,c=s.length;for(a.length+=c;++u<c;)a[++o]=s[u]}else n||(a[++o]=s)}return a}function jn(t,e){return Ps(t,e,Do)}function On(t,e){return Ps(t,e,Lu)}function Rn(t,e){return Is(t,e,Lu)}function Mn(t,e){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];Tu(t[a])&&(o[++i]=a)}return o}function Pn(t,e,n){if(null!=t){n!==C&&n in ni(t)&&(e=[n]);for(var r=-1,i=e.length;null!=t&&++r<i;)var o=t=t[e[r]];return o}}function In(t,e,n,r,i,o){if(t===e)return 0!==t||1/t==1/e;var a=typeof t,s=typeof e;return"function"!=a&&"object"!=a&&"function"!=s&&"object"!=s||null==t||null==e?t!==t&&e!==e:Ln(t,e,In,n,r,i,o)}function Ln(t,e,n,r,i,o,a){var s=Eu(t),u=Eu(e),c=Y,l=Y;s||(c=za.call(t),c==H?c=ee:c!=ee&&(s=Oo(t))),u||(l=za.call(e),l==H?l=ee:l!=ee&&(u=Oo(e)));var f=c==ee,h=l==ee,p=c==l;if(p&&!s&&!f)return Pr(t,e,c);if(!i){var d=f&&qa.call(t,"__wrapped__"),v=h&&qa.call(e,"__wrapped__");if(d||v)return n(d?t.value():t,v?e.value():e,r,i,o,a)}if(!p)return!1;o||(o=[]),a||(a=[]);for(var g=o.length;g--;)if(o[g]==t)return a[g]==e;o.push(t),a.push(e);var m=(s?Mr:Ir)(t,e,n,r,i,o,a);return o.pop(),a.pop(),m}function Fn(t,e,n,r,i){for(var o=-1,a=e.length,s=!i;++o<a;)if(s&&r[o]?n[o]!==t[e[o]]:!(e[o]in t))return!1;for(o=-1;++o<a;){var u=e[o],c=t[u],l=n[o];if(s&&r[o])var f=c!==C||u in t;else f=i?i(c,l,u):C,f===C&&(f=In(l,c,i,!0));if(!f)return!1}return!0}function Bn(t,e){var n=-1,r=Ds(t),i=Hr(r)?Aa(r):[];return Rs(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Nn(t){var e=Lu(t),n=e.length;if(!n)return ha(!0);if(1==n){var r=e[0],i=t[r];if(Yr(i))return function(t){return null==t?!1:t[r]===i&&(i!==C||r in ni(t))}}for(var o=Aa(n),a=Aa(n);n--;)i=t[e[n]],o[n]=i,a[n]=Yr(i);return function(t){return null!=t&&Fn(ni(t),e,o,a)}}function Dn(t,e){var n=Eu(t),r=Gr(t)&&Yr(e),i=t+"";return t=ri(t),function(o){if(null==o)return!1;var a=i;if(o=ni(o),!(!n&&r||a in o)){if(o=1==t.length?o:Pn(o,Hn(t,0,-1)),null==o)return!1;a=yi(t),o=ni(o)}return o[a]===e?e!==C||a in o:In(e,o[a],null,!0)}}function Un(t,e,n,r,i){if(!xo(t))return t;var o=Hr(e.length)&&(Eu(e)||Oo(e));if(!o){var a=Lu(e);Za.apply(a,Us(e))}return en(a||e,function(s,u){if(a&&(u=s,s=e[u]),b(s))r||(r=[]),i||(i=[]),qn(t,e,u,Un,n,r,i);else{var c=t[u],l=n?n(c,s,u,t,e):C,f=l===C;f&&(l=s),!o&&l===C||!f&&(l===l?l===c:c!==c)||(t[u]=l)}}),t}function qn(t,e,n,r,i,o,a){for(var s=o.length,u=e[n];s--;)if(o[s]==u)return void(t[n]=a[s]);var c=t[n],l=i?i(c,u,n,t,e):C,f=l===C;f&&(l=u,Hr(u.length)&&(Eu(u)||Oo(u))?l=Eu(c)?c:Ds(c)?tn(c):[]:Au(u)||vo(u)?l=vo(c)?Po(c):Au(c)?c:{}:f=!1),o.push(u),a.push(l),f?t[n]=r(l,u,i,o,a):(l===l?l!==c:c===c)&&(t[n]=l)}function Wn(t){return function(e){return null==e?C:e[t]}}function zn(t){var e=t+"";return t=ri(t),function(n){return Pn(n,t,e)}}function Vn(t,e){for(var n=e.length;n--;){var r=parseFloat(e[n]);if(r!=i&&zr(r)){var i=r;is.call(t,r,1)}}return t}function Gn(t,e){return t+Ja(ys()*(e-t+1))}function $n(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function Hn(t,e,n){var r=-1,i=t.length;e=null==e?0:+e||0,0>e&&(e=-e>i?0:i+e),n=n===C||n>i?i:+n||0,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Aa(i);++r<i;)o[r]=t[r+e];return o}function Yn(t,e){var n;return Rs(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function Xn(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Jn(t,e,n){var r=Fr(),i=-1;e=un(e,function(t){return r(t)});var o=Bn(t,function(t){var n=un(e,function(e){return e(t)});return{criteria:n,index:++i,value:t}});return Xn(o,function(t,e){return d(t,e,n)})}function Kn(t,e){var n=0;return Rs(t,function(t,r,i){n+=+e(t,r,i)||0}),n}function Qn(t,e){var n=-1,r=Br(),i=t.length,o=r==s,a=o&&i>=200,u=a?Fs():null,c=[];u?(r=Qe,o=!1):(a=!1,u=e?[]:c);t:for(;++n<i;){var l=t[n],f=e?e(l,n,t):l;if(o&&l===l){for(var h=u.length;h--;)if(u[h]===f)continue t;e&&u.push(f),c.push(l)}else r(u,f,0)<0&&((e||a)&&u.push(f),c.push(l))}return c}function Zn(t,e){for(var n=-1,r=e.length,i=Aa(r);++n<r;)i[n]=t[e[n]];return i}function tr(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Hn(t,r?0:o,r?o+1:i):Hn(t,r?o+1:0,r?i:o)}function er(t,e){var n=t;n instanceof i&&(n=n.value());for(var r=-1,o=e.length;++r<o;){var a=[n],s=e[r];Za.apply(a,s.args),n=s.func.apply(s.thisArg,a)}return n}function nr(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&Es>=i){for(;i>r;){var o=r+i>>>1,a=t[o];(n?e>=a:e>a)?r=o+1:i=o}return i}return rr(t,e,pa,n)}function rr(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,a=e!==e,s=e===C;o>i;){var u=Ja((i+o)/2),c=n(t[u]),l=c===c;if(a)var f=l||r;else f=s?l&&(r||c!==C):r?e>=c:e>c;f?i=u+1:o=u}return ds(o,xs)}function ir(t,e,n){if("function"!=typeof t)return pa;if(e===C)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,a){return t.call(e,n,r,i,o,a)}}return function(){return t.apply(e,arguments)}}function or(t){return Ha.call(t,0)}function ar(t,e,n){for(var r=n.length,i=-1,o=ps(t.length-r,0),a=-1,s=e.length,u=Aa(o+s);++a<s;)u[a]=e[a];for(;++i<r;)u[n[i]]=t[i];for(;o--;)u[a++]=t[i++];return u}function sr(t,e,n){for(var r=-1,i=n.length,o=-1,a=ps(t.length-i,0),s=-1,u=e.length,c=Aa(a+u);++o<a;)c[o]=t[o];for(var l=o;++s<u;)c[l+s]=e[s];for(;++r<i;)c[l+n[r]]=t[o++];return c}function ur(t,e){return function(n,r,i){var o=e?e():{};if(r=Fr(r,i,3),Eu(n))for(var a=-1,s=n.length;++a<s;){var u=n[a];t(o,u,r(u,a,n),n)}else Rs(n,function(e,n,i){t(o,e,r(e,n,i),i)});return o}}function cr(t){return uo(function(e,n){var r=-1,i=null==e?0:n.length,o=i>2&&n[i-2],a=i>2&&n[2],s=i>1&&n[i-1];for("function"==typeof o?(o=ir(o,s,5),i-=2):(o="function"==typeof s?s:null,i-=o?1:0),a&&Vr(n[0],n[1],a)&&(o=3>i?null:o,i=1);++r<i;){var u=n[r];u&&t(e,u,o)}return e})}function lr(t,e){return function(n,r){var i=n?Ds(n):0;if(!Hr(i))return t(n,r);for(var o=e?i:-1,a=ni(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function fr(t){return function(e,n,r){for(var i=ni(e),o=r(e),a=o.length,s=t?a:-1;t?s--:++s<a;){var u=o[s];if(n(i[u],u,i)===!1)break}return e}}function hr(t,e){function n(){var i=this&&this!==rn&&this instanceof n?r:t;return i.apply(e,arguments)}var r=dr(t);return n}function pr(t){return function(e){for(var n=-1,r=la(Jo(e)),i=r.length,o="";++n<i;)o=t(o,r[n],n);return o}}function dr(t){return function(){var e=Os(t.prototype),n=t.apply(e,arguments);return xo(n)?n:e}}function vr(t){function e(n,r,i){i&&Vr(n,r,i)&&(r=null);var o=Rr(n,t,null,null,null,null,null,r);return o.placeholder=e.placeholder,o}return e}function gr(t,e){return function(n,r,i){i&&Vr(n,r,i)&&(r=null);var o=Fr(),a=null==r;if(o===wn&&a||(a=!1,r=o(r,i,3)),a){var s=Eu(n);if(s||!jo(n))return t(s?n:ei(n));r=l}return Lr(n,r,e)}}function mr(t,e){return function(n,r,i){if(r=Fr(r,i,3),Eu(n)){var o=a(n,r,e);return o>-1?n[o]:C}return Cn(n,r,t)}}function yr(t){return function(e,n,r){return e&&e.length?(n=Fr(n,r,3),a(e,n,t)):-1}}function br(t){return function(e,n,r){return n=Fr(n,r,3),Cn(e,n,t,!0)}}function wr(t){return function(){var e=arguments.length;if(!e)return function(){return arguments[0]};for(var n,i=t?e:-1,o=0,a=Aa(e);t?i--:++i<e;){var s=a[o++]=arguments[i];if("function"!=typeof s)throw new La(G);var u=n?"":Ns(s);n="wrapper"==u?new r([]):n}for(i=n?-1:e;++i<e;){s=a[i],u=Ns(s);var c="wrapper"==u?Bs(s):null;n=c&&$r(c[0])?n[Ns(c[0])].apply(n,c[3]):1==s.length&&$r(s)?n[u]():n.thru(s)}return function(){var t=arguments;if(n&&1==t.length&&Eu(t[0]))return n.plant(t[0]).value();for(var r=0,i=a[r].apply(this,t);++r<e;)i=a[r].call(this,i);return i}}}function _r(t,e){return function(n,r,i){return"function"==typeof r&&i===C&&Eu(n)?t(n,r):e(n,ir(r,i,3))}}function xr(t){return function(e,n,r){return("function"!=typeof n||r!==C)&&(n=ir(n,r,3)),t(e,n,Do)}}function Er(t){return function(e,n,r){return("function"!=typeof n||r!==C)&&(n=ir(n,r,3)),t(e,n)}}function Sr(t){return function(e,n,r){return e=c(e),e&&(t?e:"")+kr(e,n,r)+(t?"":e)}}function Tr(t){var e=uo(function(n,r){var i=_(r,e.placeholder);return Rr(n,t,null,r,i)});return e}function Ar(t,e){return function(n,r,i,o){var a=arguments.length<3;return"function"==typeof r&&o===C&&Eu(n)?t(n,r,i,a):$n(n,Fr(r,o,4),i,a,e)}}function Cr(t,e,n,r,i,o,a,s,u,c){function l(){for(var b=arguments.length,w=b,x=Aa(b);w--;)x[w]=arguments[w];if(r&&(x=ar(x,r,i)),o&&(x=sr(x,o,a)),d||g){var E=l.placeholder,S=_(x,E);if(b-=S.length,c>b){var T=s?tn(s):null,A=ps(c-b,0),k=d?S:null,R=d?null:S,M=d?x:null,P=d?null:x;e|=d?I:L,e&=~(d?L:I),v||(e&=~(j|O));var F=[t,e,n,M,k,P,R,T,u,A],B=Cr.apply(C,F);return $r(t)&&qs(B,F),B.placeholder=E,B}}var N=h?n:this;p&&(t=N[y]),s&&(x=Qr(x,s)),f&&u<x.length&&(x.length=u);var D=this&&this!==rn&&this instanceof l?m||dr(t):t;return D.apply(N,x)}var f=e&F,h=e&j,p=e&O,d=e&M,v=e&R,g=e&P,m=!p&&dr(t),y=t;return l}function kr(t,e,n){var r=t.length;if(e=+e,r>=e||!fs(e))return"";var i=e-r;return n=null==n?" ":n+"",na(n,Ya(i/n.length)).slice(0,i)}function jr(t,e,n,r){function i(){for(var e=-1,s=arguments.length,u=-1,c=r.length,l=Aa(s+c);++u<c;)l[u]=r[u];for(;s--;)l[u++]=arguments[++e];var f=this&&this!==rn&&this instanceof i?a:t;return f.apply(o?n:this,l)}var o=e&j,a=dr(t);return i}function Or(t){return function(e,n,r,i){var o=Fr(r);return o===wn&&null==r?nr(e,n,t):rr(e,n,o(r,i,1),t)}}function Rr(t,e,n,r,i,o,a,s){var u=e&O;if(!u&&"function"!=typeof t)throw new La(G);var c=r?r.length:0;if(c||(e&=~(I|L),r=i=null),c-=i?i.length:0,e&L){var l=r,f=i;r=i=null}var h=u?null:Bs(t),p=[t,e,n,r,i,l,f,o,a,s];if(h&&(Xr(p,h),e=p[1],s=p[9]),p[9]=null==s?u?0:t.length:ps(s-c,0)||0,e==j)var d=hr(p[0],p[2]);else d=e!=I&&e!=(j|I)||p[4].length?Cr.apply(C,p):jr.apply(C,p);var v=h?Ls:qs;return v(d,p)}function Mr(t,e,n,r,i,o,a){var s=-1,u=t.length,c=e.length,l=!0;if(u!=c&&!(i&&c>u))return!1;for(;l&&++s<u;){var f=t[s],h=e[s];if(l=C,r&&(l=i?r(h,f,s):r(f,h,s)),l===C)if(i)for(var p=c;p--&&(h=e[p],!(l=f&&f===h||n(f,h,r,i,o,a))););else l=f&&f===h||n(f,h,r,i,o,a)}return!!l}function Pr(t,e,n){switch(n){case X:case J:return+t==+e;case K:return t.name==e.name&&t.message==e.message;case te:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case ne:case ie:return t==e+""}return!1}function Ir(t,e,n,r,i,o,a){var s=Lu(t),u=s.length,c=Lu(e),l=c.length;if(u!=l&&!i)return!1;for(var f=i,h=-1;++h<u;){var p=s[h],d=i?p in e:qa.call(e,p);if(d){var v=t[p],g=e[p];d=C,r&&(d=i?r(g,v,p):r(v,g,p)),d===C&&(d=v&&v===g||n(v,g,r,i,o,a))}if(!d)return!1;f||(f="constructor"==p)}if(!f){var m=t.constructor,y=e.constructor;if(m!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y))return!1}return!0}function Lr(t,e,n){var r=n?ws:bs,i=r,o=i;return Rs(t,function(t,a,s){var u=e(t,a,s);((n?i>u:u>i)||u===r&&u===o)&&(i=u,o=t)}),o}function Fr(t,n,r){var i=e.callback||fa;return i=i===fa?wn:i,r?i(t,n,r):i}function Br(t,n,r){var i=e.indexOf||vi;return i=i===vi?s:i,t?i(t,n,r):i}function Nr(t,e,n){for(var r=-1,i=n?n.length:0;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=ds(e,t+a);break;case"takeRight":t=ps(t,e-a)}}return{start:t,end:e}}function Dr(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&qa.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Ur(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Ma),new e}function qr(t,e,n){var r=t.constructor;switch(e){case ae:return or(t);case X:case J:return new r(+t);case se:case ue:case ce:case le:case fe:case he:case pe:case de:case ve:var i=t.buffer;return new r(n?or(i):i,t.byteOffset,t.length);case te:case ie:return new r(t);case ne:var o=new r(t.source,Ie.exec(t));o.lastIndex=t.lastIndex}return o}function Wr(t,e,n){null==t||Gr(e,t)||(e=ri(e),t=1==e.length?t:Pn(t,Hn(e,0,-1)),e=yi(e));var r=null==t?t:t[e];return null==r?C:r.apply(t,n)}function zr(t,e){return t=+t,e=null==e?Ts:e,t>-1&&t%1==0&&e>t}function Vr(t,e,n){if(!xo(n))return!1;var r=typeof e;if("number"==r)var i=Ds(n),o=Hr(i)&&zr(e,i);else o="string"==r&&e in n;if(o){var a=n[e];return t===t?t===a:a!==a}return!1}function Gr(t,e){var n=typeof t;if("string"==n&&Ce.test(t)||"number"==n)return!0;if(Eu(t))return!1;var r=!Ae.test(t);return r||null!=e&&t in ni(e)}function $r(t){var n=Ns(t);return!!n&&t===e[n]&&n in i.prototype}function Hr(t){return"number"==typeof t&&t>-1&&t%1==0&&Ts>=t}function Yr(t){return t===t&&(0===t?1/t>0:!xo(t))}function Xr(t,e){var n=t[1],r=e[1],i=n|r,o=F>i,a=r==F&&n==M||r==F&&n==B&&t[7].length<=e[8]||r==(F|B)&&n==M;if(!o&&!a)return t;r&j&&(t[2]=e[2],i|=n&j?0:R);var s=e[3];if(s){var u=t[3];t[3]=u?ar(u,s,e[4]):tn(s),t[4]=u?_(t[3],$):tn(e[4])}return s=e[5],s&&(u=t[5],t[5]=u?sr(u,s,e[6]):tn(s),t[6]=u?_(t[5],$):tn(e[6])),s=e[7],s&&(t[7]=tn(s)),r&F&&(t[8]=null==t[8]?e[8]:ds(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Jr(t,e){t=ni(t);for(var n=-1,r=e.length,i={};++n<r;){var o=e[n];o in t&&(i[o]=t[o])}return i}function Kr(t,e){var n={};return jn(t,function(t,r,i){e(t,r,i)&&(n[r]=t)}),n}function Qr(t,e){for(var n=t.length,r=ds(e.length,n),i=tn(t);r--;){var o=e[r];t[r]=zr(o,n)?i[o]:C}return t}function Zr(t){{var n;e.support}if(!b(t)||za.call(t)!=ee||!qa.call(t,"constructor")&&(n=t.constructor,"function"==typeof n&&!(n instanceof n)))return!1;var r;return jn(t,function(t,e){r=e}),r===C||qa.call(t,r)}function ti(t){for(var n=Do(t),r=n.length,i=r&&t.length,o=e.support,a=i&&Hr(i)&&(Eu(t)||o.nonEnumArgs&&vo(t)),s=-1,u=[];++s<r;){var c=n[s];(a&&zr(c,i)||qa.call(t,c))&&u.push(c)}return u}function ei(t){return null==t?[]:Hr(Ds(t))?xo(t)?t:Ma(t):Go(t)}function ni(t){return xo(t)?t:Ma(t)}function ri(t){if(Eu(t))return t;var e=[];return c(t).replace(ke,function(t,n,r,i){e.push(r?i.replace(Me,"$1"):n||t)}),e}function ii(t){return t instanceof i?t.clone():new r(t.__wrapped__,t.__chain__,tn(t.__actions__))}function oi(t,e,n){e=(n?Vr(t,e,n):null==e)?1:ps(+e||1,1);for(var r=0,i=t?t.length:0,o=-1,a=Aa(Ya(i/e));i>r;)a[++o]=Hn(t,r,r+=e);return a}function ai(t){for(var e=-1,n=t?t.length:0,r=-1,i=[];++e<n;){var o=t[e];o&&(i[++r]=o)}return i}function si(t,e,n){var r=t?t.length:0;return r?((n?Vr(t,e,n):null==e)&&(e=1),Hn(t,0>e?0:e)):[]}function ui(t,e,n){var r=t?t.length:0;return r?((n?Vr(t,e,n):null==e)&&(e=1),e=r-(+e||0),Hn(t,0,0>e?0:e)):[]}function ci(t,e,n){return t&&t.length?tr(t,Fr(e,n,3),!0,!0):[]}function li(t,e,n){return t&&t.length?tr(t,Fr(e,n,3),!0):[]}function fi(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Vr(t,e,n)&&(n=0,r=i),Tn(t,e,n,r)):[]}function hi(t){return t?t[0]:C}function pi(t,e,n){var r=t?t.length:0;return n&&Vr(t,e,n)&&(e=!1),r?kn(t,e):[]}function di(t){var e=t?t.length:0;return e?kn(t,!0):[]}function vi(t,e,n){var r=t?t.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?ps(r+n,0):n;else if(n){var i=nr(t,e),o=t[i];return(e===e?e===o:o!==o)?i:-1}return s(t,e,n||0)}function gi(t){return ui(t,1)}function mi(){for(var t=[],e=-1,n=arguments.length,r=[],i=Br(),o=i==s,a=[];++e<n;){var u=arguments[e];(Eu(u)||vo(u))&&(t.push(u),r.push(o&&u.length>=120?Fs(e&&u):null))}if(n=t.length,2>n)return a;var c=t[0],l=-1,f=c?c.length:0,h=r[0];t:for(;++l<f;)if(u=c[l],(h?Qe(h,u):i(a,u,0))<0){for(e=n;--e;){var p=r[e];if((p?Qe(p,u):i(t[e],u,0))<0)continue t}h&&h.push(u),a.push(u)}return a}function yi(t){var e=t?t.length:0;return e?t[e-1]:C}function bi(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?ps(r+n,0):ds(n||0,r-1))+1;else if(n){i=nr(t,e,!0)-1;var o=t[i];return(e===e?e===o:o!==o)?i:-1}if(e!==e)return y(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1}function wi(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,r=Br(),i=t.length;++n<i;)for(var o=0,a=t[n];(o=r(e,a,o))>-1;)is.call(e,o,1);return e}function _i(t,e,n){var r=[];if(!t||!t.length)return r;var i=-1,o=[],a=t.length;for(e=Fr(e,n,3);++i<a;){var s=t[i];e(s,i,t)&&(r.push(s),o.push(i))}return Vn(t,o),r}function xi(t){return si(t,1)}function Ei(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Vr(t,e,n)&&(e=0,n=r),Hn(t,e,n)):[]}function Si(t,e,n){var r=t?t.length:0;return r?((n?Vr(t,e,n):null==e)&&(e=1),Hn(t,0,0>e?0:e)):[]}function Ti(t,e,n){var r=t?t.length:0;return r?((n?Vr(t,e,n):null==e)&&(e=1),e=r-(+e||0),Hn(t,0>e?0:e)):[]}function Ai(t,e,n){return t&&t.length?tr(t,Fr(e,n,3),!1,!0):[]}function Ci(t,e,n){return t&&t.length?tr(t,Fr(e,n,3)):[]}function ki(t,e,n,r){var i=t?t.length:0;if(!i)return[];null!=e&&"boolean"!=typeof e&&(r=n,n=Vr(t,e,r)?null:e,e=!1);var o=Fr();return(o!==wn||null!=n)&&(n=o(n,r,3)),e&&Br()==s?x(t,n):Qn(t,n)}function ji(t){for(var e=-1,n=(t&&t.length&&cn(un(t,Ds)))>>>0,r=Aa(n);++e<n;)r[e]=un(t,Wn(e));return r}function Oi(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Eu(n)||vo(n))var r=r?En(r,n).concat(En(n,r)):n}return r?Qn(r):[]}function Ri(t,e){var n=-1,r=t?t.length:0,i={};for(!r||e||Eu(t[0])||(e=[]);++n<r;){var o=t[n];e?i[o]=e[n]:o&&(i[o[0]]=o[1])}return i}function Mi(t){var n=e(t);return n.__chain__=!0,n}function Pi(t,e,n){return e.call(n,t),t}function Ii(t,e,n){return e.call(n,t)}function Li(){return Mi(this)}function Fi(){return new r(this.value(),this.__chain__)}function Bi(t){for(var e,r=this;r instanceof n;){var i=ii(r);e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e}function Ni(){var t=this.__wrapped__;return t instanceof i?(this.__actions__.length&&(t=new i(this)),new r(t.reverse(),this.__chain__)):this.thru(function(t){return t.reverse()})}function Di(){return this.value()+""}function Ui(){return er(this.__wrapped__,this.__actions__)}function qi(t,e,n){var r=Eu(t)?an:Sn;return n&&Vr(t,e,n)&&(e=null),("function"!=typeof e||n!==C)&&(e=Fr(e,n,3)),r(t,e)}function Wi(t,e,n){var r=Eu(t)?sn:An;return e=Fr(e,n,3),r(t,e)}function zi(t,e){return Zs(t,Nn(e))}function Vi(t,e,n,r){var i=t?Ds(t):0;return Hr(i)||(t=Go(t),i=t.length),i?(n="number"!=typeof n||r&&Vr(e,n,r)?0:0>n?ps(i+n,0):n||0,"string"==typeof t||!Eu(t)&&jo(t)?i>n&&t.indexOf(e,n)>-1:Br(t,e,n)>-1):!1}function Gi(t,e,n){var r=Eu(t)?un:Bn;return e=Fr(e,n,3),r(t,e)}function $i(t,e){return Gi(t,ba(e))}function Hi(t,e,n){var r=Eu(t)?sn:An;return e=Fr(e,n,3),r(t,function(t,n,r){return!e(t,n,r)})}function Yi(t,e,n){if(n?Vr(t,e,n):null==e){t=ei(t);var r=t.length;return r>0?t[Gn(0,r-1)]:C}var i=Xi(t);return i.length=ds(0>e?0:+e||0,i.length),i}function Xi(t){t=ei(t);for(var e=-1,n=t.length,r=Aa(n);++e<n;){var i=Gn(0,e);e!=i&&(r[e]=r[i]),r[i]=t[e]}return r}function Ji(t){var e=t?Ds(t):0;return Hr(e)?e:Lu(t).length}function Ki(t,e,n){var r=Eu(t)?pn:Yn;return n&&Vr(t,e,n)&&(e=null),("function"!=typeof e||n!==C)&&(e=Fr(e,n,3)),r(t,e)}function Qi(t,e,n){if(null==t)return[];n&&Vr(t,e,n)&&(e=null);var r=-1;e=Fr(e,n,3);var i=Bn(t,function(t,n,i){return{criteria:e(t,n,i),index:++r,value:t}});return Xn(i,p)}function Zi(t,e,n,r){return null==t?[]:(r&&Vr(e,n,r)&&(n=null),Eu(e)||(e=null==e?[]:[e]),Eu(n)||(n=null==n?[]:[n]),Jn(t,e,n))}function to(t,e){return Wi(t,Nn(e))}function eo(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new La(G);var n=t;t=e,e=n}return t=fs(t=+t)?t:0,function(){return--t<1?e.apply(this,arguments):void 0}}function no(t,e,n){return n&&Vr(t,e,n)&&(e=null),e=t&&null==e?t.length:ps(+e||0,0),Rr(t,F,null,null,null,null,e)}function ro(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new La(G);var r=t;t=e,e=r}return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}}function io(t,e,n){function r(){h&&Xa(h),u&&Xa(u),u=h=p=C}function i(){var n=e-(lu()-l);if(0>=n||n>e){u&&Xa(u);var r=p;u=h=p=C,r&&(d=lu(),c=t.apply(f,s),h||u||(s=f=null))}else h=rs(i,n)}function o(){h&&Xa(h),u=h=p=C,(g||v!==e)&&(d=lu(),c=t.apply(f,s),h||u||(s=f=null))}function a(){if(s=arguments,l=lu(),f=this,p=g&&(h||!m),v===!1)var n=m&&!h;else{u||m||(d=l);var r=v-(l-d),a=0>=r||r>v;a?(u&&(u=Xa(u)),d=l,c=t.apply(f,s)):u||(u=rs(o,r))}return a&&h?h=Xa(h):h||e===v||(h=rs(i,e)),n&&(a=!0,c=t.apply(f,s)),!a||h||u||(s=f=null),c}var s,u,c,l,f,h,p,d=0,v=!1,g=!0;if("function"!=typeof t)throw new La(G);if(e=0>e?0:+e||0,n===!0){var m=!0;g=!1}else xo(n)&&(m=n.leading,v="maxWait"in n&&ps(+n.maxWait||0,e),g="trailing"in n?n.trailing:g);return a.cancel=r,a}function oo(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new La(G);var n=function(){var r=arguments,i=n.cache,o=e?e.apply(this,r):r[0];if(i.has(o))return i.get(o);var a=t.apply(this,r);return i.set(o,a),a};return n.cache=new oo.Cache,n}function ao(t){if("function"!=typeof t)throw new La(G);return function(){return!t.apply(this,arguments)}}function so(t){return ro(2,t)}function uo(t,e){if("function"!=typeof t)throw new La(G);return e=ps(e===C?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,i=ps(n.length-e,0),o=Aa(i);++r<i;)o[r]=n[e+r];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,n[0],o);case 2:return t.call(this,n[0],n[1],o)}var a=Aa(e+1);for(r=-1;++r<e;)a[r]=n[r];return a[e]=o,t.apply(this,a)}}function co(t){if("function"!=typeof t)throw new La(G);return function(e){return t.apply(this,e)}}function lo(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new La(G);return n===!1?r=!1:xo(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),$e.leading=r,$e.maxWait=+e,$e.trailing=i,io(t,e,$e)}function fo(t,e){return e=null==e?pa:e,Rr(e,I,null,[t],[])}function ho(t,e,n,r){return e&&"boolean"!=typeof e&&Vr(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),n="function"==typeof n&&ir(n,r,1),_n(t,e,n)}function po(t,e,n){return e="function"==typeof e&&ir(e,n,1),_n(t,!0,e)}function vo(t){var e=b(t)?t.length:C;return Hr(e)&&za.call(t)==H}function go(t){return t===!0||t===!1||b(t)&&za.call(t)==X}function mo(t){return b(t)&&za.call(t)==J}function yo(t){return!!t&&1===t.nodeType&&b(t)&&za.call(t).indexOf("Element")>-1}function bo(t){if(null==t)return!0;var e=Ds(t);return Hr(e)&&(Eu(t)||jo(t)||vo(t)||b(t)&&Tu(t.splice))?!e:!Lu(t).length}function wo(t,e,n,r){if(n="function"==typeof n&&ir(n,r,3),!n&&Yr(t)&&Yr(e))return t===e;var i=n?n(t,e):C;return i===C?In(t,e,n):!!i}function _o(t){return b(t)&&"string"==typeof t.message&&za.call(t)==K}function xo(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function Eo(t,e,n,r){var i=Lu(e),o=i.length;if(!o)return!0;if(null==t)return!1;if(n="function"==typeof n&&ir(n,r,3),t=ni(t),!n&&1==o){var a=i[0],s=e[a];if(Yr(s))return s===t[a]&&(s!==C||a in t)}for(var u=Aa(o),c=Aa(o);o--;)s=u[o]=e[i[o]],c[o]=Yr(s);return Fn(t,i,u,c,n)}function So(t){return Co(t)&&t!=+t}function To(t){return null==t?!1:za.call(t)==Q?Ga.test(Ua.call(t)):b(t)&&Fe.test(t)}function Ao(t){return null===t}function Co(t){return"number"==typeof t||b(t)&&za.call(t)==te}function ko(t){return b(t)&&za.call(t)==ne||!1}function jo(t){return"string"==typeof t||b(t)&&za.call(t)==ie}function Oo(t){return b(t)&&Hr(t.length)&&!!Ve[za.call(t)]}function Ro(t){return t===C}function Mo(t){var e=t?Ds(t):0;return Hr(e)?e?tn(t):[]:Go(t)}function Po(t){return bn(t,Do(t))}function Io(t,e,n){var r=Os(t);return n&&Vr(t,e,n)&&(e=null),e?js(r,e):r}function Lo(t){return Mn(t,Do(t))}function Fo(t,e,n){var r=null==t?C:Pn(t,ri(e),e+"");return r===C?n:r}function Bo(t,e){if(null==t)return!1;var n=qa.call(t,e);return n||Gr(e)||(e=ri(e),t=1==e.length?t:Pn(t,Hn(e,0,-1)),e=yi(e),n=null!=t&&qa.call(t,e)),n}function No(t,e,n){n&&Vr(t,e,n)&&(e=null);for(var r=-1,i=Lu(t),o=i.length,a={};++r<o;){var s=i[r],u=t[s];e?qa.call(a,u)?a[u].push(s):a[u]=[s]:a[u]=s}return a}function Do(t){if(null==t)return[];xo(t)||(t=Ma(t));var e=t.length;e=e&&Hr(e)&&(Eu(t)||ks.nonEnumArgs&&vo(t))&&e||0;for(var n=t.constructor,r=-1,i="function"==typeof n&&n.prototype===t,o=Aa(e),a=e>0;++r<e;)o[r]=r+"";for(var s in t)a&&zr(s,e)||"constructor"==s&&(i||!qa.call(t,s))||o.push(s);return o}function Uo(t,e,n){var r={};return e=Fr(e,n,3),On(t,function(t,n,i){r[n]=e(t,n,i)}),r}function qo(t){for(var e=-1,n=Lu(t),r=n.length,i=Aa(r);++e<r;){var o=n[e];i[e]=[o,t[o]]}return i}function Wo(t,e,n){var r=null==t?C:t[e];return r===C&&(null==t||Gr(e,t)||(e=ri(e),t=1==e.length?t:Pn(t,Hn(e,0,-1)),r=null==t?C:t[yi(e)]),r=r===C?n:r),Tu(r)?r.call(t):r}function zo(t,e,n){if(null==t)return t;var r=e+"";e=null!=t[r]||Gr(e,t)?[r]:ri(e);for(var i=-1,o=e.length,a=o-1,s=t;null!=s&&++i<o;){var u=e[i];xo(s)&&(i==a?s[u]=n:null==s[u]&&(s[u]=zr(e[i+1])?[]:{})),s=s[u]}return t}function Vo(t,e,n,r){var i=Eu(t)||Oo(t);if(e=Fr(e,r,4),null==n)if(i||xo(t)){var o=t.constructor;n=i?Eu(t)?new o:[]:Os(Tu(o)&&o.prototype)}else n={};return(i?en:On)(t,function(t,r,i){return e(n,t,r,i)}),n}function Go(t){return Zn(t,Lu(t))}function $o(t){return Zn(t,Do(t))}function Ho(t,e,n){return e=+e||0,"undefined"==typeof n?(n=e,e=0):n=+n||0,t>=ds(e,n)&&t<ps(e,n)}function Yo(t,e,n){n&&Vr(t,e,n)&&(e=n=null);var r=null==t,i=null==e;if(null==n&&(i&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,i=!0)),r&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=ys();return ds(t+o*(e-t+parseFloat("1e-"+((o+"").length-1))),e)}return Gn(t,e)}function Xo(t){return t=c(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function Jo(t){return t=c(t),t&&t.replace(Be,v).replace(Re,"")}function Ko(t,e,n){t=c(t),e+="";var r=t.length;return n=n===C?r:ds(0>n?0:+n||0,r),n-=e.length,n>=0&&t.indexOf(e,n)==n}function Qo(t){return t=c(t),t&&xe.test(t)?t.replace(we,g):t}function Zo(t){return t=c(t),t&&Oe.test(t)?t.replace(je,"\\$&"):t}function ta(t,e,n){t=c(t),e=+e;var r=t.length;if(r>=e||!fs(e))return t;var i=(e-r)/2,o=Ja(i),a=Ya(i);return n=kr("",a,n),n.slice(0,o)+t+n}function ea(t,e,n){return n&&Vr(t,e,n)&&(e=0),ms(t,e)}function na(t,e){var n="";if(t=c(t),e=+e,1>e||!t||!fs(e))return n;do e%2&&(n+=t),e=Ja(e/2),t+=t;while(e);return n}function ra(t,e,n){return t=c(t),n=null==n?0:ds(0>n?0:+n||0,t.length),t.lastIndexOf(e,n)==n
}function ia(t,n,r){var i=e.templateSettings;r&&Vr(t,n,r)&&(n=r=null),t=c(t),n=mn(js({},r||n),i,gn);var o,a,s=mn(js({},n.imports),i.imports,gn),u=Lu(s),l=Zn(s,u),f=0,h=n.interpolate||Ne,p="__p += '",d=Pa((n.escape||Ne).source+"|"+h.source+"|"+(h===Te?Pe:Ne).source+"|"+(n.evaluate||Ne).source+"|$","g"),v="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++ze+"]")+"\n";t.replace(d,function(e,n,r,i,s,u){return r||(r=i),p+=t.slice(f,u).replace(De,m),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=u+e.length,e}),p+="';\n";var g=n.variable;g||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(ge,""):p).replace(me,"$1").replace(ye,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=Gu(function(){return ja(u,v+"return "+p).apply(C,l)});if(y.source=p,_o(y))throw y;return y}function oa(t,e,n){var r=t;return(t=c(t))?(n?Vr(r,e,n):null==e)?t.slice(E(t),S(t)+1):(e+="",t.slice(f(t,e),h(t,e)+1)):t}function aa(t,e,n){var r=t;return t=c(t),t?t.slice((n?Vr(r,e,n):null==e)?E(t):f(t,e+"")):t}function sa(t,e,n){var r=t;return t=c(t),t?(n?Vr(r,e,n):null==e)?t.slice(0,S(t)+1):t.slice(0,h(t,e+"")+1):t}function ua(t,e,n){n&&Vr(t,e,n)&&(e=null);var r=N,i=D;if(null!=e)if(xo(e)){var o="separator"in e?e.separator:o;r="length"in e?+e.length||0:r,i="omission"in e?c(e.omission):i}else r=+e||0;if(t=c(t),r>=t.length)return t;var a=r-i.length;if(1>a)return i;var s=t.slice(0,a);if(null==o)return s+i;if(ko(o)){if(t.slice(a).search(o)){var u,l,f=t.slice(0,a);for(o.global||(o=Pa(o.source,(Ie.exec(o)||"")+"g")),o.lastIndex=0;u=o.exec(f);)l=u.index;s=s.slice(0,null==l?a:l)}}else if(t.indexOf(o,a)!=a){var h=s.lastIndexOf(o);h>-1&&(s=s.slice(0,h))}return s+i}function ca(t){return t=c(t),t&&_e.test(t)?t.replace(be,T):t}function la(t,e,n){return n&&Vr(t,e,n)&&(e=null),t=c(t),t.match(e||Ue)||[]}function fa(t,e,n){return n&&Vr(t,e,n)&&(e=null),wn(t,e)}function ha(t){return function(){return t}}function pa(t){return t}function da(t){return Nn(_n(t,!0))}function va(t,e){return Dn(t,_n(e,!0))}function ga(t,e,n){if(null==n){var r=xo(e),i=r&&Lu(e),o=i&&i.length&&Mn(e,i);(o?o.length:r)||(o=!1,n=e,e=t,t=this)}o||(o=Mn(e,Lu(e)));var a=!0,s=-1,u=Tu(t),c=o.length;n===!1?a=!1:xo(n)&&"chain"in n&&(a=n.chain);for(;++s<c;){var l=o[s],f=e[l];t[l]=f,u&&(t.prototype[l]=function(e){return function(){var n=this.__chain__;if(a||n){var r=t(this.__wrapped__),i=r.__actions__=tn(this.__actions__);return i.push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}var o=[this.value()];return Za.apply(o,arguments),e.apply(t,o)}}(f))}return t}function ma(){return t._=Va,this}function ya(){}function ba(t){return Gr(t)?Wn(t):zn(t)}function wa(t){return function(e){return Pn(t,ri(e),e+"")}}function _a(t,e,n){n&&Vr(t,e,n)&&(e=n=null),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var r=-1,i=ps(Ya((e-t)/(n||1)),0),o=Aa(i);++r<i;)o[r]=t,t+=n;return o}function xa(t,e,n){if(t=Ja(t),1>t||!fs(t))return[];var r=-1,i=Aa(ds(t,_s));for(e=ir(e,n,1);++r<t;)_s>r?i[r]=e(r):e(r);return i}function Ea(t){var e=++Wa;return c(t)+e}function Sa(t,e){return(+t||0)+(+e||0)}function Ta(t,e,n){n&&Vr(t,e,n)&&(e=null);var r=Fr(),i=null==e;return r===wn&&i||(i=!1,e=r(e,n,3)),i?dn(Eu(t)?t:ei(t)):Kn(t,e)}t=t?on.defaults(rn.Object(),t,on.pick(rn,We)):rn;var Aa=t.Array,Ca=t.Date,ka=t.Error,ja=t.Function,Oa=t.Math,Ra=t.Number,Ma=t.Object,Pa=t.RegExp,Ia=t.String,La=t.TypeError,Fa=Aa.prototype,Ba=Ma.prototype,Na=Ia.prototype,Da=(Da=t.window)&&Da.document,Ua=ja.prototype.toString,qa=Ba.hasOwnProperty,Wa=0,za=Ba.toString,Va=t._,Ga=Pa("^"+Zo(za).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$a=To($a=t.ArrayBuffer)&&$a,Ha=To(Ha=$a&&new $a(0).slice)&&Ha,Ya=Oa.ceil,Xa=t.clearTimeout,Ja=Oa.floor,Ka=To(Ka=Ma.getOwnPropertySymbols)&&Ka,Qa=To(Qa=Ma.getPrototypeOf)&&Qa,Za=Fa.push,ts=To(Ma.preventExtensions=Ma.preventExtensions)&&ts,es=Ba.propertyIsEnumerable,ns=To(ns=t.Set)&&ns,rs=t.setTimeout,is=Fa.splice,os=To(os=t.Uint8Array)&&os,as=To(as=t.WeakMap)&&as,ss=function(){try{var e=To(e=t.Float64Array)&&e,n=new e(new $a(10),0,1)&&e}catch(r){}return n}(),us=function(){var t={1:0},e=ts&&To(e=Ma.assign)&&e;try{e(ts(t),"xo")}catch(n){}return!t[1]&&e}(),cs=To(cs=Aa.isArray)&&cs,ls=To(ls=Ma.create)&&ls,fs=t.isFinite,hs=To(hs=Ma.keys)&&hs,ps=Oa.max,ds=Oa.min,vs=To(vs=Ca.now)&&vs,gs=To(gs=Ra.isFinite)&&gs,ms=t.parseInt,ys=Oa.random,bs=Ra.NEGATIVE_INFINITY,ws=Ra.POSITIVE_INFINITY,_s=Oa.pow(2,32)-1,xs=_s-1,Es=_s>>>1,Ss=ss?ss.BYTES_PER_ELEMENT:0,Ts=Oa.pow(2,53)-1,As=as&&new as,Cs={},ks=e.support={};!function(t){var e=function(){this.x=t},n=[];e.prototype={valueOf:t,y:t};for(var r in new e)n.push(r);ks.funcDecomp=/\bthis\b/.test(function(){return this}),ks.funcNames="string"==typeof ja.name;try{ks.dom=11===Da.createDocumentFragment().nodeType}catch(i){ks.dom=!1}try{ks.nonEnumArgs=!es.call(arguments,1)}catch(i){ks.nonEnumArgs=!0}}(1,0),e.templateSettings={escape:Ee,evaluate:Se,interpolate:Te,variable:"",imports:{_:e}};var js=us||function(t,e){return null==e?t:bn(e,Us(e),bn(e,Lu(e),t))},Os=function(){function e(){}return function(n){if(xo(n)){e.prototype=n;var r=new e;e.prototype=null}return r||t.Object()}}(),Rs=lr(On),Ms=lr(Rn,!0),Ps=fr(),Is=fr(!0),Ls=As?function(t,e){return As.set(t,e),t}:pa;Ha||(or=$a&&os?function(t){var e=t.byteLength,n=ss?Ja(e/Ss):0,r=n*Ss,i=new $a(e);if(n){var o=new ss(i,0,n);o.set(new ss(t,0,n))}return e!=r&&(o=new os(i,r),o.set(new os(t,r))),i}:ha(null));var Fs=ls&&ns?function(t){return new Ke(t)}:ha(null),Bs=As?function(t){return As.get(t)}:ya,Ns=function(){return ks.funcNames?"constant"==ha.name?Wn("name"):function(t){for(var e=t.name,n=Cs[e],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}:ha("")}(),Ds=Wn("length"),Us=Ka?function(t){return Ka(ni(t))}:ha([]),qs=function(){var t=0,e=0;return function(n,r){var i=lu(),o=q-(i-e);if(e=i,o>0){if(++t>=U)return n}else t=0;return Ls(n,r)}}(),Ws=uo(function(t,e){return Eu(t)||vo(t)?En(t,kn(e,!1,!0)):[]}),zs=yr(),Vs=yr(!0),Gs=uo(function(t,e){t||(t=[]),e=kn(e);var n=yn(t,e);return Vn(t,e.sort(o)),n}),$s=Or(),Hs=Or(!0),Ys=uo(function(t){return Qn(kn(t,!1,!0))}),Xs=uo(function(t,e){return Eu(t)||vo(t)?En(t,e):[]}),Js=uo(ji),Ks=uo(function(t,e){var n=t?Ds(t):0;return Hr(n)&&(t=ei(t)),yn(t,kn(e))}),Qs=ur(function(t,e,n){qa.call(t,n)?++t[n]:t[n]=1}),Zs=mr(Rs),tu=mr(Ms,!0),eu=_r(en,Rs),nu=_r(nn,Ms),ru=ur(function(t,e,n){qa.call(t,n)?t[n].push(e):t[n]=[e]}),iu=ur(function(t,e,n){t[n]=e}),ou=uo(function(t,e,n){var r=-1,i="function"==typeof e,o=Gr(e),a=Ds(t),s=Hr(a)?Aa(a):[];return Rs(t,function(t){var a=i?e:o&&null!=t&&t[e];s[++r]=a?a.apply(t,n):Wr(t,e,n)}),s}),au=ur(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),su=Ar(fn,Rs),uu=Ar(hn,Ms),cu=uo(function(t,e){if(null==t)return[];var n=e[2];return n&&Vr(e[0],e[1],n)&&(e.length=1),Jn(t,kn(e),[])}),lu=vs||function(){return(new Ca).getTime()},fu=uo(function(t,e,n){var r=j;if(n.length){var i=_(n,fu.placeholder);r|=I}return Rr(t,r,e,n,i)}),hu=uo(function(t,e){e=e.length?kn(e):Lo(t);for(var n=-1,r=e.length;++n<r;){var i=e[n];t[i]=Rr(t[i],j,t)}return t}),pu=uo(function(t,e,n){var r=j|O;if(n.length){var i=_(n,pu.placeholder);r|=I}return Rr(e,r,t,n,i)}),du=vr(M),vu=vr(P),gu=uo(function(t,e){return xn(t,1,e)}),mu=uo(function(t,e,n){return xn(t,e,n)}),yu=wr(),bu=wr(!0),wu=Tr(I),_u=Tr(L),xu=uo(function(t,e){return Rr(t,B,null,null,null,kn(e))}),Eu=cs||function(t){return b(t)&&Hr(t.length)&&za.call(t)==Y};ks.dom||(yo=function(t){return!!t&&1===t.nodeType&&b(t)&&!Au(t)});var Su=gs||function(t){return"number"==typeof t&&fs(t)},Tu=u(/x/)||os&&!u(os)?function(t){return za.call(t)==Q}:u,Au=Qa?function(t){if(!t||za.call(t)!=ee)return!1;var e=t.valueOf,n=To(e)&&(n=Qa(e))&&Qa(n);return n?t==n||Qa(t)==n:Zr(t)}:Zr,Cu=cr(function(t,e,n){return n?mn(t,e,n):js(t,e)}),ku=uo(function(t){var e=t[0];return null==e?e:(t.push(vn),Cu.apply(C,t))}),ju=br(On),Ou=br(Rn),Ru=xr(Ps),Mu=xr(Is),Pu=Er(On),Iu=Er(Rn),Lu=hs?function(t){if(t)var e=t.constructor,n=t.length;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Hr(n)?ti(t):xo(t)?hs(t):[]}:ti,Fu=cr(Un),Bu=uo(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=un(kn(e),Ia);return Jr(t,En(Do(t),e))}var n=ir(e[0],e[1],3);return Kr(t,function(t,e,r){return!n(t,e,r)})}),Nu=uo(function(t,e){return null==t?{}:"function"==typeof e[0]?Kr(t,ir(e[0],e[1],3)):Jr(t,kn(e))}),Du=pr(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),Uu=pr(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),qu=Sr(),Wu=Sr(!0);8!=ms(qe+"08")&&(ea=function(t,e,n){return(n?Vr(t,e,n):null==e)?e=0:e&&(e=+e),t=oa(t),ms(t,e||(Le.test(t)?16:10))});var zu=pr(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Vu=pr(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Gu=uo(function(t,e){try{return t.apply(C,e)}catch(n){return _o(n)?n:new ka(n)}}),$u=uo(function(t,e){return function(n){return Wr(n,t,e)}}),Hu=uo(function(t,e){return function(n){return Wr(t,n,e)}}),Yu=gr(cn),Xu=gr(ln,!0);return e.prototype=n.prototype,r.prototype=Os(n.prototype),r.prototype.constructor=r,i.prototype=Os(n.prototype),i.prototype.constructor=i,oe.prototype["delete"]=He,oe.prototype.get=Ye,oe.prototype.has=Xe,oe.prototype.set=Je,Ke.prototype.push=Ze,oo.Cache=oe,e.after=eo,e.ary=no,e.assign=Cu,e.at=Ks,e.before=ro,e.bind=fu,e.bindAll=hu,e.bindKey=pu,e.callback=fa,e.chain=Mi,e.chunk=oi,e.compact=ai,e.constant=ha,e.countBy=Qs,e.create=Io,e.curry=du,e.curryRight=vu,e.debounce=io,e.defaults=ku,e.defer=gu,e.delay=mu,e.difference=Ws,e.drop=si,e.dropRight=ui,e.dropRightWhile=ci,e.dropWhile=li,e.fill=fi,e.filter=Wi,e.flatten=pi,e.flattenDeep=di,e.flow=yu,e.flowRight=bu,e.forEach=eu,e.forEachRight=nu,e.forIn=Ru,e.forInRight=Mu,e.forOwn=Pu,e.forOwnRight=Iu,e.functions=Lo,e.groupBy=ru,e.indexBy=iu,e.initial=gi,e.intersection=mi,e.invert=No,e.invoke=ou,e.keys=Lu,e.keysIn=Do,e.map=Gi,e.mapValues=Uo,e.matches=da,e.matchesProperty=va,e.memoize=oo,e.merge=Fu,e.method=$u,e.methodOf=Hu,e.mixin=ga,e.negate=ao,e.omit=Bu,e.once=so,e.pairs=qo,e.partial=wu,e.partialRight=_u,e.partition=au,e.pick=Nu,e.pluck=$i,e.property=ba,e.propertyOf=wa,e.pull=wi,e.pullAt=Gs,e.range=_a,e.rearg=xu,e.reject=Hi,e.remove=_i,e.rest=xi,e.restParam=uo,e.set=zo,e.shuffle=Xi,e.slice=Ei,e.sortBy=Qi,e.sortByAll=cu,e.sortByOrder=Zi,e.spread=co,e.take=Si,e.takeRight=Ti,e.takeRightWhile=Ai,e.takeWhile=Ci,e.tap=Pi,e.throttle=lo,e.thru=Ii,e.times=xa,e.toArray=Mo,e.toPlainObject=Po,e.transform=Vo,e.union=Ys,e.uniq=ki,e.unzip=ji,e.values=Go,e.valuesIn=$o,e.where=to,e.without=Xs,e.wrap=fo,e.xor=Oi,e.zip=Js,e.zipObject=Ri,e.backflow=bu,e.collect=Gi,e.compose=bu,e.each=eu,e.eachRight=nu,e.extend=Cu,e.iteratee=fa,e.methods=Lo,e.object=Ri,e.select=Wi,e.tail=xi,e.unique=ki,ga(e,e),e.add=Sa,e.attempt=Gu,e.camelCase=Du,e.capitalize=Xo,e.clone=ho,e.cloneDeep=po,e.deburr=Jo,e.endsWith=Ko,e.escape=Qo,e.escapeRegExp=Zo,e.every=qi,e.find=Zs,e.findIndex=zs,e.findKey=ju,e.findLast=tu,e.findLastIndex=Vs,e.findLastKey=Ou,e.findWhere=zi,e.first=hi,e.get=Fo,e.has=Bo,e.identity=pa,e.includes=Vi,e.indexOf=vi,e.inRange=Ho,e.isArguments=vo,e.isArray=Eu,e.isBoolean=go,e.isDate=mo,e.isElement=yo,e.isEmpty=bo,e.isEqual=wo,e.isError=_o,e.isFinite=Su,e.isFunction=Tu,e.isMatch=Eo,e.isNaN=So,e.isNative=To,e.isNull=Ao,e.isNumber=Co,e.isObject=xo,e.isPlainObject=Au,e.isRegExp=ko,e.isString=jo,e.isTypedArray=Oo,e.isUndefined=Ro,e.kebabCase=Uu,e.last=yi,e.lastIndexOf=bi,e.max=Yu,e.min=Xu,e.noConflict=ma,e.noop=ya,e.now=lu,e.pad=ta,e.padLeft=qu,e.padRight=Wu,e.parseInt=ea,e.random=Yo,e.reduce=su,e.reduceRight=uu,e.repeat=na,e.result=Wo,e.runInContext=A,e.size=Ji,e.snakeCase=zu,e.some=Ki,e.sortedIndex=$s,e.sortedLastIndex=Hs,e.startCase=Vu,e.startsWith=ra,e.sum=Ta,e.template=ia,e.trim=oa,e.trimLeft=aa,e.trimRight=sa,e.trunc=ua,e.unescape=ca,e.uniqueId=Ea,e.words=la,e.all=qi,e.any=Ki,e.contains=Vi,e.detect=Zs,e.foldl=su,e.foldr=uu,e.head=hi,e.include=Vi,e.inject=su,ga(e,function(){var t={};return On(e,function(n,r){e.prototype[r]||(t[r]=n)}),t}(),!1),e.sample=Yi,e.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return Yi(e,t)}):Yi(this.value())},e.VERSION=k,en(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),en(["dropWhile","filter","map","takeWhile"],function(t,e){var n=e!=V,r=e==W;i.prototype[t]=function(t,o){var a=this.__filtered__,s=a&&r?new i(this):this.clone(),u=s.__iteratees__||(s.__iteratees__=[]);return u.push({done:!1,count:0,index:0,iteratee:Fr(t,o,1),limit:-1,type:e}),s.__filtered__=a||n,s}}),en(["drop","take"],function(t,e){var n=t+"While";i.prototype[t]=function(n){var r=this.__filtered__,i=r&&!e?this.dropWhile():this.clone();if(n=null==n?1:ps(Ja(n)||0,0),r)e?i.__takeCount__=ds(i.__takeCount__,n):yi(i.__iteratees__).limit=n;else{var o=i.__views__||(i.__views__=[]);o.push({size:n,type:t+(i.__dir__<0?"Right":"")})}return i},i.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()},i.prototype[t+"RightWhile"]=function(t,e){return this.reverse()[n](t,e).reverse()}}),en(["first","last"],function(t,e){var n="take"+(e?"Right":"");i.prototype[t]=function(){return this[n](1).value()[0]}}),en(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");i.prototype[t]=function(){return this[n](1)}}),en(["pluck","where"],function(t,e){var n=e?"filter":"map",r=e?Nn:ba;i.prototype[t]=function(t){return this[n](r(t))}}),i.prototype.compact=function(){return this.filter(pa)},i.prototype.reject=function(t,e){return t=Fr(t,e,1),this.filter(function(e){return!t(e)})},i.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=0>t?this.takeRight(-t):this.drop(t);return e!==C&&(e=+e||0,n=0>e?n.dropRight(-e):n.take(e-t)),n},i.prototype.toArray=function(){return this.drop(0)},On(i.prototype,function(t,n){var o=e[n];if(o){var a=/^(?:filter|map|reject)|While$/.test(n),s=/^(?:first|last)$/.test(n);e.prototype[n]=function(){var n=arguments,u=(n.length,this.__chain__),c=this.__wrapped__,l=!!this.__actions__.length,f=c instanceof i,h=n[0],p=f||Eu(c);p&&a&&"function"==typeof h&&1!=h.length&&(f=p=!1);var d=f&&!l;if(s&&!u)return d?t.call(c):o.call(e,this.value());var v=function(t){var r=[t];return Za.apply(r,n),o.apply(e,r)};if(p){var g=d?c:new i(this),m=t.apply(g,n);if(!s&&(l||m.__actions__)){var y=m.__actions__||(m.__actions__=[]);y.push({func:Ii,args:[v],thisArg:e})}return new r(m,u)}return this.thru(v)}}}),en(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var n=(/^(?:replace|split)$/.test(t)?Na:Fa)[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?n.apply(this.value(),t):this[r](function(e){return n.apply(e,t)})}}),On(i.prototype,function(t,n){var r=e[n];if(r){var i=r.name,o=Cs[i]||(Cs[i]=[]);o.push({name:n,func:r})}}),Cs[Cr(null,O).name]=[{name:"wrapper",func:null}],i.prototype.clone=w,i.prototype.reverse=Z,i.prototype.value=re,e.prototype.chain=Li,e.prototype.commit=Fi,e.prototype.plant=Bi,e.prototype.reverse=Ni,e.prototype.toString=Di,e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Ui,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var C,k="3.7.0",j=1,O=2,R=4,M=8,P=16,I=32,L=64,F=128,B=256,N=30,D="...",U=150,q=16,W=0,z=1,V=2,G="Expected a function",$="__lodash_placeholder__",H="[object Arguments]",Y="[object Array]",X="[object Boolean]",J="[object Date]",K="[object Error]",Q="[object Function]",Z="[object Map]",te="[object Number]",ee="[object Object]",ne="[object RegExp]",re="[object Set]",ie="[object String]",oe="[object WeakMap]",ae="[object ArrayBuffer]",se="[object Float32Array]",ue="[object Float64Array]",ce="[object Int8Array]",le="[object Int16Array]",fe="[object Int32Array]",he="[object Uint8Array]",pe="[object Uint8ClampedArray]",de="[object Uint16Array]",ve="[object Uint32Array]",ge=/\b__p \+= '';/g,me=/\b(__p \+=) '' \+/g,ye=/(__e\(.*?\)|\b__t\)) \+\n'';/g,be=/&(?:amp|lt|gt|quot|#39|#96);/g,we=/[&<>"'`]/g,_e=RegExp(be.source),xe=RegExp(we.source),Ee=/<%-([\s\S]+?)%>/g,Se=/<%([\s\S]+?)%>/g,Te=/<%=([\s\S]+?)%>/g,Ae=/\.|\[(?:[^[\]]+|(["'])(?:(?!\1)[^\n\\]|\\.)*?)\1\]/,Ce=/^\w*$/,ke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,je=/[.*+?^${}()|[\]\/\\]/g,Oe=RegExp(je.source),Re=/[\u0300-\u036f\ufe20-\ufe23]/g,Me=/\\(\\)?/g,Pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ie=/\w*$/,Le=/^0[xX]/,Fe=/^\[object .+?Constructor\]$/,Be=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ne=/($^)/,De=/['\n\r\u2028\u2029\\]/g,Ue=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),qe=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",We=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window"],ze=-1,Ve={};Ve[se]=Ve[ue]=Ve[ce]=Ve[le]=Ve[fe]=Ve[he]=Ve[pe]=Ve[de]=Ve[ve]=!0,Ve[H]=Ve[Y]=Ve[ae]=Ve[X]=Ve[J]=Ve[K]=Ve[Q]=Ve[Z]=Ve[te]=Ve[ee]=Ve[ne]=Ve[re]=Ve[ie]=Ve[oe]=!1;var Ge={};Ge[H]=Ge[Y]=Ge[ae]=Ge[X]=Ge[J]=Ge[se]=Ge[ue]=Ge[ce]=Ge[le]=Ge[fe]=Ge[te]=Ge[ee]=Ge[ne]=Ge[ie]=Ge[he]=Ge[pe]=Ge[de]=Ge[ve]=!0,Ge[K]=Ge[Q]=Ge[Z]=Ge[re]=Ge[oe]=!1;var $e={leading:!1,maxWait:0,trailing:!1},He={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Xe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Je={"function":!0,object:!0},Ke={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qe=Je[typeof e]&&e&&!e.nodeType&&e,Ze=Je[typeof t]&&t&&!t.nodeType&&t,tn=Qe&&Ze&&"object"==typeof i&&i&&i.Object&&i,en=Je[typeof self]&&self&&self.Object&&self,nn=Je[typeof window]&&window&&window.Object&&window,rn=(Ze&&Ze.exports===Qe&&Qe,tn||nn!==(this&&this.window)&&nn||en||this),on=A();rn._=on,r=function(){return on}.call(e,n,e,t),!(r!==C&&(t.exports=r))}).call(this)}).call(e,n(14)(t),function(){return this}())},,,,,,function(t){t.exports=function(t,e,n,r,i){this.confidence=n,this.name=r||e.name(t),this.lang=i}},function(t){function e(t){var e=this;return"function"==typeof t&&(t=t.call(this)),new Promise(function(r,i){function o(e){var n;try{n=t.next(e)}catch(r){return i(r)}u(n)}function s(e){var n;try{n=t["throw"](e)}catch(r){return i(r)}u(n)}function u(t){if(t.done)return r(t.value);var i=n.call(e,t.value);return i&&a(i)?i.then(o,s):s(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(t.value)+'"'))}o()})}function n(t){return t?a(t)?t:u(t)||s(t)?e.call(this,t):"function"==typeof t?r.call(this,t):Array.isArray(t)?i.call(this,t):c(t)?o.call(this,t):t:t}function r(t){var e=this;return new Promise(function(n,r){t.call(e,function(t,e){return t?r(t):(arguments.length>2&&(e=l.call(arguments,1)),void n(e))})})}function i(t){return Promise.all(t.map(n,this))}function o(t){function e(t,e){r[e]=void 0,o.push(t.then(function(t){r[e]=t}))}for(var r=new t.constructor,i=Object.keys(t),o=[],s=0;s<i.length;s++){var u=i[s],c=n.call(this,t[u]);c&&a(c)?e(c,u):r[u]=t[u]}return Promise.all(o).then(function(){return r})}function a(t){return"function"==typeof t.then}function s(t){return"function"==typeof t.next&&"function"==typeof t["throw"]}function u(t){var e=t.constructor;return e?"GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName?!0:s(e.prototype):!1}function c(t){return Object==t.constructor}var l=Array.prototype.slice;t.exports=e["default"]=e.co=e,e.wrap=function(t){function n(){return e.call(this,t.apply(this,arguments))}return n.__generatorFunction__=t,n}},function(t){function e(){function t(e){return t.validate(e),e}var e=[].slice.call(arguments);return t.validate=function(t){for(var r=0;r<e.length;r++)n(e[r],t)},t}function n(t,e){if(t===Number&&(t="number"),t===String&&(t="string"),"string"==typeof t){if(typeof e!==t)throw new Error("should be a "+t)}else if("function"==typeof t){if("function"==typeof t.validate)t.validate(e);else if(!(e instanceof t))throw new Error("should be an instance of "+t)}else{if("object"!=typeof t)throw new Error("invalid schema");if(!e)throw new Error("should be an object");r(t,e)}}function r(t,e){for(var r in t){if(!(r in e))throw new Error('missing property: "'+r+'"');try{n(t[r],e[r])}catch(i){throw new Error('error in property "'+r+'": '+i.message)}}}t.exports=e,e.maybe=function(t){function e(t){return e.validate(t),t}return e.validate=function(e){null!==e&&void 0!==e&&n(t,e)},e}},,function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&e._extend(r,n),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function a(t){return t}function s(t){var e={};return t.forEach(function(t){e[t]=!0}),e}function u(t,n,r){if(t.customInspect&&n&&A(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return b(i)||(i=u(t,i,r)),i}var o=c(t,n);if(o)return o;var a=Object.keys(n),v=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),T(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(n);if(0===a.length){if(A(n)){var g=n.name?": "+n.name:"";return t.stylize("[Function"+g+"]","special")}if(x(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return t.stylize(Date.prototype.toString.call(n),"date");if(T(n))return l(n)}var m="",y=!1,w=["{","}"];if(d(n)&&(y=!0,w=["[","]"]),A(n)){var _=n.name?": "+n.name:"";m=" [Function"+_+"]"}if(x(n)&&(m=" "+RegExp.prototype.toString.call(n)),S(n)&&(m=" "+Date.prototype.toUTCString.call(n)),T(n)&&(m=" "+l(n)),0===a.length&&(!y||0==n.length))return w[0]+m+w[1];if(0>r)return x(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var E;return E=y?f(t,n,r,v,a):a.map(function(e){return h(t,n,r,v,e,y)}),t.seen.pop(),p(E,m,w)}function c(t,e){if(_(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):v(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i){for(var o=[],a=0,s=e.length;s>a;++a)o.push(R(e,String(a))?h(t,e,n,r,String(a),!0):"");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}function h(t,e,n,r,i,o){var a,s,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),R(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(c.value)<0?(s=g(n)?u(t,c.value,null):u(t,c.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),_(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function p(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function g(t){return null===t}function m(t){return null==t}function y(t){return"number"==typeof t}function b(t){return"string"==typeof t}function w(t){return"symbol"==typeof t}function _(t){return void 0===t}function x(t){return E(t)&&"[object RegExp]"===k(t)}function E(t){return"object"==typeof t&&null!==t}function S(t){return E(t)&&"[object Date]"===k(t)}function T(t){return E(t)&&("[object Error]"===k(t)||t instanceof Error)}function A(t){return"function"==typeof t}function C(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function k(t){return Object.prototype.toString.call(t)}function j(t){return 10>t?"0"+t.toString(10):t.toString(10)}function O(){var t=new Date,e=[j(t.getHours()),j(t.getMinutes()),j(t.getSeconds())].join(":");return[t.getDate(),L[t.getMonth()],e].join(" ")}function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var M=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(t).replace(M,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),s=r[n];o>n;s=r[++n])a+=g(s)||!E(s)?" "+s:" "+i(s);return a},e.deprecate=function(n,i){function o(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return n.apply(this,arguments)}if(_(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var a=!1;return o};var P,I={};e.debuglog=function(t){if(_(P)&&(P=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!I[t])if(new RegExp("\\b"+t+"\\b","i").test(P)){var n=r.pid;I[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else I[t]=function(){};return I[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=v,e.isNull=g,e.isNullOrUndefined=m,e.isNumber=y,e.isString=b,e.isSymbol=w,e.isUndefined=_,e.isRegExp=x,e.isObject=E,e.isDate=S,e.isError=T,e.isFunction=A,e.isPrimitive=C,e.isBuffer=n(72);var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",O(),e.format.apply(e,arguments))},e.inherits=n(71),e._extend=function(t,e){if(!e||!E(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,function(){return this}(),n(42))},,,function(t){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){"use strict";function n(t){return{as:function(e){return new Promise(function(n,r){var i=new FileReader;switch(i.onload=function(){n(i.result)},i.onerror=function(){r(new Error("Unable to read from Blob"))},e){case"arraybuffer":i.readAsArrayBuffer(t);break;case"text":i.readAsText(t)}})}}}e.readBlob=n,e["default"]=n,Object.defineProperty(e,"__esModule",{value:!0})},,function(t,e,n){"use strict";function r(t){return function(e,n){for(var r=Math.abs(e-n),i=0;i<f.length;i++)if(r<t(f[i]))return f[i].value;return n>e?c:l}}function i(t){return t>=4}function o(t){return t===l||i(t)}function a(t){return 1===t?100:2===t?80:3===t?50:0}var s=function(t){return t&&t.__esModule?t["default"]:t};e.judgeTimeWith=r,e.isBad=i,e.breaksCombo=o,e.weight=a;var u=s(n(1)),c=0;e.UNJUDGED=c;var l=-1;e.MISSED=l;var f=[{value:1,timegate:.02,endTimegate:.04},{value:2,timegate:.05,endTimegate:.1},{value:3,timegate:.1,endTimegate:.2},{value:4,timegate:.2,endTimegate:.2}];e.JUDGMENTS=f;var h=r(u.property("timegate"));e.judgeTime=h;var p=r(u.property("endTimegate"));e.judgeEndTime=p,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){(function(t){function t(e,n,r){if(!(this instanceof t))return new t(e,n,r);var i,o=typeof e;if("number"===o)i=+e;else if("string"===o)i=t.byteLength(e,n);else{if("object"!==o||null===e)throw new TypeError("must start with number, buffer, array or string");"Buffer"===e.type&&L(e.data)&&(e=e.data),i=+e.length}if(i>F)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+F.toString(16)+" bytes");0>i?i=0:i>>>=0;var a=this;t.TYPED_ARRAY_SUPPORT?a=t._augment(new Uint8Array(i)):(a.length=i,a._isBuffer=!0);var s;if(t.TYPED_ARRAY_SUPPORT&&"number"==typeof e.byteLength)a._set(e);else if(T(e))if(t.isBuffer(e))for(s=0;i>s;s++)a[s]=e.readUInt8(s);else for(s=0;i>s;s++)a[s]=(e[s]%256+256)%256;else if("string"===o)a.write(e,0,n);else if("number"===o&&!t.TYPED_ARRAY_SUPPORT&&!r)for(s=0;i>s;s++)a[s]=0;return i>0&&i<=t.poolSize&&(a.parent=B),a}function r(e,n,i){if(!(this instanceof r))return new r(e,n,i);var o=new t(e,n,i);return delete o.parent,o}function i(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;r>a;a++){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");t[n+a]=s}return a}function o(t,e,n,r){var i=R(C(e,t.length-n),t,n,r);return i}function a(t,e,n,r){var i=R(k(e),t,n,r);return i}function s(t,e,n,r){return a(t,e,n,r)}function u(t,e,n,r){var i=R(O(e),t,n,r);return i}function c(t,e,n,r){var i=R(j(e,t.length-n),t,n,r);return i}function l(t,e,n){return P.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}function f(t,e,n){var r="",i="";n=Math.min(t.length,n);for(var o=e;n>o;o++)t[o]<=127?(r+=M(i)+String.fromCharCode(t[o]),i=""):i+="%"+t[o].toString(16);return r+M(i)}function h(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(127&t[i]);return r}function p(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(t[i]);return r}function d(t,e,n){var r=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=e;n>o;o++)i+=A(t[o]);return i}function v(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function g(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function m(e,n,r,i,o,a){if(!t.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(n>o||a>n)throw new RangeError("value is out of bounds");if(r+i>e.length)throw new RangeError("index out of range")}function y(t,e,n,r){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);o>i;i++)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function b(t,e,n,r){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);o>i;i++)t[n+i]=e>>>8*(r?i:3-i)&255}function w(t,e,n,r,i,o){if(e>i||o>e)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function _(t,e,n,r,i){return i||w(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),I.write(t,e,n,r,23,4),n+4
}function x(t,e,n,r,i){return i||w(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),I.write(t,e,n,r,52,8),n+8}function E(t){if(t=S(t).replace(D,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function S(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function T(e){return L(e)||t.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function A(t){return 16>t?"0"+t.toString(16):t.toString(16)}function C(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;r>a;a++){if(n=t.charCodeAt(a),n>55295&&57344>n){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&((e-=3)>-1&&o.push(239,191,189),i=null);if(128>n){if((e-=1)<0)break;o.push(n)}else if(2048>n){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(2097152>n))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function k(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function j(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);a++)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function O(t){return P.toByteArray(E(t))}function R(t,e,n,r){for(var i=0;r>i&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}function M(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
var P=n(39),I=n(40),L=n(41);e.Buffer=t,e.SlowBuffer=r,e.INSPECT_MAX_BYTES=50,t.poolSize=8192;var F=1073741823,B={};t.TYPED_ARRAY_SUPPORT=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(n){return!1}}(),t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,i=n.length,o=0,a=Math.min(r,i);a>o&&e[o]===n[o];o++);return o!==a&&(r=e[o],i=n[o]),i>r?-1:r>i?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!L(e))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===e.length)return new t(0);if(1===e.length)return e[0];var r;if(void 0===n)for(n=0,r=0;r<e.length;r++)n+=e[r].length;var i=new t(n),o=0;for(r=0;r<e.length;r++){var a=e[r];a.copy(i,o),o+=a.length}return i},t.byteLength=function(t,e){var n;switch(t+="",e||"utf8"){case"ascii":case"binary":case"raw":n=t.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*t.length;break;case"hex":n=t.length>>>1;break;case"utf8":case"utf-8":n=C(t).length;break;case"base64":n=O(t).length;break;default:n=t.length}return n},t.prototype.length=void 0,t.prototype.parent=void 0,t.prototype.toString=function(t,e,n){var r=!1;if(e>>>=0,n=void 0===n||1/0===n?this.length:n>>>0,t||(t="utf8"),0>e&&(e=0),n>this.length&&(n=this.length),e>=n)return"";for(;;)switch(t){case"hex":return d(this,e,n);case"utf8":case"utf-8":return f(this,e,n);case"ascii":return h(this,e,n);case"binary":return p(this,e,n);case"base64":return l(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===t.compare(this,e)},t.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:t.compare(this,e)},t.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},t.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},t.prototype.write=function(t,e,n,r){if(isFinite(e))isFinite(n)||(r=n,n=void 0);else{var l=r;r=e,e=n,n=l}if(e=Number(e)||0,0>n||0>e||e>this.length)throw new RangeError("attempt to write outside buffer bounds");var f=this.length-e;n?(n=Number(n),n>f&&(n=f)):n=f,r=String(r||"utf8").toLowerCase();var h;switch(r){case"hex":h=i(this,t,e,n);break;case"utf8":case"utf-8":h=o(this,t,e,n);break;case"ascii":h=a(this,t,e,n);break;case"binary":h=s(this,t,e,n);break;case"base64":h=u(this,t,e,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":h=c(this,t,e,n);break;default:throw new TypeError("Unknown encoding: "+r)}return h},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},t.prototype.slice=function(e,n){var r=this.length;e=~~e,n=void 0===n?r:~~n,0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),0>n?(n+=r,0>n&&(n=0)):n>r&&(n=r),e>n&&(n=e);var i;if(t.TYPED_ARRAY_SUPPORT)i=t._augment(this.subarray(e,n));else{var o=n-e;i=new t(o,void 0,!0);for(var a=0;o>a;a++)i[a]=this[a+e]}return i.length&&(i.parent=this.parent||this),i},t.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||g(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},t.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||g(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},t.prototype.readUInt8=function(t,e){return e||g(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||g(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||g(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||g(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||g(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||g(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},t.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||g(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},t.prototype.readInt8=function(t,e){return e||g(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},t.prototype.readInt16LE=function(t,e){e||g(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(t,e){e||g(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(t,e){return e||g(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||g(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||g(t,4,this.length),I.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||g(t,4,this.length),I.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||g(t,8,this.length),I.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||g(t,8,this.length),I.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||m(this,t,e,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i>>>0&255;return e+n},t.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||m(this,t,e,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o>>>0&255;return e+n},t.prototype.writeUInt8=function(e,n,r){return e=+e,n>>>=0,r||m(this,e,n,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=e,n+1},t.prototype.writeUInt16LE=function(e,n,r){return e=+e,n>>>=0,r||m(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e,this[n+1]=e>>>8):y(this,e,n,!0),n+2},t.prototype.writeUInt16BE=function(e,n,r){return e=+e,n>>>=0,r||m(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=e):y(this,e,n,!1),n+2},t.prototype.writeUInt32LE=function(e,n,r){return e=+e,n>>>=0,r||m(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=e):b(this,e,n,!0),n+4},t.prototype.writeUInt32BE=function(e,n,r){return e=+e,n>>>=0,r||m(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e):b(this,e,n,!1),n+4},t.prototype.writeIntLE=function(t,e,n,r){t=+t,e>>>=0,r||m(this,t,e,n,Math.pow(2,8*n-1)-1,-Math.pow(2,8*n-1));var i=0,o=1,a=0>t?1:0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=(t/o>>0)-a&255;return e+n},t.prototype.writeIntBE=function(t,e,n,r){t=+t,e>>>=0,r||m(this,t,e,n,Math.pow(2,8*n-1)-1,-Math.pow(2,8*n-1));var i=n-1,o=1,a=0>t?1:0;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=(t/o>>0)-a&255;return e+n},t.prototype.writeInt8=function(e,n,r){return e=+e,n>>>=0,r||m(this,e,n,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[n]=e,n+1},t.prototype.writeInt16LE=function(e,n,r){return e=+e,n>>>=0,r||m(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e,this[n+1]=e>>>8):y(this,e,n,!0),n+2},t.prototype.writeInt16BE=function(e,n,r){return e=+e,n>>>=0,r||m(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=e):y(this,e,n,!1),n+2},t.prototype.writeInt32LE=function(e,n,r){return e=+e,n>>>=0,r||m(this,e,n,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[n]=e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):b(this,e,n,!0),n+4},t.prototype.writeInt32BE=function(e,n,r){return e=+e,n>>>=0,r||m(this,e,n,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e):b(this,e,n,!1),n+4},t.prototype.writeFloatLE=function(t,e,n){return _(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return _(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return x(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return x(this,t,e,!1,n)},t.prototype.copy=function(e,n,r,i){var o=this;if(r||(r=0),i||0===i||(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&r>i&&(i=r),i===r)return 0;if(0===e.length||0===o.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>r||r>=o.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var a=i-r;if(1e3>a||!t.TYPED_ARRAY_SUPPORT)for(var s=0;a>s;s++)e[s+n]=this[s+r];else e._set(this.subarray(r,r+a),n);return a},t.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),e>n)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof t)for(r=e;n>r;r++)this[r]=t;else{var i=C(t.toString()),o=i.length;for(r=e;n>r;r++)this[r]=i[r%o]}return this}},t.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(t.TYPED_ARRAY_SUPPORT)return new t(this).buffer;for(var e=new Uint8Array(this.length),n=0,r=e.length;r>n;n+=1)e[n]=this[n];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var N=t.prototype;t._augment=function(e){return e.constructor=t,e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=N.get,e.set=N.set,e.write=N.write,e.toString=N.toString,e.toLocaleString=N.toString,e.toJSON=N.toJSON,e.equals=N.equals,e.compare=N.compare,e.copy=N.copy,e.slice=N.slice,e.readUIntLE=N.readUIntLE,e.readUIntBE=N.readUIntBE,e.readUInt8=N.readUInt8,e.readUInt16LE=N.readUInt16LE,e.readUInt16BE=N.readUInt16BE,e.readUInt32LE=N.readUInt32LE,e.readUInt32BE=N.readUInt32BE,e.readIntLE=N.readIntLE,e.readIntBE=N.readIntBE,e.readInt8=N.readInt8,e.readInt16LE=N.readInt16LE,e.readInt16BE=N.readInt16BE,e.readInt32LE=N.readInt32LE,e.readInt32BE=N.readInt32BE,e.readFloatLE=N.readFloatLE,e.readFloatBE=N.readFloatBE,e.readDoubleLE=N.readDoubleLE,e.readDoubleBE=N.readDoubleBE,e.writeUInt8=N.writeUInt8,e.writeUIntLE=N.writeUIntLE,e.writeUIntBE=N.writeUIntBE,e.writeUInt16LE=N.writeUInt16LE,e.writeUInt16BE=N.writeUInt16BE,e.writeUInt32LE=N.writeUInt32LE,e.writeUInt32BE=N.writeUInt32BE,e.writeIntLE=N.writeIntLE,e.writeIntBE=N.writeIntBE,e.writeInt8=N.writeInt8,e.writeInt16LE=N.writeInt16LE,e.writeInt16BE=N.writeInt16BE,e.writeInt32LE=N.writeInt32LE,e.writeInt32BE=N.writeInt32BE,e.writeFloatLE=N.writeFloatLE,e.writeFloatBE=N.writeFloatBE,e.writeDoubleLE=N.writeDoubleLE,e.writeDoubleBE=N.writeDoubleBE,e.fill=N.fill,e.inspect=N.inspect,e.toArrayBuffer=N.toArrayBuffer,e};var D=/[^+\/0-9A-z\-]/g}).call(e,n(18).Buffer)},function(t,e){"use strict";function n(t,e){if(!e)return function(){};var n=0;return e.report(0,t),function(r){return e.report(++n,t,r)}}function r(t,e){var n=0,r=0;return function(){return t.report(n,++r),Promise.resolve(e.apply(this,arguments)).tap(function(){return t.report(++n,r)})}}function i(t,e){return t.watch(function(){return e.report(t.current,t.total,t.extra)})}e.fixed=n,e.wrapPromise=r,e.bind=i,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";function r(t){return"probably"===l.canPlayType(t)}function i(t){var e=t.createGain();e.connect(t.destination),e.disconnect()}var o=function(t){return t&&t.__esModule?t["default"]:t},a=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};e.canPlay=r,e.unmuteAudio=i;var u=o(n(15)),c=o(n(22)),l=document.createElement("audio"),f=e.SamplingMaster=function(){function t(e){s(this,t),this._audioContext=e||c,this._samples=[],this._instances=new Set}return a(t,{unmute:{value:function(){i(this._audioContext)}},audioContext:{get:function(){return this._audioContext}},destroy:{value:function(){if(!this._destroyed){this._destroyed=!0;var t=!0,e=!1,n=void 0;try{for(var r,i=this._samples[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;o.destroy()}}catch(a){e=!0,n=a}finally{try{!t&&i["return"]&&i["return"]()}finally{if(e)throw n}}var s=!0,u=!1,c=void 0;try{for(var l,f=this._instances[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var h=l.value;h.destroy()}}catch(a){u=!0,c=a}finally{try{!s&&f["return"]&&f["return"]()}finally{if(u)throw c}}this._samples=null,this._instances=null}}},sample:{value:function(t){var e=this;return this._coerceToArrayBuffer(t).then(function(t){return e._decodeAudio(t)}).then(function(t){if(e._destroyed)throw new Error("SamplingMaster already destroyed!");var n=new h(e,t);return e._samples.push(n),n})}},_coerceToArrayBuffer:{value:function(t){return t instanceof ArrayBuffer?Promise.resolve(t):u(t).as("arraybuffer")}},_decodeAudio:{value:function(t){var e=this;return new Promise(function(n,r){e.audioContext.decodeAudioData(t,function(t){n(t)},function(t){r("Unable to decode audio: "+t)})})}},_startPlaying:{value:function(t){this._instances.add(t)}},_stoppedPlaying:{value:function(t){this._instances["delete"](t)}}}),t}(),h=function(){function t(e,n){s(this,t),this._master=e,this._buffer=n}return a(t,{play:{value:function(t,e){return new p(this._master,this._buffer,t,e)}},destroy:{value:function(){this._master=null,this._buffer=null}}}),t}(),p=function(){function t(e,n,r,i){var o=this;s(this,t),r=r||0,this._master=e;var a=e.audioContext,u=a.createBufferSource();u.buffer=n,u.onended=function(){return o.stop()};var c=a.createGain();u.connect(c),c.connect(i||a.destination),this._source=u,this._gain=c,u.start(r?Math.max(0,a.currentTime+r):0),this._master._startPlaying(this)}return a(t,{stop:{value:function(){this._source&&(this._source.stop(0),this._source.disconnect(),this._gain.disconnect(),this._source=null,this._gain=null,this._master._stoppedPlaying(this),this.onstop&&this.onstop())}},bad:{value:function(){this._source&&(this._source.playbackRate.value=Math.random()<.5?Math.pow(2,1/12):Math.pow(2,-1/12))}},destroy:{value:function(){this.stop()}}}),t}();e["default"]=f,Object.defineProperty(e,"__esModule",{value:!0})},,function(t,e,n){var r=n(38),i=r.AudioContext||r.webkitAudioContext;i&&(t.exports=new i)},,function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},i=r(n(64)),o=function(t){return function(e){return null!==e.progress?t(e):""}},a=o(function(t){return i(t.current)+" / "+i(t.total)});e.BYTES_FORMATTER=a;var s=o(function(t){return t.extra+""});e.EXTRA_FORMATTER=s,Object.defineProperty(e,"__esModule",{value:!0})},,,function(t){function e(t){var e=!1;return{when:function(n,r){if(e)return this;var i=t.match(n);return i&&(e=!0,r(i)),this},"else":function(t){return e?this:void t()}}}t.exports=e},,function(t,e,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,n){if(t&&c(t)&&t instanceof r)return t;var i=new r;return i.parse(t,e,n),i}function o(t){return u(t)&&(t=i(t)),t instanceof r?t.format():r.prototype.format.call(t)}function a(t,e){return i(t,!1,!0).resolve(e)}function s(t,e){return t?i(t,!1,!0).resolveObject(e):e}function u(t){return"string"==typeof t}function c(t){return"object"==typeof t&&null!==t}function l(t){return null===t}function f(t){return null==t}var h=n(67);e.parse=i,e.resolve=a,e.resolveObject=s,e.format=o,e.Url=r;var p=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,v=["<",">",'"',"`"," ","\r","\n","	"],g=["{","}","|","\\","^","`"].concat(v),m=["'"].concat(g),y=["%","/","?",";","#"].concat(m),b=["/","?","#"],w=255,_=/^[a-z0-9A-Z_-]{0,63}$/,x=/^([a-z0-9A-Z_-]{0,63})(.*)$/,E={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},T={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=n(70);r.prototype.parse=function(t,e,n){if(!u(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t;r=r.trim();var i=p.exec(r);if(i){i=i[0];var o=i.toLowerCase();this.protocol=o,r=r.substr(i.length)}if(n||i||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===r.substr(0,2);!a||i&&S[i]||(r=r.substr(2),this.slashes=!0)}if(!S[i]&&(a||i&&!T[i])){for(var s=-1,c=0;c<b.length;c++){var l=r.indexOf(b[c]);-1!==l&&(-1===s||s>l)&&(s=l)}var f,d;d=-1===s?r.lastIndexOf("@"):r.lastIndexOf("@",s),-1!==d&&(f=r.slice(0,d),r=r.slice(d+1),this.auth=decodeURIComponent(f)),s=-1;for(var c=0;c<y.length;c++){var l=r.indexOf(y[c]);-1!==l&&(-1===s||s>l)&&(s=l)}-1===s&&(s=r.length),this.host=r.slice(0,s),r=r.slice(s),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var g=this.hostname.split(/\./),c=0,C=g.length;C>c;c++){var k=g[c];if(k&&!k.match(_)){for(var j="",O=0,R=k.length;R>O;O++)j+=k.charCodeAt(O)>127?"x":k[O];if(!j.match(_)){var M=g.slice(0,c),P=g.slice(c+1),I=k.match(x);I&&(M.push(I[1]),P.unshift(I[2])),P.length&&(r="/"+P.join(".")+r),this.hostname=M.join(".");break}}}if(this.hostname=this.hostname.length>w?"":this.hostname.toLowerCase(),!v){for(var L=this.hostname.split("."),F=[],c=0;c<L.length;++c){var B=L[c];F.push(B.match(/[^A-Za-z0-9_-]/)?"xn--"+h.encode(B):B)}this.hostname=F.join(".")}var N=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+N,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!E[o])for(var c=0,C=m.length;C>c;c++){var U=m[c],q=encodeURIComponent(U);q===U&&(q=escape(U)),r=r.split(U).join(q)}var W=r.indexOf("#");-1!==W&&(this.hash=r.substr(W),r=r.slice(0,W));var z=r.indexOf("?");if(-1!==z?(this.search=r.substr(z),this.query=r.substr(z+1),e&&(this.query=A.parse(this.query)),r=r.slice(0,z)):e&&(this.search="",this.query={}),r&&(this.pathname=r),T[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var N=this.pathname||"",B=this.search||"";this.path=N+B}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&c(this.query)&&Object.keys(this.query).length&&(o=A.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||T[e])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+i+n+a+r},r.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(u(t)){var e=new r;e.parse(t,!1,!0),t=e}var n=new r;if(Object.keys(this).forEach(function(t){n[t]=this[t]},this),n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(n[e]=t[e])}),T[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(t.protocol&&t.protocol!==n.protocol){if(!T[t.protocol])return Object.keys(t).forEach(function(e){n[e]=t[e]}),n.href=n.format(),n;if(n.protocol=t.protocol,t.host||S[t.protocol])n.pathname=t.pathname;else{for(var i=(t.pathname||"").split("/");i.length&&!(t.host=i.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var o=n.pathname||"",a=n.search||"";n.path=o+a}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var s=n.pathname&&"/"===n.pathname.charAt(0),c=t.host||t.pathname&&"/"===t.pathname.charAt(0),h=c||s||n.host&&t.pathname,p=h,d=n.pathname&&n.pathname.split("/")||[],i=t.pathname&&t.pathname.split("/")||[],v=n.protocol&&!T[n.protocol];if(v&&(n.hostname="",n.port=null,n.host&&(""===d[0]?d[0]=n.host:d.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===i[0]?i[0]=t.host:i.unshift(t.host)),t.host=null),h=h&&(""===i[0]||""===d[0])),c)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,d=i;else if(i.length)d||(d=[]),d.pop(),d=d.concat(i),n.search=t.search,n.query=t.query;else if(!f(t.search)){if(v){n.hostname=n.host=d.shift();var g=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return n.search=t.search,n.query=t.query,l(n.pathname)&&l(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!d.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var m=d.slice(-1)[0],y=(n.host||t.host)&&("."===m||".."===m)||""===m,b=0,w=d.length;w>=0;w--)m=d[w],"."==m?d.splice(w,1):".."===m?(d.splice(w,1),b++):b&&(d.splice(w,1),b--);if(!h&&!p)for(;b--;b)d.unshift("..");!h||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),y&&"/"!==d.join("/").substr(-1)&&d.push("");var _=""===d[0]||d[0]&&"/"===d[0].charAt(0);if(v){n.hostname=n.host=_?"":d.length?d.shift():"";var g=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return h=h||n.host&&d.length,h&&!_&&d.unshift(""),d.length?n.pathname=d.join("/"):(n.pathname=null,n.path=null),l(n.pathname)&&l(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=d.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){"use strict";function r(t){return{as:function(e,n){return new Promise(function(r,o){var a=new XMLHttpRequest;a.open("GET",t,!0),a.responseType=e,a.onload=function(){200===+a.status?r(a.response):o(new Error("Unable to download "+t+": HTTP "+a.status))},a.onerror=function(){return o(new Error("Unable to download "+t))},n&&(n.formatter=i,a.onprogress=function(t){return n.report(t.loaded,t.total)}),a.send(null)})}}}e.download=r;var i=n(24).BYTES_FORMATTER;e["default"]=r,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},i=r(n(9)),o=new i({beat:Number,time:Number,position:Number});e.GameEvent=o,e["default"]=o,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){function r(){this.headers=new i,this.objects=new o,this.timeSignatures=new a}var i=n(33),o=n(34),a=n(36);t.exports=r,r.prototype.measureToBeat=function(t,e){return this.timeSignatures.measureToBeat(t,e)}},function(t){function e(){this._data={},this._dataAll={}}t.exports=e,e.prototype.each=function(t){for(var e in this._data)t(e,this._data[e])},e.prototype.get=function(t){return this._data[t.toLowerCase()]},e.prototype.getAll=function(t){return this._dataAll[t.toLowerCase()]},e.prototype.set=function(t,e){var n=t.toLowerCase();this._data[n]=e,(this._dataAll[n]||(this._dataAll[n]=[])).push(e)}},function(t){function e(){this._objects=[]}t.exports=e,e.prototype.add=function(t){if("01"!==t.channel)for(var e=0;e<this._objects.length;e++){var n=this._objects[e];if(n.channel===t.channel&&n.measure===t.measure&&n.fraction===t.fraction)return void(this._objects[e]=t)}this._objects.push(t)},e.prototype.all=function(){return this._objects.slice()},e.prototype.allSorted=function(){var t=this.all();return t.sort(function(t,e){return t.measure+t.fraction-(e.measure+e.fraction)}),t}},function(t,e,n){function r(t){this._segments=t.map(i)}var i=n(62);t.exports=r,r.prototype.t=function(t){for(var e=0;e<this._segments.length;e++)if(e+1>=this._segments.length||t<=this._segments[e+1].x){var n=this._segments[e];return n.t+(t-n.x)/n.dx}},r.prototype.x=function(t){for(var e=0;e<this._segments.length;e++)if(e+1>=this._segments.length||t<=this._segments[e+1].t){var n=this._segments[e];return n.x+(t-n.t)*n.dx}}},function(t){function e(){this._values={}}t.exports=e,e.prototype.set=function(t,e){this._values[t]=e},e.prototype.get=function(t){return this._values[t]||1},e.prototype.getBeats=function(t){return 4*this.get(t)},e.prototype.measureToBeat=function(t,e){for(var n=0,r=0;t>r;r++)n+=this.getBeats(r);return n+this.getBeats(t)*e}},,function(t,e){(function(e){t.exports="undefined"!=typeof window?window:"undefined"!=typeof e?e:{}}).call(e,function(){return this}())},function(t,e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===a||e===f?62:e===s||e===h?63:u>e?-1:u+10>e?e-u+26+26:l+26>e?e-l:c+26>e?e-c+26:void 0}function r(t){function n(t){c[f++]=t}var r,i,a,s,u,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.length;u="="===t.charAt(l-2)?2:"="===t.charAt(l-1)?1:0,c=new o(3*t.length/4-u),a=u>0?t.length-4:t.length;var f=0;for(r=0,i=0;a>r;r+=4,i+=3)s=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===u?(s=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&s)):1===u&&(s=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(s>>8&255),n(255&s)),c}function i(t){function e(t){return n.charAt(t)}function r(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,o,a,s=t.length%3,u="";for(i=0,a=t.length-s;a>i;i+=3)o=(t[i]<<16)+(t[i+1]<<8)+t[i+2],u+=r(o);switch(s){case 1:o=t[t.length-1],u+=e(o>>2),u+=e(o<<4&63),u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=e(o>>10),u+=e(o>>4&63),u+=e(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),l="A".charCodeAt(0),f="-".charCodeAt(0),h="_".charCodeAt(0);t.toByteArray=r,t.fromByteArray=i}(e)},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?0/0:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,v=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+f>=1?h/u:h*Math.pow(2,1-f),e*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+p]=255&a,p+=d,a/=256,c-=8);t[n+p-d]|=128*v}},function(t){var e=Array.isArray,n=Object.prototype.toString;t.exports=e||function(t){return!!t&&"[object Array]"==n.call(t)}},,function(t,e,n){"use strict";function r(t,e,n){return 1-(n-t)/(e-t)}function i(t){return t.position}var o=function(t){return t&&t.__esModule?t["default"]:t},a=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},u=o(n(1)),c=e.NoteArea=function(){function t(e,n){s(this,t),this._notes=u.sortBy(e,i),this._barLines=u(n).pluck("position").sortBy().value()}return a(t,{getVisibleNotes:{value:function(t,e,n){var i=[],o=this._notes;n||(n=0);for(var a=0;a<o.length;a++){var s=o[a],u=s.end?!(s.position>e||s.end.position<t-n):!(s.position>e||s.position<t-n);if(u){var c={note:s};if(s.end){var l=r(t,e,s.position),f=r(t,e,s.end.position);c.y=Math.min(l,f),c.height=Math.abs(l-f)}else c.y=r(t,e,s.position);i.push(c)}}return i}},getVisibleBarLines:{value:function(t,e,n){return n||(n=0),this._barLines.filter(function(r){return r>=t-n&&e>=r}).map(function(n){return{id:n,y:r(t,e,n)}})}}}),t}();e["default"]=c,Object.defineProperty(e,"__esModule",{value:!0})},,,function(t,e,n){e.Reader=n(60),e.Compiler=n(51),e.BMSChart=n(32),e.BMSHeaders=n(33),e.BMSObjects=n(34),e.Speedcore=n(35),e.TimeSignatures=n(36),e.Notes=n(58),e.Timing=n(63),e.SongInfo=n(61),e.Keysounds=n(99)},,,function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},i=r(n(9)),o=r(n(31)),a=new i(o,{id:Number,end:i.maybe(o),column:String});e.GameNote=a,e["default"]=a,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";function r(t){return o.extend({template:t})}var i=function(t){return t&&t.__esModule?t["default"]:t};e.View=r;var o=i(n(145));Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){function r(t,e){t.split(/\r\n|\r|\n/).map(function(t){return t.trim()}).forEach(function(t,n){e(t,n+1)})}var i=n(27),o=n(32);e.compile=function(t,e){function n(t,e,n,r){var i=Math.floor(n.length/2);if(0!==i)for(var o=0;i>o;o++){var a=n.substr(2*o,2),u=o/i;"00"!==a&&s.objects.add({measure:t,fraction:u,value:a,channel:e,lineNumber:r})}}function a(t,e){f.warnings.push({lineNumber:t,message:e})}e=e||{};var s=new o,u=e.rng||function(t){return 1+Math.floor(Math.random()*t)},c=[],l=[!1],f={headerSentences:0,channelSentences:0,controlSentences:0,skippedSentences:0,malformedSentences:0,chart:s,warnings:[]};return r(t,function(t,e){var r=!0;if("#"===t.charAt(0)&&(i(t).when(/^#RANDOM\s+(\d+)$/i,function(t){f.controlSentences+=1,c.push(u(+t[1]))}).when(/^#IF\s+(\d+)$/i,function(t){f.controlSentences+=1,l.push(c[c.length-1]!==+t[1])}).when(/^#ENDIF$/i,function(){f.controlSentences+=1,l.pop()})["else"](function(){r=!1}),!r)){var o=l[l.length-1];i(t).when(/^#(\d\d\d)02:(\S*)$/,function(t){f.channelSentences+=1,o||s.timeSignatures.set(+t[1],+t[2])}).when(/^#(\d\d\d)(\S\S):(\S*)$/,function(t){f.channelSentences+=1,o||n(+t[1],t[2],t[3],e)}).when(/^#(\w+)(?:\s+(\S.*))?$/,function(t){f.headerSentences+=1,o||s.headers.set(t[1],t[2])})["else"](function(){a(e,"Invalid command")})}}),f}},function(t,e,n){var r=n(57),i=n(56),o=n(54),a=(n(55),n(53),[new r,new i.UTF_16BE,new i.UTF_16LE,new o.sjis,new o.euc_kr]);t.exports.detect=function(t){for(var e=[],n=0;256>n;n++)e[n]=0;for(var n=t.length-1;n>=0;n--)e[255&t[n]]++;for(var r=!1,n=128;159>=n;n+=1)if(0!=e[n]){r=!0;break}var i={fByteStats:e,fC1Bytes:r,fRawInput:t,fRawLength:t.length,fInputBytes:t,fInputLen:t.length},o=a.map(function(t){return t.match(i)}).filter(function(t){return!!t}).sort(function(t,e){return t.confidence-e.confidence}).pop();return o?o.name:null}},function(t,e,n){function r(){}var i=n(11),o=n(7);r.prototype.match=function(t){var e,n,r,i,a=0,s=0,u=0,c=t.fInputBytes,l=t.fInputLen;t:for(e=0;l>e;e++){if(27==c[e]){e:for(r=0;r<this.escapeSequences.length;r++){var f=this.escapeSequences[r];if(!(l-e<f.length)){for(n=1;n<f.length;n++)if(f[n]!=c[e+n])continue e;a++,e+=f.length-1;continue t}}s++}(14==c[e]||15==c[e])&&u++}return 0==a?null:(i=(100*a-100*s)/(a+s),5>a+u&&(i-=10*(5-(a+u))),0>=i?null:new o(t,this,i))},t.exports.ISO_2022_JP=function(){this.name=function(){return"ISO-2022-JP"
},this.escapeSequences=[[27,36,40,67],[27,36,40,68],[27,36,64],[27,36,65],[27,36,66],[27,38,64],[27,40,66],[27,40,72],[27,40,73],[27,40,74],[27,46,65],[27,46,70]]},i.inherits(t.exports.ISO_2022_JP,r),t.exports.ISO_2022_KR=function(){this.name=function(){return"ISO-2022-KR"},this.escapeSequences=[[27,36,41,67]]},i.inherits(t.exports.ISO_2022_KR,r),t.exports.ISO_2022_CN=function(){this.name=function(){return"ISO-2022-CN"},this.escapeSequences=[[27,36,41,65],[27,36,41,71],[27,36,42,72],[27,36,41,69],[27,36,43,73],[27,36,43,74],[27,36,43,75],[27,36,43,76],[27,36,43,77],[27,78],[27,79]]},i.inherits(t.exports.ISO_2022_CN,r)},function(t,e,n){function r(t,e){function n(t,e,r,i){if(r>i)return-1;var o=Math.floor(r+i>>>1);return e>t[o]?n(t,e,o+1,i):e<t[o]?n(t,e,r,o-1):o}return n(t,e,0,t.length-1)}function i(){this.charValue=0,this.index=0,this.nextIndex=0,this.error=!1,this.done=!1,this.reset=function(){this.charValue=0,this.index=-1,this.nextIndex=0,this.error=!1,this.done=!1},this.nextByte=function(t){if(this.nextIndex>=t.fRawLength)return this.done=!0,-1;var e=255&t.fRawInput[this.nextIndex++];return e}}function o(){}function a(t,e){t.index=t.nextIndex,t.error=!1;var n=0,r=0,i=0;return n=t.charValue=t.nextByte(e),0>n?t.done=!0:141>=n||(r=t.nextByte(e),t.charValue=t.charValue<<8|r,n>=161&&254>=n?161>r&&(t.error=!0):142!=n?143==n&&(i=t.nextByte(e),t.charValue=t.charValue<<8|i,161>i&&(t.error=!0)):161>r&&(t.error=!0)),0==t.done}var s=n(11),u=n(7);o.prototype.match=function(t){var e=0,n=0,o=0,a=0,s=0,c=0,l=new i;t:{for(l.reset();this.nextChar(l,t);){if(s++,l.error)a++;else{var f=4294967295&l.charValue;255>=f?e++:(n++,null!=this.commonChars&&r(this.commonChars,f)>=0&&o++)}if(a>=2&&5*a>=n)break t}if(10>=n&&0==a)c=0==n&&10>s?0:10;else if(20*a>n)c=0;else if(null==this.commonChars)c=30+n-20*a,c>100&&(c=100);else{var h=Math.log(parseFloat(n)/4),p=90/h;c=Math.floor(Math.log(o+1)*p+10),c=Math.min(c,100)}}return 0==c?null:new u(t,this,c)},o.prototype.nextChar=function(){},t.exports.sjis=function(){this.name=function(){return"Shift-JIS"},this.language=function(){return"ja"},this.commonChars=[33088,33089,33090,33093,33115,33129,33130,33141,33142,33440,33442,33444,33449,33450,33451,33453,33455,33457,33459,33461,33463,33469,33470,33473,33476,33477,33478,33480,33481,33484,33485,33500,33504,33511,33512,33513,33514,33520,33521,33601,33603,33614,33615,33624,33630,33634,33639,33653,33654,33673,33674,33675,33677,33683,36502,37882,38314],this.nextChar=function(t,e){t.index=t.nextIndex,t.error=!1;var n;if(n=t.charValue=t.nextByte(e),0>n)return!1;if(127>=n||n>160&&223>=n)return!0;var r=t.nextByte(e);return 0>r?!1:(t.charValue=n<<8|r,r>=64&&127>=r||r>=128&&255>=r||(t.error=!0),!0)}},s.inherits(t.exports.sjis,o),t.exports.big5=function(){this.name=function(){return"Big5"},this.language=function(){return"zh"},this.commonChars=[41280,41281,41282,41283,41287,41289,41333,41334,42048,42054,42055,42056,42065,42068,42071,42084,42090,42092,42103,42147,42148,42151,42177,42190,42193,42207,42216,42237,42304,42312,42328,42345,42445,42471,42583,42593,42594,42600,42608,42664,42675,42681,42707,42715,42726,42738,42816,42833,42841,42970,43171,43173,43181,43217,43219,43236,43260,43456,43474,43507,43627,43706,43710,43724,43772,44103,44111,44208,44242,44377,44745,45024,45290,45423,45747,45764,45935,46156,46158,46412,46501,46525,46544,46552,46705,47085,47207,47428,47832,47940,48033,48593,49860,50105,50240,50271],this.nextChar=function(t,e){t.index=t.nextIndex,t.error=!1;var n=t.charValue=t.nextByte(e);if(0>n)return!1;if(127>=n||255==n)return!0;var r=t.nextByte(e);return 0>r?!1:(t.charValue=t.charValue<<8|r,(64>r||127==r||255==r)&&(t.error=!0),!0)}},s.inherits(t.exports.big5,o),t.exports.euc_jp=function(){this.name=function(){return"EUC-JP"},this.language=function(){return"ja"},this.commonChars=[41377,41378,41379,41382,41404,41418,41419,41430,41431,42146,42148,42150,42152,42154,42155,42156,42157,42159,42161,42163,42165,42167,42169,42171,42173,42175,42176,42177,42179,42180,42182,42183,42184,42185,42186,42187,42190,42191,42192,42206,42207,42209,42210,42212,42216,42217,42218,42219,42220,42223,42226,42227,42402,42403,42404,42406,42407,42410,42413,42415,42416,42419,42421,42423,42424,42425,42431,42435,42438,42439,42440,42441,42443,42448,42453,42454,42455,42462,42464,42465,42469,42473,42474,42475,42476,42477,42483,47273,47572,47854,48072,48880,49079,50410,50940,51133,51896,51955,52188,52689],this.nextChar=a},s.inherits(t.exports.euc_jp,o),t.exports.euc_kr=function(){this.name=function(){return"EUC-KR"},this.language=function(){return"ko"},this.commonChars=[45217,45235,45253,45261,45268,45286,45293,45304,45306,45308,45496,45497,45511,45527,45538,45994,46011,46274,46287,46297,46315,46501,46517,46527,46535,46569,46835,47023,47042,47054,47270,47278,47286,47288,47291,47337,47531,47534,47564,47566,47613,47800,47822,47824,47857,48103,48115,48125,48301,48314,48338,48374,48570,48576,48579,48581,48838,48840,48863,48878,48888,48890,49057,49065,49088,49124,49131,49132,49144,49319,49327,49336,49338,49339,49341,49351,49356,49358,49359,49366,49370,49381,49403,49404,49572,49574,49590,49622,49631,49654,49656,50337,50637,50862,51151,51153,51154,51160,51173,51373],this.nextChar=a},s.inherits(t.exports.euc_kr,o),t.exports.gb_18030=function(){this.name=function(){return"GB18030"},this.language=function(){return"zh"},this.nextChar=function(t,e){t.index=t.nextIndex,t.error=!1;var n=0,r=0,i=0,o=0;t:if(n=t.charValue=t.nextByte(e),0>n)t.done=!0;else if(!(128>=n))if(r=t.nextByte(e),t.charValue=t.charValue<<8|r,n>=129&&254>=n){if(r>=64&&126>=r||r>=80&&254>=r)break t;if(r>=48&&57>=r&&(i=t.nextByte(e),i>=129&&254>=i&&(o=t.nextByte(e),o>=48&&57>=o))){t.charValue=t.charValue<<16|i<<8|o;break t}t.error=!0}else;return 0==t.done},this.commonChars=[41377,41378,41379,41380,41392,41393,41457,41459,41889,41900,41914,45480,45496,45502,45755,46025,46070,46323,46525,46532,46563,46767,46804,46816,47010,47016,47037,47062,47069,47284,47327,47350,47531,47561,47576,47610,47613,47821,48039,48086,48097,48122,48316,48347,48382,48588,48845,48861,49076,49094,49097,49332,49389,49611,49883,50119,50396,50410,50636,50935,51192,51371,51403,51413,51431,51663,51706,51889,51893,51911,51920,51926,51957,51965,52460,52728,52906,52932,52946,52965,53173,53186,53206,53442,53445,53456,53460,53671,53930,53938,53941,53947,53972,54211,54224,54269,54466,54490,54754,54992]},s.inherits(t.exports.gb_18030,o)},function(t,e,n){function r(t,e){var n=16777215;this.byteIndex=0,this.ngram=0,this.ngramList=t,this.byteMap=e,this.ngramCount=0,this.hitCount=0,this.spaceChar,this.search=function(t,e){var n=0;return t[n+32]<=e&&(n+=32),t[n+16]<=e&&(n+=16),t[n+8]<=e&&(n+=8),t[n+4]<=e&&(n+=4),t[n+2]<=e&&(n+=2),t[n+1]<=e&&(n+=1),t[n]>e&&(n-=1),0>n||t[n]!=e?-1:n},this.lookup=function(t){this.ngramCount+=1,this.search(this.ngramList,t)>=0&&(this.hitCount+=1)},this.addByte=function(t){this.ngram=(this.ngram<<8)+(255&t)&n,this.lookup(this.ngram)},this.nextByte=function(t){return this.byteIndex>=t.fInputLen?-1:255&t.fInputBytes[this.byteIndex++]},this.parse=function(t,e){var n,r=!1;for(this.spaceChar=e;(n=this.nextByte(t))>=0;){var i=this.byteMap[n];0!=i&&(i==this.spaceChar&&r||this.addByte(i),r=i==this.spaceChar)}this.addByte(this.spaceChar);var o=this.hitCount/this.ngramCount;return o>.33?98:Math.floor(300*o)}}function i(t,e){this.fLang=t,this.fNGrams=e}function o(){}var a=n(11),s=n(7);o.prototype.spaceChar=32,o.prototype.ngrams=function(){},o.prototype.byteMap=function(){},o.prototype.match=function(t){var e=this.ngrams(),n=Array.isArray(e)&&e[0]instanceof i;if(!n){var o=new r(e,this.byteMap()),a=o.parse(t,this.spaceChar);return 0>=a?null:new s(t,this,a)}for(var u=-1,c=null,l=e.length-1;l>=0;l--){var f=e[l],o=new r(f.fNGrams,this.byteMap()),a=o.parse(t,this.spaceChar);a>u&&(u=a,c=f.fLang)}var h=this.name(t);return 0>=u?null:new s(t,this,u,h,c)},t.exports.ISO_8859_1=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,186,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,255]},this.ngrams=function(){return[new i("da",[2122086,2122100,2122853,2123118,2123122,2123375,2123873,2124064,2125157,2125671,2126053,2126697,2126708,2126953,2127465,6383136,6385184,6385252,6386208,6386720,6579488,6579566,6579570,6579572,6627443,6644768,6644837,6647328,6647396,6648352,6648421,6648608,6648864,6713202,6776096,6776174,6776178,6907749,6908960,6909543,7038240,7039845,7103858,7104871,7105637,7169380,7234661,7234848,7235360,7235429,7300896,7302432,7303712,7398688,7479396,7479397,7479411,7496992,7566437,7610483,7628064,7628146,7629164,7759218]),new i("de",[2122094,2122101,2122341,2122849,2122853,2122857,2123113,2123621,2123873,2124142,2125161,2126691,2126693,2127214,2127461,2127471,2127717,2128501,6448498,6514720,6514789,6514804,6578547,6579566,6579570,6580581,6627428,6627443,6646126,6646132,6647328,6648352,6648608,6776174,6841710,6845472,6906728,6907168,6909472,6909541,6911008,7104867,7105637,7217249,7217252,7217267,7234592,7234661,7234848,7235360,7235429,7238757,7479396,7496805,7497065,7562088,7566437,7610468,7628064,7628142,7628146,7695972,7695975,7759218]),new i("en",[2122016,2122094,2122341,2122607,2123375,2123873,2123877,2124142,2125153,2125670,2125938,2126437,2126689,2126708,2126952,2126959,2127720,6383972,6384672,6385184,6385252,6386464,6386720,6386789,6386793,6561889,6561908,6627425,6627443,6627444,6644768,6647412,6648352,6648608,6713202,6840692,6841632,6841714,6906912,6909472,6909543,6909806,6910752,7217249,7217268,7234592,7235360,7238688,7300640,7302688,7303712,7496992,7500576,7544929,7544948,7561577,7566368,7610484,7628146,7628897,7628901,7629167,7630624,7631648]),new i("es",[2122016,2122593,2122607,2122853,2123116,2123118,2123123,2124142,2124897,2124911,2125921,2125935,2125938,2126197,2126437,2126693,2127214,2128160,6365283,6365284,6365285,6365292,6365296,6382441,6382703,6384672,6386208,6386464,6515187,6516590,6579488,6579564,6582048,6627428,6627429,6627436,6646816,6647328,6647412,6648608,6648692,6907246,6943598,7102752,7106419,7217253,7238757,7282788,7282789,7302688,7303712,7303968,7364978,7435621,7495968,7497075,7544932,7544933,7544944,7562528,7628064,7630624,7693600,15953440]),new i("fr",[2122101,2122607,2122849,2122853,2122869,2123118,2123124,2124897,2124901,2125921,2125935,2125938,2126197,2126693,2126703,2127214,2154528,6385268,6386793,6513952,6516590,6579488,6579571,6583584,6627425,6627427,6627428,6627429,6627436,6627440,6627443,6647328,6647412,6648352,6648608,6648864,6649202,6909806,6910752,6911008,7102752,7103776,7103859,7169390,7217252,7234848,7238432,7238688,7302688,7302772,7304562,7435621,7479404,7496992,7544929,7544932,7544933,7544940,7544944,7610468,7628064,7629167,7693600,7696928]),new i("it",[2122092,2122600,2122607,2122853,2122857,2123040,2124140,2124142,2124897,2125925,2125938,2127214,6365283,6365284,6365296,6365299,6386799,6514789,6516590,6579564,6580512,6627425,6627427,6627428,6627433,6627436,6627440,6627443,6646816,6646892,6647412,6648352,6841632,6889569,6889571,6889572,6889587,6906144,6908960,6909472,6909806,7102752,7103776,7104800,7105633,7234848,7235872,7237408,7238757,7282785,7282788,7282793,7282803,7302688,7302757,7366002,7495968,7496992,7563552,7627040,7628064,7629088,7630624,8022383]),new i("nl",[2122092,2122341,2122849,2122853,2122857,2123109,2123118,2123621,2123877,2124142,2125153,2125157,2125680,2126949,2127457,2127461,2127471,2127717,2128489,6381934,6381938,6385184,6385252,6386208,6386720,6514804,6579488,6579566,6579570,6627426,6627446,6645102,6645106,6647328,6648352,6648435,6648864,6776174,6841716,6907168,6909472,6909543,6910752,7217250,7217252,7217253,7217256,7217263,7217270,7234661,7235360,7302756,7303026,7303200,7303712,7562088,7566437,7610468,7628064,7628142,7628146,7758190,7759218,7761775]),new i("no",[2122100,2122102,2122853,2123118,2123122,2123375,2123873,2124064,2125157,2125671,2126053,2126693,2126699,2126703,2126708,2126953,2127465,2155808,6385252,6386208,6386720,6579488,6579566,6579572,6627443,6644768,6647328,6647397,6648352,6648421,6648864,6648948,6713202,6776174,6908779,6908960,6909543,7038240,7039845,7103776,7105637,7169380,7169390,7217267,7234848,7235360,7235429,7237221,7300896,7302432,7303712,7398688,7479411,7496992,7565165,7566437,7610483,7628064,7628142,7628146,7629164,7631904,7631973,7759218]),new i("pt",[2122016,2122607,2122849,2122853,2122863,2123040,2123123,2125153,2125423,2125600,2125921,2125935,2125938,2126197,2126437,2126693,2127213,6365281,6365283,6365284,6365296,6382693,6382703,6384672,6386208,6386273,6386464,6516589,6516590,6578464,6579488,6582048,6582131,6627425,6627428,6647072,6647412,6648608,6648692,6906144,6906721,7169390,7238757,7238767,7282785,7282787,7282788,7282789,7282800,7303968,7364978,7435621,7495968,7497075,7544929,7544932,7544933,7544944,7566433,7628064,7630624,7693600,14905120,15197039]),new i("sv",[2122100,2122102,2122853,2123118,2123510,2123873,2124064,2124142,2124655,2125157,2125667,2126053,2126699,2126703,2126708,2126953,2127457,2127465,2155634,6382693,6385184,6385252,6386208,6386804,6514720,6579488,6579566,6579570,6579572,6644768,6647328,6648352,6648864,6747762,6776174,6909036,6909543,7037216,7105568,7169380,7217267,7233824,7234661,7235360,7235429,7235950,7299944,7302432,7302688,7398688,7479393,7479411,7495968,7564129,7565165,7610483,7627040,7628064,7628146,7629164,7631904,7758194,14971424,16151072])]},this.name=function(t){return t&&t.fC1Bytes?"windows-1252":"ISO-8859-1"}},a.inherits(t.exports.ISO_8859_1,o),t.exports.ISO_8859_2=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,177,32,179,32,181,182,32,32,185,186,187,188,32,190,191,32,177,32,179,32,181,182,183,32,185,186,187,188,32,190,191,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,32]},this.ngrams=function(){return[new i("cs",[2122016,2122361,2122863,2124389,2125409,2125413,2125600,2125668,2125935,2125938,2126072,2126447,2126693,2126703,2126708,2126959,2127392,2127481,2128481,6365296,6513952,6514720,6627440,6627443,6627446,6647072,6647533,6844192,6844260,6910836,6972704,7042149,7103776,7104800,7233824,7268640,7269408,7269664,7282800,7300206,7301737,7304052,7304480,7304801,7368548,7368554,7369327,7403621,7562528,7565173,7566433,7566441,7566446,7628146,7630573,7630624,7676016,12477728,14773997,15296623,15540336,15540339,15559968,16278884]),new i("hu",[2122016,2122106,2122341,2123111,2123116,2123365,2123873,2123887,2124147,2124645,2124649,2124790,2124901,2125153,2125157,2125161,2125413,2126714,2126949,2156915,6365281,6365291,6365293,6365299,6384416,6385184,6388256,6447470,6448494,6645625,6646560,6646816,6646885,6647072,6647328,6648421,6648864,6648933,6648948,6781216,6844263,6909556,6910752,7020641,7075450,7169383,7170414,7217249,7233899,7234923,7234925,7238688,7300985,7544929,7567973,7567988,7568097,7596391,7610465,7631904,7659891,8021362,14773792,15299360]),new i("pl",[2122618,2122863,2124064,2124389,2124655,2125153,2125161,2125409,2125417,2125668,2125935,2125938,2126697,2127648,2127721,2127737,2128416,2128481,6365296,6365303,6385257,6514720,6519397,6519417,6582048,6584937,6627440,6627443,6627447,6627450,6645615,6646304,6647072,6647401,6778656,6906144,6907168,6907242,7037216,7039264,7039333,7170405,7233824,7235937,7235941,7282800,7305057,7305065,7368556,7369313,7369327,7369338,7502437,7502457,7563754,7564137,7566433,7825765,7955304,7957792,8021280,8022373,8026400,15955744]),new i("ro",[2122016,2122083,2122593,2122597,2122607,2122613,2122853,2122857,2124897,2125153,2125925,2125938,2126693,2126819,2127214,2144873,2158190,6365283,6365284,6386277,6386720,6386789,6386976,6513010,6516590,6518048,6546208,6579488,6627425,6627427,6627428,6627440,6627443,6644e3,6646048,6646885,6647412,6648692,6889569,6889571,6889572,6889584,6907168,6908192,6909472,7102752,7103776,7106418,7107945,7234848,7238770,7303712,7365998,7496992,7497057,7501088,7594784,7628064,7631477,7660320,7694624,7695392,12216608,15625760])]},this.name=function(t){return t&&t.fC1Bytes?"windows-1250":"ISO-8859-2"}},a.inherits(t.exports.ISO_8859_2,o),t.exports.ISO_8859_5=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,241,242,243,244,245,246,247,248,249,250,251,252,32,254,255,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,32,241,242,243,244,245,246,247,248,249,250,251,252,32,254,255]},this.ngrams=function(){return[2150944,2151134,2151646,2152400,2152480,2153168,2153182,2153936,2153941,2154193,2154462,2154464,2154704,2154974,2154978,2155230,2156514,2158050,13688280,13689580,13884960,14015468,14015960,14016994,14017056,14164191,14210336,14211104,14216992,14407133,14407712,14413021,14536736,14538016,14538965,14538991,14540320,14540498,14557394,14557407,14557409,14602784,14602960,14603230,14604576,14605292,14605344,14606818,14671579,14672085,14672088,14672094,14733522,14734804,14803664,14803666,14803672,14806816,14865883,14868e3,14868192,14871584,15196894,15459616]},this.name=function(){return"ISO-8859-5"},this.language=function(){return"ru"}},a.inherits(t.exports.ISO_8859_5,o),t.exports.ISO_8859_6=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32]},this.ngrams=function(){return[2148324,2148326,2148551,2152932,2154986,2155748,2156006,2156743,13050055,13091104,13093408,13095200,13100064,13100227,13100231,13100232,13100234,13100236,13100237,13100239,13100243,13100249,13100258,13100261,13100264,13100266,13100320,13100576,13100746,13115591,13181127,13181153,13181156,13181157,13181160,13246663,13574343,13617440,13705415,13748512,13836487,14229703,14279913,14805536,14950599,14993696,15001888,15002144,15016135,15058720,15059232,15066656,15081671,15147207,15189792,15255524,15263264,15278279,15343815,15343845,15343848,15386912,15388960,15394336]},this.name=function(){return"ISO-8859-6"},this.language=function(){return"ar"}},a.inherits(t.exports.ISO_8859_6,o),t.exports.ISO_8859_7=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,161,162,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,220,32,221,222,223,32,252,32,253,254,192,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,32,243,244,245,246,247,248,249,250,251,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,32]},this.ngrams=function(){return[2154989,2154992,2155497,2155753,2156016,2156320,2157281,2157797,2158049,2158368,2158817,2158831,2158833,2159604,2159605,2159847,2159855,14672160,14754017,14754036,14805280,14806304,14807292,14807584,14936545,15067424,15069728,15147252,15199520,15200800,15278324,15327520,15330014,15331872,15393257,15393268,15525152,15540449,15540453,15540464,15589664,15725088,15725856,15790069,15790575,15793184,15868129,15868133,15868138,15868144,15868148,15983904,15984416,15987951,16048416,16048617,16050157,16050162,16050666,16052e3,16052213,16054765,16379168,16706848]},this.name=function(t){return t&&t.fC1Bytes?"windows-1253":"ISO-8859-7"},this.language=function(){return"el"}},a.inherits(t.exports.ISO_8859_7,o),t.exports.ISO_8859_8=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,32,32,32,32,32]},this.ngrams=function(){return[new i("he",[2154725,2154727,2154729,2154746,2154985,2154990,2155744,2155749,2155753,2155758,2155762,2155769,2155770,2157792,2157796,2158304,2159340,2161132,14744096,14950624,14950625,14950628,14950636,14950638,14950649,15001056,15065120,15068448,15068960,15071264,15071776,15278308,15328288,15328762,15329773,15330592,15331104,15333408,15333920,15474912,15474916,15523872,15524896,15540448,15540449,15540452,15540460,15540462,15540473,15655968,15671524,15787040,15788320,15788525,15920160,16261348,16312813,16378912,16392416,16392417,16392420,16392428,16392430,16392441]),new i("he",[2154725,2154732,2155753,2155756,2155758,2155760,2157040,2157810,2157817,2158053,2158057,2158565,2158569,2160869,2160873,2161376,2161381,2161385,14688484,14688492,14688493,14688506,14738464,14738916,14740512,14741024,14754020,14754029,14754042,14950628,14950633,14950636,14950637,14950639,14950648,14950650,15002656,15065120,15066144,15196192,15327264,15327520,15328288,15474916,15474925,15474938,15528480,15530272,15591913,15591920,15591928,15605988,15605997,15606010,15655200,15655968,15918112,16326884,16326893,16326906,16376864,16441376,16442400,16442857])]},this.name=function(t){return t&&t.fC1Bytes?"windows-1255":"ISO-8859-8"},this.language=function(){return"he"}},a.inherits(t.exports.ISO_8859_8,o),t.exports.ISO_8859_9=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,186,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,105,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,255]},this.ngrams=function(){return[2122337,2122345,2122357,2122849,2122853,2123621,2123873,2124140,2124641,2124655,2125153,2125676,2126689,2126945,2127461,2128225,6365282,6384416,6384737,6384993,6385184,6385405,6386208,6386273,6386429,6386685,6388065,6449522,6578464,6579488,6580512,6627426,6627435,6644841,6647328,6648352,6648425,6648681,6909029,6909472,6909545,6910496,7102830,7102834,7103776,7103858,7217249,7217250,7217259,7234657,7234661,7234848,7235872,7235950,7273760,7498094,7535982,7759136,7954720,7958386,16608800,16608868,16609021,16642301]},this.name=function(t){return t&&t.fC1Bytes?"windows-1254":"ISO-8859-9"},this.language=function(){return"tr"}},a.inherits(t.exports.ISO_8859_9,o),t.exports.windows_1251=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,144,131,32,131,32,32,32,32,32,32,154,32,156,157,158,159,144,32,32,32,32,32,32,32,32,32,154,32,156,157,158,159,32,162,162,188,32,180,32,32,184,32,186,32,32,32,32,191,32,32,179,179,180,181,32,32,184,32,186,32,188,190,190,191,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},this.ngrams=function(){return[2155040,2155246,2155758,2156512,2156576,2157280,2157294,2158048,2158053,2158305,2158574,2158576,2158816,2159086,2159090,2159342,2160626,2162162,14740968,14742268,14937632,15068156,15068648,15069682,15069728,15212783,15263008,15263776,15269664,15459821,15460384,15465709,15589408,15590688,15591653,15591679,15592992,15593186,15605986,15605999,15606001,15655456,15655648,15655918,15657248,15657980,15658016,15659506,15724267,15724773,15724776,15724782,15786210,15787492,15856352,15856354,15856360,15859488,15918571,15920672,15920880,15924256,16249582,16512288]},this.name=function(){return"windows-1251"},this.language=function(){return"ru"}},a.inherits(t.exports.windows_1251,o),t.exports.windows_1256=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,129,32,131,32,32,32,32,136,32,138,32,156,141,142,143,144,32,32,32,32,32,32,32,152,32,154,32,156,32,32,159,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,32,32,32,32,32,32,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,32,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,32,32,32,32,244,32,32,32,32,249,32,251,252,32,32,255]},this.ngrams=function(){return[2148321,2148324,2148551,2153185,2153965,2154977,2155492,2156231,13050055,13091104,13093408,13095200,13099296,13099459,13099463,13099464,13099466,13099468,13099469,13099471,13099475,13099482,13099486,13099491,13099494,13099501,13099808,13100064,13100234,13115591,13181127,13181149,13181153,13181155,13181158,13246663,13574343,13617440,13705415,13748512,13836487,14295239,14344684,14544160,14753991,14797088,14806048,14806304,14885063,14927648,14928160,14935072,14950599,15016135,15058720,15124449,15131680,15474887,15540423,15540451,15540454,15583520,15585568,15590432]},this.name=function(){return"windows-1256"},this.language=function(){return"ar"}},a.inherits(t.exports.windows_1256,o),t.exports.KOI8_R=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,163,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,163,32,32,32,32,32,32,32,32,32,32,32,32,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223]},this.ngrams=function(){return[2147535,2148640,2149313,2149327,2150081,2150085,2150338,2150607,2150610,2151105,2151375,2151380,2151631,2152224,2152399,2153153,2153684,2154196,12701385,12702936,12963032,12963529,12964820,12964896,13094688,13181136,13223200,13224224,13226272,13419982,13420832,13424846,13549856,13550880,13552069,13552081,13553440,13553623,13574352,13574355,13574359,13617103,13617696,13618392,13618464,13620180,13621024,13621185,13684684,13685445,13685449,13685455,13812183,13813188,13881632,13882561,13882569,13882583,13944268,13946656,13946834,13948960,14272544,14603471]},this.name=function(){return"KOI8-R"},this.language=function(){return"ru"}},a.inherits(t.exports.KOI8_R,o)},function(t,e,n){function r(){}var i=n(11),o=n(7);t.exports.UTF_16BE=function(){this.name=function(){return"UTF-16BE"},this.match=function(t){var e=t.fRawInput;return e.length>=2&&254==(255&e[0])&&255==(255&e[1])?new o(t,this,confidence=100):null}},t.exports.UTF_16LE=function(){this.name=function(){return"UTF-16LE"},this.match=function(t){var e=t.fRawInput;return e.length>=2&&255==(255&e[0])&&254==(255&e[1])?e.length>=4&&0==e[2]&&0==e[3]?null:new o(t,this,confidence=100):null}},r.prototype.match=function(t){var e=t.fRawInput,n=t.fRawLength/4*4,r=0,i=0,a=!1,s=0;if(0==n)return null;65279==this.getChar(e,0)&&(a=!0);for(var u=0;n>u;u+=4){var c=this.getChar(e,u);0>c||c>=1114111||c>=55296&&57343>=c?i+=1:r+=1}return a&&0==i?s=100:a&&r>10*i?s=80:r>3&&0==i?s=100:r>0&&0==i?s=80:r>10*i&&(s=25),0==s?null:new o(t,this,s)
},t.exports.UTF_32BE=function(){this.name=function(){return"UTF-32BE"},this.getChar=function(t,e){return(255&t[e+0])<<24|(255&t[e+1])<<16|(255&t[e+2])<<8|255&t[e+3]}},i.inherits(t.exports.UTF_32BE,r),t.exports.UTF_32LE=function(){this.name=function(){return"UTF-32LE"},this.getChar=function(t,e){return(255&t[e+3])<<24|(255&t[e+2])<<16|(255&t[e+1])<<8|255&t[e+0]}},i.inherits(t.exports.UTF_32LE,r)},function(t,e,n){var r=n(7);t.exports=function(){this.name=function(){return"UTF-8"},this.match=function(t){var e,n=!1,i=0,o=0,a=t.fRawInput,s=0;t.fRawLength>=3&&239==(255&a[0])&&187==(255&a[1])&&191==(255&a[2])&&(n=!0);for(var u=0;u<t.fRawLength;u++){var c=a[u];if(0!=(128&c)){if(192==(224&c))s=1;else if(224==(240&c))s=2;else if(240==(248&c))s=3;else{if(o++,o>5)break;s=0}for(;u++,!(u>=t.fRawLength);){if(128!=(192&a[u])){o++;break}if(0==--s){i++;break}}}}if(e=0,n&&0==o)e=100;else if(n&&i>10*o)e=80;else if(i>3&&0==o)e=100;else if(i>0&&0==o)e=80;else if(0==i&&0==o)e=10;else{if(!(i>10*o))return null;e=25}return new r(t,this,e)}}},function(t,e,n){function r(t){t.forEach(o.validate),this._notes=t}function i(t){this._chart=t}var o=n(59);t.exports=r;var a={IIDX_P1:{11:{column:"1"},12:{column:"2"},13:{column:"3"},14:{column:"4"},15:{column:"5"},18:{column:"6"},19:{column:"7"},16:{column:"SC"}}};r.prototype.count=function(){return this._notes.length},r.prototype.all=function(){return this._notes.slice()},r.fromBMSChart=function(t,e){e=e||{};var n=new i(t);return n.build()},i.prototype.build=function(){return this._notes=[],this._activeLN={},this._lastNote={},this._lnObj=(this._chart.headers.get("lnobj")||"").toLowerCase(),this._channelMapping=a.IIDX_P1,this._objects=this._chart.objects.allSorted(),this._objects.forEach(function(t){this._handle(t)}.bind(this)),new r(this._notes)},i.prototype._handle=function(t){if("01"===t.channel)this._handleNormalNote(t);else switch(t.channel.charAt(0)){case"1":case"2":this._handleNormalNote(t);break;case"5":case"6":this._handleLongNote(t)}},i.prototype._handleNormalNote=function(t){var e=this._normalizeChannel(t.channel),n=this._getBeat(t);if(t.value.toLowerCase()===this._lnObj)this._lastNote[e]&&(this._lastNote[e].endBeat=n);else{var r={beat:n,endBeat:void 0,keysound:t.value,column:this._getColumn(e)};this._lastNote[e]=r,this._notes.push(r)}},i.prototype._handleLongNote=function(t){var e=this._normalizeChannel(t.channel),n=this._getBeat(t);if(this._activeLN[e]){var r=this._activeLN[e];r.endBeat=n,this._notes.push(r),delete this._activeLN[e]}else this._activeLN[e]={beat:n,keysound:t.value,column:this._getColumn(e)}},i.prototype._getBeat=function(t){return this._chart.measureToBeat(t.measure,t.fraction)},i.prototype._getColumn=function(t){return this._channelMapping[t]},i.prototype._normalizeChannel=function(t){return t.replace(/^5/,"1").replace(/^6/,"2")}},function(t,e,n){var r=n(9),i=new r({column:String});t.exports=new r({beat:Number,endBeat:r.maybe(Number),column:r.maybe(i),keysound:String})},function(t,e,n){var r=n(52);e.read=function(){throw new Error("Synchronous read unsupported in browser!")},e.readAsync=function(t,e){var n=r.detect(t),i=new FileReader;i.onload=function(){e(null,i.result)},i.onerror=function(){e(new Error("cannot read it"))},i.readAsText(new Blob([t]),n)}},function(t,e,n){function r(){this.title="NO TITLE",this.artist="NO ARTIST",this.genre="NO GENRE",this.subtitles=[],this.subartists=[],this.difficulty=0,this.level=0}var i=n(27);t.exports=r,r.fromBMSChart=function(t){var e=new r,n=t.headers.get("title"),o=t.headers.get("artist"),a=t.headers.get("genre"),s=+t.headers.get("difficulty"),u=+t.headers.get("playlevel"),c=t.headers.getAll("subtitle"),l=t.headers.getAll("subartist");if("string"==typeof n&&!c){var f=function(t){n=t[1],c=[t[2]]};i(n).when(/^(.*\S)\s*-(.+?)-$/,f).when(/^(.*\S)\s*～(.+?)～$/,f).when(/^(.*\S)\s*\((.+?)\)$/,f).when(/^(.*\S)\s*\[(.+?)\]$/,f).when(/^(.*\S)\s*<(.+?)>$/,f)}return n&&(e.title=n),o&&(e.artist=o),a&&(e.genre=a),c&&(e.subtitles=c),l&&(e.subartists=l),s&&(e.difficulty=s),u&&(e.level=u),e}},function(t,e,n){var r=n(9);t.exports=new r({t:Number,x:Number,dx:Number})},function(t,e,n){function r(t,e){var n={bpm:t,beat:0,seconds:0},r=[{t:0,x:0,dx:t/60}];e=e.slice(),e.sort(function(t,e){return t.beat-e.beat||o[t.type]-o[e.type]}),e.forEach(function(t){var e=t.beat,i=n.seconds+60*(e-n.beat)/n.bpm;switch(t.type){case"bpm":n.bpm=t.bpm,r.push({t:i,x:e,dx:n.bpm/60});break;case"stop":r.push({t:i,x:e,dx:0}),i+=60*(t.stopBeats||0)/n.bpm,r.push({t:i,x:e,dx:n.bpm/60});break;default:throw new Error("Unrecognized segment object!")}n.beat=e,n.seconds=i}),this._speedcore=new i(r)}var i=n(35);t.exports=r;var o={bpm:1,stop:2};r.prototype.beatToSeconds=function(t){return this._speedcore.t(t)},r.prototype.secondsToBeat=function(t){return this._speedcore.x(t)},r.fromBMSChart=function(t){var e=[];return t.objects.all().forEach(function(n){var r,i=t.measureToBeat(n.measure,n.fraction);if("03"===n.channel)r=parseInt(n.value,16),e.push({type:"bpm",beat:i,bpm:r});else if("08"===n.channel)r=t.headers.get("bpm"+n.value),e.push({type:"bpm",beat:i,bpm:r});else if("09"===n.channel){var o=t.headers.get("stop"+n.value)/48;e.push({type:"stop",beat:i,stopBeats:o})}}),new r(+t.headers.get("bpm")||60,e)}},function(t){function e(t){var e=1024*(1<<30),n=1<<30,r=1<<20,i=1024,o=Math.abs(t);return o>=e?Math.round(t/e*100)/100+"tb":o>=n?Math.round(t/n*100)/100+"gb":o>=r?Math.round(t/r*100)/100+"mb":o>=i?Math.round(t/i*100)/100+"kb":t+"b"}t.exports=function(t){if("number"==typeof t)return e(t);var n=t.match(/^(\d+(?:\.\d+)?) *(kb|mb|gb|tb)$/),r=parseFloat(n[1]),i=n[2],o={kb:1024,mb:1<<20,gb:1<<30,tb:1024*(1<<30)};return o[i]*r}},,,function(t,e,n){var r;(function(t,i){!function(o){function a(t){throw RangeError(M[t])}function s(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function u(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(R,".");var i=t.split("."),o=s(i,e).join(".");return r+o}function c(t){for(var e,n,r=[],i=0,o=t.length;o>i;)e=t.charCodeAt(i++),e>=55296&&56319>=e&&o>i?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function l(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=L(t>>>10&1023|55296),t=56320|1023&t),e+=L(t)}).join("")}function f(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:_}function h(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function p(t,e,n){var r=0;for(t=n?I(t/T):t>>1,t+=I(t/e);t>P*E>>1;r+=_)t=I(t/P);return I(r+(P+1)*t/(t+S))}function d(t){var e,n,r,i,o,s,u,c,h,d,v=[],g=t.length,m=0,y=C,b=A;for(n=t.lastIndexOf(k),0>n&&(n=0),r=0;n>r;++r)t.charCodeAt(r)>=128&&a("not-basic"),v.push(t.charCodeAt(r));for(i=n>0?n+1:0;g>i;){for(o=m,s=1,u=_;i>=g&&a("invalid-input"),c=f(t.charCodeAt(i++)),(c>=_||c>I((w-m)/s))&&a("overflow"),m+=c*s,h=b>=u?x:u>=b+E?E:u-b,!(h>c);u+=_)d=_-h,s>I(w/d)&&a("overflow"),s*=d;e=v.length+1,b=p(m-o,e,0==o),I(m/e)>w-y&&a("overflow"),y+=I(m/e),m%=e,v.splice(m++,0,y)}return l(v)}function v(t){var e,n,r,i,o,s,u,l,f,d,v,g,m,y,b,S=[];for(t=c(t),g=t.length,e=C,n=0,o=A,s=0;g>s;++s)v=t[s],128>v&&S.push(L(v));for(r=i=S.length,i&&S.push(k);g>r;){for(u=w,s=0;g>s;++s)v=t[s],v>=e&&u>v&&(u=v);for(m=r+1,u-e>I((w-n)/m)&&a("overflow"),n+=(u-e)*m,e=u,s=0;g>s;++s)if(v=t[s],e>v&&++n>w&&a("overflow"),v==e){for(l=n,f=_;d=o>=f?x:f>=o+E?E:f-o,!(d>l);f+=_)b=l-d,y=_-d,S.push(L(h(d+b%y,0))),l=I(b/y);S.push(L(h(l,0))),o=p(n,m,r==i),n=0,++r}++n,++e}return S.join("")}function g(t){return u(t,function(t){return j.test(t)?d(t.slice(4).toLowerCase()):t})}function m(t){return u(t,function(t){return O.test(t)?"xn--"+v(t):t})}var y=("object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof i&&i);(y.global===y||y.window===y||y.self===y)&&(o=y);var b,w=2147483647,_=36,x=1,E=26,S=38,T=700,A=72,C=128,k="-",j=/^xn--/,O=/[^\x20-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=_-x,I=Math.floor,L=String.fromCharCode;b={version:"1.3.2",ucs2:{decode:c,encode:l},decode:d,encode:v,toASCII:m,toUnicode:g},r=function(){return b}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)}).call(e,n(14)(t),function(){return this}())},function(t){"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,n,r,i){n=n||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var a=/\+/g;t=t.split(n);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var u=t.length;s>0&&u>s&&(u=s);for(var c=0;u>c;++c){var l,f,h,p,d=t[c].replace(a,"%20"),v=d.indexOf(r);v>=0?(l=d.substr(0,v),f=d.substr(v+1)):(l=d,f=""),h=decodeURIComponent(l),p=decodeURIComponent(f),e(o,h)?Array.isArray(o[h])?o[h].push(p):o[h]=[o[h],p]:o[h]=p}return o}},function(t){"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,n,r,i){return n=n||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(i){var o=encodeURIComponent(e(i))+r;return Array.isArray(t[i])?t[i].map(function(t){return o+encodeURIComponent(e(t))}).join(n):o+encodeURIComponent(e(t[i]))}).join(n):i?encodeURIComponent(e(i))+r+encodeURIComponent(e(t)):""}},function(t,e,n){"use strict";e.decode=e.parse=n(68),e.encode=e.stringify=n(69)},function(t){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"use strict";var n=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=e.WaveFactory=function(){function t(e,n,i){r(this,t),this._master=e,this._samples=n,this._map=i,this._exclusiveInstances=new Map}return n(t,{playAuto:{value:function(t,e){return this._play({keysound:t,delay:e,exclusive:!0})}},playNote:{value:function(t,e){return this._play({keysound:t,delay:e,exclusive:!0})}},playFree:{value:function(t){return this._play({keysound:t,delay:0,exclusive:!1})}},_play:{value:function(t){var e=t.keysound,n=t.delay,r=t.exclusive;r&&this._stopOldExclusiveSound(e,n);var i=this._map[e.toLowerCase()];if(i){var o=this._samples[i];if(o){var a=o.play(n);return r&&this._exclusiveInstances.set(e,a),a}}}},_stopOldExclusiveSound:{value:function(t,e){var n=this._exclusiveInstances.get(t);n&&(setTimeout(function(){return n.stop()},1e3*e),this._exclusiveInstances["delete"](t))}}}),t}();e["default"]=i,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";function r(){var t=(h.keyboard||"").split(",").map(function(t){return+t}),e={};return c(window).keydown(function(t){return e[t.which]=1}).keyup(function(t){return e[t.which]=0}),{get:function(){return{p1_1:e[t[0]||83],p1_2:e[t[1]||68],p1_3:e[t[2]||70],p1_4:e[t[3]||32],p1_5:e[t[4]||74],p1_6:e[t[5]||75],p1_7:e[t[6]||76],p1_SC:e[t[7]||65],p1_speedup:e[38],p1_speeddown:e[40],start:e[13],select:e[18]}}}}function i(){function t(t){return n.some(function(e){return e.buttons[t].pressed})}function e(t){for(var e=0;e<n.length;e++){var r=n[e];if(Math.abs(r.axes[t])>.01)return r.axes[t]}return 0}var n=[];return window.addEventListener("gamepadconnected",function(t){n.push(t.gamepad)}),{get:function(){var n={p1_1:t(3),p1_2:t(6),p1_3:t(2),p1_4:t(7),p1_5:t(1),p1_6:t(4),p1_7:e(3),p1_SC:e(4),start:t(9),select:t(8)};return n.p1_speedup=(n.start||n.select)&&(n.p1_2||n.p1_4||n.p1_6),n.p1_speeddown=(n.start||n.select)&&(n.p1_1||n.p1_3||n.p1_5||n.p1_7),n}}}var o=function(t){return t&&t.__esModule?t["default"]:t},a=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){for(var n,r=[],i=t[Symbol.iterator]();!(n=i.next()).done&&(r.push(n.value),!e||r.length!==e););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},c=o(n(10)),l=o(n(83)),f=o(n(1)),h=o(n(77)),p=e.GameInput=function(){function t(){u(this,t),this._controls=new Map,this._plugins=[],this.use(new r),this.use(new i)}return s(t,{update:{value:function(){var t=new Map,e=!0,n=!1,r=void 0;try{for(var i,o=this._controls[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var s=a(i.value,2),u=(s[0],s[1]);u.changed=!1}}catch(c){n=!0,r=c}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw r}}var l=!0,f=!1,h=void 0;try{for(var p,d=this._plugins[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var v=p.value,g=!0,m=!1,y=void 0;try{for(var b,w=v()[Symbol.iterator]();!(g=(b=w.next()).done);g=!0){var _=a(b.value,2),x=_[0],E=_[1];t.set(x,E)}}catch(c){m=!0,y=c}finally{try{!g&&w["return"]&&w["return"]()}finally{if(m)throw y}}}}catch(c){f=!0,h=c}finally{try{!l&&d["return"]&&d["return"]()}finally{if(f)throw h}}var S=!0,T=!1,A=void 0;try{for(var C,k=t[Symbol.iterator]();!(S=(C=k.next()).done);S=!0){var j=a(C.value,2),O=j[0],E=j[1],u=this.get(O);u.value!==E&&(u.changed=!0,u.value=E)}}catch(c){T=!0,A=c}finally{try{!S&&k["return"]&&k["return"]()}finally{if(T)throw A}}}},get:{value:function(t){return this._controls.has(t)||this._controls.set(t,new l),this._controls.get(t)}},use:{value:function(t){var e={};this._plugins.push(function(){var n=t.get(),r=[],i=!0,o=!1,a=void 0;try{for(var s,u=f.union(f.keys(n),f.keys(e))[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=+e[c]||0,h=+n[c]||0;l!==h&&r.push([c,h]),e[c]=h}}catch(p){o=!0,a=p}finally{try{!i&&u["return"]&&u["return"]()}finally{if(o)throw a}}return r})}}}),t}();e["default"]=p,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e){"use strict";var n=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=e.Player=function(){function t(e,n,i){r(this,t),this._notechart=e,this._number=n,this._options={autosound:!!i.autosound,speed:+i.speed,placement:i.placement||"center"}}return n(t,{notechart:{get:function(){return this._notechart}},columns:{get:function(){return this._notechart.columns}},number:{get:function(){return this._number}},options:{get:function(){return this._options}}}),t}();e["default"]=i,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{"default":t}},i=function(t){return t&&t.__esModule?t["default"]:t},o=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=i(n(1)),u=r(n(17)),c=e.PlayerStats=function(){function t(e){a(this,t),this.totalCombo=s(e.notes).map(function(t){return e.info(t).combos}).sum(),this.combo=0,this.maxCombo=0,this.rawSumJudgmentWeight=0,this.rawTotalComboScore=this._calculateRawTotalComboScore(),this.rawSumComboScore=0,this.poor=!1}return o(t,{score:{get:function(){var t=u.weight(1)*this.totalCombo,e=Math.floor(5e5*this.rawSumJudgmentWeight/t),n=Math.floor(55555*this.rawSumComboScore/this.rawTotalComboScore);return e+n}},handleJudgment:{value:function(t){u.breaksCombo(t)?(this.combo=0,this.poor=!0):(this.combo+=1,this.rawSumComboScore+=this._calculateRawComboScore(this.combo),this.poor=!1),this.rawSumJudgmentWeight+=u.weight(t),this.combo>this.maxCombo&&(this.maxCombo=this.combo)}},_calculateRawTotalComboScore:{value:function(){for(var t=0,e=1;e<=this.totalCombo;e++)t+=this._calculateRawComboScore(e);return t}},_calculateRawComboScore:{value:function(t){return 0===t?0:23>t?1:51>t?2:92>t?3:161>t?4:5}}}),t}();e["default"]=c,Object.defineProperty(e,"__esModule",{value:!0})},,,,,function(t,e,n){"use strict";function r(t){t=s.sortBy(t,"time");var e=0;return{next:function(n){for(var r=[];e<t.length&&n>=t[e].time;e++)r.push(t[e]);return r}}}var i=function(t){return t&&t.__esModule?t["default"]:t},o=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=i(n(1)),u=i(n(73)),c=n(17).isBad,l=e.PlayerAudio=function(){function t(e){var n=e.player,i=e.samples,o=e.master,s=e.waveFactory;a(this,t);var c=n.notechart;this._waveFactory=s||new u(o,i,c.keysounds),this._autos=r(c.autos),this._notes=r(c.notes),this._played=new Map,this._autosound=!!n.options.autosound}return o(t,{update:{value:function(t,e){this._playAutokeysounds(t),this._playAutosounds(t,e),this._handleSoundNotifications(e&&e.notifications.sounds||[])}},_playAutokeysounds:{value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=this._autos.next(t+1/30)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;this._waveFactory.playAuto(a.keysound,a.time-t)}}catch(s){n=!0,r=s}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw r}}}},_playAutosounds:{value:function(t,e){var n=this._notes.next(t+1/30),r=e&&e.stats.poor,i=this._autosound&&!r;if(i){var o=!0,a=!1,s=void 0;try{for(var u,c=n[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;this._hitNote(l,l.time-t)}}catch(f){a=!0,s=f}finally{try{!o&&c["return"]&&c["return"]()}finally{if(a)throw s}}}}},_handleSoundNotifications:{value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,s=a.type,u=a.note;"hit"===s?this._hitNote(u,0,a.judgment):"break"===s?this._breakNote(u):"free"===s&&this._waveFactory.playFree(u.keysound,0)}}catch(c){n=!0,r=c}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw r}}}},_hitNote:{value:function(t,e,n){var r=this._played.get(t);r||(r=this._waveFactory.playNote(t.keysound,e),this._played.set(t,r)),r&&c(n)&&r.bad()}},_breakNote:{value:function(t){var e=this._played.get(t);e&&(console.log(e),e.stop())}}}),t}();e["default"]=l,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},i=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=r(n(43)),s=n(17),u=s.MISSED,c=s.breaksCombo,l=e.PlayerDisplay=function(){function t(e){o(this,t);var n=e.notechart;this._currentSpeed=1,this._player=e,this._noteArea=new a(n.notes,n.barLines),this._stateful={},this._defaultData={placement:e.options.placement}}return i(t,{update:{value:function(t,e,n){function r(){m.beat=v}function i(){var t=p.getVisibleNotes(g,f(),1),e=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=o.value,c=s.note,l=c.column;if(s.height){var h=n.getNoteJudgment(c),d=n.getNoteStatus(c);y("longnote_"+l,{key:c.id,y:s.y,height:s.height,active:0!==h&&h!==u,missed:"judged"===d&&h===u})}else"judged"!==n.getNoteStatus(c)&&y("note_"+l,{key:c.id,y:s.y})}}catch(v){r=!0,i=v}finally{try{!e&&a["return"]&&a["return"]()}finally{if(r)throw i}}}function o(){var t=p.getVisibleBarLines(g,f(),1),e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;y("barlines",{key:a.id,y:a.y})}}catch(s){n=!0,r=s}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw r}}}function a(){var e=n.input,r=!0,i=!1,o=void 0;try{for(var a,s=h.columns[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,c=e.get(u);m[""+u+"_active"]=0!==c.value?1:0,c.changed&&(0!==c.value?d[""+u+"_down"]=t:d[""+u+"_up"]=t)}}catch(l){i=!0,o=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}}function s(){var e=n.notifications.judgments,r=e[e.length-1];if(r){var i=-1===r.judgment?"missed":""+r.judgment;d["judge_"+i]=t,d.combo=r.combo}m.score=n.stats.score}function l(){for(var e=n.notifications.judgments,r=0;r<e.length;r++){var i=e[r];c(i.judgment)||(d[""+i.column+"_explode"]=t)}}function f(){return g+5/b}var h=this._player,p=this._noteArea,d=this._stateful,v=h.notechart.secondsToBeat(e),g=h.notechart.beatToPosition(v),m=Object.assign({},this._defaultData),y=function(t,e){return(m[t]||(m[t]=[])).push(e)};this._currentSpeed+=(n.speed-this._currentSpeed)/3;var b=this._currentSpeed;return r(),i(),o(),a(),s(),l(),Object.assign(m,d),m}}}),t}();e["default"]=l,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e){"use strict";var n=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=e.Control=function(){function t(){r(this,t),this.value=0,this.changed=!1}return n(t,{justPressed:{get:function(){return this.changed&&this.value}}}),t}();e["default"]=i,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e){"use strict";function n(t){function e(e){var n=t.refs[e];if(n){var r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,c=u.getBounds(),l=!0,f=!1,h=void 0;try{for(var p,d=t.input[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var v=p.value;if(c.contains(v.x,v.y))return 1}}catch(g){f=!0,h=g}finally{try{!l&&d["return"]&&d["return"]()}finally{if(f)throw h}}}}catch(g){i=!0,o=g}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}}return 0}function n(){var e=t.refs.p1_SC;if(e){a=null;var n=!0,r=!1,i=void 0;try{for(var s,u=t.input[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c=s.value,l=!0,f=!1,h=void 0;try{for(var p,d=e[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var v=p.value;if(v.getBounds().contains(c.x,c.y)){a=c.y,d["return"]&&d["return"]();break}}}catch(g){f=!0,h=g}finally{try{!l&&d["return"]&&d["return"]()}finally{if(f)throw h}}if(null!==a){u["return"]&&u["return"]();break}}}catch(g){r=!0,i=g}finally{try{!n&&u["return"]&&u["return"]()}finally{if(r)throw i}}return null===a?(o=null,0):(null===o&&(o=a),a>o+16?o=a-16:o-16>a&&(o=a+16),a>o+4?-1:o-4>a?1:0)}}function i(){var e=null,n=null,r=!0,i=!1,o=void 0;try{for(var a,s=t.input[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(u.y<550)if(null===e)e=u.y;else{if(null!==n)return 0;n=u.y}}}catch(c){i=!0,o=c}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return null!==e&&null!==n?Math.abs(e-n):0}var o=null,a=null;return{get:function(){var t={};t.p1_SC=n();var o=!0,a=!1,s=void 0;try{for(var u,c=r[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;t[l]=e(l)}}catch(f){a=!0,s=f}finally{try{!o&&c["return"]&&c["return"]()}finally{if(a)throw s}}return t.p1_pinch=i(),t}}}e.TouchPlugin=n;var r=["p1_1","p1_2","p1_3","p1_4","p1_5","p1_6","p1_7","start"];e["default"]=n,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{"default":t}},i=function(t){return t&&t.__esModule?t["default"]:t},o=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=i(n(1)),u=r(n(19)),c=n(24).EXTRA_FORMATTER,l=n(20).canPlay,f=e.SamplesLoader=function(){function t(e,n){a(this,t),this._assets=e,this._master=n}return o(t,{loadFiles:{value:function(t,e,n){var r=this,i=u.fixed(t.length,e),o=u.fixed(t.length,n),a=function(t){return r._loadSample(t,i,o)};return n&&(n.formatter=c),Promise.map(t,a).then(function(t){return s(t).filter().object().value()})}},_loadSample:{value:function(t,e,n){var r=this;return this._getFile(t).then(function(i){return i.read().tap(function(){return e(t)}).then(function(t){return r._decode(t)}).tap(function(){return n(t)}).then(function(e){return[t,e]})["catch"](function(e){return console.error("Unable to decode: "+t,e),null})},function(){return null})}},_decode:{value:function(t){return this._master.sample(t)}},_getFile:{value:function(t){var e=this;return Promise["try"](function(){if(!l('audio/ogg; codecs="vorbis"'))throw new Error("cannot play OGG");return e._assets.file(t.replace(/\.\w+$/,".ogg"))})["catch"](function(){return e._assets.file(t.replace(/\.\w+$/,".m4a"))})["catch"](function(){return e._assets.file(t.replace(/\.\w+$/,".mp3"))})["catch"](function(){return e._assets.file(t)})}}}),t}();e["default"]=f,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},i=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=r(n(46)),s=r(n(1)),u=r(n(31)),c=r(n(49)),l=e.Notechart=function(){function t(e){var n=this;o(this,t);var r=a.Notes.fromBMSChart(e),i=a.Timing.fromBMSChart(e),s=a.Keysounds.fromBMSChart(e);this._timing=i,this._keysounds=s,this._notes=this._generatePlayableNotesFromBMS(r),this._autos=this._generateAutoKeysoundEventsFromBMS(r),this._barLines=this._generateBarLines(r,e),this._samples=this._generateKeysoundFiles(s),this._infos=new Map(this._notes.map(function(t){return[t,n._getNoteInfo(t)]}))}return i(t,{notes:{get:function(){return this._notes}},autos:{get:function(){return this._autos}},samples:{get:function(){return this._samples}},keysounds:{get:function(){return this._keysounds.all()}},barLines:{get:function(){return this._barLines}},columns:{get:function(){return["SC","1","2","3","4","5","6","7"]}},info:{value:function(t){return this._infos.get(t)}},beatToSeconds:{value:function(t){return this._timing.beatToSeconds(t)}},beatToPosition:{value:function(t){return t}},secondsToBeat:{value:function(t){return this._timing.secondsToBeat(t)}},secondsToPosition:{value:function(t){return this.beatToPosition(this.secondsToBeat(t))}},_generatePlayableNotesFromBMS:{value:function(t){var e=this,n=1;return t.all().filter(function(t){return t.column}).map(function(t){var r=e._generateEvent(t.beat);return r.id=n++,r.column=t.column.column,r.keysound=t.keysound,r.end=void 0!==t.endBeat?e._generateEvent(t.endBeat):void 0,new c(r)})}},_generateAutoKeysoundEventsFromBMS:{value:function(t){var e=this;return t.all().filter(function(t){return!t.column}).map(function(t){var n=e._generateEvent(t.beat);return n.keysound=t.keysound,new u(n)})}},_generateBarLines:{value:function(t,e){var n=s.max(t.all().map(function(t){return t.endBeat||t.beat})),r=[{beat:0,position:0}],i=0,o=0,a=0;do i+=e.timeSignatures.getBeats(o),o+=1,a=this.beatToPosition(i),r.push({beat:i,position:a});while(n>=i);return r}},_generateKeysoundFiles:{value:function(t){var e=new Set,n=!0,r=!1,i=void 0;try{for(var o,a=[this.notes,this.autos][Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,u=!0,c=!1,l=void 0;try{for(var f,h=s[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var p=f.value,d=t.get(p.keysound);d&&e.add(d)}}catch(v){c=!0,l=v}finally{try{!u&&h["return"]&&h["return"]()}finally{if(c)throw l}}}}catch(v){r=!0,i=v}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw i}}return Array.from(e)}},_generateEvent:{value:function(t){return{beat:t,time:this.beatToSeconds(t),position:this.beatToPosition(t)}}},_getNoteInfo:{value:function(t){var e=t.end?2:1;return{combos:e}}}},{fromBMSChart:{value:function(e,n,r){return new t(e,n,r)}}}),t}();e["default"]=l,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";function r(t){return function(e){var n=0;return Object.defineProperties({notes:e,update:function(){for(;n<e.length&&"judged"===t.getNoteStatus(e[n]);)n+=1}},{startIndex:{get:function(){return n},configurable:!0,enumerable:!0}})}}var i=function(t){return t&&t.__esModule?t["default"]:t},o=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=i(n(1)),u=n(17),c=u.judgeTime,l=u.judgeEndTime,f=u.isBad,h=u.MISSED,p=i(n(76)),d=e.PlayerState=function(){function t(e){a(this,t),this._player=e,this._columns=e.columns,this._noteBufferByColumn=s(e.notechart.notes).sortBy("time").groupBy("column").mapValues(r(this)).value(),this._noteResult=new Map,this.stats=new p(e.notechart),this.notifications={},this.speed=e.options.speed}return o(t,{update:{value:function(t,e){this._gameTime=t,this._rawInput=e,this.notifications={},this.notifications.sounds=[],this.notifications.judgments=[],this._updateInputColumnMap(),this._judgeNotes(),this._updateSpeed()}},getNoteStatus:{value:function(t){var e=this._noteResult.get(t);return e?e.status:"unjudged"}},getNoteJudgment:{value:function(t){var e=this._noteResult.get(t);return e?e.judgment:0}},getPlayerInput:{value:function(t){return this._rawInput.get("p"+this._player.number+"_"+t)}},_updateInputColumnMap:{value:function(){var t=this;this.input=new Map(this._columns.map(function(e){return[e,t.getPlayerInput(e)]}))}},_judgeNotes:{value:function(){var t=!0,e=!1,n=void 0;try{for(var r,i=this._columns[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value,a=this._noteBufferByColumn[o];if(a){var s=this.input.get(o);this._judgeColumn(a,s),a.update()}}}catch(u){e=!0,n=u}finally{try{!t&&i["return"]&&i["return"]()}finally{if(e)throw n}}}},_updateSpeed:{value:function(){this.getPlayerInput("speedup").justPressed&&this._modifySpeed(1),this.getPlayerInput("speeddown").justPressed&&this._modifySpeed(-1);var t=this.getPlayerInput("pinch").value;if(t&&!this._pinching?this._pinching={start:t,speed:this.speed}:t||(this._pinching=null),t){var e=this._pinching,n=e.speed*t/e.start;this.speed=Math.max(.2,Math.round(10*n)/10)}}},_modifySpeed:{value:function(t){var e=this._rawInput.get("select").value?.1:this.speed<.5?.3:.5;this.speed+=t*e,this.speed<.2&&(this.speed=.2)}},_judgeColumn:{value:function(t,e){for(var n=void 0,r=void 0,i=t.notes,o=t.startIndex;o<i.length;o++){var a=i[o];if(this._shouldJudge(a,e,t)){var s="active"!==this.getNoteStatus(a);if(n=a,r=this._judge(a),s)break}}if(e.justPressed)if(n)this.notifications.sounds.push({note:n,type:"hit",judgment:r});else{var u=this._getClosestNote(i);u&&this.notifications.sounds.push({note:u,type:"free"})}}},_getClosestNote:{value:function(t){var e=this;return s.min(t,function(t){return Math.abs(e._gameTime-t.time)})}},_shouldJudge:{value:function(t,e,n){var r=this.getNoteStatus(t);if("unjudged"===r){var i=c(this._gameTime,t.time),o=i===h,a=i>0&&e.changed&&e.value;return f(i)&&this._getClosestNote(n.notes)!==t&&(a=!1),o||a}if("active"===r){var i=l(this._gameTime,t.end.time),o=i===h,s=e.changed;return o||s}return!1}},_judge:{value:function(t){var e=this._gameTime-t.time,n=c(this._gameTime,t.time),r=this._noteResult.get(t);if(t.end)if(r&&"unjudged"!==r.status){if("active"===r.status){var i="SC"===t.column;
e=this._gameTime-t.end.time,n=l(this._gameTime,t.end.time)||h,i&&e>0&&(n=1),r={status:"judged",judgment:n,delta:e}}}else{var o=n===h?"judged":"active";r={status:o,judgment:n,delta:e}}else r={status:"judged",judgment:n,delta:e};return n===h&&this.notifications.sounds.push({note:t,type:"break"}),this._noteResult.set(t,r),this._setJudgment(n,e,t.column),n}},_setJudgment:{value:function(t,e,n){this.stats.handleJudgment(t);var r={judgment:t,combo:this.stats.combo,delta:e,column:n};this.notifications.judgments.push(r)}}}),t}();e["default"]=d,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";function r(t){return p(t.slice(0,10)).as("text").then(function(e){if("BEMUSEPACK"!==e)throw new Error("Invalid magic number");return p(t.slice(10,14)).as("arraybuffer")}).then(function(t){var e=new Uint8Array(t),n=e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24);return n}).then(function(e){return t.slice(14+e)})}var i=function(t){return t&&t.__esModule?t:{"default":t}},o=function(t){return t&&t.__esModule?t["default"]:t},a=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){for(var n,r=[],i=t[Symbol.iterator]();!(n=i.next()).done&&(r.push(n.value),!e||r.length!==e););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},c=n(29).resolve,l=o(n(143)),f=o(n(1)),h=o(n(30)),p=o(n(15)),d=o(n(148)),v=o(n(25)),g=i(n(19)),m=e.BemusePackageResources=function(){function t(e){var n=this;u(this,t);var i=l.bind(null,this);this._url=e,i("metadata",function(){return h(c(n._url,"metadata.json")).as("text").then(function(t){return JSON.parse(t)})}),i("refs",function(){return n.metadata.then(function(t){return t.refs.map(function(t){return new b(n,t)})})}),this.progress={all:new v,current:new v},this._loadPayload=g.wrapPromise(this.progress.all,d(1,function(t){return h(t).as("blob",n.progress.current).then(r)}))}return s(t,{url:{get:function(){return this._url}},file:{value:function(t){var e=this;return this.metadata.then(function(n){var r=f.find(n.files,{name:t});if(!r)throw new Error("Unable to find: "+t);return new y(e,r.ref,r.name)})}},getBlob:{value:function(t){var e=a(t,3),n=e[0],r=e[1],i=e[2];return this.refs.then(function(t){return t[n]}).then(function(t){return t.load()}).then(function(t){return t.slice(r,i)})}}}),t}(),y=function(){function t(e,n,r){u(this,t),this._resources=e,this._ref=n,this._name=r}return s(t,{read:{value:function(){return this._resources.getBlob(this._ref).then(function(t){return p(t).as("arraybuffer")})}},name:{get:function(){return this._name}}}),t}(),b=function(){function t(e,n){u(this,t),this._resources=e,this._url=c(e.url,n.path)}return s(t,{load:{value:function(){return this._promise||(this._promise=this._resources._loadPayload(this._url))}}}),t}();e["default"]=m,Object.defineProperty(e,"__esModule",{value:!0})},,,,,,,,,,,function(t,e,n){function r(t){this._map=t}var i=n(100);r.prototype.get=function(t){return this._map[t.toLowerCase()]},r.prototype.files=function(){return i.uniq(i.values(this._map))},r.prototype.all=function(){return this._map},r.fromBMSChart=function(t){var e={};return t.headers.each(function(t,n){var r=t.match(/^wav(\S\S)$/i);r&&(e[r[1].toLowerCase()]=n)}),new r(e)},t.exports=r},function(t,e,n){var r;(function(t,i){(function(){function o(t,e){if(t!==e){var n=t===t,r=e===e;if(t>e||!n||"undefined"==typeof t&&r)return 1;if(e>t||!r||"undefined"==typeof e&&n)return-1}return 0}function a(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function s(t,e,n){if(e!==e)return y(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function u(t){return"function"==typeof t||!1}function c(t){return"string"==typeof t?t:null==t?"":t+""}function l(t){return t.charCodeAt(0)}function f(t,e){for(var n=-1,r=t.length;++n<r&&e.indexOf(t.charAt(n))>-1;);return n}function h(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function p(t,e){return o(t.criteria,e.criteria)||t.index-e.index}function d(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,u=n.length;++r<s;){var c=o(i[r],a[r]);if(c)return r>=u?c:c*(n[r]?1:-1)}return t.index-e.index}function v(t){return ze[t]}function g(t){return Ve[t]}function m(t){return"\\"+He[t]}function y(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}function b(t){return!!t&&"object"==typeof t}function w(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function _(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;)t[n]===e&&(t[n]=$,o[++i]=n);return o}function x(t,e){for(var n,r=-1,i=t.length,o=-1,a=[];++r<i;){var s=t[r],u=e?e(s,r,t):s;r&&n===u||(n=u,a[++o]=s)}return a}function E(t){for(var e=-1,n=t.length;++e<n&&w(t.charCodeAt(e)););return e}function S(t){for(var e=t.length;e--&&w(t.charCodeAt(e)););return e}function T(t){return Ge[t]}function A(t){function e(t){if(b(t)&&!au(t)&&!(t instanceof i)){if(t instanceof r)return t;if(Ra.call(t,"__chain__")&&Ra.call(t,"__wrapped__"))return Yr(t)}return new r(t)}function n(){}function r(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function i(t){this.__wrapped__=t,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=ss,this.__views__=null}function w(){var t=this.__actions__,e=this.__iteratees__,n=this.__views__,r=new i(this.__wrapped__);return r.__actions__=t?Je(t):null,r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=e?Je(e):null,r.__takeCount__=this.__takeCount__,r.__views__=n?Je(n):null,r}function Z(){if(this.__filtered__){var t=new i(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function re(){var t=this.__wrapped__.value();if(!au(t))return Yn(t,this.__actions__);var e=this.__dir__,n=0>e,r=Rr(0,t.length,this.__views__),i=r.start,o=r.end,a=o-i,s=n?o:i-1,u=es(a,this.__takeCount__),c=this.__iteratees__,l=c?c.length:0,f=0,h=[];t:for(;a--&&u>f;){s+=e;for(var p=-1,d=t[s];++p<l;){var v=c[p],g=v.iteratee,m=v.type;if(m==W){if(v.done&&(n?s>v.index:s<v.index)&&(v.count=0,v.done=!1),v.index=s,!v.done){var y=v.limit;if(!(v.done=y>-1?v.count++>=y:!g(d)))continue t}}else{var b=g(d);if(m==V)d=b;else if(!b){if(m==z)continue t;break t}}}h[f++]=d}return h}function oe(){this.__data__={}}function ze(t){return this.has(t)&&delete this.__data__[t]}function Ve(t){return"__proto__"==t?C:this.__data__[t]}function Ge(t){return"__proto__"!=t&&Ra.call(this.__data__,t)}function $e(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function He(t){var e=t?t.length:0;for(this.data={hash:Ka(null),set:new Va};e--;)this.push(t[e])}function Ye(t,e){var n=t.data,r="string"==typeof e||ho(e)?n.set.has(e):n.hash[e];return r?0:-1}function Xe(t){var e=this.data;"string"==typeof t||ho(t)?e.set.add(t):e.hash[t]=!0}function Je(t,e){var n=-1,r=t.length;for(e||(e=va(r));++n<r;)e[n]=t[n];return e}function Ke(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function Qe(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function en(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function nn(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[++i]=a)}return o}function rn(t,e){for(var n=-1,r=t.length,i=va(r);++n<r;)i[n]=e(t[n],n,t);return i}function on(t){for(var e=-1,n=t.length,r=as;++e<n;){var i=t[e];i>r&&(r=i)}return r}function an(t){for(var e=-1,n=t.length,r=ss;++e<n;){var i=t[e];r>i&&(r=i)}return r}function sn(t,e,n,r){var i=-1,o=t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function un(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function cn(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function ln(t){for(var e=t.length,n=0;e--;)n+=+t[e]||0;return n}function fn(t,e){return"undefined"==typeof t?e:t}function hn(t,e,n,r){return"undefined"!=typeof t&&Ra.call(r,n)?t:e}function pn(t,e,n){var r=yu(e);if(!n)return vn(e,t,r);for(var i=-1,o=r.length;++i<o;){var a=r[i],s=t[a],u=n(s,e[a],a,t,e);(u===u?u===s:s!==s)&&("undefined"!=typeof s||a in t)||(t[a]=u)}return t}function dn(t,e){for(var n=-1,r=t.length,i=Nr(r),o=e.length,a=va(o);++n<o;){var s=e[n];i?(s=parseFloat(s),a[n]=Lr(s,r)?t[s]:C):a[n]=t[s]}return a}function vn(t,e,n){n||(n=e,e={});for(var r=-1,i=n.length;++r<i;){var o=n[r];e[o]=t[o]}return e}function gn(t,e,n){var r=typeof t;return"function"==r?"undefined"==typeof e?t:Kn(t,e,n):null==t?na:"object"==r?Pn(t):"undefined"==typeof e?Bn(t+""):In(t+"",e)}function mn(t,e,n,r,i,o,a){var s;if(n&&(s=i?n(t,r,i):n(t)),"undefined"!=typeof s)return s;if(!ho(t))return t;var u=au(t);if(u){if(s=Mr(t),!e)return Je(t,s)}else{var c=Pa.call(t),l=c==Q;if(c!=ee&&c!=H&&(!l||i))return qe[c]?Ir(t,c,e):i?t:{};if(s=Pr(l?{}:t),!e)return vn(t,s,yu(t))}o||(o=[]),a||(a=[]);for(var f=o.length;f--;)if(o[f]==t)return a[f];return o.push(t),a.push(s),(u?Ke:An)(t,function(r,i){s[i]=mn(r,e,n,i,t,o,a)}),s}function yn(t,e,n){if("function"!=typeof t)throw new Sa(G);return Ga(function(){t.apply(C,n)},e)}function bn(t,e){var n=t?t.length:0,r=[];if(!n)return r;var i=-1,o=Or(),a=o==s,u=a&&e.length>=200?xs(e):null,c=e.length;u&&(o=Ye,a=!1,e=u);t:for(;++i<n;){var l=t[i];if(a&&l===l){for(var f=c;f--;)if(e[f]===l)continue t;r.push(l)}else o(e,l,0)<0&&r.push(l)}return r}function wn(t,e){var n=!0;return ms(t,function(t,r,i){return n=!!e(t,r,i)}),n}function _n(t,e,n,r){var i=t.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r="undefined"==typeof r||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)t[n++]=e;return t}function xn(t,e){var n=[];return ms(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function En(t,e,n,r){var i;return n(t,function(t,n,o){return e(t,n,o)?(i=r?n:t,!1):void 0}),i}function Sn(t,e,n){for(var r=-1,i=t.length,o=-1,a=[];++r<i;){var s=t[r];if(b(s)&&Nr(s.length)&&(au(s)||oo(s))){e&&(s=Sn(s,e,n));var u=-1,c=s.length;for(a.length+=c;++u<c;)a[++o]=s[u]}else n||(a[++o]=s)}return a}function Tn(t,e){return bs(t,e,jo)}function An(t,e){return bs(t,e,yu)}function Cn(t,e){return ws(t,e,yu)}function kn(t,e){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];uu(t[a])&&(o[++i]=a)}return o}function jn(t,e,n,r,i,o){if(t===e)return 0!==t||1/t==1/e;var a=typeof t,s=typeof e;return"function"!=a&&"object"!=a&&"function"!=s&&"object"!=s||null==t||null==e?t!==t&&e!==e:On(t,e,jn,n,r,i,o)}function On(t,e,n,r,i,o,a){var s=au(t),u=au(e),c=Y,l=Y;s||(c=Pa.call(t),c==H?c=ee:c!=ee&&(s=_o(t))),u||(l=Pa.call(e),l==H?l=ee:l!=ee&&(u=_o(e)));var f=c==ee||i&&c==Q,h=l==ee||i&&l==Q,p=c==l;if(p&&!s&&!f)return Ar(t,e,c);if(i){if(!(p||f&&h))return!1}else{var d=f&&Ra.call(t,"__wrapped__"),v=h&&Ra.call(e,"__wrapped__");if(d||v)return n(d?t.value():t,v?e.value():e,r,i,o,a);if(!p)return!1}o||(o=[]),a||(a=[]);for(var g=o.length;g--;)if(o[g]==t)return a[g]==e;o.push(t),a.push(e);var m=(s?Tr:Cr)(t,e,n,r,i,o,a);return o.pop(),a.pop(),m}function Rn(t,e,n,r,i){for(var o=-1,a=e.length,s=!i;++o<a;)if(s&&r[o]?n[o]!==t[e[o]]:!(e[o]in t))return!1;for(o=-1;++o<a;){var u=e[o],c=t[u],l=n[o];if(s&&r[o])var f="undefined"!=typeof c||u in t;else f=i?i(c,l,u):C,"undefined"==typeof f&&(f=jn(l,c,i,!0));if(!f)return!1}return!0}function Mn(t,e){var n=[];return ms(t,function(t,r,i){n.push(e(t,r,i))}),n}function Pn(t){var e=yu(t),n=e.length;if(!n)return ea(!0);if(1==n){var r=e[0],i=t[r];if(Dr(i))return function(t){return null!=t&&t[r]===i&&("undefined"!=typeof i||r in Hr(t))}}for(var o=va(n),a=va(n);n--;)i=t[e[n]],o[n]=i,a[n]=Dr(i);return function(t){return null!=t&&Rn(Hr(t),e,o,a)}}function In(t,e){return Dr(e)?function(n){return null!=n&&n[t]===e&&("undefined"!=typeof e||t in Hr(n))}:function(n){return null!=n&&jn(e,n[t],null,!0)}}function Ln(t,e,n,r,i){if(!ho(t))return t;var o=Nr(e.length)&&(au(e)||_o(e));return(o?Ke:An)(e,function(e,a,s){if(b(e))return r||(r=[]),i||(i=[]),Fn(t,s,a,Ln,n,r,i);var u=t[a],c=n?n(u,e,a,t,s):C,l="undefined"==typeof c;l&&(c=e),!o&&"undefined"==typeof c||!l&&(c===c?c===u:u!==u)||(t[a]=c)}),t}function Fn(t,e,n,r,i,o,a){for(var s=o.length,u=e[n];s--;)if(o[s]==u)return void(t[n]=a[s]);var c=t[n],l=i?i(c,u,n,t,e):C,f="undefined"==typeof l;f&&(l=u,Nr(u.length)&&(au(u)||_o(u))?l=au(c)?c:c&&c.length?Je(c):[]:cu(u)||oo(u)?l=oo(c)?So(c):cu(c)?c:{}:f=!1),o.push(u),a.push(l),f?t[n]=r(l,u,i,o,a):(l===l?l!==c:c===c)&&(t[n]=l)}function Bn(t){return function(e){return null==e?C:e[t]}}function Nn(t,e){return t+Ua(os()*(e-t+1))}function Dn(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function Un(t,e,n){var r=-1,i=t.length;e=null==e?0:+e||0,0>e&&(e=-e>i?0:i+e),n="undefined"==typeof n||n>i?i:+n||0,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=va(i);++r<i;)o[r]=t[r+e];return o}function qn(t,e){var n;return ms(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function Wn(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function zn(t,e,n){var r=-1,i=t.length,o=Nr(i)?va(i):[];return ms(t,function(t){for(var n=e.length,i=va(n);n--;)i[n]=null==t?C:t[e[n]];o[++r]={criteria:i,index:r,value:t}}),Wn(o,function(t,e){return d(t,e,n)})}function Vn(t,e){var n=0;return ms(t,function(t,r,i){n+=+e(t,r,i)||0}),n}function Gn(t,e){var n=-1,r=Or(),i=t.length,o=r==s,a=o&&i>=200,u=a?xs():null,c=[];u?(r=Ye,o=!1):(a=!1,u=e?[]:c);t:for(;++n<i;){var l=t[n],f=e?e(l,n,t):l;if(o&&l===l){for(var h=u.length;h--;)if(u[h]===f)continue t;e&&u.push(f),c.push(l)}else r(u,f,0)<0&&((e||a)&&u.push(f),c.push(l))}return c}function $n(t,e){for(var n=-1,r=e.length,i=va(r);++n<r;)i[n]=t[e[n]];return i}function Hn(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Un(t,r?0:o,r?o+1:i):Un(t,r?o+1:0,r?i:o)}function Yn(t,e){var n=t;n instanceof i&&(n=n.value());for(var r=-1,o=e.length;++r<o;){var a=[n],s=e[r];Wa.apply(a,s.args),n=s.func.apply(s.thisArg,a)}return n}function Xn(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&ls>=i){for(;i>r;){var o=r+i>>>1,a=t[o];(n?e>=a:e>a)?r=o+1:i=o}return i}return Jn(t,e,na,n)}function Jn(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,a=e!==e,s="undefined"==typeof e;o>i;){var u=Ua((i+o)/2),c=n(t[u]),l=c===c;if(a)var f=l||r;else f=s?l&&(r||"undefined"!=typeof c):r?e>=c:e>c;f?i=u+1:o=u}return es(o,cs)}function Kn(t,e,n){if("function"!=typeof t)return na;if("undefined"==typeof e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,a){return t.call(e,n,r,i,o,a)}}return function(){return t.apply(e,arguments)}}function Qn(t){return Ba.call(t,0)}function Zn(t,e,n){for(var r=n.length,i=-1,o=ts(t.length-r,0),a=-1,s=e.length,u=va(o+s);++a<s;)u[a]=e[a];for(;++i<r;)u[n[i]]=t[i];for(;o--;)u[a++]=t[i++];return u}function tr(t,e,n){for(var r=-1,i=n.length,o=-1,a=ts(t.length-i,0),s=-1,u=e.length,c=va(a+u);++o<a;)c[o]=t[o];for(var l=o;++s<u;)c[l+s]=e[s];for(;++r<i;)c[l+n[r]]=t[o++];return c}function er(t,e){return function(n,r,i){var o=e?e():{};if(r=jr(r,i,3),au(n))for(var a=-1,s=n.length;++a<s;){var u=n[a];t(o,u,r(u,a,n),n)}else ms(n,function(e,n,i){t(o,e,r(e,n,i),i)});return o}}function nr(t){return function(){var e=arguments,n=e.length,r=e[0];if(2>n||null==r)return r;var i=e[n-2],o=e[n-1],a=e[3];n>3&&"function"==typeof i?(i=Kn(i,o,5),n-=2):(i=n>2&&"function"==typeof o?o:null,n-=i?1:0),a&&Fr(e[1],e[2],a)&&(i=3==n?null:i,n=2);for(var s=0;++s<n;){var u=e[s];u&&t(r,u,i)}return r}}function rr(t,e){return function(n,r){var i=n?n.length:0;if(!Nr(i))return t(n,r);for(var o=e?i:-1,a=Hr(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function ir(t){return function(e,n,r){for(var i=Hr(e),o=r(e),a=o.length,s=t?a:-1;t?s--:++s<a;){var u=o[s];if(n(i[u],u,i)===!1)break}return e}}function or(t,e){function n(){var i=this&&this!==Ze&&this instanceof n?r:t;return i.apply(e,arguments)}var r=sr(t);return n}function ar(t){return function(e){for(var n=-1,r=Zo(Do(e)),i=r.length,o="";++n<i;)o=t(o,r[n],n);return o}}function sr(t){return function(){var e=gs(t.prototype),n=t.apply(e,arguments);return ho(n)?n:e}}function ur(t){function e(n,r,i){i&&Fr(n,r,i)&&(r=null);var o=Sr(n,t,null,null,null,null,null,r);return o.placeholder=e.placeholder,o}return e}function cr(t,e){return function(n,r,i){i&&Fr(n,r,i)&&(r=null);var o=jr(),a=null==r;if(o===gn&&a||(a=!1,r=o(r,i,3)),a){var s=au(n);if(s||!wo(n))return t(s?n:$r(n));r=l}return kr(n,r,e)}}function lr(t,e){return function(n,r,i){if(r=jr(r,i,3),au(n)){var o=a(n,r,e);return o>-1?n[o]:C}return En(n,r,t)}}function fr(t){return function(e,n,r){return e&&e.length?(n=jr(n,r,3),a(e,n,t)):-1}}function hr(t){return function(e,n,r){return n=jr(n,r,3),En(e,n,t,!0)}}function pr(t){return function(){var e=arguments.length;if(!e)return function(){return arguments[0]};for(var n,i=t?e:-1,o=0,a=va(e);t?i--:++i<e;){var s=a[o++]=arguments[i];if("function"!=typeof s)throw new Sa(G);var u=n?"":Ss(s);n="wrapper"==u?new r([]):n}for(i=n?-1:e;++i<e;){s=a[i],u=Ss(s);var c="wrapper"==u?Es(s):null;n=c&&Br(c[0])?n[Ss(c[0])].apply(n,c[3]):1==s.length&&Br(s)?n[u]():n.thru(s)}return function(){var t=arguments;if(n&&1==t.length&&au(t[0]))return n.plant(t[0]).value();for(var r=0,i=a[r].apply(this,t);++r<e;)i=a[r].call(this,i);return i}}}function dr(t,e){return function(n,r,i){return"function"==typeof r&&"undefined"==typeof i&&au(n)?t(n,r):e(n,Kn(r,i,3))}}function vr(t){return function(e,n,r){return("function"!=typeof n||"undefined"!=typeof r)&&(n=Kn(n,r,3)),t(e,n,jo)}}function gr(t){return function(e,n,r){return("function"!=typeof n||"undefined"!=typeof r)&&(n=Kn(n,r,3)),t(e,n)}}function mr(t){return function(e,n,r){return e=c(e),e&&(t?e:"")+_r(e,n,r)+(t?"":e)}}function yr(t){var e=Zi(function(n,r){var i=_(r,e.placeholder);return Sr(n,t,null,r,i)});return e}function br(t,e){return function(n,r,i,o){var a=arguments.length<3;return"function"==typeof r&&"undefined"==typeof o&&au(n)?t(n,r,i,a):Dn(n,jr(r,o,4),i,a,e)}}function wr(t,e,n,r,i,o,a,s,u,c){function l(){for(var b=arguments.length,w=b,x=va(b);w--;)x[w]=arguments[w];if(r&&(x=Zn(x,r,i)),o&&(x=tr(x,o,a)),d||g){var E=l.placeholder,S=_(x,E);if(b-=S.length,c>b){var T=s?Je(s):null,A=ts(c-b,0),k=d?S:null,R=d?null:S,M=d?x:null,P=d?null:x;e|=d?I:L,e&=~(d?L:I),v||(e&=~(j|O));var F=[t,e,n,M,k,P,R,T,u,A],B=wr.apply(C,F);return Br(t)&&Ts(B,F),B.placeholder=E,B}}var N=h?n:this;p&&(t=N[y]),s&&(x=zr(x,s)),f&&u<x.length&&(x.length=u);var D=this&&this!==Ze&&this instanceof l?m||sr(t):t;return D.apply(N,x)}var f=e&F,h=e&j,p=e&O,d=e&M,v=e&R,g=e&P,m=!p&&sr(t),y=t;return l}function _r(t,e,n){var r=t.length;if(e=+e,r>=e||!Qa(e))return"";var i=e-r;return n=null==n?" ":n+"",Go(n,Na(i/n.length)).slice(0,i)}function xr(t,e,n,r){function i(){for(var e=-1,s=arguments.length,u=-1,c=r.length,l=va(s+c);++u<c;)l[u]=r[u];for(;s--;)l[u++]=arguments[++e];var f=this&&this!==Ze&&this instanceof i?a:t;return f.apply(o?n:this,l)}var o=e&j,a=sr(t);return i}function Er(t){return function(e,n,r,i){var o=jr(r);return o===gn&&null==r?Xn(e,n,t):Jn(e,n,o(r,i,1),t)}}function Sr(t,e,n,r,i,o,a,s){var u=e&O;if(!u&&"function"!=typeof t)throw new Sa(G);var c=r?r.length:0;if(c||(e&=~(I|L),r=i=null),c-=i?i.length:0,e&L){var l=r,f=i;r=i=null}var h=u?null:Es(t),p=[t,e,n,r,i,l,f,o,a,s];if(h&&(Ur(p,h),e=p[1],s=p[9]),p[9]=null==s?u?0:t.length:ts(s-c,0)||0,e==j)var d=or(p[0],p[2]);else d=e!=I&&e!=(j|I)||p[4].length?wr.apply(C,p):xr.apply(C,p);var v=h?_s:Ts;return v(d,p)}function Tr(t,e,n,r,i,o,a){var s=-1,u=t.length,c=e.length,l=!0;if(u!=c&&!(i&&c>u))return!1;for(;l&&++s<u;){var f=t[s],h=e[s];if(l=C,r&&(l=i?r(h,f,s):r(f,h,s)),"undefined"==typeof l)if(i)for(var p=c;p--&&(h=e[p],!(l=f&&f===h||n(f,h,r,i,o,a))););else l=f&&f===h||n(f,h,r,i,o,a)}return!!l}function Ar(t,e,n){switch(n){case X:case J:return+t==+e;case K:return t.name==e.name&&t.message==e.message;case te:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case ne:case ie:return t==e+""}return!1}function Cr(t,e,n,r,i,o,a){var s=yu(t),u=s.length,c=yu(e),l=c.length;if(u!=l&&!i)return!1;for(var f=i,h=-1;++h<u;){var p=s[h],d=i?p in e:Ra.call(e,p);if(d){var v=t[p],g=e[p];d=C,r&&(d=i?r(g,v,p):r(v,g,p)),"undefined"==typeof d&&(d=v&&v===g||n(v,g,r,i,o,a))}if(!d)return!1;f||(f="constructor"==p)}if(!f){var m=t.constructor,y=e.constructor;if(m!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y))return!1}return!0}function kr(t,e,n){var r=n?ss:as,i=r,o=i;return ms(t,function(t,a,s){var u=e(t,a,s);((n?i>u:u>i)||u===r&&u===o)&&(i=u,o=t)}),o}function jr(t,n,r){var i=e.callback||ta;return i=i===ta?gn:i,r?i(t,n,r):i}function Or(t,n,r){var i=e.indexOf||oi;return i=i===oi?s:i,t?i(t,n,r):i}function Rr(t,e,n){for(var r=-1,i=n?n.length:0;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=es(e,t+a);break;case"takeRight":t=ts(t,e-a)}}return{start:t,end:e}}function Mr(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Ra.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Pr(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=_a),new e}function Ir(t,e,n){var r=t.constructor;switch(e){case ae:return Qn(t);case X:case J:return new r(+t);case se:case ue:case ce:case le:case fe:case he:case pe:case de:case ve:var i=t.buffer;return new r(n?Qn(i):i,t.byteOffset,t.length);case te:case ie:return new r(t);case ne:var o=new r(t.source,ke.exec(t));o.lastIndex=t.lastIndex}return o}function Lr(t,e){return t=+t,e=null==e?hs:e,t>-1&&t%1==0&&e>t}function Fr(t,e,n){if(!ho(n))return!1;var r=typeof e;if("number"==r)var i=n.length,o=Nr(i)&&Lr(e,i);else o="string"==r&&e in n;if(o){var a=n[e];return t===t?t===a:a!==a}return!1}function Br(t){var n=Ss(t);return!!n&&t===e[n]&&n in i.prototype}function Nr(t){return"number"==typeof t&&t>-1&&t%1==0&&hs>=t}function Dr(t){return t===t&&(0===t?1/t>0:!ho(t))}function Ur(t,e){var n=t[1],r=e[1],i=n|r,o=F>i,a=r==F&&n==M||r==F&&n==B&&t[7].length<=e[8]||r==(F|B)&&n==M;if(!o&&!a)return t;r&j&&(t[2]=e[2],i|=n&j?0:R);var s=e[3];if(s){var u=t[3];t[3]=u?Zn(u,s,e[4]):Je(s),t[4]=u?_(t[3],$):Je(e[4])}return s=e[5],s&&(u=t[5],t[5]=u?tr(u,s,e[6]):Je(s),t[6]=u?_(t[5],$):Je(e[6])),s=e[7],s&&(t[7]=Je(s)),r&F&&(t[8]=null==t[8]?e[8]:es(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function qr(t,e){t=Hr(t);for(var n=-1,r=e.length,i={};++n<r;){var o=e[n];o in t&&(i[o]=t[o])}return i}function Wr(t,e){var n={};return Tn(t,function(t,r,i){e(t,r,i)&&(n[r]=t)}),n}function zr(t,e){for(var n=t.length,r=es(e.length,n),i=Je(t);r--;){var o=e[r];t[r]=Lr(o,n)?i[o]:C}return t}function Vr(t){{var n;e.support}if(!b(t)||Pa.call(t)!=ee||!Ra.call(t,"constructor")&&(n=t.constructor,"function"==typeof n&&!(n instanceof n)))return!1;var r;return Tn(t,function(t,e){r=e}),"undefined"==typeof r||Ra.call(t,r)}function Gr(t){for(var n=jo(t),r=n.length,i=r&&t.length,o=e.support,a=i&&Nr(i)&&(au(t)||o.nonEnumArgs&&oo(t)),s=-1,u=[];++s<r;){var c=n[s];(a&&Lr(c,i)||Ra.call(t,c))&&u.push(c)}return u}function $r(t){return null==t?[]:Nr(t.length)?ho(t)?t:_a(t):Io(t)}function Hr(t){return ho(t)?t:_a(t)}function Yr(t){return t instanceof i?t.clone():new r(t.__wrapped__,t.__chain__,Je(t.__actions__))}function Xr(t,e,n){e=(n?Fr(t,e,n):null==e)?1:ts(+e||1,1);for(var r=0,i=t?t.length:0,o=-1,a=va(Na(i/e));i>r;)a[++o]=Un(t,r,r+=e);return a}function Jr(t){for(var e=-1,n=t?t.length:0,r=-1,i=[];++e<n;){var o=t[e];o&&(i[++r]=o)}return i}function Kr(t,e,n){var r=t?t.length:0;return r?((n?Fr(t,e,n):null==e)&&(e=1),Un(t,0>e?0:e)):[]}function Qr(t,e,n){var r=t?t.length:0;return r?((n?Fr(t,e,n):null==e)&&(e=1),e=r-(+e||0),Un(t,0,0>e?0:e)):[]}function Zr(t,e,n){return t&&t.length?Hn(t,jr(e,n,3),!0,!0):[]}function ti(t,e,n){return t&&t.length?Hn(t,jr(e,n,3),!0):[]}function ei(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Fr(t,e,n)&&(n=0,r=i),_n(t,e,n,r)):[]}function ni(t){return t?t[0]:C}function ri(t,e,n){var r=t?t.length:0;return n&&Fr(t,e,n)&&(e=!1),r?Sn(t,e):[]}function ii(t){var e=t?t.length:0;return e?Sn(t,!0):[]}function oi(t,e,n){var r=t?t.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?ts(r+n,0):n;else if(n){var i=Xn(t,e),o=t[i];return(e===e?e===o:o!==o)?i:-1}return s(t,e,n||0)}function ai(t){return Qr(t,1)}function si(){for(var t=[],e=-1,n=arguments.length,r=[],i=Or(),o=i==s;++e<n;){var a=arguments[e];(au(a)||oo(a))&&(t.push(a),r.push(o&&a.length>=120?xs(e&&a):null))}n=t.length;var u=t[0],c=-1,l=u?u.length:0,f=[],h=r[0];t:for(;++c<l;)if(a=u[c],(h?Ye(h,a):i(f,a,0))<0){for(e=n;--e;){var p=r[e];if((p?Ye(p,a):i(t[e],a,0))<0)continue t}h&&h.push(a),f.push(a)}return f}function ui(t){var e=t?t.length:0;return e?t[e-1]:C}function ci(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?ts(r+n,0):es(n||0,r-1))+1;else if(n){i=Xn(t,e,!0)-1;var o=t[i];return(e===e?e===o:o!==o)?i:-1}if(e!==e)return y(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1}function li(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,r=Or(),i=t.length;++n<i;)for(var o=0,a=t[n];(o=r(e,a,o))>-1;)$a.call(e,o,1);return e}function fi(t,e,n){var r=-1,i=t?t.length:0,o=[];for(e=jr(e,n,3);++r<i;){var a=t[r];e(a,r,t)&&(o.push(a),$a.call(t,r--,1),i--)}return o}function hi(t){return Kr(t,1)}function pi(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Fr(t,e,n)&&(e=0,n=r),Un(t,e,n)):[]}function di(t,e,n){var r=t?t.length:0;return r?((n?Fr(t,e,n):null==e)&&(e=1),Un(t,0,0>e?0:e)):[]}function vi(t,e,n){var r=t?t.length:0;return r?((n?Fr(t,e,n):null==e)&&(e=1),e=r-(+e||0),Un(t,0>e?0:e)):[]}function gi(t,e,n){return t&&t.length?Hn(t,jr(e,n,3),!1,!0):[]}function mi(t,e,n){return t&&t.length?Hn(t,jr(e,n,3)):[]}function yi(t,e,n,r){var i=t?t.length:0;if(!i)return[];null!=e&&"boolean"!=typeof e&&(r=n,n=Fr(t,e,r)?null:e,e=!1);var o=jr();return(o!==gn||null!=n)&&(n=o(n,r,3)),e&&Or()==s?x(t,n):Gn(t,n)}function bi(t){for(var e=-1,n=(t&&t.length&&on(rn(t,Oa)))>>>0,r=va(n);++e<n;)r[e]=rn(t,Bn(e));return r}function wi(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(au(n)||oo(n))var r=r?bn(r,n).concat(bn(n,r)):n}return r?Gn(r):[]}function _i(t,e){var n=-1,r=t?t.length:0,i={};for(!r||e||au(t[0])||(e=[]);++n<r;){var o=t[n];e?i[o]=e[n]:o&&(i[o[0]]=o[1])}return i}function xi(t){var n=e(t);return n.__chain__=!0,n}function Ei(t,e,n){return e.call(n,t),t}function Si(t,e,n){return e.call(n,t)}function Ti(){return xi(this)}function Ai(){return new r(this.value(),this.__chain__)}function Ci(t){for(var e,r=this;r instanceof n;){var i=Yr(r);e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e}function ki(){var t=this.__wrapped__;return t instanceof i?(this.__actions__.length&&(t=new i(this)),new r(t.reverse(),this.__chain__)):this.thru(function(t){return t.reverse()})}function ji(){return this.value()+""}function Oi(){return Yn(this.__wrapped__,this.__actions__)}function Ri(t,e,n){var r=au(t)?en:wn;return n&&Fr(t,e,n)&&(e=null),("function"!=typeof e||"undefined"!=typeof n)&&(e=jr(e,n,3)),r(t,e)}function Mi(t,e,n){var r=au(t)?nn:xn;return e=jr(e,n,3),r(t,e)}function Pi(t,e){return Bs(t,Pn(e))}function Ii(t,e,n,r){var i=t?t.length:0;return Nr(i)||(t=Io(t),i=t.length),i?(n="number"!=typeof n||r&&Fr(e,n,r)?0:0>n?ts(i+n,0):n||0,"string"==typeof t||!au(t)&&wo(t)?i>n&&t.indexOf(e,n)>-1:Or(t,e,n)>-1):!1}function Li(t,e,n){var r=au(t)?rn:Mn;return e=jr(e,n,3),r(t,e)}function Fi(t,e){return Li(t,Bn(e))}function Bi(t,e,n){var r=au(t)?nn:xn;return e=jr(e,n,3),r(t,function(t,n,r){return!e(t,n,r)})}function Ni(t,e,n){if(n?Fr(t,e,n):null==e){t=$r(t);var r=t.length;return r>0?t[Nn(0,r-1)]:C}var i=Di(t);return i.length=es(0>e?0:+e||0,i.length),i}function Di(t){t=$r(t);for(var e=-1,n=t.length,r=va(n);++e<n;){var i=Nn(0,e);e!=i&&(r[e]=r[i]),r[i]=t[e]}return r}function Ui(t){var e=t?t.length:0;return Nr(e)?e:yu(t).length}function qi(t,e,n){var r=au(t)?cn:qn;return n&&Fr(t,e,n)&&(e=null),("function"!=typeof e||"undefined"!=typeof n)&&(e=jr(e,n,3)),r(t,e)}function Wi(t,e,n){if(null==t)return[];var r=-1,i=t.length,o=Nr(i)?va(i):[];return n&&Fr(t,e,n)&&(e=null),e=jr(e,n,3),ms(t,function(t,n,i){o[++r]={criteria:e(t,n,i),index:r,value:t}}),Wn(o,p)}function zi(){var t=arguments,e=t[0],n=t[3],r=0,i=t.length-1;if(null==e)return[];for(var o=va(i);i>r;)o[r]=t[++r];return n&&Fr(t[1],t[2],n)&&(o=t[1]),zn(e,Sn(o),[])}function Vi(t,e,n,r){return null==t?[]:(r&&Fr(e,n,r)&&(n=null),au(e)||(e=null==e?[]:[e]),au(n)||(n=null==n?[]:[n]),zn(t,e,n))}function Gi(t,e){return Mi(t,Pn(e))}function $i(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Sa(G);var n=t;t=e,e=n}return t=Qa(t=+t)?t:0,function(){return--t<1?e.apply(this,arguments):void 0}}function Hi(t,e,n){return n&&Fr(t,e,n)&&(e=null),e=t&&null==e?t.length:ts(+e||0,0),Sr(t,F,null,null,null,null,e)}function Yi(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Sa(G);var r=t;t=e,e=r}return function(){return--t>0?n=e.apply(this,arguments):e=null,n}}function Xi(t,e,n){function r(){h&&Da(h),u&&Da(u),u=h=p=C}function i(){var n=e-(Hs()-l);if(0>=n||n>e){u&&Da(u);var r=p;u=h=p=C,r&&(d=Hs(),c=t.apply(f,s),h||u||(s=f=null))}else h=Ga(i,n)}function o(){h&&Da(h),u=h=p=C,(g||v!==e)&&(d=Hs(),c=t.apply(f,s),h||u||(s=f=null))}function a(){if(s=arguments,l=Hs(),f=this,p=g&&(h||!m),v===!1)var n=m&&!h;else{u||m||(d=l);var r=v-(l-d),a=0>=r||r>v;a?(u&&(u=Da(u)),d=l,c=t.apply(f,s)):u||(u=Ga(o,r))}return a&&h?h=Da(h):h||e===v||(h=Ga(i,e)),n&&(a=!0,c=t.apply(f,s)),!a||h||u||(s=f=null),c}var s,u,c,l,f,h,p,d=0,v=!1,g=!0;if("function"!=typeof t)throw new Sa(G);if(e=0>e?0:+e||0,n===!0){var m=!0;g=!1}else ho(n)&&(m=n.leading,v="maxWait"in n&&ts(+n.maxWait||0,e),g="trailing"in n?n.trailing:g);return a.cancel=r,a}function Ji(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Sa(G);var n=function(){var r=arguments,i=n.cache,o=e?e.apply(this,r):r[0];if(i.has(o))return i.get(o);var a=t.apply(this,r);return i.set(o,a),a};return n.cache=new Ji.Cache,n}function Ki(t){if("function"!=typeof t)throw new Sa(G);return function(){return!t.apply(this,arguments)}}function Qi(t){return Yi(t,2)}function Zi(t,e){if("function"!=typeof t)throw new Sa(G);return e=ts("undefined"==typeof e?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,i=ts(n.length-e,0),o=va(i);++r<i;)o[r]=n[e+r];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,n[0],o);case 2:return t.call(this,n[0],n[1],o)}var a=va(e+1);for(r=-1;++r<e;)a[r]=n[r];return a[e]=o,t.apply(this,a)}}function to(t){if("function"!=typeof t)throw new Sa(G);return function(e){return t.apply(this,e)}}function eo(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Sa(G);return n===!1?r=!1:ho(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),We.leading=r,We.maxWait=+e,We.trailing=i,Xi(t,e,We)}function no(t,e){return e=null==e?na:e,Sr(e,I,null,[t],[])}function ro(t,e,n,r){return e&&"boolean"!=typeof e&&Fr(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),n="function"==typeof n&&Kn(n,r,1),mn(t,e,n)}function io(t,e,n){return e="function"==typeof e&&Kn(e,n,1),mn(t,!0,e)}function oo(t){var e=b(t)?t.length:C;return Nr(e)&&Pa.call(t)==H}function ao(t){return t===!0||t===!1||b(t)&&Pa.call(t)==X}function so(t){return b(t)&&Pa.call(t)==J}function uo(t){return!!t&&1===t.nodeType&&b(t)&&Pa.call(t).indexOf("Element")>-1}function co(t){if(null==t)return!0;var e=t.length;return Nr(e)&&(au(t)||wo(t)||oo(t)||b(t)&&uu(t.splice))?!e:!yu(t).length}function lo(t,e,n,r){if(n="function"==typeof n&&Kn(n,r,3),!n&&Dr(t)&&Dr(e))return t===e;var i=n?n(t,e):C;return"undefined"==typeof i?jn(t,e,n):!!i}function fo(t){return b(t)&&"string"==typeof t.message&&Pa.call(t)==K}function ho(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function po(t,e,n,r){var i=yu(e),o=i.length;if(!o)return!0;if(null==t)return!1;if(n="function"==typeof n&&Kn(n,r,3),!n&&1==o){var a=i[0],s=e[a];
if(Dr(s))return s===t[a]&&("undefined"!=typeof s||a in Hr(t))}for(var u=va(o),c=va(o);o--;)s=u[o]=e[i[o]],c[o]=Dr(s);return Rn(Hr(t),i,u,c,n)}function vo(t){return yo(t)&&t!=+t}function go(t){return null==t?!1:Pa.call(t)==Q?La.test(ja.call(t)):b(t)&&Oe.test(t)}function mo(t){return null===t}function yo(t){return"number"==typeof t||b(t)&&Pa.call(t)==te}function bo(t){return b(t)&&Pa.call(t)==ne||!1}function wo(t){return"string"==typeof t||b(t)&&Pa.call(t)==ie}function _o(t){return b(t)&&Nr(t.length)&&!!Ue[Pa.call(t)]}function xo(t){return"undefined"==typeof t}function Eo(t){var e=t?t.length:0;return Nr(e)?e?Je(t):[]:Io(t)}function So(t){return vn(t,jo(t))}function To(t,e,n){var r=gs(t);return n&&Fr(t,e,n)&&(e=null),e?vn(e,r,yu(e)):r}function Ao(t){return kn(t,jo(t))}function Co(t,e){return t?Ra.call(t,e):!1}function ko(t,e,n){n&&Fr(t,e,n)&&(e=null);for(var r=-1,i=yu(t),o=i.length,a={};++r<o;){var s=i[r],u=t[s];e?Ra.call(a,u)?a[u].push(s):a[u]=[s]:a[u]=s}return a}function jo(t){if(null==t)return[];ho(t)||(t=_a(t));var e=t.length;e=e&&Nr(e)&&(au(t)||vs.nonEnumArgs&&oo(t))&&e||0;for(var n=t.constructor,r=-1,i="function"==typeof n&&n.prototype===t,o=va(e),a=e>0;++r<e;)o[r]=r+"";for(var s in t)a&&Lr(s,e)||"constructor"==s&&(i||!Ra.call(t,s))||o.push(s);return o}function Oo(t,e,n){var r={};return e=jr(e,n,3),An(t,function(t,n,i){r[n]=e(t,n,i)}),r}function Ro(t){for(var e=-1,n=yu(t),r=n.length,i=va(r);++e<r;){var o=n[e];i[e]=[o,t[o]]}return i}function Mo(t,e,n){var r=null==t?C:t[e];return"undefined"==typeof r&&(r=n),uu(r)?r.call(t):r}function Po(t,e,n,r){var i=au(t)||_o(t);if(e=jr(e,r,4),null==n)if(i||ho(t)){var o=t.constructor;n=i?au(t)?new o:[]:gs(uu(o)&&o.prototype)}else n={};return(i?Ke:An)(t,function(t,r,i){return e(n,t,r,i)}),n}function Io(t){return $n(t,yu(t))}function Lo(t){return $n(t,jo(t))}function Fo(t,e,n){return e=+e||0,"undefined"==typeof n?(n=e,e=0):n=+n||0,t>=e&&n>t}function Bo(t,e,n){n&&Fr(t,e,n)&&(e=n=null);var r=null==t,i=null==e;if(null==n&&(i&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,i=!0)),r&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=os();return es(t+o*(e-t+parseFloat("1e-"+((o+"").length-1))),e)}return Nn(t,e)}function No(t){return t=c(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function Do(t){return t=c(t),t&&t.replace(Re,v).replace(Ae,"")}function Uo(t,e,n){t=c(t),e+="";var r=t.length;return n="undefined"==typeof n?r:es(0>n?0:+n||0,r),n-=e.length,n>=0&&t.indexOf(e,n)==n}function qo(t){return t=c(t),t&&xe.test(t)?t.replace(we,g):t}function Wo(t){return t=c(t),t&&Ie.test(t)?t.replace(Pe,"\\$&"):t}function zo(t,e,n){t=c(t),e=+e;var r=t.length;if(r>=e||!Qa(e))return t;var i=(e-r)/2,o=Ua(i),a=Na(i);return n=_r("",a,n),n.slice(0,o)+t+n}function Vo(t,e,n){return n&&Fr(t,e,n)&&(e=0),is(t,e)}function Go(t,e){var n="";if(t=c(t),e=+e,1>e||!t||!Qa(e))return n;do e%2&&(n+=t),e=Ua(e/2),t+=t;while(e);return n}function $o(t,e,n){return t=c(t),n=null==n?0:es(0>n?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function Ho(t,n,r){var i=e.templateSettings;r&&Fr(t,n,r)&&(n=r=null),t=c(t),n=pn(pn({},r||n),i,hn);var o,a,s=pn(pn({},n.imports),i.imports,hn),u=yu(s),l=$n(s,u),f=0,h=n.interpolate||Me,p="__p += '",d=xa((n.escape||Me).source+"|"+h.source+"|"+(h===Te?Ce:Me).source+"|"+(n.evaluate||Me).source+"|$","g"),v="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++De+"]")+"\n";t.replace(d,function(e,n,r,i,s,u){return r||(r=i),p+=t.slice(f,u).replace(Le,m),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=u+e.length,e}),p+="';\n";var g=n.variable;g||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(ge,""):p).replace(me,"$1").replace(ye,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=ku(function(){return ya(u,v+"return "+p).apply(C,l)});if(y.source=p,fo(y))throw y;return y}function Yo(t,e,n){var r=t;return(t=c(t))?(n?Fr(r,e,n):null==e)?t.slice(E(t),S(t)+1):(e+="",t.slice(f(t,e),h(t,e)+1)):t}function Xo(t,e,n){var r=t;return t=c(t),t?t.slice((n?Fr(r,e,n):null==e)?E(t):f(t,e+"")):t}function Jo(t,e,n){var r=t;return t=c(t),t?(n?Fr(r,e,n):null==e)?t.slice(0,S(t)+1):t.slice(0,h(t,e+"")+1):t}function Ko(t,e,n){n&&Fr(t,e,n)&&(e=null);var r=N,i=D;if(null!=e)if(ho(e)){var o="separator"in e?e.separator:o;r="length"in e?+e.length||0:r,i="omission"in e?c(e.omission):i}else r=+e||0;if(t=c(t),r>=t.length)return t;var a=r-i.length;if(1>a)return i;var s=t.slice(0,a);if(null==o)return s+i;if(bo(o)){if(t.slice(a).search(o)){var u,l,f=t.slice(0,a);for(o.global||(o=xa(o.source,(ke.exec(o)||"")+"g")),o.lastIndex=0;u=o.exec(f);)l=u.index;s=s.slice(0,null==l?a:l)}}else if(t.indexOf(o,a)!=a){var h=s.lastIndexOf(o);h>-1&&(s=s.slice(0,h))}return s+i}function Qo(t){return t=c(t),t&&_e.test(t)?t.replace(be,T):t}function Zo(t,e,n){return n&&Fr(t,e,n)&&(e=null),t=c(t),t.match(e||Fe)||[]}function ta(t,e,n){return n&&Fr(t,e,n)&&(e=null),b(t)?ra(t):gn(t,e)}function ea(t){return function(){return t}}function na(t){return t}function ra(t){return Pn(mn(t,!0))}function ia(t,e){return In(t+"",mn(e,!0))}function oa(t,e,n){if(null==n){var r=ho(e),i=r&&yu(e),o=i&&i.length&&kn(e,i);(o?o.length:r)||(o=!1,n=e,e=t,t=this)}o||(o=kn(e,yu(e)));var a=!0,s=-1,u=uu(t),c=o.length;n===!1?a=!1:ho(n)&&"chain"in n&&(a=n.chain);for(;++s<c;){var l=o[s],f=e[l];t[l]=f,u&&(t.prototype[l]=function(e){return function(){var n=this.__chain__;if(a||n){var r=t(this.__wrapped__),i=r.__actions__=Je(this.__actions__);return i.push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}var o=[this.value()];return Wa.apply(o,arguments),e.apply(t,o)}}(f))}return t}function aa(){return t._=Ia,this}function sa(){}function ua(t){return Bn(t+"")}function ca(t){return function(e){return null==t?C:t[e]}}function la(t,e,n){n&&Fr(t,e,n)&&(e=n=null),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var r=-1,i=ts(Na((e-t)/(n||1)),0),o=va(i);++r<i;)o[r]=t,t+=n;return o}function fa(t,e,n){if(t=+t,1>t||!Qa(t))return[];var r=-1,i=va(es(t,us));for(e=Kn(e,n,1);++r<t;)us>r?i[r]=e(r):e(r);return i}function ha(t){var e=++Ma;return c(t)+e}function pa(t,e){return t+e}function da(t,e,n){n&&Fr(t,e,n)&&(e=null);var r=jr(),i=null==e;return r===gn&&i||(i=!1,e=r(e,n,3)),i?ln(au(t)?t:$r(t)):Vn(t,e)}t=t?tn.defaults(Ze.Object(),t,tn.pick(Ze,Ne)):Ze;var va=t.Array,ga=t.Date,ma=t.Error,ya=t.Function,ba=t.Math,wa=t.Number,_a=t.Object,xa=t.RegExp,Ea=t.String,Sa=t.TypeError,Ta=va.prototype,Aa=_a.prototype,Ca=Ea.prototype,ka=(ka=t.window)&&ka.document,ja=ya.prototype.toString,Oa=Bn("length"),Ra=Aa.hasOwnProperty,Ma=0,Pa=Aa.toString,Ia=t._,La=xa("^"+Wo(Pa).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fa=go(Fa=t.ArrayBuffer)&&Fa,Ba=go(Ba=Fa&&new Fa(0).slice)&&Ba,Na=ba.ceil,Da=t.clearTimeout,Ua=ba.floor,qa=go(qa=_a.getPrototypeOf)&&qa,Wa=Ta.push,za=Aa.propertyIsEnumerable,Va=go(Va=t.Set)&&Va,Ga=t.setTimeout,$a=Ta.splice,Ha=go(Ha=t.Uint8Array)&&Ha,Ya=go(Ya=t.WeakMap)&&Ya,Xa=function(){try{var e=go(e=t.Float64Array)&&e,n=new e(new Fa(10),0,1)&&e}catch(r){}return n}(),Ja=go(Ja=va.isArray)&&Ja,Ka=go(Ka=_a.create)&&Ka,Qa=t.isFinite,Za=go(Za=_a.keys)&&Za,ts=ba.max,es=ba.min,ns=go(ns=ga.now)&&ns,rs=go(rs=wa.isFinite)&&rs,is=t.parseInt,os=ba.random,as=wa.NEGATIVE_INFINITY,ss=wa.POSITIVE_INFINITY,us=ba.pow(2,32)-1,cs=us-1,ls=us>>>1,fs=Xa?Xa.BYTES_PER_ELEMENT:0,hs=ba.pow(2,53)-1,ps=Ya&&new Ya,ds={},vs=e.support={};!function(){vs.funcDecomp=/\bthis\b/.test(function(){return this}),vs.funcNames="string"==typeof ya.name;try{vs.dom=11===ka.createDocumentFragment().nodeType}catch(t){vs.dom=!1}try{vs.nonEnumArgs=!za.call(arguments,1)}catch(t){vs.nonEnumArgs=!0}}(0,0),e.templateSettings={escape:Ee,evaluate:Se,interpolate:Te,variable:"",imports:{_:e}};var gs=function(){function e(){}return function(n){if(ho(n)){e.prototype=n;var r=new e;e.prototype=null}return r||t.Object()}}(),ms=rr(An),ys=rr(Cn,!0),bs=ir(),ws=ir(!0),_s=ps?function(t,e){return ps.set(t,e),t}:na;Ba||(Qn=Fa&&Ha?function(t){var e=t.byteLength,n=Xa?Ua(e/fs):0,r=n*fs,i=new Fa(e);if(n){var o=new Xa(i,0,n);o.set(new Xa(t,0,n))}return e!=r&&(o=new Ha(i,r),o.set(new Ha(t,r))),i}:ea(null));var xs=Ka&&Va?function(t){return new He(t)}:ea(null),Es=ps?function(t){return ps.get(t)}:sa,Ss=function(){return vs.funcNames?"constant"==ea.name?Bn("name"):function(t){for(var e=t.name,n=ds[e],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}:ea("")}(),Ts=function(){var t=0,e=0;return function(n,r){var i=Hs(),o=q-(i-e);if(e=i,o>0){if(++t>=U)return n}else t=0;return _s(n,r)}}(),As=Zi(function(t,e){return au(t)||oo(t)?bn(t,Sn(e,!1,!0)):[]}),Cs=fr(),ks=fr(!0),js=Zi(function(t,e){t||(t=[]),e=Sn(e);var n=e.length,r=dn(t,e);for(e.sort(o);n--;){var i=parseFloat(e[n]);if(i!=a&&Lr(i)){var a=i;$a.call(t,i,1)}}return r}),Os=Er(),Rs=Er(!0),Ms=Zi(function(t){return Gn(Sn(t,!1,!0))}),Ps=Zi(function(t,e){return au(t)||oo(t)?bn(t,e):[]}),Is=Zi(bi),Ls=Zi(function(t,e){var n=t?t.length:0;return Nr(n)&&(t=$r(t)),dn(t,Sn(e))}),Fs=er(function(t,e,n){Ra.call(t,n)?++t[n]:t[n]=1}),Bs=lr(ms),Ns=lr(ys,!0),Ds=dr(Ke,ms),Us=dr(Qe,ys),qs=er(function(t,e,n){Ra.call(t,n)?t[n].push(e):t[n]=[e]}),Ws=er(function(t,e,n){t[n]=e}),zs=Zi(function(t,e,n){var r=-1,i="function"==typeof e,o=t?t.length:0,a=Nr(o)?va(o):[];return ms(t,function(t){var o=i?e:null!=t&&t[e];a[++r]=o?o.apply(t,n):C}),a}),Vs=er(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Gs=br(sn,ms),$s=br(un,ys),Hs=ns||function(){return(new ga).getTime()},Ys=Zi(function(t,e,n){var r=j;if(n.length){var i=_(n,Ys.placeholder);r|=I}return Sr(t,r,e,n,i)}),Xs=Zi(function(t,e){e=e.length?Sn(e):Ao(t);for(var n=-1,r=e.length;++n<r;){var i=e[n];t[i]=Sr(t[i],j,t)}return t}),Js=Zi(function(t,e,n){var r=j|O;if(n.length){var i=_(n,Js.placeholder);r|=I}return Sr(e,r,t,n,i)}),Ks=ur(M),Qs=ur(P),Zs=Zi(function(t,e){return yn(t,1,e)}),tu=Zi(function(t,e,n){return yn(t,e,n)}),eu=pr(),nu=pr(!0),ru=yr(I),iu=yr(L),ou=Zi(function(t,e){return Sr(t,B,null,null,null,Sn(e))}),au=Ja||function(t){return b(t)&&Nr(t.length)&&Pa.call(t)==Y};vs.dom||(uo=function(t){return!!t&&1===t.nodeType&&b(t)&&!cu(t)});var su=rs||function(t){return"number"==typeof t&&Qa(t)},uu=u(/x/)||Ha&&!u(Ha)?function(t){return Pa.call(t)==Q}:u,cu=qa?function(t){if(!t||Pa.call(t)!=ee)return!1;var e=t.valueOf,n=go(e)&&(n=qa(e))&&qa(n);return n?t==n||qa(t)==n:Vr(t)}:Vr,lu=nr(pn),fu=Zi(function(t){var e=t[0];return null==e?e:(t.push(fn),lu.apply(C,t))}),hu=hr(An),pu=hr(Cn),du=vr(bs),vu=vr(ws),gu=gr(An),mu=gr(Cn),yu=Za?function(t){if(t)var e=t.constructor,n=t.length;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&n&&Nr(n)?Gr(t):ho(t)?Za(t):[]}:Gr,bu=nr(Ln),wu=Zi(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=rn(Sn(e),Ea);return qr(t,bn(jo(t),e))}var n=Kn(e[0],e[1],3);return Wr(t,function(t,e,r){return!n(t,e,r)})}),_u=Zi(function(t,e){return null==t?{}:"function"==typeof e[0]?Wr(t,Kn(e[0],e[1],3)):qr(t,Sn(e))}),xu=ar(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),Eu=ar(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Su=mr(),Tu=mr(!0);8!=is(Be+"08")&&(Vo=function(t,e,n){return(n?Fr(t,e,n):null==e)?e=0:e&&(e=+e),t=Yo(t),is(t,e||(je.test(t)?16:10))});var Au=ar(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Cu=ar(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),ku=Zi(function(t,e){try{return t.apply(C,e)}catch(n){return fo(n)?n:new ma(n)}}),ju=cr(on),Ou=cr(an,!0);return e.prototype=n.prototype,r.prototype=gs(n.prototype),r.prototype.constructor=r,i.prototype=gs(n.prototype),i.prototype.constructor=i,oe.prototype["delete"]=ze,oe.prototype.get=Ve,oe.prototype.has=Ge,oe.prototype.set=$e,He.prototype.push=Xe,Ji.Cache=oe,e.after=$i,e.ary=Hi,e.assign=lu,e.at=Ls,e.before=Yi,e.bind=Ys,e.bindAll=Xs,e.bindKey=Js,e.callback=ta,e.chain=xi,e.chunk=Xr,e.compact=Jr,e.constant=ea,e.countBy=Fs,e.create=To,e.curry=Ks,e.curryRight=Qs,e.debounce=Xi,e.defaults=fu,e.defer=Zs,e.delay=tu,e.difference=As,e.drop=Kr,e.dropRight=Qr,e.dropRightWhile=Zr,e.dropWhile=ti,e.fill=ei,e.filter=Mi,e.flatten=ri,e.flattenDeep=ii,e.flow=eu,e.flowRight=nu,e.forEach=Ds,e.forEachRight=Us,e.forIn=du,e.forInRight=vu,e.forOwn=gu,e.forOwnRight=mu,e.functions=Ao,e.groupBy=qs,e.indexBy=Ws,e.initial=ai,e.intersection=si,e.invert=ko,e.invoke=zs,e.keys=yu,e.keysIn=jo,e.map=Li,e.mapValues=Oo,e.matches=ra,e.matchesProperty=ia,e.memoize=Ji,e.merge=bu,e.mixin=oa,e.negate=Ki,e.omit=wu,e.once=Qi,e.pairs=Ro,e.partial=ru,e.partialRight=iu,e.partition=Vs,e.pick=_u,e.pluck=Fi,e.property=ua,e.propertyOf=ca,e.pull=li,e.pullAt=js,e.range=la,e.rearg=ou,e.reject=Bi,e.remove=fi,e.rest=hi,e.restParam=Zi,e.shuffle=Di,e.slice=pi,e.sortBy=Wi,e.sortByAll=zi,e.sortByOrder=Vi,e.spread=to,e.take=di,e.takeRight=vi,e.takeRightWhile=gi,e.takeWhile=mi,e.tap=Ei,e.throttle=eo,e.thru=Si,e.times=fa,e.toArray=Eo,e.toPlainObject=So,e.transform=Po,e.union=Ms,e.uniq=yi,e.unzip=bi,e.values=Io,e.valuesIn=Lo,e.where=Gi,e.without=Ps,e.wrap=no,e.xor=wi,e.zip=Is,e.zipObject=_i,e.backflow=nu,e.collect=Li,e.compose=nu,e.each=Ds,e.eachRight=Us,e.extend=lu,e.iteratee=ta,e.methods=Ao,e.object=_i,e.select=Mi,e.tail=hi,e.unique=yi,oa(e,e),e.add=pa,e.attempt=ku,e.camelCase=xu,e.capitalize=No,e.clone=ro,e.cloneDeep=io,e.deburr=Do,e.endsWith=Uo,e.escape=qo,e.escapeRegExp=Wo,e.every=Ri,e.find=Bs,e.findIndex=Cs,e.findKey=hu,e.findLast=Ns,e.findLastIndex=ks,e.findLastKey=pu,e.findWhere=Pi,e.first=ni,e.has=Co,e.identity=na,e.includes=Ii,e.indexOf=oi,e.inRange=Fo,e.isArguments=oo,e.isArray=au,e.isBoolean=ao,e.isDate=so,e.isElement=uo,e.isEmpty=co,e.isEqual=lo,e.isError=fo,e.isFinite=su,e.isFunction=uu,e.isMatch=po,e.isNaN=vo,e.isNative=go,e.isNull=mo,e.isNumber=yo,e.isObject=ho,e.isPlainObject=cu,e.isRegExp=bo,e.isString=wo,e.isTypedArray=_o,e.isUndefined=xo,e.kebabCase=Eu,e.last=ui,e.lastIndexOf=ci,e.max=ju,e.min=Ou,e.noConflict=aa,e.noop=sa,e.now=Hs,e.pad=zo,e.padLeft=Su,e.padRight=Tu,e.parseInt=Vo,e.random=Bo,e.reduce=Gs,e.reduceRight=$s,e.repeat=Go,e.result=Mo,e.runInContext=A,e.size=Ui,e.snakeCase=Au,e.some=qi,e.sortedIndex=Os,e.sortedLastIndex=Rs,e.startCase=Cu,e.startsWith=$o,e.sum=da,e.template=Ho,e.trim=Yo,e.trimLeft=Xo,e.trimRight=Jo,e.trunc=Ko,e.unescape=Qo,e.uniqueId=ha,e.words=Zo,e.all=Ri,e.any=qi,e.contains=Ii,e.detect=Bs,e.foldl=Gs,e.foldr=$s,e.head=ni,e.include=Ii,e.inject=Gs,oa(e,function(){var t={};return An(e,function(n,r){e.prototype[r]||(t[r]=n)}),t}(),!1),e.sample=Ni,e.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return Ni(e,t)}):Ni(this.value())},e.VERSION=k,Ke(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),Ke(["dropWhile","filter","map","takeWhile"],function(t,e){var n=e!=V,r=e==W;i.prototype[t]=function(t,o){var a=this.__filtered__,s=a&&r?new i(this):this.clone(),u=s.__iteratees__||(s.__iteratees__=[]);return u.push({done:!1,count:0,index:0,iteratee:jr(t,o,1),limit:-1,type:e}),s.__filtered__=a||n,s}}),Ke(["drop","take"],function(t,e){var n=t+"While";i.prototype[t]=function(n){var r=this.__filtered__,i=r&&!e?this.dropWhile():this.clone();if(n=null==n?1:ts(Ua(n)||0,0),r)e?i.__takeCount__=es(i.__takeCount__,n):ui(i.__iteratees__).limit=n;else{var o=i.__views__||(i.__views__=[]);o.push({size:n,type:t+(i.__dir__<0?"Right":"")})}return i},i.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()},i.prototype[t+"RightWhile"]=function(t,e){return this.reverse()[n](t,e).reverse()}}),Ke(["first","last"],function(t,e){var n="take"+(e?"Right":"");i.prototype[t]=function(){return this[n](1).value()[0]}}),Ke(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");i.prototype[t]=function(){return this[n](1)}}),Ke(["pluck","where"],function(t,e){var n=e?"filter":"map",r=e?Pn:Bn;i.prototype[t]=function(t){return this[n](r(t))}}),i.prototype.compact=function(){return this.filter(na)},i.prototype.reject=function(t,e){return t=jr(t,e,1),this.filter(function(e){return!t(e)})},i.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=0>t?this.takeRight(-t):this.drop(t);return"undefined"!=typeof e&&(e=+e||0,n=0>e?n.dropRight(-e):n.take(e-t)),n},i.prototype.toArray=function(){return this.drop(0)},An(i.prototype,function(t,n){var o=e[n];if(o){var a=/^(?:filter|map|reject)|While$/.test(n),s=/^(?:first|last)$/.test(n);e.prototype[n]=function(){var n=arguments,u=(n.length,this.__chain__),c=this.__wrapped__,l=!!this.__actions__.length,f=c instanceof i,h=n[0],p=f||au(c);p&&a&&"function"==typeof h&&1!=h.length&&(f=p=!1);var d=f&&!l;if(s&&!u)return d?t.call(c):o.call(e,this.value());var v=function(t){var r=[t];return Wa.apply(r,n),o.apply(e,r)};if(p){var g=d?c:new i(this),m=t.apply(g,n);if(!s&&(l||m.__actions__)){var y=m.__actions__||(m.__actions__=[]);y.push({func:Si,args:[v],thisArg:e})}return new r(m,u)}return this.thru(v)}}}),Ke(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var n=(/^(?:replace|split)$/.test(t)?Ca:Ta)[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?n.apply(this.value(),t):this[r](function(e){return n.apply(e,t)})}}),An(i.prototype,function(t,n){var r=e[n];if(r){var i=r.name,o=ds[i]||(ds[i]=[]);o.push({name:n,func:r})}}),ds[wr(null,O).name]=[{name:"wrapper",func:null}],i.prototype.clone=w,i.prototype.reverse=Z,i.prototype.value=re,e.prototype.chain=Ti,e.prototype.commit=Ai,e.prototype.plant=Ci,e.prototype.reverse=ki,e.prototype.toString=ji,e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Oi,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var C,k="3.6.0",j=1,O=2,R=4,M=8,P=16,I=32,L=64,F=128,B=256,N=30,D="...",U=150,q=16,W=0,z=1,V=2,G="Expected a function",$="__lodash_placeholder__",H="[object Arguments]",Y="[object Array]",X="[object Boolean]",J="[object Date]",K="[object Error]",Q="[object Function]",Z="[object Map]",te="[object Number]",ee="[object Object]",ne="[object RegExp]",re="[object Set]",ie="[object String]",oe="[object WeakMap]",ae="[object ArrayBuffer]",se="[object Float32Array]",ue="[object Float64Array]",ce="[object Int8Array]",le="[object Int16Array]",fe="[object Int32Array]",he="[object Uint8Array]",pe="[object Uint8ClampedArray]",de="[object Uint16Array]",ve="[object Uint32Array]",ge=/\b__p \+= '';/g,me=/\b(__p \+=) '' \+/g,ye=/(__e\(.*?\)|\b__t\)) \+\n'';/g,be=/&(?:amp|lt|gt|quot|#39|#96);/g,we=/[&<>"'`]/g,_e=RegExp(be.source),xe=RegExp(we.source),Ee=/<%-([\s\S]+?)%>/g,Se=/<%([\s\S]+?)%>/g,Te=/<%=([\s\S]+?)%>/g,Ae=/[\u0300-\u036f\ufe20-\ufe23]/g,Ce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ke=/\w*$/,je=/^0[xX]/,Oe=/^\[object .+?Constructor\]$/,Re=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Me=/($^)/,Pe=/[.*+?^${}()|[\]\/\\]/g,Ie=RegExp(Pe.source),Le=/['\n\r\u2028\u2029\\]/g,Fe=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),Be=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",Ne=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window"],De=-1,Ue={};Ue[se]=Ue[ue]=Ue[ce]=Ue[le]=Ue[fe]=Ue[he]=Ue[pe]=Ue[de]=Ue[ve]=!0,Ue[H]=Ue[Y]=Ue[ae]=Ue[X]=Ue[J]=Ue[K]=Ue[Q]=Ue[Z]=Ue[te]=Ue[ee]=Ue[ne]=Ue[re]=Ue[ie]=Ue[oe]=!1;var qe={};qe[H]=qe[Y]=qe[ae]=qe[X]=qe[J]=qe[se]=qe[ue]=qe[ce]=qe[le]=qe[fe]=qe[te]=qe[ee]=qe[ne]=qe[ie]=qe[he]=qe[pe]=qe[de]=qe[ve]=!0,qe[K]=qe[Q]=qe[Z]=qe[re]=qe[oe]=!1;var We={leading:!1,maxWait:0,trailing:!1},ze={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ve={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ge={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},$e={"function":!0,object:!0},He={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ye=$e[typeof e]&&e&&!e.nodeType&&e,Xe=$e[typeof t]&&t&&!t.nodeType&&t,Je=Ye&&Xe&&"object"==typeof i&&i,Ke=$e[typeof self]&&self&&self.Object&&self,Qe=$e[typeof window]&&window&&window.Object&&window,Ze=(Xe&&Xe.exports===Ye&&Ye,Je||Qe!==(this&&this.window)&&Qe||Ke||this),tn=A();Ze._=tn,r=function(){return tn}.call(e,n,e,t),!(r!==C&&(t.exports=r))}).call(this)}).call(e,n(14)(t),function(){return this}())},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t){"use strict";function e(t,e,n,r){Object.defineProperty(t,e,{get:function(){var t=n.call(this);return Object.defineProperty(this,e,{value:t,enumerable:!!r,writable:!0}),t},set:function(t){return Object.defineProperty(this,e,{value:t,enumerable:!!r,writable:!0}),t},enumerable:!!r,configurable:!0})}t.exports=e},,function(t){!function(e,n){t.exports=n()}(this,function(){"use strict";function t(t){var e;if(t&&"boolean"!=typeof t)return"undefined"!=typeof window&&document&&t?t.nodeType?t:"string"==typeof t&&(e=document.getElementById(t),!e&&document.querySelector&&(e=document.querySelector(t)),e&&e.nodeType)?e:t[0]&&t[0].nodeType?t[0]:null:null}function e(t){return t&&"unknown"!=typeof t.parentNode&&t.parentNode&&t.parentNode.removeChild(t),t}function n(t){return null!=t&&t.toString?t:""}function r(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];for(var i,o;o=n.shift();)for(i in o)Au.call(o,i)&&(t[i]=o[i]);return t}function i(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return n.forEach(function(e){for(var n in e)!e.hasOwnProperty(n)||n in t||(t[n]=e[n])}),t}function o(t){return"[object Array]"===Cu.call(t)}function a(t){return ku.test(Cu.call(t))}function s(t,e){return null===t&&null===e?!0:"object"==typeof t||"object"==typeof e?!1:t===e}function u(t){return!isNaN(parseFloat(t))&&isFinite(t)}function c(t){return t&&"[object Object]"===Cu.call(t)}function l(t,e){return t.replace(/%s/g,function(){return e.shift()})}function f(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];throw t=l(t,n),new Error(t)}function h(){ry.DEBUG&&Eu.apply(null,arguments)}function p(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];t=l(t,n),Su(t,n)}function d(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];t=l(t,n),Ou[t]||(Ou[t]=!0,Su(t,n))}function v(){ry.DEBUG&&p.apply(null,arguments)}function g(){ry.DEBUG&&d.apply(null,arguments)}function m(t,e,n){var r=y(t,e,n);return r?r[t][n]:null}function y(t,e,n){for(;e;){if(n in e[t])return e;if(e.isolated)return null;e=e.parent}}function b(t){return function(){return t}}function w(t){var e,n,r,i,o,a;for(e=t.split("."),(n=Fu[e.length])||(n=_(e.length)),o=[],r=function(t,n){return t?"*":e[n]},i=n.length;i--;)a=n[i].map(r).join("."),o.hasOwnProperty(a)||(o.push(a),o[a]=!0);return o}function _(t){var e,n,r,i,o,a="";if(!Fu[t]){for(r=[];a.length<t;)a+=1;for(e=parseInt(a,2),i=function(t){return"1"===t},o=0;e>=o;o+=1){for(n=o.toString(2);n.length<t;)n="0"+n;r[o]=Array.prototype.map.call(n,i)}Fu[t]=r}return Fu[t]}function x(t,e,n,r){var i=t[e];if(!i||!i.equalsOrStartsWith(r)&&i.equalsOrStartsWith(n))return t[e]=i?i.replace(n,r):r,!0}function E(t){var e=t.slice(2);return"i"===t[1]&&u(e)?+e:e}function S(t){return null==t?t:(Du.hasOwnProperty(t)||(Du[t]=new Uu(t)),Du[t])}function T(t,e){function n(e,n){var r,i,a;return n.isRoot?a=[].concat(Object.keys(t.viewmodel.data),Object.keys(t.viewmodel.mappings),Object.keys(t.viewmodel.computations)):(r=t.viewmodel.wrapped[n.str],i=r?r.get():t.viewmodel.get(n),a=i?Object.keys(i):null),a&&a.forEach(function(t){"_ractive"===t&&o(i)||e.push(n.join(t))}),e}var r,i,a;for(r=e.str.split("."),a=[Wu];i=r.shift();)"*"===i?a=a.reduce(n,[]):a[0]===Wu?a[0]=S(i):a=a.map(A(i));return a}function A(t){return function(e){return e.join(t)}}function C(t){return t?t.replace(Bu,".$1"):""}function k(t,e,n){if("string"!=typeof e||!u(n))throw new Error("Bad arguments");var r=void 0,i=void 0;if(/\*/.test(e))return i={},T(t,S(C(e))).forEach(function(e){var r=t.viewmodel.get(e);if(!u(r))throw new Error(zu);i[e.str]=r+n}),t.set(i);if(r=t.get(e),!u(r))throw new Error(zu);return t.set(e,+r+n)}function j(t,e){return k(this,t,void 0===e?1:+e)}function O(t){this.event=t,this.method="on"+t,this.deprecate=Hu[t]}function R(t,e){var n=t.indexOf(e);-1===n&&t.push(e)}function M(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]==e)return!0;return!1}function P(t,e){var n;if(!o(t)||!o(e))return!1;if(t.length!==e.length)return!1;for(n=t.length;n--;)if(t[n]!==e[n])return!1;return!0}function I(t){return"string"==typeof t?[t]:void 0===t?[]:t}function L(t){return t[t.length-1]}function F(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}function B(t){for(var e=[],n=t.length;n--;)e[n]=t[n];return e}function N(t){setTimeout(t,0)}function D(t,e){return function(){for(var n;n=t.shift();)n(e)}}function U(t,e,n,r){var i;if(e===t)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(e instanceof Yu)e.then(n,r);else if(!e||"object"!=typeof e&&"function"!=typeof e)n(e);else{try{i=e.then}catch(o){return void r(o)}if("function"==typeof i){var a,s,u;s=function(e){a||(a=!0,U(t,e,n,r))},u=function(t){a||(a=!0,r(t))};try{i.call(e,s,u)}catch(o){if(!a)return r(o),void(a=!0)}}else n(e)}}function q(t,e,n){var r;return e=C(e),"~/"===e.substr(0,2)?(r=S(e.substring(2)),V(t,r.firstKey,n)):"."===e[0]?(r=W(Zu(n),e),r&&V(t,r.firstKey,n)):r=z(t,S(e),n),r}function W(t,e){var n;if(void 0!=t&&"string"!=typeof t&&(t=t.str),"."===e)return S(t);if(n=t?t.split("."):[],"../"===e.substr(0,3)){for(;"../"===e.substr(0,3);){if(!n.length)throw new Error('Could not resolve reference - too many "../" prefixes');n.pop(),e=e.substring(3)}return n.push(e),S(n.join("."))}return S(t?t+e.replace(/^\.\//,"."):e.replace(/^\.\/?/,""))}function z(t,e,n,r){var i,o,a,s,u;if(e.isRoot)return e;for(o=e.firstKey;n;)if(i=n.context,n=n.parent,i&&(s=!0,a=t.viewmodel.get(i),a&&("object"==typeof a||"function"==typeof a)&&o in a))return i.join(e.str);return G(t.viewmodel,o)?e:t.parent&&!t.isolated&&(s=!0,n=t.component.parentFragment,o=S(o),u=z(t.parent,o,n,!0))?(t.viewmodel.map(o,{origin:t.parent.viewmodel,keypath:u}),e):r||s?void 0:(t.viewmodel.set(e,void 0),e)}function V(t,e){var n;!t.parent||t.isolated||G(t.viewmodel,e)||(e=S(e),(n=z(t.parent,e,t.component.parentFragment,!0))&&t.viewmodel.map(e,{origin:t.parent.viewmodel,keypath:n}))}function G(t,e){return""===e||e in t.data||e in t.computations||e in t.mappings}function $(t){t.teardown()}function H(t){t.unbind()}function Y(t){t.unrender()}function X(t){t.detach()}function J(t){t.detachNodes()}function K(t){!t.ready||t.outros.length||t.outroChildren||(t.outrosComplete||(t.parent?t.parent.decrementOutros(t):t.detachNodes(),t.outrosComplete=!0),t.intros.length||t.totalChildren||("function"==typeof t.callback&&t.callback(),t.parent&&t.parent.decrementTotal()))}function Q(){for(var t,e,n;ec.ractives.length;)e=ec.ractives.pop(),n=e.viewmodel.applyChanges(),n&&ic.fire(e,n);for(Z(),t=0;t<ec.views.length;t+=1)ec.views[t].update();for(ec.views.length=0,t=0;t<ec.tasks.length;t+=1)ec.tasks[t]();return ec.tasks.length=0,ec.ractives.length?Q():void 0}function Z(){var t,e,n,r;for(t=rc.length;t--;)e=rc[t],e.keypath?rc.splice(t,1):(n=q(e.root,e.ref,e.parentFragment))&&((r||(r=[])).push({item:e,keypath:n}),rc.splice(t,1));r&&r.forEach(te)}function te(t){t.item.resolve(t.keypath)}function ee(t,e,n){var r,i,o,a,s,u,c,l,f,h,p,d,v,g;if(r=new Qu(function(t){return i=t}),"object"==typeof t){n=e||{},u=n.easing,c=n.duration,s=[],l=n.step,f=n.complete,(l||f)&&(p={},n.step=null,n.complete=null,h=function(t){return function(e,n){p[t]=n}});for(o in t)t.hasOwnProperty(o)&&((l||f)&&(d=h(o),n={easing:u,duration:c},l&&(n.step=d)),n.complete=f?d:ju,s.push(ne(this,o,t[o],n)));return g={easing:u,duration:c},l&&(g.step=function(t){return l(t,p)}),f&&r.then(function(t){return f(t,p)}),g.complete=i,v=ne(this,null,null,g),s.push(v),r.stop=function(){for(var t;t=s.pop();)t.stop();v&&v.stop()},r}return n=n||{},n.complete&&r.then(n.complete),n.complete=i,a=ne(this,t,e,n),r.stop=function(){return a.stop()},r}function ne(t,e,n,r){var i,o,a,u;return e&&(e=S(C(e))),null!==e&&(u=t.viewmodel.get(e)),sc.abort(e,t),s(u,n)?(r.complete&&r.complete(r.to),lc):(r.easing&&(i="function"==typeof r.easing?r.easing:t.easing[r.easing],"function"!=typeof i&&(i=null)),o=void 0===r.duration?400:r.duration,a=new uc({keypath:e,from:u,to:n,root:t,duration:o,easing:i,interpolator:r.interpolator,step:r.step,complete:r.complete}),sc.add(a),t._animations.push(a),a)}function re(){return this.detached?this.detached:(this.el&&F(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),hc.fire(this),this.detached)}function ie(t){return this.el?this.fragment.find(t):null}function oe(t,e){var n;return n=this._isComponentQuery?!this.selector||t.name===this.selector:t.node?fu(t.node,this.selector):null,n?(this.push(t.node||t.instance),e||this._makeDirty(),!0):void 0}function ae(t){var e;return(e=t.parentFragment)?e.owner:t.component&&(e=t.component.parentFragment)?e.owner:void 0}function se(t){var e,n;for(e=[t],n=ae(t);n;)e.push(n),n=ae(n);return e}function ue(t,e,n,r){var i=[];return _u(i,{selector:{value:e},live:{value:n},_isComponentQuery:{value:r},_test:{value:dc}}),n?(_u(i,{cancel:{value:vc},_root:{value:t},_sort:{value:yc},_makeDirty:{value:bc},_remove:{value:wc},_dirty:{value:!1,writable:!0}}),i):i}function ce(t,e){var n,r;return this.el?(e=e||{},n=this._liveQueries,(r=n[t])?e&&e.live?r:r.slice():(r=ue(this,t,!!e.live,!1),r.live&&(n.push(t),n["_"+t]=r),this.fragment.findAll(t,r),r)):[]}function le(t,e){var n,r;return e=e||{},n=this._liveComponentQueries,(r=n[t])?e&&e.live?r:r.slice():(r=ue(this,t,!!e.live,!0),r.live&&(n.push(t),n["_"+t]=r),this.fragment.findAllComponents(t,r),r)}function fe(t){return this.fragment.findComponent(t)}function he(t){return this.container?this.container.component&&this.container.component.name===t?this.container:this.container.findContainer(t):null}function pe(t){return this.parent?this.parent.component&&this.parent.component.name===t?this.parent:this.parent.findParent(t):null}function de(t,e){var n=void 0===arguments[2]?{}:arguments[2];if(e){n.event?n.event.name=e:n.event={name:e,_noArg:!0};var r=S(e).wildcardMatches();ve(t,r,n.event,n.args,!0)}}function ve(t,e,n,r){var i,o,a=void 0===arguments[4]?!1:arguments[4],s=!0;for(Ac.enqueue(t,n),o=e.length;o>=0;o--)i=t._subs[e[o]],i&&(s=ge(t,i,n,r)&&s);if(Ac.dequeue(t),t.parent&&s){if(a&&t.component){var u=t.component.name+"."+e[e.length-1];e=S(u).wildcardMatches(),n&&(n.component=t)}ve(t.parent,e,n,r)}}function ge(t,e,n,r){var i=null,o=!1;n&&!n._noArg&&(r=[n].concat(r)),e=e.slice();for(var a=0,s=e.length;s>a;a+=1)e[a].apply(t,r)===!1&&(o=!0);return n&&!n._noArg&&o&&(i=n.original)&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),!o}function me(t){var e={args:Array.prototype.slice.call(arguments,1)};de(this,t,e)}function ye(t){var e;return t=S(C(t)),e=this.viewmodel.get(t,jc),void 0===e&&this.parent&&!this.isolated&&q(this,t.str,this.component.parentFragment)&&(e=this.viewmodel.get(t)),e}function be(e,n){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");
if(e=t(e),n=t(n)||null,!e)throw new Error("You must specify a valid target to insert into");e.insertBefore(this.detach(),n),this.el=e,(e.__ractive_instances__||(e.__ractive_instances__=[])).push(this),this.detached=null,we(this)}function we(t){Rc.fire(t),t.findAllComponents("*").forEach(function(t){we(t.instance)})}function _e(t,e,n){var r,i;return t=S(C(t)),r=this.viewmodel.get(t),o(r)&&o(e)?(i=nc.start(this,!0),this.viewmodel.merge(t,r,e,n),nc.end(),i):this.set(t,e,n&&n.complete)}function xe(t,e){var n,r;return n=T(t,e),r={},n.forEach(function(e){r[e.str]=t.get(e.str)}),r}function Ee(t,e,n,r){var i,o,a;return e=S(C(e)),r=r||Wc,e.isPattern?(i=new Ic(t,e,n,r),t.viewmodel.patternObservers.push(i),o=!0):i=new Pc(t,e,n,r),i.init(r.init),t.viewmodel.register(e,i,o?"patternObservers":"observers"),i.ready=!0,{cancel:function(){var n;a||(o?(n=t.viewmodel.patternObservers.indexOf(i),t.viewmodel.patternObservers.splice(n,1),t.viewmodel.unregister(e,i,"patternObservers")):t.viewmodel.unregister(e,i,"observers"),a=!0)}}}function Se(t,e,n){var r,i,o,a;if(c(t)){n=e,i=t,r=[];for(t in i)i.hasOwnProperty(t)&&(e=i[t],r.push(this.observe(t,e,n)));return{cancel:function(){for(;r.length;)r.pop().cancel()}}}if("function"==typeof t)return n=e,e=t,t="",Ee(this,t,e,n);if(o=t.split(" "),1===o.length)return Ee(this,t,e,n);for(r=[],a=o.length;a--;)t=o[a],t&&r.push(Ee(this,t,e,n));return{cancel:function(){for(;r.length;)r.pop().cancel()}}}function Te(t,e,n){var r=this.observe(t,function(){e.apply(this,arguments),r.cancel()},{init:!1,defer:n&&n.defer});return r}function Ae(t,e){var n,r=this;if(t)n=t.split(" ").map(Gc).filter($c),n.forEach(function(t){var n,i;(n=r._subs[t])&&(e?(i=n.indexOf(e),-1!==i&&n.splice(i,1)):r._subs[t]=[])});else for(t in this._subs)delete this._subs[t];return this}function Ce(t,e){var n,r,i,o=this;if("object"==typeof t){n=[];for(r in t)t.hasOwnProperty(r)&&n.push(this.on(r,t[r]));return{cancel:function(){for(var t;t=n.pop();)t.cancel()}}}return i=t.split(" ").map(Gc).filter($c),i.forEach(function(t){(o._subs[t]||(o._subs[t]=[])).push(e)}),{cancel:function(){return o.off(t,e)}}}function ke(t,e){var n=this.on(t,function(){e.apply(this,arguments),n.cancel()});return n}function je(t,e,n){var r,i,o,a,s,u,c=[];if(r=Oe(t,e,n),!r)return null;for(i=t.length,s=r.length-2-r[1],o=Math.min(i,r[0]),a=o+r[1],u=0;o>u;u+=1)c.push(u);for(;a>u;u+=1)c.push(-1);for(;i>u;u+=1)c.push(u+s);return c.touchedFrom=0!==s?r[0]:t.length,c}function Oe(t,e,n){switch(e){case"splice":for(void 0!==n[0]&&n[0]<0&&(n[0]=t.length+Math.max(n[0],-t.length));n.length<2;)n.push(0);return n[1]=Math.min(n[1],t.length-n[0]),n;case"sort":case"reverse":return null;case"pop":return t.length?[t.length-1,1]:[0,0];case"push":return[t.length,0].concat(n);case"shift":return[0,t.length?1:0];case"unshift":return[0,0].concat(n)}}function Re(e,n){var r,i,o,a=this;if(o=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),r=nc.start(this,!0),nc.scheduleTask(function(){return al.fire(a)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(e=t(e)||this.el,n=t(n)||this.anchor,this.el=e,this.anchor=n,!this.append&&e){var s=e.__ractive_instances__;s&&s.length&&Me(s),e.innerHTML=""}return this.cssId&&Fc.apply(),e&&((i=e.__ractive_instances__)?i.push(this):e.__ractive_instances__=[this],n?e.insertBefore(this.fragment.render(),n):e.appendChild(this.fragment.render())),nc.end(),this.transitionsEnabled=o,r.then(function(){return sl.fire(a)})}function Me(t){t.splice(0,t.length).forEach($)}function Pe(t,e){for(var n=t.slice(),r=e.length;r--;)~n.indexOf(e[r])||n.push(e[r]);return n}function Ie(t,e){var n,r,i;return r='[data-ractive-css~="{'+e+'}"]',i=function(t){var e,n,i,o,a,s,u,c=[];for(e=[];n=fl.exec(t);)e.push({str:n[0],base:n[1],modifiers:n[2]});for(o=e.map(Fe),u=e.length;u--;)s=o.slice(),i=e[u],s[u]=i.base+r+i.modifiers||"",a=o.slice(),a[u]=r+" "+a[u],c.push(s.join(" "),a.join(" "));return c.join(", ")},n=pl.test(t)?t.replace(pl,r):t.replace(ll,"").replace(cl,function(t,e){var n,r;return hl.test(e)?t:(n=e.split(",").map(Le),r=n.map(i).join(", ")+" ",t.replace(e,r))})}function Le(t){return t.trim?t.trim():t.replace(/^\s+/,"").replace(/\s+$/,"")}function Fe(t){return t.str}function Be(t){t&&t.constructor!==Object&&("function"==typeof t||("object"!=typeof t?f("data option must be an object or a function, `"+t+"` is not valid"):v("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged")))}function Ne(t,e){Be(e);var n="function"==typeof t,r="function"==typeof e;return e||n||(e={}),n||r?function(){var i=r?De(e,this):e,o=n?De(t,this):t;return Ue(i,o)}:Ue(e,t)}function De(t,e){var n=t.call(e);if(n)return"object"!=typeof n&&f("Data function must return an object"),n.constructor!==Object&&g("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"),n}function Ue(t,e){if(t&&e){for(var n in e)n in t||(t[n]=e[n]);return t}return t||e}function qe(t){var e,n,r;return t.matchString("=")?(e=t.pos,t.allowWhitespace(),(n=t.matchPattern(sf))?t.matchPattern(uf)?(r=t.matchPattern(sf))?(t.allowWhitespace(),t.matchString("=")?[n,r]:(t.pos=e,null)):(t.pos=e,null):null:(t.pos=e,null)):null}function We(t){var e;return(e=t.matchPattern(lf))?{t:Wl,v:e}:null}function ze(t){var e,n;if(t.interpolate[t.inside]===!1)return null;for(n=0;n<t.tags.length;n+=1)if(e=Ve(t,t.tags[n]))return e}function Ve(t,e){var n,r,i,o;if(n=t.pos,t.matchString("\\"+e.open)){if(0===n||"\\"!==t.str[n-1])return e.open}else if(!t.matchString(e.open))return null;if(r=qe(t))return t.matchString(e.close)?(e.open=r[0],e.close=r[1],t.sortMustacheTags(),ff):null;if(t.allowWhitespace(),t.matchString("/")){t.pos-=1;var a=t.pos;cf(t)?t.pos=a:(t.pos=a-e.close.length,t.error("Attempted to close a section that wasn't open"))}for(o=0;o<e.readers.length;o+=1)if(i=e.readers[o],r=i(t,e))return e.isStatic&&(r.s=!0),t.includeLinePositions&&(r.p=t.getLinePos(n)),r;return t.pos=n,null}function Ge(t){var e;return(e=t.matchPattern(vf))?{t:Bl,v:e}:null}function $e(t){var e=t.remaining();return"true"===e.substr(0,4)?(t.pos+=4,{t:ql,v:"true"}):"false"===e.substr(0,5)?(t.pos+=5,{t:ql,v:"false"}):null}function He(t){var e;return(e=_f(t))?Ef.test(e.v)?e.v:'"'+e.v.replace(/"/g,'\\"')+'"':(e=df(t))?e.v:(e=t.matchPattern(xf))?e:void 0}function Ye(t){var e,n,r;return e=t.pos,t.allowWhitespace(),n=He(t),null===n?(t.pos=e,null):(t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),r=nn(t),null===r?(t.pos=e,null):{t:Vl,k:n,v:r}):(t.pos=e,null))}function Xe(t){var e,n,r,i;return e=t.pos,r=Sf(t),null===r?null:(n=[r],t.matchString(",")?(i=Xe(t),i?n.concat(i):(t.pos=e,null)):n)}function Je(t){function e(t){r.push(t)}var n,r,i,o;return n=t.pos,t.allowWhitespace(),i=nn(t),null===i?null:(r=[i],t.allowWhitespace(),t.matchString(",")&&(o=Je(t),null===o&&t.error(hf),o.forEach(e)),r)}function Ke(t){return df(t)||$e(t)||_f(t)||Tf(t)||Af(t)||cf(t)}function Qe(t){var e,n,r,i,o,a;return e=t.pos,r=t.matchPattern(/^@(?:keypath|index|key)/),r||(n=t.matchPattern(Cf)||"",r=!n&&t.relaxedNames&&t.matchPattern(Rf)||t.matchPattern(Of),r||"."!==n||(n="",r=".")),r?n||t.relaxedNames||!mf.test(r)?!n&&gf.test(r)?(i=gf.exec(r)[0],t.pos=e+i.length,{t:zl,v:i}):(o=(n||"")+C(r),t.matchString("(")&&(a=o.lastIndexOf("."),-1!==a?(o=o.substr(0,a),t.pos=e+o.length):t.pos-=1),{t:Gl,n:o.replace(/^this\./,"./").replace(/^this$/,".")}):(t.pos=e,null):null}function Ze(t){var e,n;return e=t.pos,t.matchString("(")?(t.allowWhitespace(),n=nn(t),n||t.error(hf),t.allowWhitespace(),t.matchString(")")||t.error(pf),{t:Xl,x:n}):null}function tn(t){var e,n,r;if(e=t.pos,t.allowWhitespace(),t.matchString(".")){if(t.allowWhitespace(),n=t.matchPattern(xf))return{t:$l,n:n};t.error("Expected a property name")}return t.matchString("[")?(t.allowWhitespace(),r=nn(t),r||t.error(hf),t.allowWhitespace(),t.matchString("]")||t.error("Expected ']'"),{t:$l,x:r}):null}function en(t){var e,n,r,i;return(n=If(t))?(e=t.pos,t.allowWhitespace(),t.matchString("?")?(t.allowWhitespace(),r=nn(t),r||t.error(hf),t.allowWhitespace(),t.matchString(":")||t.error('Expected ":"'),t.allowWhitespace(),i=nn(t),i||t.error(hf),{t:Jl,o:[n,r,i]}):(t.pos=e,n)):null}function nn(t){return Gf(t)}function rn(t){function e(t){switch(t.t){case ql:case zl:case Bl:case Wl:return t.v;case Nl:return JSON.stringify(String(t.v));case Dl:return"["+(t.m?t.m.map(e).join(","):"")+"]";case Ul:return"{"+(t.m?t.m.map(e).join(","):"")+"}";case Vl:return t.k+":"+e(t.v);case Yl:return("typeof"===t.s?"typeof ":t.s)+e(t.o);case Kl:return e(t.o[0])+("in"===t.s.substr(0,2)?" "+t.s+" ":t.s)+e(t.o[1]);case Ql:return e(t.x)+"("+(t.o?t.o.map(e).join(","):"")+")";case Xl:return"("+e(t.x)+")";case Hl:return e(t.x)+e(t.r);case $l:return t.n?"."+t.n:"["+e(t.x)+"]";case Jl:return e(t.o[0])+"?"+e(t.o[1])+":"+e(t.o[2]);case Gl:return"_"+n.indexOf(t.n);default:throw new Error("Expected legal JavaScript")}}var n;return on(t,n=[]),{r:n,s:e(t)}}function on(t,e){var n,r;if(t.t===Gl&&-1===e.indexOf(t.n)&&e.unshift(t.n),r=t.o||t.m)if(c(r))on(r,e);else for(n=r.length;n--;)on(r[n],e);t.x&&on(t.x,e),t.r&&on(t.r,e),t.v&&on(t.v,e)}function an(t,e){var n;if(t){for(;t.t===Xl&&t.x;)t=t.x;return t.t===Gl?e.r=t.n:t.t===Bl&&$f.test(t.v)?e.r=t.v:(n=sn(t))?e.rx=n:e.x=rn(t),e}}function sn(t){for(var e,n=[];t.t===Hl&&t.r.t===$l;)e=t.r,n.unshift(e.x?e.x.t===Gl?e.x:rn(e.x):e.n),t=t.x;return t.t!==Gl?null:{r:t.n,m:n}}function un(t,e){var n,r=nn(t);return r?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),n={t:El},an(r,n),n):null}function cn(t,e){var n,r;return t.matchString("&")?(t.allowWhitespace(),(n=nn(t))?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),r={t:El},an(n,r),r):null):null}function ln(t,e){var n,r,i,o,a;return n=t.pos,t.matchString(">")?(t.allowWhitespace(),r=t.pos,t.relaxedNames=!0,i=nn(t),t.relaxedNames=!1,t.allowWhitespace(),o=nn(t),t.allowWhitespace(),i?(a={t:kl},an(i,a),t.allowWhitespace(),o&&(a={t:Sl,n:nf,f:[a]},an(o,a)),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),a):null):null}function fn(t,e){var n;return t.matchString("!")?(n=t.remaining().indexOf(e.close),-1!==n?(t.pos+=n+e.close.length,{t:jl}):void 0):null}function hn(t,e){var n,r,i;if(n=t.pos,r=nn(t),!r)return null;for(i=0;i<e.length;i+=1)if(t.remaining().substr(0,e[i].length)===e[i])return r;return t.pos=n,Qe(t)}function pn(t,e){var n,r,i,o;n=t.pos;try{r=hn(t,[e.close])}catch(a){o=a}if(!r){if("!"===t.str.charAt(n))return t.pos=n,null;if(o)throw o}if(!t.matchString(e.close)&&(t.error("Expected closing delimiter '"+e.close+"' after reference"),!r)){if("!"===t.nextChar())return null;t.error("Expected expression or legal reference")}return i={t:xl},an(r,i),i}function dn(t,e){var n,r,i;return t.matchPattern(Yf)?(n=t.pos,r=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),t.allowWhitespace(),t.matchString(e.close)||t.error("expected legal partial name"),i={t:Il},r&&(i.n=r),i):null}function vn(t,e){var n,r,i,o;return n=t.pos,t.matchString(e.open)?(t.allowWhitespace(),t.matchString("/")?(t.allowWhitespace(),r=t.remaining(),i=r.indexOf(e.close),-1!==i?(o={t:Al,r:r.substr(0,i).split(" ")[0]},t.pos+=i,t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),o):(t.pos=n,null)):(t.pos=n,null)):null}function gn(t,e){var n=t.pos;return t.matchString(e.open)?t.matchPattern(Jf)?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:of}):(t.pos=n,null):null}function mn(t,e){var n,r=t.pos;return t.matchString(e.open)?t.matchPattern(Qf)?(n=nn(t),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:af,x:n}):(t.pos=r,null):null}function yn(t,e){var n,r,i,o,a,s,u,c,l,f,h,p;if(n=t.pos,t.matchString("^"))i={t:Sl,f:[],n:tf};else{if(!t.matchString("#"))return null;i={t:Sl,f:[]},t.matchString("partial")&&(t.pos=n-t.standardDelimiters[0].length,t.error("Partial definitions can only be at the top level of the template, or immediately inside components")),(u=t.matchPattern(nh))&&(p=u,i.n=Zf[u])}if(t.allowWhitespace(),r=nn(t),r||t.error("Expected expression"),h=t.matchPattern(th)){var d=void 0;i.i=(d=t.matchPattern(eh))?h+","+d:h}t.allowWhitespace(),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),t.sectionDepth+=1,a=i.f,l=[];do if(o=vn(t,e))p&&o.r!==p&&t.error("Expected "+e.open+"/"+p+e.close),t.sectionDepth-=1,f=!0;else if(o=Kf(t,e))i.n===tf&&t.error("{{else}} not allowed in {{#unless}}"),s&&t.error("illegal {{elseif...}} after {{else}}"),c||(c=bn(r,i.n)),c.f.push({t:Sl,n:Zl,x:rn(_n(l.concat(o.x))),f:a=[]}),l.push(wn(o.x));else if(o=Xf(t,e))i.n===tf&&t.error("{{else}} not allowed in {{#unless}}"),s&&t.error("there can only be one {{else}} block, at the end of a section"),s=!0,c?c.f.push({t:Sl,n:Zl,x:rn(_n(l)),f:a=[]}):(c=bn(r,i.n),a=c.f);else{if(o=t.read(Yh),!o)break;a.push(o)}while(!f);return c&&(i.n===nf&&(i.n=rf),i.l=c),an(r,i),i.f.length||delete i.f,i}function bn(t,e){var n;return e===nf?(n={t:Sl,n:Zl,f:[]},an(wn(t),n)):(n={t:Sl,n:tf,f:[]},an(t,n)),n}function wn(t){return t.t===Yl&&"!"===t.s?t.o:{t:Yl,s:"!",o:xn(t)}}function _n(t){return 1===t.length?t[0]:{t:Kl,s:"&&",o:[xn(t[0]),xn(_n(t.slice(1)))]}}function xn(t){return{t:Xl,x:t}}function En(t){var e,n,r,i,o;return e=t.pos,t.matchString(rh)?(r=t.remaining(),i=r.indexOf(ih),-1===i&&t.error("Illegal HTML - expected closing comment sequence ('-->')"),n=r.substr(0,i),t.pos+=i+3,o={t:jl,c:n},t.includeLinePositions&&(o.p=t.getLinePos(e)),o):null}function Sn(t){return t.replace(qf,function(t,e){var n;return n="#"!==e[0]?Df[e]:"x"===e[1]?parseInt(e.substring(2),16):parseInt(e.substring(1),10),n?String.fromCharCode(Tn(n)):t})}function Tn(t){return t?10===t?32:128>t?t:159>=t?Uf[t-128]:55296>t?t:57343>=t?65533:65535>=t?t:65533:65533}function An(t){return t.replace(Vf,"&amp;").replace(Wf,"&lt;").replace(zf,"&gt;")}function Cn(t){return"string"==typeof t}function kn(t){return t.t===jl||t.t===Ol}function jn(t){return(t.t===Sl||t.t===Tl)&&t.f}function On(t,e,n,r,i){var a,s,u,c,l,f,h,p;for(dh(t),a=t.length;a--;)s=t[a],s.exclude?t.splice(a,1):e&&s.t===jl&&t.splice(a,1);for(mh(t,r,i),a=t.length;a--;){if(s=t[a],s.f&&(l=n||s.t===Cl&&bh.test(s.e),l||(u=t[a-1],c=t[a+1],(!u||"string"==typeof u&&_h.test(u))&&(f=!0),(!c||"string"==typeof c&&wh.test(c))&&(h=!0)),On(s.f,e,l,f,h)),s.l&&(On(s.l.f,e,n,f,h),t.splice(a+1,0,s.l),delete s.l),s.a)for(p in s.a)s.a.hasOwnProperty(p)&&"string"!=typeof s.a[p]&&On(s.a[p],e,n,f,h);if(s.m&&On(s.m,e,n,f,h),s.v)for(p in s.v)s.v.hasOwnProperty(p)&&(o(s.v[p].n)&&On(s.v[p].n,e,n,f,h),o(s.v[p].d)&&On(s.v[p].d,e,n,f,h))}for(a=t.length;a--;)"string"==typeof t[a]&&("string"==typeof t[a+1]&&(t[a]=t[a]+t[a+1],t.splice(a+1,1)),n||(t[a]=t[a].replace(yh," ")),""===t[a]&&t.splice(a,1))}function Rn(t){var e,n;return e=t.pos,t.matchString("</")?(n=t.matchPattern(xh))?t.inside&&n!==t.inside?(t.pos=e,null):{t:Ml,e:n}:(t.pos-=2,void t.error("Illegal closing tag")):null}function Mn(t){var e,n,r;return t.allowWhitespace(),(n=t.matchPattern(Sh))?(e={name:n},r=Pn(t),null!=r&&(e.value=r),e):null}function Pn(t){var e,n,r,i;return e=t.pos,/[=\/>\s]/.test(t.nextChar())||t.error("Expected `=`, `/`, `>` or whitespace"),t.allowWhitespace(),t.matchString("=")?(t.allowWhitespace(),n=t.pos,r=t.sectionDepth,i=Fn(t,"'")||Fn(t,'"')||Ln(t),null===i&&t.error("Expected valid attribute value"),t.sectionDepth!==r&&(t.pos=n,t.error("An attribute value must contain as many opening section tags as closing section tags")),i.length?1===i.length&&"string"==typeof i[0]?Sn(i[0]):i:""):(t.pos=e,null)}function In(t){var e,n,r,i,o;return e=t.pos,(n=t.matchPattern(Th))?(r=n,i=t.tags.map(function(t){return t.open}),-1!==(o=Eh(r,i))&&(n=n.substr(0,o),t.pos=e+n.length),n):null}function Ln(t){var e,n;for(t.inAttribute=!0,e=[],n=ze(t)||In(t);null!==n;)e.push(n),n=ze(t)||In(t);return e.length?(t.inAttribute=!1,e):null}function Fn(t,e){var n,r,i;if(n=t.pos,!t.matchString(e))return null;for(t.inAttribute=e,r=[],i=ze(t)||Bn(t,e);null!==i;)r.push(i),i=ze(t)||Bn(t,e);return t.matchString(e)?(t.inAttribute=!1,r):(t.pos=n,null)}function Bn(t,e){var n,r,i,o;return n=t.pos,i=t.remaining(),o=t.tags.map(function(t){return t.open}),o.push(e),r=Eh(i,o),-1===r&&t.error("Quoted attribute value must have a closing quote"),r?(t.pos+=r,i.substr(0,r)):null}function Nn(t){var e,n,r;return t.allowWhitespace(),(e=He(t))?(r={key:e},t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),(n=t.read())?(r.value=n.v,r):null):null):null}function Dn(t,e){var n,r,i,o,a,s,u,c,l;if("string"==typeof t){if(r=kh.exec(t)){var f=t.lastIndexOf(")");return jh.test(t)||e.error("Invalid input after method call expression '"+t.slice(f+1)+"'"),n={m:r[1]},o="["+t.slice(n.m.length+1,f)+"]",i=new Ah(o),n.a=rn(i.result[0]),n}if(-1===t.indexOf(":"))return t.trim();t=[t]}if(n={},u=[],c=[],t){for(;t.length;)if(a=t.shift(),"string"==typeof a){if(s=a.indexOf(":"),-1!==s){s&&u.push(a.substr(0,s)),a.length>s+1&&(c[0]=a.substring(s+1));break}u.push(a)}else u.push(a);c=c.concat(t)}return u.length?c.length||"string"!=typeof u?(n={n:1===u.length&&"string"==typeof u[0]?u[0]:u},1===c.length&&"string"==typeof c[0]?(l=Ch("["+c[0]+"]"),n.a=l?l.value:c[0].trim()):n.d=c):n=u:n="",n}function Un(t){var e,n,r,i,o,a,s,u,c,l,f,h,p,d,v,g;if(e=t.pos,t.inside||t.inAttribute)return null;if(!t.matchString("<"))return null;if("/"===t.nextChar())return null;if(n={},t.includeLinePositions&&(n.p=t.getLinePos(e)),t.matchString("!"))return n.t=Fl,t.matchPattern(/^doctype/i)||t.error("Expected DOCTYPE declaration"),n.a=t.matchPattern(/^(.+?)>/),n;if(n.t=Cl,n.e=t.matchPattern(Rh),!n.e)return null;for(Mh.test(t.nextChar())||t.error("Illegal tag name"),o=function(e,r){var i=r.n||r;Lh.test(i)&&(t.pos-=i.length,t.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),n.v[e]=r},t.allowWhitespace();a=ze(t)||Mn(t);)a.name?(r=Fh[a.name])?n[r]=Dn(a.value,t):(i=Ih.exec(a.name))?(n.v||(n.v={}),s=Dn(a.value,t),o(i[1],s)):t.sanitizeEventAttributes&&Ph.test(a.name)||(n.a||(n.a={}),n.a[a.name]=a.value||(""===a.value?"":0)):(n.m||(n.m=[]),n.m.push(a)),t.allowWhitespace();if(t.allowWhitespace(),t.matchString("/")&&(u=!0),!t.matchString(">"))return null;var m=n.e.toLowerCase(),y=t.preserveWhitespace;if(!u&&!Nf.test(n.e)){t.elementStack.push(m),("script"===m||"style"===m)&&(t.inside=m),c=[],l=bu(null);do if(d=t.pos,v=t.remaining(),qn(m,v))if(g=Rn(t)){p=!0;var b=g.e.toLowerCase();if(b!==m&&(t.pos=d,!~t.elementStack.indexOf(b))){var w="Unexpected closing tag";Nf.test(b)&&(w+=" (<"+b+"> is a void element - it cannot contain children)"),t.error(w)}}else(h=vn(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?(p=!0,t.pos=d):(h=t.read(Xh))?(l[h.n]&&(t.pos=d,t.error("Duplicate partial definition")),On(h.f,t.stripComments,y,!y,!y),l[h.n]=h.f,f=!0):(h=t.read(Yh))?c.push(h):p=!0;else p=!0;while(!p);c.length&&(n.f=c),f&&(n.p=l),t.elementStack.pop()}return t.inside=null,t.sanitizeElements&&-1!==t.sanitizeElements.indexOf(m)?Bh:n}function qn(t,e){var n,r;return n=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(e),r=Oh[t],n&&r?!~r.indexOf(n[1].toLowerCase()):!0}function Wn(t){var e,n,r,i;return n=t.remaining(),i=t.inside?"</"+t.inside:"<",t.inside&&!t.interpolate[t.inside]?e=n.indexOf(i):(r=t.tags.map(function(t){return t.open}),r=r.concat(t.tags.map(function(t){return"\\"+t.open})),t.inAttribute===!0?r.push('"',"'","=","<",">","`"):r.push(t.inAttribute?t.inAttribute:i),e=Eh(n,r)),e?(-1===e&&(e=n.length),t.pos+=e,t.inside?n.substr(0,e):Sn(n.substr(0,e))):null}function zn(t){return t.replace(Dh,"\\$&")}function Vn(t){var e=t.pos,n=t.standardDelimiters[0],r=t.standardDelimiters[1],i=void 0,o=void 0;if(!t.matchPattern(Uh)||!t.matchString(n))return t.pos=e,null;var a=t.matchPattern(qh);if(g("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+a+"}} ... {{/partial}}\n\n...instead of this:\n  <!-- {{>"+a+"}} --> ... <!-- {{/"+a+"}} -->'"),!t.matchString(r)||!t.matchPattern(Wh))return t.pos=e,null;i=[];var s=new RegExp("^<!--\\s*"+zn(n)+"\\s*\\/\\s*"+a+"\\s*"+zn(r)+"\\s*-->");do t.matchPattern(s)?o=!0:(Nh=t.read(Yh),Nh||t.error("expected closing comment ('<!-- "+n+"/"+a+r+" -->')"),i.push(Nh));while(!o);return{t:Ll,f:i,n:a}}function Gn(t){var e,n,r,i,o;e=t.pos;var a=t.standardDelimiters;if(!t.matchString(a[0]))return null;if(!t.matchPattern(zh))return t.pos=e,null;n=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),n||t.error("expected legal partial name"),t.matchString(a[1])||t.error("Expected closing delimiter '"+a[1]+"'"),r=[];do(i=vn(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?("partial"===!i.r&&t.error("Expected "+a[0]+"/partial"+a[1]),o=!0):(i=t.read(Yh),i||t.error("Expected "+a[0]+"/partial"+a[1]),r.push(i));while(!o);return{t:Ll,n:n,f:r}}function $n(t){for(var e=[],n=bu(null),r=!1,i=t.preserveWhitespace;t.pos<t.str.length;){var o=t.pos,a=void 0,s=void 0;(s=t.read(Xh))?(n[s.n]&&(t.pos=o,t.error("Duplicated partial definition")),On(s.f,t.stripComments,i,!i,!i),n[s.n]=s.f,r=!0):(a=t.read(Yh))?e.push(a):t.error("Unexpected template content")}var u={v:ou,t:e};return r&&(u.p=n),u}function Hn(t,e){return new Hh(t,e||{}).result}function Yn(t){var e=bu(tp);return e.parse=function(e,n){return Xn(e,n||t)},e}function Xn(t,e){if(!Hn)throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return Hn(t,e||this.options)}function Jn(t,e){var n;if(!Qs){if(e&&e.noThrow)return;throw new Error("Cannot retrieve template #"+t+" as Ractive is not running in a browser.")}if(Kn(t)&&(t=t.substring(1)),!(n=document.getElementById(t))){if(e&&e.noThrow)return;throw new Error("Could not find template element with id #"+t)}if("SCRIPT"!==n.tagName.toUpperCase()){if(e&&e.noThrow)return;throw new Error("Template element with id #"+t+", must be a <script> element")}return n.textContent}function Kn(t){return t&&"#"===t.charAt(0)}function Qn(t){return!("string"==typeof t)}function Zn(t){return t.defaults&&(t=t.defaults),Zh.reduce(function(e,n){return e[n]=t[n],e},{})}function tr(t){var e,n=t._config.template;if(n&&n.fn)return e=er(t,n.fn),e!==n.result?(n.result=e,e=rr(e,t)):void 0}function er(t,e){var n=nr(ep.getParseOptions(t));return e.call(t,n)}function nr(t){var e=bu(ep);return e.parse=function(e,n){return ep.parse(e,n||t)},e}function rr(t,e){if("string"==typeof t)"#"===t[0]&&(t=ep.fromId(t)),t=Hn(t,ep.getParseOptions(e));else{if("number"!=typeof t.v)throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");if(t.v!==ou)throw new Error("Mismatched template version (expected "+ou+", got "+t.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}return t}function ir(t,e,n){if(e)for(var r in e)(n||!t.hasOwnProperty(r))&&(t[r]=e[r])}function or(t,e,n){if(!/_super/.test(n))return n;var r=function(){var t,i=ar(r._parent,e),o="_super"in this,a=this._super;return this._super=i,t=n.apply(this,arguments),o?this._super=a:delete this._super,t};return r._parent=t,r._method=n,r}function ar(t,e){var n,r;return e in t?(n=t[e],r="function"==typeof n?n:function(){return n}):r=ju,r}function sr(t,e,n){return"options."+t+" has been deprecated in favour of options."+e+"."+(n?" You cannot specify both options, please use options."+e+".":"")}function ur(t,e,n){if(e in t){if(n in t)throw new Error(sr(e,n,!0));v(sr(e,n)),t[n]=t[e]}}function cr(t){ur(t,"beforeInit","onconstruct"),ur(t,"init","onrender"),ur(t,"complete","oncomplete"),ur(t,"eventDefinitions","events"),o(t.adaptors)&&ur(t,"adaptors","adapt")}function lr(t,e,n,r){cr(r);for(var i in r)if(up[i]){var o=r[i];"function"==typeof o&&(o=cp(e.prototype,i,o)),n[i]=o}Qh.forEach(function(i){i[t](e,n,r)}),ul[t](e,n,r),np[t](e,n,r),vl[t](e,n,r),fr(e.prototype,n,r)}function fr(t,e,n){for(var r in n)if(!sp[r]&&n.hasOwnProperty(r)){var i=n[r];"function"==typeof i&&(i=cp(t,r,i)),e[r]=i}}function hr(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}function pr(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function dr(){var t;return 1===this.items.length?this.items[0].detach():(t=document.createDocumentFragment(),this.items.forEach(function(e){var n=e.detach();n&&t.appendChild(n)}),t)}function vr(t){var e,n,r,i;if(this.items){for(n=this.items.length,e=0;n>e;e+=1)if(r=this.items[e],r.find&&(i=r.find(t)))return i;return null}}function gr(t,e){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAll&&i.findAll(t,e);return e}function mr(t,e){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAllComponents&&i.findAllComponents(t,e);return e}function yr(t){var e,n,r,i;if(this.items){for(e=this.items.length,n=0;e>n;n+=1)if(r=this.items[n],r.findComponent&&(i=r.findComponent(t)))return i;return null}}function br(t){var e,n=t.index;return e=this.items[n+1]?this.items[n+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function wr(){return this.items&&this.items[0]?this.items[0].firstNode():null}function _r(t,e,n,r){return r=r||0,t.map(function(t){var i,o,a;return t.text?t.text:t.fragments?t.fragments.map(function(t){return _r(t.items,e,n,r)}).join(""):(i=n+"-"+r++,a=t.keypath&&(o=t.root.viewmodel.wrapped[t.keypath.str])?o.value:t.getValue(),e[i]=a,"${"+i+"}")}).join("")}function xr(){var t,e,n,r;return this.dirtyArgs&&(e=_r(this.items,t={},this.root._guid),n=Ch("["+e+"]",t),r=n?n.value:[this.toString()],this.argsList=r,this.dirtyArgs=!1),this.argsList}function Er(){var t=this;do if(t.pElement)return t.pElement.node;while(t=t.parent);return this.root.detached||this.root.el}function Sr(){var t,e,n,r;return this.dirtyValue&&(e=_r(this.items,t={},this.root._guid),n=Ch(e,t),r=n?n.value:this.toString(),this.value=r,this.dirtyValue=!1),this.value}function Tr(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function Ar(){return this.value}function Cr(t,e){for(var n,r=0;r<e.prop.length;r++)if(void 0!==(n=t[e.prop[r]]))return n}function kr(t,e){var n,r,i,o,a,s={},u=!1;for(e||(s.refs=n={});t;){if((a=t.owner)&&(r=a.indexRefs)){if(e&&(i=a.getIndexRef(e)))return s.ref={fragment:t,ref:i},s;if(!e)for(o in r)i=r[o],n[i.n]||(u=!0,n[i.n]={fragment:t,ref:i})}!t.parent&&t.owner&&t.owner.component&&t.owner.component.parentFragment&&!t.owner.component.instance.isolated?(s.componentBoundary=!0,t=t.owner.component.parentFragment):t=t.parent}return u?s:void 0}function jr(t,e,n){var r;return"@"===e.charAt(0)?new Ap(t,e,n):(r=kr(t.parentFragment,e))?new kp(t,r,n):new Tp(t,e,n)}function Or(t,e){var n,r;if(Op[t])return Op[t];for(r=[];e--;)r[e]="_"+e;return n=new Function(r.join(","),"return("+t+")"),Op[t]=n,n}function Rr(t){return t.call()}function Mr(t,e){return t.replace(/_([0-9]+)/g,function(t,n){var r,i;return+n>=e.length?"_"+n:(r=e[n],void 0===r?"undefined":r.isSpecial?(i=r.value,"number"==typeof i?i:'"'+i+'"'):r.str)})}function Pr(t){return S("${"+t.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}")}function Ir(t){return void 0!==t&&"@"!==t[0]}function Lr(t,e){var n,r,i;if(t.__ractive_nowrap)return t;if(r="__ractive_"+e._guid,n=t[r])return n;if(/this/.test(t.toString())){wu(t,r,{value:Rp.call(t,e),configurable:!0});for(i in t)t.hasOwnProperty(i)&&(t[r][i]=t[i]);return e._boundFunctions.push({fn:t,prop:r}),t[r]}return wu(t,"__ractive_nowrap",{value:t}),t.__ractive_nowrap}function Fr(t){return t.value}function Br(t){return void 0!=t}function Nr(t){t.forceResolution()}function Dr(t,e){function n(e){t.resolve(e)}function r(e){var n=t.keypath;e!=n&&(t.resolve(e),void 0!==n&&t.fragments&&t.fragments.forEach(function(t){t.rebind(n,e)}))}var i,o,a;o=e.parentFragment,a=e.template,t.root=o.root,t.parentFragment=o,t.pElement=o.pElement,t.template=e.template,t.index=e.index||0,t.isStatic=e.template.s,t.type=e.template.t,t.registered=!1,(i=a.r)&&(t.resolver=jr(t,i,n)),e.template.x&&(t.resolver=new jp(t,o,e.template.x,r)),e.template.rx&&(t.resolver=new Pp(t,e.template.rx,r)),t.template.n!==tf||t.hasOwnProperty("value")||t.setValue(void 0)}function Ur(t){var e,n,r;return t&&t.isSpecial?(this.keypath=t,void this.setValue(t.value)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,e=!0),this.keypath=t,void 0!=t&&(n=this.root.viewmodel.get(t),this.root.viewmodel.register(t,this),this.registered=!0),this.setValue(n),void(e&&(r=this.twowayBinding)&&r.rebound()))}function qr(t,e){this.fragments&&this.fragments.forEach(function(n){return n.rebind(t,e)}),this.resolver&&this.resolver.rebind(t,e)}function Wr(){this.parentFragment.bubble()}function zr(){var t;return 1===this.fragments.length?this.fragments[0].detach():(t=document.createDocumentFragment(),this.fragments.forEach(function(e){t.appendChild(e.detach())}),t)}function Vr(t){var e,n,r;for(n=this.fragments.length,e=0;n>e;e+=1)if(r=this.fragments[e].find(t))return r;return null}function Gr(t,e){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAll(t,e)}function $r(t,e){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAllComponents(t,e)}function Hr(t){var e,n,r;for(n=this.fragments.length,e=0;n>e;e+=1)if(r=this.fragments[e].findComponent(t))return r;return null}function Yr(t){return this.fragments[t.index+1]?this.fragments[t.index+1].firstNode():this.parentFragment.findNextNode(this)}function Xr(){var t,e,n;if(t=this.fragments.length)for(e=0;t>e;e+=1)if(n=this.fragments[e].firstNode())return n;return this.parentFragment.findNextNode(this)}function Jr(t){var e,n,r,i,o,a,s,u=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===ef){if(this.shuffling=!0,nc.scheduleTask(function(){return u.shuffling=!1}),e=this.parentFragment,o=[],t.forEach(function(t,e){var r,i,a,s,c;return t===e?void(o[t]=u.fragments[e]):(r=u.fragments[e],void 0===n&&(n=e),-1===t?(u.fragmentsToUnrender.push(r),void r.unbind()):(i=t-e,a=u.keypath.join(e),s=u.keypath.join(t),r.index=t,(c=r.registeredIndexRefs)&&c.forEach(Kr),r.rebind(a,s),void(o[t]=r)))}),i=this.root.viewmodel.get(this.keypath).length,void 0===n){if(this.length===i)return;n=this.length}for(this.length=this.fragments.length=i,this.rendered&&nc.addView(this),a={template:this.template.f,root:this.root,owner:this},r=n;i>r;r+=1)s=o[r],s||this.fragmentsToCreate.push(r),this.fragments[r]=s}}function Kr(t){t.rebind("","")}function Qr(){var t=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(e){return t.docFrag.appendChild(e.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function Zr(t){var e,n,r=this;this.updating||(this.updating=!0,this.keypath&&(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),this.fragmentsToCreate.length?(n={template:this.template.f||[],root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(t){var e;n.context=r.keypath.join(t),n.index=t,e=new ny(n),r.fragmentsToRender.push(r.fragments[t]=e)}),this.fragmentsToCreate.length=0):ei(this,t)&&(this.bubble(),this.rendered&&nc.addView(this)),this.value=t,this.updating=!1)}function ti(t,e,n){if(e===ef&&t.indexRefs&&t.indexRefs[0]){var r=t.indexRefs[0];(n&&"i"===r.t||!n&&"k"===r.t)&&(n||(t.length=0,t.fragmentsToUnrender=t.fragments.slice(0),t.fragmentsToUnrender.forEach(function(t){return t.unbind()}))),r.t=n?"k":"i"}t.currentSubtype=e}function ei(t,e){var n={template:t.template.f||[],root:t.root,pElement:t.parentFragment.pElement,owner:t};if(t.hasContext=!0,t.subtype)switch(t.subtype){case Zl:return t.hasContext=!1,ai(t,e,!1,n);case tf:return t.hasContext=!1,ai(t,e,!0,n);case nf:return oi(t,n);case rf:return ii(t,e,n);
case ef:if(c(e))return ti(t,t.subtype,!0),ri(t,e,n)}return t.ordered=!!a(e),t.ordered?(ti(t,ef,!1),ni(t,e,n)):c(e)||"function"==typeof e?t.template.i?(ti(t,ef,!0),ri(t,e,n)):(ti(t,nf,!1),oi(t,n)):(ti(t,Zl,!1),t.hasContext=!1,ai(t,e,!1,n))}function ni(t,e,n){var r,i,o;if(i=e.length,i===t.length)return!1;if(i<t.length)t.fragmentsToUnrender=t.fragments.splice(i,t.length-i),t.fragmentsToUnrender.forEach(H);else if(i>t.length)for(r=t.length;i>r;r+=1)n.context=t.keypath.join(r),n.index=r,o=new ny(n),t.fragmentsToRender.push(t.fragments[r]=o);return t.length=i,!0}function ri(t,e,n){var r,i,o,a,s,u;for(o=t.hasKey||(t.hasKey={}),i=t.fragments.length;i--;)a=t.fragments[i],a.key in e||(s=!0,a.unbind(),t.fragmentsToUnrender.push(a),t.fragments.splice(i,1),o[a.key]=!1);for(i=t.fragments.length;i--;)a=t.fragments[i],a.index!==i&&(a.index=i,(u=a.registeredIndexRefs)&&u.forEach(ci));i=t.fragments.length;for(r in e)o[r]||(s=!0,n.context=t.keypath.join(r),n.key=r,n.index=i++,a=new ny(n),t.fragmentsToRender.push(a),t.fragments.push(a),o[r]=!0);return t.length=t.fragments.length,s}function ii(t,e,n){return e?oi(t,n):si(t)}function oi(t,e){var n;return t.length?void 0:(e.context=t.keypath,e.index=0,n=new ny(e),t.fragmentsToRender.push(t.fragments[0]=n),t.length=1,!0)}function ai(t,e,n,r){var i,o,s,u,l;if(o=a(e)&&0===e.length,s=!1,!a(e)&&c(e)){s=!0;for(l in e){s=!1;break}}return i=n?o||s||!e:e&&!o&&!s,i?t.length?t.length>1?(t.fragmentsToUnrender=t.fragments.splice(1),t.fragmentsToUnrender.forEach(H),!0):void 0:(r.index=0,u=new ny(r),t.fragmentsToRender.push(t.fragments[0]=u),t.length=1,!0):si(t)}function si(t){return t.length?(t.fragmentsToUnrender=t.fragments.splice(0,t.fragments.length).filter(ui),t.fragmentsToUnrender.forEach(H),t.length=t.fragmentsToRender.length=0,!0):void 0}function ui(t){return t.rendered}function ci(t){t.rebind("","")}function li(t){var e,n,r;for(e="",n=0,r=this.length,n=0;r>n;n+=1)e+=this.fragments[n].toString(t);return e}function fi(){var t=this;this.fragments.forEach(H),this.fragmentsToRender.forEach(function(e){return F(t.fragments,e)}),this.fragmentsToRender=[],Ep.call(this),this.length=0,this.unbound=!0}function hi(t){this.fragments.forEach(t?pi:di),this.renderedFragments=[],this.rendered=!1}function pi(t){t.unrender(!0)}function di(t){t.unrender(!1)}function vi(){var t,e,n,r,i,o,a;for(n=this.renderedFragments;t=this.fragmentsToUnrender.pop();)t.unrender(!0),n.splice(n.indexOf(t),1);for(;t=this.fragmentsToRender.shift();)t.render();for(this.rendered&&(i=this.parentFragment.getNode()),a=this.fragments.length,o=0;a>o;o+=1)t=this.fragments[o],e=n.indexOf(t,o),e!==o?(this.docFrag.appendChild(t.detach()),-1!==e&&n.splice(e,1),n.splice(o,0,t)):this.docFrag.childNodes.length&&(r=t.firstNode(),i.insertBefore(this.docFrag,r));this.rendered&&this.docFrag.childNodes.length&&(r=this.parentFragment.findNextNode(this),i.insertBefore(this.docFrag,r)),this.renderedFragments=this.fragments.slice()}function gi(){var t,e;if(this.docFrag){for(t=this.nodes.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.nodes[e]);return this.docFrag}}function mi(t){var e,n,r,i;for(n=this.nodes.length,e=0;n>e;e+=1)if(r=this.nodes[e],1===r.nodeType){if(fu(r,t))return r;if(i=r.querySelector(t))return i}return null}function yi(t,e){var n,r,i,o,a,s;for(r=this.nodes.length,n=0;r>n;n+=1)if(i=this.nodes[n],1===i.nodeType&&(fu(i,t)&&e.push(i),o=i.querySelectorAll(t)))for(a=o.length,s=0;a>s;s+=1)e.push(o[s])}function bi(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function wi(t){return ud[t]||(ud[t]=lu(t))}function _i(t){var e,n,r;t&&"select"===t.name&&t.binding&&(e=B(t.node.options).filter(xi),t.getAttribute("multiple")?r=e.map(function(t){return t.value}):(n=e[0])&&(r=n.value),void 0!==r&&t.binding.setValue(r),t.bubble())}function xi(t){return t.selected}function Ei(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=cd(this.value,this.parentFragment.getNode(),this.docFrag),_i(this.pElement),this.rendered=!0,this.docFrag}function Si(t){var e;(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),t!==this.value&&(this.value=t,this.parentFragment.bubble(),this.rendered&&nc.addView(this))}function Ti(){return void 0!=this.value?Sn(""+this.value):""}function Ai(t){this.rendered&&t&&(this.nodes.forEach(e),this.rendered=!1)}function Ci(){var t,e;if(this.rendered){for(;this.nodes&&this.nodes.length;)t=this.nodes.pop(),t.parentNode.removeChild(t);e=this.parentFragment.getNode(),this.nodes=cd(this.value,e,this.docFrag),e.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),_i(this.pElement)}}function ki(){var t,e=this.node;return e?((t=e.parentNode)&&t.removeChild(e),e):void 0}function ji(){return null}function Oi(){return this.node}function Ri(t){return this.attributes&&this.attributes[t]?this.attributes[t].value:void 0}function Mi(){var t=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();s(t,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=t,"value"===this.name&&this.node&&(this.node._ractive.value=t),this.rendered&&nc.addView(this))}function Pi(t){var e=t.fragment.items;if(1===e.length)return e[0].type===xl?e[0]:void 0}function Ii(t){return this.type=Rl,this.element=t.element,this.root=t.root,Id(this,t.name),this.isBoolean=Bf.test(this.name),t.value&&"string"!=typeof t.value?(this.parentFragment=this.element.parentFragment,this.fragment=new ny({template:t.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=Pi(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,void(this.ready=!0)):void(this.value=this.isBoolean?!0:t.value||"")}function Li(t,e){this.fragment&&this.fragment.rebind(t,e)}function Fi(t){var e;this.node=t,t.namespaceURI&&t.namespaceURI!==nu.html||(e=Nd[this.name]||this.name,void 0!==t[e]&&(this.propertyName=e),(this.isBoolean||this.isTwoway)&&(this.useProperty=!0),"value"===e&&(t._ractive.value=this.value)),this.rendered=!0,this.update()}function Bi(){var t=this,e=t.name,n=t.namespacePrefix,r=t.value,i=t.interpolator,o=t.fragment;if(("value"!==e||"select"!==this.element.name&&"textarea"!==this.element.name)&&("value"!==e||void 0===this.element.getAttribute("contenteditable"))){if("name"===e&&"input"===this.element.name&&i)return"name={{"+(i.keypath.str||i.ref)+"}}";if(this.isBoolean)return r?e:"";if(o){if(1===o.items.length&&null==o.items[0].value)return"";r=o.toString()}return n&&(e=n+":"+e),r?e+'="'+Ni(r)+'"':e}}function Ni(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Di(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function Ui(){var t,e,n,r,i=this.value;if(!this.locked)for(this.node._ractive.value=i,t=this.node.options,r=t.length;r--;)if(e=t[r],n=e._ractive?e._ractive.value:e.value,n==i){e.selected=!0;break}}function qi(){var t,e,n,r,i=this.value;for(o(i)||(i=[i]),t=this.node.options,e=t.length;e--;)n=t[e],r=n._ractive?n._ractive.value:n.value,n.selected=M(i,r)}function Wi(){var t=this,e=t.node,n=t.value;e.checked=n==e._ractive.value}function zi(){var t,e,n,r,i=this.node;if(t=i.checked,i.value=this.element.getAttribute("value"),i.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),t&&!i.checked&&this.element.binding&&(n=this.element.binding.siblings,r=n.length)){for(;r--;){if(e=n[r],!e.element.node)return;if(e.element.node.checked)return nc.addRactive(e.root),e.handleChange()}this.root.viewmodel.set(e.keypath,void 0)}}function Vi(){var t,e,n=this,r=n.element,i=n.node,a=n.value,s=r.binding;if(t=r.getAttribute("value"),o(a)){for(e=a.length;e--;)if(t==a[e])return void(s.isChecked=i.checked=!0);s.isChecked=i.checked=!1}else s.isChecked=i.checked=a==t}function Gi(){this.node.className=n(this.value)}function $i(){var t=this,e=t.node,n=t.value;this.root.nodes[n]=e,e.id=n}function Hi(){var t,e;t=this.node,e=this.value,void 0===e&&(e=""),t.style.setAttribute("cssText",e)}function Yi(){var t=this.value;void 0===t&&(t=""),this.locked||(this.node.innerHTML=t)}function Xi(){var t=this,e=t.node,n=t.value;e._ractive.value=n,this.locked||(e.value=void 0==n?"":n)}function Ji(){this.locked||(this.node[this.propertyName]=this.value)}function Ki(){var t=this,e=t.node,n=t.namespace,r=t.name,i=t.value,o=t.fragment;n?e.setAttributeNS(n,r,(o||i).toString()):this.isBoolean?i?e.setAttribute(r,""):e.removeAttribute(r):null==i?e.removeAttribute(r):e.setAttribute(r,(o||i).toString())}function Qi(){var t,e,n=this,r=n.name,i=n.element,o=n.node;"id"===r?e=Hd:"value"===r?"select"===i.name&&"value"===r?e=i.getAttribute("multiple")?Wd:qd:"textarea"===i.name?e=Jd:null!=i.getAttribute("contenteditable")?e=Xd:"input"===i.name&&(t=i.getAttribute("type"),e="file"===t?ju:"radio"===t&&i.binding&&"name"===i.binding.name?Vd:Jd):this.isTwoway&&"name"===r?"radio"===o.type?e=zd:"checkbox"===o.type&&(e=Gd):"style"===r&&o.style.setAttribute?e=Yd:"class"!==r||o.namespaceURI&&o.namespaceURI!==nu.html?this.useProperty&&(e=Kd):e=$d,e||(e=Qd),this.update=e,this.update()}function Zi(t,e){var n=e?"svg":"div";return ev.innerHTML="<"+n+" "+t+"></"+n+">",B(ev.childNodes[0].attributes)}function to(t,e){for(var n=t.length;n--;)if(t[n].name===e.name)return!1;return!0}function eo(t){for(;t=t.parent;)if("form"===t.name)return t}function no(){this._ractive.binding.handleChange()}function ro(t,e,n){var r=t+e+n;return lv[r]||(lv[r]=[])}function io(t){return t.isChecked}function oo(t){return t.element.getAttribute("value")}function ao(){var t;uv.call(this),t=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==t?"":t}function so(){var t=this._ractive.binding,e=this;t._timeout&&clearTimeout(t._timeout),t._timeout=setTimeout(function(){t.rendered&&uv.call(e),t._timeout=void 0},t.element.lazy)}function uo(t){var e,n,r,i,o,a=t.attributes;return t.binding&&(t.binding.teardown(),t.binding=null),(t.getAttribute("contenteditable")||a.contenteditable&&co(a.contenteditable))&&co(a.value)?n=cv:"input"===t.name?(e=t.getAttribute("type"),"radio"===e||"checkbox"===e?(r=co(a.name),i=co(a.checked),r&&i&&v("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:t.root}),r?n="radio"===e?hv:pv:i&&(n="radio"===e?fv:dv)):"file"===e&&co(a.value)?n=mv:co(a.value)&&(n="number"===e||"range"===e?yv:av)):"select"===t.name&&co(a.value)?n=t.getAttribute("multiple")?gv:vv:"textarea"===t.name&&co(a.value)&&(n=av),n&&(o=new n(t))&&o.keypath?o:void 0}function co(t){return t&&t.isBindable}function lo(){var t=this.getAction();t&&!this.hasListener?this.listen():!t&&this.hasListener&&this.unrender()}function fo(t){de(this.root,this.getAction(),{event:t})}function ho(){return this.action.toString().trim()}function po(t,e,n){var r,i,o,a=this;this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.name=e,-1!==e.indexOf("*")&&(f('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',t.name,e),this.invalid=!0),n.m?(i=n.a.r,this.method=n.m,this.keypaths=[],this.fn=Or(n.a.s,i.length),this.parentFragment=t.parentFragment,o=this.root,this.refResolvers=[],i.forEach(function(t,e){var n=void 0;(n=Ev.exec(t))?a.keypaths[e]={eventObject:!0,refinements:n[1]?n[1].split("."):[]}:a.refResolvers.push(jr(a,t,function(t){return a.resolve(e,t)}))}),this.fire=vo):(r=n.n||n,"string"!=typeof r&&(r=new ny({template:r,root:this.root,owner:this})),this.action=r,n.d?(this.dynamicParams=new ny({template:n.d,root:this.root,owner:this.element}),this.fire=mo):n.a&&(this.params=n.a,this.fire=go))}function vo(t){var e,n,r;if(e=this.root,"function"!=typeof e[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');n=this.keypaths.map(function(n){var r,i,o;if(void 0===n)return void 0;if(n.eventObject){if(r=t,i=n.refinements.length)for(o=0;i>o;o+=1)r=r[n.refinements[o]]}else r=e.viewmodel.get(n);return r}),Ac.enqueue(e,t),r=this.fn.apply(null,n),e[this.method].apply(e,r),Ac.dequeue(e)}function go(t){de(this.root,this.getAction(),{event:t,args:this.params})}function mo(t){var e=this.dynamicParams.getArgsList();"string"==typeof e&&(e=e.substr(1,e.length-2)),de(this.root,this.getAction(),{event:t,args:e})}function yo(t){var e,n,r,i={};e=this._ractive,n=e.events[t.type],(r=kr(n.element.parentFragment))&&(i=kr.resolve(r)),n.fire({node:this,original:t,index:i,keypath:e.keypath.str,context:e.root.viewmodel.get(e.keypath)})}function bo(){var t,e=this.name;if(!this.invalid){if(t=m("events",this.root,e))this.custom=t(this.node,wo(e));else{if(!("on"+e in this.node||window&&"on"+e in window||Zs))return void(Av[e]||g(Pu(e,"event"),{node:this.node}));this.node.addEventListener(e,yo,!1)}this.hasListener=!0}}function wo(t){return Tv[t]||(Tv[t]=function(e){var n=e.node._ractive;e.index=n.index,e.keypath=n.keypath.str,e.context=n.root.viewmodel.get(n.keypath),n.events[t].fire(e)}),Tv[t]}function _o(t,e){function n(n){n&&n.rebind(t,e)}var r;return this.method?(r=this.element.parentFragment,void this.refResolvers.forEach(n)):("string"!=typeof this.action&&n(this.action),void(this.dynamicParams&&n(this.dynamicParams)))}function xo(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function Eo(t,e){this.keypaths[t]=e}function So(){return this.method?void this.refResolvers.forEach(H):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function To(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,yo,!1),this.hasListener=!1}function Ao(){var t=this;this.dirty||(this.dirty=!0,nc.scheduleTask(function(){Co(t),t.dirty=!1})),this.parentFragment.bubble()}function Co(t){var e,n,r,i,o;e=t.node,e&&(i=B(e.options),n=t.getAttribute("value"),r=t.getAttribute("multiple"),void 0!==n?(i.forEach(function(t){var e,i;e=t._ractive?t._ractive.value:t.value,i=r?ko(n,e):n==e,i&&(o=!0),t.selected=i}),o||(i[0]&&(i[0].selected=!0),t.binding&&t.binding.forceUpdate())):t.binding&&t.binding.forceUpdate())}function ko(t,e){for(var n=t.length;n--;)if(t[n]==e)return!0}function jo(t,e){t.select=Ro(t.parent),t.select&&(t.select.options.push(t),e.a||(e.a={}),void 0!==e.a.value||e.a.hasOwnProperty("disabled")||(e.a.value=e.f),"selected"in e.a&&void 0!==t.select.getAttribute("value")&&delete e.a.selected)}function Oo(t){t.select&&F(t.select.options,t)}function Ro(t){if(t)do if("select"===t.name)return t;while(t=t.parent)}function Mo(t){var e,n,r,i,o,a,s;this.type=Cl,e=this.parentFragment=t.parentFragment,n=this.template=t.template,this.parent=t.pElement||e.pElement,this.root=r=e.root,this.index=t.index,this.key=t.key,this.name=Pd(n.e),"option"===this.name&&jo(this,n),"select"===this.name&&(this.options=[],this.bubble=Ao),"form"===this.name&&(this.formBindings=[]),s=Rd(this,n),this.attributes=nv(this,n.a),this.conditionalAttributes=iv(this,n.m),n.f&&(this.fragment=new ny({template:n.f,root:r,owner:this,pElement:this,cssIds:null})),a=r.twoway,s.twoway===!1?a=!1:s.twoway===!0&&(a=!0),this.twoway=a,this.lazy=s.lazy,a&&(i=uo(this,n.a))&&(this.binding=i,o=this.root._twowayBindings[i.keypath.str]||(this.root._twowayBindings[i.keypath.str]=[]),o.push(i)),n.v&&(this.eventHandlers=Pv(this,n.v)),n.o&&(this.decorator=new Iv(this,n.o)),this.intro=n.t0||n.t1,this.outro=n.t0||n.t2}function Po(t,e){function n(n){n.rebind(t,e)}var r,i,o,a;if(this.attributes&&this.attributes.forEach(n),this.conditionalAttributes&&this.conditionalAttributes.forEach(n),this.eventHandlers&&this.eventHandlers.forEach(n),this.decorator&&n(this.decorator),this.fragment&&n(this.fragment),o=this.liveQueries)for(a=this.root,r=o.length;r--;)o[r]._makeDirty();this.node&&(i=this.node._ractive)&&x(i,"keypath",t,e)}function Io(t){var e;(t.attributes.width||t.attributes.height)&&t.node.addEventListener("load",e=function(){var n=t.getAttribute("width"),r=t.getAttribute("height");void 0!==n&&t.node.setAttribute("width",n),void 0!==r&&t.node.setAttribute("height",r),t.node.removeEventListener("load",e,!1)},!1)}function Lo(t){t.node.addEventListener("reset",Bo,!1)}function Fo(t){t.node.removeEventListener("reset",Bo,!1)}function Bo(){var t=this._ractive.proxy;nc.start(),t.formBindings.forEach(No),nc.end()}function No(t){t.root.viewmodel.set(t.keypath,t.resetValue)}function Do(t,e,n){var r,i,o;this.element=t,this.root=r=t.root,this.isIntro=n,i=e.n||e,("string"==typeof i||(o=new ny({template:i,root:r,owner:t}),i=o.toString(),o.unbind(),""!==i))&&(this.name=i,e.a?this.params=e.a:e.d&&(o=new ny({template:e.d,root:r,owner:t}),this.params=o.getArgsList(),o.unbind()),this._fn=m("transitions",r,i),this._fn||g(Pu(i,"transition"),{ractive:this.root}))}function Uo(t){return t}function qo(){fg.hidden=document[sg]}function Wo(){fg.hidden=!0}function zo(){fg.hidden=!1}function Vo(){var t,e,n,r=this;return t=this.node=this.element.node,e=t.getAttribute("style"),this.complete=function(i){n||(!i&&r.isIntro&&Go(t,e),t._ractive.transition=null,r._manager.remove(r),n=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function Go(t,e){e?t.setAttribute("style",e):(t.getAttribute("style"),t.removeAttribute("style"))}function $o(){var t,e,n,r=this,i=this.root;return t=Ho(this),e=this.node=lu(this.name,t),this.parentFragment.cssIds&&this.node.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(t){return"{"+t+"}"}).join(" ")),wu(this.node,"_ractive",{value:{proxy:this,keypath:Zu(this.parentFragment),events:bu(null),root:i}}),this.attributes.forEach(function(t){return t.render(e)}),this.conditionalAttributes.forEach(function(t){return t.render(e)}),this.fragment&&("script"===this.name?(this.bubble=bg,this.node.text=this.fragment.toString(!1),this.fragment.unrender=ju):"style"===this.name?(this.bubble=yg,this.bubble(),this.fragment.unrender=ju):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=ju:this.node.appendChild(this.fragment.render())),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),this.eventHandlers&&this.eventHandlers.forEach(function(t){return t.render()}),"option"===this.name&&Yo(this),"img"===this.name?Io(this):"form"===this.name?Lo(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&nc.scheduleTask(function(){r.decorator.torndown||r.decorator.init()},!0),i.transitionsEnabled&&this.intro&&(n=new mg(this,this.intro,!0),nc.registerTransition(n),nc.scheduleTask(function(){return n.start()},!0),this.transition=n),this.node.autofocus&&nc.scheduleTask(function(){return r.node.focus()},!0),Xo(this),this.node}function Ho(t){var e,n,r;return e=(n=t.getAttribute("xmlns"))?n:"svg"===t.name?nu.svg:(r=t.parent)?"foreignObject"===r.name?nu.html:r.node.namespaceURI:t.root.el.namespaceURI}function Yo(t){var e,n,r;if(t.select&&(n=t.select.getAttribute("value"),void 0!==n))if(e=t.getAttribute("value"),t.select.node.multiple&&o(n)){for(r=n.length;r--;)if(e==n[r]){t.node.selected=!0;break}}else t.node.selected=e==n}function Xo(t){var e,n,r,i,o;e=t.root;do for(n=e._liveQueries,r=n.length;r--;)i=n[r],o=n["_"+i],o._test(t)&&(t.liveQueries||(t.liveQueries=[])).push(o);while(e=e.parent)}function Jo(t){var e,n,r;if(e=t.getAttribute("value"),void 0===e||!t.select)return!1;if(n=t.select.getAttribute("value"),n==e)return!0;if(t.select.getAttribute("multiple")&&o(n))for(r=n.length;r--;)if(n[r]==e)return!0}function Ko(t){var e,n,r,i;return e=t.attributes,n=e.type,r=e.value,i=e.name,n&&"radio"===n.value&&r&&i.interpolator&&r.value===i.interpolator.value?!0:void 0}function Qo(t){var e=t.toString();return e?" "+e:""}function Zo(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(H),"option"===this.name&&Oo(this),this.attributes.forEach(H),this.conditionalAttributes.forEach(H)}function ta(t){var e,n,r;(r=this.transition)&&r.complete(),"option"===this.name?this.detach():t&&nc.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(e=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,n=this.root._twowayBindings[e.keypath.str],n.splice(n.indexOf(e),1)),this.eventHandlers&&this.eventHandlers.forEach(Y),this.decorator&&nc.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&(r=new mg(this,this.outro,!1),nc.registerTransition(r),nc.scheduleTask(function(){return r.start()})),this.liveQueries&&ea(this),"form"===this.name&&Fo(this)}function ea(t){var e,n,r;for(r=t.liveQueries.length;r--;)e=t.liveQueries[r],n=e.selector,e._remove(t.node)}function na(t,e){var n=Ag.exec(e)[0];return null===t||n.length<t.length?n:t}function ra(t,e,n){var r;if(r=ia(t,e,n||{}))return r;if(r=ep.fromId(e,{noThrow:!0})){r=Cg(r);var i=ep.parse(r,ep.getParseOptions(t));return t.partials[e]=i.t}}function ia(t,e,n){var r=void 0,i=sa(e,n.owner);if(i)return i;var o=y("partials",t,e);if(o){if(i=o.partials[e],"function"==typeof i&&(r=i.bind(o),r.isOwner=o.partials.hasOwnProperty(e),i=r.call(t,ep)),!i&&""!==i)return void v(Mu,e,"partial","partial",{ractive:t});if(!ep.isParsed(i)){var a=ep.parse(i,ep.getParseOptions(o));a.p&&v("Partials ({{>%s}}) cannot contain nested inline partials",e,{ractive:t});var s=r?o:oa(o,e);s.partials[e]=i=a.t}return r&&(i._fn=r),i.v?i.t:i}}function oa(t,e){return t.partials.hasOwnProperty(e)?t:aa(t.constructor,e)}function aa(t,e){return t?t.partials.hasOwnProperty(e)?t:aa(t._Parent,e):void 0}function sa(t,e){if(e){if(e.template&&e.template.p&&e.template.p[t])return e.template.p[t];if(e.parentFragment&&e.parentFragment.owner)return sa(t,e.parentFragment.owner)}}function ua(t,e){var n,r=y("components",t,e);if(r&&(n=r.components[e],!n._Parent)){var i=n.bind(r);if(i.isOwner=r.components.hasOwnProperty(e),n=i(),!n)return void v(Mu,e,"component","component",{ractive:t});"string"==typeof n&&(n=ua(t,n)),n._fn=i,r.components[e]=n}return n}function ca(){var t=this.instance.fragment.detach();return Lg.fire(this.instance),t}function la(t){return this.instance.fragment.find(t)}function fa(t,e){return this.instance.fragment.findAll(t,e)}function ha(t,e){e._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(t,e)}function pa(t){return t&&t!==this.name?this.instance.fragment?this.instance.fragment.findComponent(t):null:this.instance}function da(){return this.parentFragment.findNextNode(this)}function va(){return this.rendered?this.instance.fragment.firstNode():null}function ga(t,e,n){function r(t){var n,r;t.value=e,t.updating||(r=t.ractive,n=t.keypath,t.updating=!0,nc.start(r),r.viewmodel.mark(n),nc.end(),t.updating=!1)}var i,o,a,s,u,c;if(i=t.obj,o=t.prop,n&&!n.configurable){if("length"===o)return;throw new Error('Cannot use magic mode with property "'+o+'" - object is not configurable')}n&&(a=n.get,s=n.set),u=a||function(){return e},c=function(t){s&&s(t),e=a?a():t,c._ractiveWrappers.forEach(r)},c._ractiveWrappers=[t],Object.defineProperty(i,o,{get:u,set:c,enumerable:!0,configurable:!0})}function ma(t,e){var n,r,i,o;if(this.adaptors)for(n=this.adaptors.length,r=0;n>r;r+=1)if(i=this.adaptors[r],i.filter(e,t,this.ractive))return o=this.wrapped[t]=i.wrap(this.ractive,e,t,ba(t)),void(o.value=e)}function ya(t,e){var n,r={};if(!e)return t;e+=".";for(n in t)t.hasOwnProperty(n)&&(r[e+n]=t[n]);return r}function ba(t){var e;return nm[t]||(e=t?t+".":"",nm[t]=function(n,r){var i;return"string"==typeof n?(i={},i[e+n]=r,i):"object"==typeof n?e?ya(n,t):n:void 0}),nm[t]}function wa(t){var e,n,r=[Wu];for(e=t.length;e--;)for(n=t[e].parent;n&&!n.isRoot;)-1===t.indexOf(n)&&R(r,n),n=n.parent;return r}function _a(t,e,n){var r;Ea(t,e),n||(r=e.wildcardMatches(),r.forEach(function(n){xa(t,n,e)}))}function xa(t,e,n){var r,i,o;e=e.str||e,r=t.depsMap.patternObservers,i=r&&r[e],i&&i.forEach(function(e){o=n.join(e.lastKey),Ea(t,o),xa(t,e,o)})}function Ea(t,e){t.patternObservers.forEach(function(t){t.regex.test(e.str)&&t.update(e)})}function Sa(){function t(t){var r=t.key;t.viewmodel===a?(a.clearCache(r.str),t.invalidate(),n.push(r),e(r)):t.viewmodel.mark(r)}function e(n){var r,i;a.noCascade.hasOwnProperty(n.str)||((i=a.deps.computed[n.str])&&i.forEach(t),(r=a.depsMap.computed[n.str])&&r.forEach(e))}var n,r,i,o=this,a=this,s={};return n=this.changes,n.length?(n.slice().forEach(e),r=wa(n),r.forEach(function(e){var r;-1===n.indexOf(e)&&(r=a.deps.computed[e.str])&&r.forEach(t)}),this.changes=[],this.patternObservers.length&&(r.forEach(function(t){return _a(o,t,!0)}),n.forEach(function(t){return _a(o,t)})),this.deps.observers&&(r.forEach(function(t){return Ta(o,null,t,"observers")}),Ca(this,n,"observers")),this.deps["default"]&&(i=[],r.forEach(function(t){return Ta(o,i,t,"default")}),i.length&&Aa(this,i,n),Ca(this,n,"default")),n.forEach(function(t){s[t.str]=o.get(t)}),this.implicitChanges={},this.noCascade={},s):void 0}function Ta(t,e,n,r){var i,o;(i=ka(t,n,r))&&(o=t.get(n),i.forEach(function(t){e&&t.refineValue?e.push(t):t.setValue(o)}))}function Aa(t,e,n){e.forEach(function(e){for(var r=!1,i=0,o=n.length,a=[];o>i;){var s=n[i];if(s===e.keypath){r=!0;break}s.slice(0,e.keypath.length)===e.keypath&&a.push(s),i++}r&&e.setValue(t.get(e.keypath)),a.length&&e.refineValue(a)})}function Ca(t,e,n){function r(t){t.forEach(i),t.forEach(o)}function i(e){var r=ka(t,e,n);r&&s.push({keypath:e,deps:r})}function o(e){var i;(i=t.depsMap[n][e.str])&&r(i)}function a(e){var n=t.get(e.keypath);e.deps.forEach(function(t){return t.setValue(n)})}var s=[];r(e),s.forEach(a)}function ka(t,e,n){var r=t.deps[n];return r?r[e.str]:null}function ja(){this.captureGroups.push([])}function Oa(t,e){var n,r;if(e||(r=this.wrapped[t])&&r.teardown()!==!1&&(this.wrapped[t]=null),this.cache[t]=void 0,n=this.cacheMap[t])for(;n.length;)this.clearCache(n.pop())}function Ra(t,e){var n=e.firstKey;return!(n in t.data||n in t.computations||n in t.mappings)}function Ma(t,e){var n=new sm(t,e);return this.ready&&n.init(this),this.computations[t.str]=n}function Pa(t,e){var n,r,i,o,a,s=this.cache,u=t.str;if(e=e||fm,e.capture&&(o=L(this.captureGroups))&&(~o.indexOf(t)||o.push(t)),Au.call(this.mappings,t.firstKey))return this.mappings[t.firstKey].get(t,e);if(t.isSpecial)return t.value;if(void 0===s[u]?((r=this.computations[u])&&!r.bypass?(n=r.get(),this.adapt(u,n)):(i=this.wrapped[u])?n=i.value:t.isRoot?(this.adapt("",this.data),n=this.data):n=Ia(this,t),s[u]=n):n=s[u],!e.noUnwrap&&(i=this.wrapped[u])&&(n=i.get()),t.isRoot&&e.fullRootGet)for(a in this.mappings)n[a]=this.mappings[a].getValue();return n===cm?void 0:n}function Ia(t,e){var n,r,i,o;return n=t.get(e.parent),(o=t.wrapped[e.parent.str])&&(n=o.get()),null!==n&&void 0!==n?((r=t.cacheMap[e.parent.str])?-1===r.indexOf(e.str)&&r.push(e.str):t.cacheMap[e.parent.str]=[e.str],"object"!=typeof n||e.lastKey in n?(i=n[e.lastKey],t.adapt(e.str,i,!1),t.cache[e.str]=i,i):t.cache[e.str]=cm):void 0}function La(){var t;for(t in this.computations)this.computations[t].init(this)}function Fa(t,e){var n=this.mappings[t.str]=new dm(t,e);return n.initViewmodel(this),n}function Ba(t,e){var n,r=t.str;e&&(e.implicit&&(this.implicitChanges[r]=!0),e.noCascade&&(this.noCascade[r]=!0)),(n=this.computations[r])&&n.invalidate(),-1===this.changes.indexOf(t)&&this.changes.push(t);var i=e?e.keepExistingWrapper:!1;this.clearCache(r,i),this.ready&&this.onchange()}function Na(t,e,n,r){var i,o,a,s;if(this.mark(t),r&&r.compare){a=Ua(r.compare);try{i=e.map(a),o=n.map(a)}catch(u){v('merge(): "%s" comparison failed. Falling back to identity checking',t),i=e,o=n}}else i=e,o=n;s=gm(i,o),this.smartUpdate(t,n,s,e.length!==n.length)}function Da(t){return JSON.stringify(t)}function Ua(t){if(t===!0)return Da;if("string"==typeof t)return ym[t]||(ym[t]=function(e){return e[t]}),ym[t];if("function"==typeof t)return t;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function qa(t,e){var n,r,i,o=void 0===arguments[2]?"default":arguments[2];e.isStatic||((n=this.mappings[t.firstKey])?n.register(t,e,o):(r=this.deps[o]||(this.deps[o]={}),i=r[t.str]||(r[t.str]=[]),i.push(e),t.isRoot||Wa(this,t,o)))}function Wa(t,e,n){for(var r,i,o;!e.isRoot;)r=t.depsMap[n]||(t.depsMap[n]={}),i=r[e.parent.str]||(r[e.parent.str]=[]),o=e.str,void 0===i["_"+o]&&(i["_"+o]=0,i.push(e)),i["_"+o]+=1,e=e.parent}function za(){return this.captureGroups.pop()}function Va(t){this.data=t,this.clearCache("")}function Ga(t,e){var n,r,i,o,a=void 0===arguments[2]?{}:arguments[2];if(!a.noMapping&&(n=this.mappings[t.firstKey]))return n.set(t,e);if(r=this.computations[t.str]){if(r.setting)return;r.set(e),e=r.get()}s(this.cache[t.str],e)||(i=this.wrapped[t.str],i&&i.reset&&(o=i.reset(e)!==!1,o&&(e=i.get())),r||o||$a(this,t,e),a.silent?this.clearCache(t.str):this.mark(t))}function $a(t,e,n){var r,i,o,a;o=function(){r.set?r.set(e.lastKey,n):(i=r.get(),a())},a=function(){i||(i=Qg(e.lastKey),t.set(e.parent,i,{silent:!0})),i[e.lastKey]=n},r=t.wrapped[e.parent.str],r?o():(i=t.get(e.parent),(r=t.wrapped[e.parent.str])?o():a())}function Ha(t,e,n){var r,i,o,a=this;if(i=n.length,n.forEach(function(e,n){-1===e&&a.mark(t.join(n),Tm)}),this.set(t,e,{silent:!0}),(r=this.deps["default"][t.str])&&r.filter(Ya).forEach(function(t){return t.shuffle(n,e)}),i!==e.length){for(this.mark(t.join("length"),Sm),o=n.touchedFrom;o<e.length;o+=1)this.mark(t.join(o));for(o=e.length;i>o;o+=1)this.mark(t.join(o),Tm)}}function Ya(t){return"function"==typeof t.shuffle}function Xa(){var t,e=this;for(Object.keys(this.cache).forEach(function(t){return e.clearCache(t)});t=this.unresolvedImplicitDependencies.pop();)t.teardown()}function Ja(t,e){var n,r,i,o=void 0===arguments[2]?"default":arguments[2];if(!e.isStatic){if(n=this.mappings[t.firstKey])return n.unregister(t,e,o);if(r=this.deps[o][t.str],i=r.indexOf(e),-1===i)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");r.splice(i,1),t.isRoot||Ka(this,t,o)}}function Ka(t,e,n){for(var r,i;!e.isRoot;)r=t.depsMap[n],i=r[e.parent.str],i["_"+e.str]-=1,i["_"+e.str]||(F(i,e),i["_"+e.str]=void 0),e=e.parent}function Qa(t){this.hook=new O(t),this.inProcess={},this.queue={}}function Za(t,e){return t[e._guid]||(t[e._guid]=[])}function ts(t,e){var n=Za(t.queue,e);for(t.hook.fire(e);n.length;)ts(t,n.shift());delete t.queue[e._guid]}function es(t,e){var n,r={};for(n in e)r[n]=ns(t,n,e[n]);return r}function ns(t,e,n){var r,i;return"function"==typeof n&&(r=is(n,t)),"string"==typeof n&&(r=rs(t,n)),"object"==typeof n&&("string"==typeof n.get?r=rs(t,n.get):"function"==typeof n.get?r=is(n.get,t):f("`%s` computation must have a `get()` method",e),"function"==typeof n.set&&(i=is(n.set,t))),{getter:r,setter:i}}function rs(t,e){var n,r,i;return n="return ("+e.replace(jm,function(t,e){return r=!0,'__ractive.get("'+e+'")'})+");",r&&(n="var __ractive = this; "+n),i=new Function(n),r?i.bind(t):i}function is(t,e){return/this/.test(t.toString())?t.bind(e):t}function os(e){var n,i,o=void 0===arguments[1]?{}:arguments[1],a=void 0===arguments[2]?{}:arguments[2];if(ry.DEBUG&&Tu(),us(e,a),wu(e,"data",{get:cs}),Om.fire(e,o),Im.forEach(function(t){e[t]=r(bu(e.constructor[t]||null),o[t])}),i=new km({adapt:as(e,e.adapt,o),data:gl.init(e.constructor,e,o),computed:es(e,r(bu(e.constructor.prototype.computed),o.computed)),mappings:a.mappings,ractive:e,onchange:function(){return nc.addRactive(e)}}),e.viewmodel=i,i.init(),rp.init(e.constructor,e,o),Rm.fire(e),Mm.begin(e),e.template){var s=void 0;(a.cssIds||e.cssId)&&(s=a.cssIds?a.cssIds.slice():[],e.cssId&&s.push(e.cssId)),e.fragment=new ny({template:e.template,root:e,owner:e,cssIds:s})}if(Mm.end(e),n=t(e.el)){var u=e.render(n,e.append);ry.DEBUG_PROMISES&&u["catch"](function(t){throw g("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"),v("An error happened during rendering",{ractive:e}),t.stack&&h(t.stack),t
})}}function as(t,e,n){function r(e){return"string"==typeof e&&(e=m("adaptors",t,e),e||f(Pu(e,"adaptor"))),e}var i,o,a;if(e=e.map(r),i=I(n.adapt).map(r),i=ss(e,i),o="magic"in n?n.magic:t.magic,a="modifyArrays"in n?n.modifyArrays:t.modifyArrays,o){if(!eu)throw new Error("Getters and setters (magic mode) are not supported in this browser");a&&i.push(Zg),i.push(Xg)}return a&&i.push(Gg),i}function ss(t,e){for(var n=t.slice(),r=e.length;r--;)~n.indexOf(e[r])||n.push(e[r]);return n}function us(t,e){t._guid="r-"+Pm++,t._subs=bu(null),t._config={},t._twowayBindings=bu(null),t._animations=[],t.nodes={},t._liveQueries=[],t._liveComponentQueries=[],t._boundFunctions=[],e.component?(t.parent=e.parent,t.container=e.container||null,t.root=t.parent.root,t.component=e.component,e.component.instance=t,t._inlinePartials=e.inlinePartials):(t.root=t,t.parent=t.container=null)}function cs(){throw new Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead")}function ls(t,e,n){this.parentFragment=t.parentFragment,this.callback=n,this.fragment=new ny({template:e,root:t.root,owner:this}),this.update()}function fs(t,e,n){var r;return e.r?r=jr(t,e.r,n):e.x?r=new jp(t,t.parentFragment,e.x,n):e.rx&&(r=new Pp(t,e.rx,n)),r}function hs(t){return 1===t.length&&t[0].t===xl}function ps(t,e){var n;for(n in e)e.hasOwnProperty(n)&&ds(t.instance,t.root,n,e[n])}function ds(t,e,n,r){"string"!=typeof r&&f("Components currently only support simple events - you cannot include arguments. Sorry!"),t.on(n,function(){var t,n;return arguments.length&&arguments[0]&&arguments[0].node&&(t=Array.prototype.shift.call(arguments)),n=Array.prototype.slice.call(arguments),de(e,r,{event:t,args:n}),!1})}function vs(t,e){var n,r;if(!e)throw new Error('Component "'+this.name+'" not found');n=this.parentFragment=t.parentFragment,r=n.root,this.root=r,this.type=Pl,this.name=t.template.e,this.index=t.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],Fm(this,e,t.template.a,t.template.f,t.template.p),ps(this,t.template.v),(t.template.t1||t.template.t2||t.template.o)&&v('The "intro", "outro" and "decorator" directives have no effect on components',{ractive:this.instance}),Bm(this)}function gs(t,e){function n(n){n.rebind(t,e)}var r;this.resolvers.forEach(n);for(var i in this.yielders)this.yielders[i][0]&&n(this.yielders[i][0]);(r=this.root._liveComponentQueries["_"+this.name])&&r._makeDirty()}function ms(){var t=this.instance;return t.render(this.parentFragment.getNode()),this.rendered=!0,t.fragment.detach()}function ys(){return this.instance.fragment.toString()}function bs(){var t=this.instance;this.resolvers.forEach(H),ws(this),t.fragment.unbind(),t.viewmodel.teardown(),t.fragment.rendered&&t.el.__ractive_instances__&&F(t.el.__ractive_instances__,t),zm.fire(t)}function ws(t){var e,n;e=t.root;do(n=e._liveComponentQueries["_"+t.name])&&n._remove(t);while(e=e.parent)}function _s(t){this.shouldDestroy=t,this.instance.unrender()}function xs(t){var e=this;this.owner=t.owner,this.parent=this.owner.parentFragment,this.root=t.root,this.pElement=t.pElement,this.context=t.context,this.index=t.index,this.key=t.key,this.registeredIndexRefs=[],this.cssIds="cssIds"in t?t.cssIds:this.parent?this.parent.cssIds:null,this.items=t.template.map(function(n,r){return Es({parentFragment:e,pElement:t.pElement,template:n,index:r})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function Es(t){if("string"==typeof t.template)return new xp(t);switch(t.template.t){case Il:return new Ym(t);case xl:return new Np(t);case Sl:return new ed(t);case El:return new vd(t);case Cl:var e=void 0;return(e=ua(t.parentFragment.root,t.template.e))?new $m(t,e):new Sg(t);case kl:return new Og(t);case jl:return new Hm(t);case Fl:return new Xm(t);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function Ss(t,e){(!this.owner||this.owner.hasContext)&&x(this,"context",t,e),this.items.forEach(function(n){n.rebind&&n.rebind(t,e)})}function Ts(){var t;return 1===this.items.length?t=this.items[0].render():(t=document.createDocumentFragment(),this.items.forEach(function(e){t.appendChild(e.render())})),this.rendered=!0,t}function As(t){return this.items?this.items.map(t?ks:Cs).join(""):""}function Cs(t){return t.toString()}function ks(t){return t.toString(!0)}function js(){this.bound&&(this.items.forEach(Os),this.bound=!1)}function Os(t){t.unbind&&t.unbind()}function Rs(t){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(e){return e.unrender(t)}),this.rendered=!1}function Ms(t){var e,n,r,i,o;if(t=t||{},"object"!=typeof t)throw new Error("The reset method takes either no arguments, or an object containing new data");for((n=this.viewmodel.wrapped[""])&&n.reset?n.reset(t)===!1&&this.viewmodel.reset(t):this.viewmodel.reset(t),r=rp.reset(this),i=r.length;i--;)if(ay.indexOf(r[i])>-1){o=!0;break}if(o){var a=void 0;this.viewmodel.mark(Wu),(a=this.component)&&(a.shouldDestroy=!0),this.unrender(),a&&(a.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new ny({template:this.template,root:this,owner:this})),e=this.render(this.el,this.anchor)}else e=nc.start(this,!0),this.viewmodel.mark(Wu),nc.end();return sy.fire(this,t),e}function Ps(t){var e,n;np.init(null,this,{template:t}),e=this.transitionsEnabled,this.transitionsEnabled=!1,(n=this.component)&&(n.shouldDestroy=!0),this.unrender(),n&&(n.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new ny({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=e}function Is(t,e){var n,r;if(r=nc.start(this,!0),c(t)){n=t;for(t in n)n.hasOwnProperty(t)&&(e=n[t],Ls(this,t,e))}else Ls(this,t,e);return nc.end(),r}function Ls(t,e,n){e=S(C(e)),e.isPattern?T(t,e).forEach(function(e){t.viewmodel.set(e,n)}):t.viewmodel.set(e,n)}function Fs(t,e){return k(this,t,void 0===e?-1:-e)}function Bs(){var t;return this.fragment.unbind(),this.viewmodel.teardown(),this.fragment.rendered&&this.el.__ractive_instances__&&F(this.el.__ractive_instances__,this),this.shouldDestroy=!0,t=this.fragment.rendered?this.unrender():Qu.resolve(),my.fire(this),this._boundFunctions.forEach(Ns),t}function Ns(t){delete t.fn[t.prop]}function Ds(t){var e=this;if("string"!=typeof t)throw new TypeError(Ru);var n=void 0;return/\*/.test(t)?(n={},T(this,S(C(t))).forEach(function(t){n[t.str]=!e.viewmodel.get(t)}),this.set(n)):this.set(t,!this.get(t))}function Us(){return this.fragment.toString(!0)}function qs(){var t,e;if(!this.fragment.rendered)return v("ractive.unrender() was called on a Ractive instance that was not rendered"),Qu.resolve();for(t=nc.start(this,!0),e=!this.component||this.component.shouldDestroy||this.shouldDestroy;this._animations[0];)this._animations[0].stop();return this.fragment.unrender(e),F(this.el.__ractive_instances__,this),_y.fire(this),nc.end(),t}function Ws(t){var e;return t=S(t)||Wu,e=nc.start(this,!0),this.viewmodel.mark(t),nc.end(),Sy.fire(this,t),e}function zs(t,e){var n,r,i;if("string"!=typeof t||e){i=[];for(r in this._twowayBindings)(!t||S(r).equalsOrStartsWith(t))&&i.push.apply(i,this._twowayBindings[r])}else i=this._twowayBindings[t];return n=Vs(this,i),this.set(n)}function Vs(t,e){var n={},r=[];return e.forEach(function(t){var e,i;if(!t.radioName||t.element.node.checked){if(t.checkboxName)return void(r[t.keypath.str]||t.changed()||(r.push(t.keypath),r[t.keypath.str]=t));e=t.attribute.value,i=t.getValue(),P(e,i)||s(e,i)||(n[t.keypath.str]=i)}}),r.length&&r.forEach(function(t){var e,i,o;e=r[t.str],i=e.attribute.value,o=e.getValue(),P(i,o)||(n[t.str]=o)}),n}function Gs(t,e){return"function"==typeof e&&/_super/.test(t)}function $s(t){for(var e={};t;)Hs(t,e),Xs(t,e),t=t._Parent!==ry?t._Parent:!1;return e}function Hs(t,e){Qh.forEach(function(n){Ys(n.useDefaults?t.prototype:t,e,n.name)})}function Ys(t,e,n){var r,i=Object.keys(t[n]);i.length&&((r=e[n])||(r=e[n]={}),i.filter(function(t){return!(t in r)}).forEach(function(e){return r[e]=t[n][e]}))}function Xs(t,e){Object.keys(t.prototype).forEach(function(n){if("computed"!==n){var r=t.prototype[n];if(n in e){if("function"==typeof e[n]&&"function"==typeof r&&e[n]._method){var i=void 0,o=r._method;o&&(r=r._method),i=Cy(e[n]._method,r),o&&(i._method=i),e[n]=i}}else e[n]=r._method?r._method:r}})}function Js(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return e.length?e.reduce(Ks,this):Ks(this)}function Ks(t){var e,n,i=void 0===arguments[1]?{}:arguments[1];return i.prototype instanceof ry&&(i=ky(i)),e=function(t){return this instanceof e?void Lm(this,t):new e(t)},n=bu(t.prototype),n.constructor=e,_u(e,{defaults:{value:n},extend:{value:Js,writable:!0,configurable:!0},_Parent:{value:t}}),rp.extend(t,n,i),gl.extend(t,n,i),i.computed&&(n.computed=r(bu(t.prototype.computed),i.computed)),e.prototype=n,e}var Qs,Zs,tu,eu,nu,ru,iu,ou=3,au={el:void 0,append:!1,template:{v:ou,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},su=au,uu={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}};Qs="object"==typeof document,Zs="undefined"!=typeof navigator&&/jsDom/.test(navigator.appName),tu="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),eu=!0}catch(cu){eu=!1}nu={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ru="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),iu=["o","ms","moz","webkit"];var lu,fu,hu,pu,du,vu,gu,mu,yu;if(lu=ru?function(t,e){return e&&e!==nu.html?document.createElementNS(e,t):document.createElement(t)}:function(t,e){if(e&&e!==nu.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(t)},Qs){for(hu=lu("div"),pu=["matches","matchesSelector"],yu=function(t){return function(e,n){return e[t](n)}},gu=pu.length;gu--&&!fu;)if(du=pu[gu],hu[du])fu=yu(du);else for(mu=iu.length;mu--;)if(vu=iu[gu]+du.substr(0,1).toUpperCase()+du.substring(1),hu[vu]){fu=yu(vu);break}fu||(fu=function(t,e){var n,r,i;for(r=t.parentNode,r||(hu.innerHTML="",r=hu,t=t.cloneNode(),hu.appendChild(t)),n=r.querySelectorAll(e),i=n.length;i--;)if(n[i]===t)return!0;return!1})}else fu=null;var bu,wu,_u;try{Object.defineProperty({},"test",{value:0}),Qs&&Object.defineProperty(document.createElement("div"),"test",{value:0}),wu=Object.defineProperty}catch(xu){wu=function(t,e,n){t[e]=n.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(xu){throw xu}Qs&&Object.defineProperties(lu("div"),{test:{value:0}}),_u=Object.defineProperties}catch(xu){_u=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&wu(t,n,e[n])}}try{Object.create(null),bu=Object.create}catch(xu){bu=function(){var t=function(){};return function(e,n){var r;return null===e?{}:(t.prototype=e,r=new t,n&&Object.defineProperties(r,n),r)}}()}var Eu,Su,Tu,Au=Object.prototype.hasOwnProperty,Cu=Object.prototype.toString,ku=/^\[object (?:Array|FileList)\]$/,ju=function(){},Ou={};tu?!function(){var t=["%cRactive.js %c0.7.1 %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"],e="You're running Ractive <@version@> in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n";Tu=function(){var n=!!console.groupCollapsed;console[n?"groupCollapsed":"log"].apply(console,t),console.log(e),n&&console.groupEnd(t),Tu=ju},Su=function(t,e){if(Tu(),"object"==typeof e[e.length-1]){var n=e.pop(),r=n.ractive;if(r){var i=void 0;r.component&&(i=r.component.name)&&(t="<"+i+"> "+t);var o=void 0;(o=n.node||r.fragment&&r.fragment.rendered&&r.find("*"))&&e.push(o)}}console.warn.apply(console,["%cRactive.js: %c"+t,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(e))},Eu=function(){console.log.apply(console,arguments)}}():Su=Eu=Tu=ju;var Ru="Bad arguments",Mu='A function was specified for "%s" %s, but no %s was returned',Pu=function(t,e){return'Missing "'+t+'" '+e+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+e+"s"},Iu=function(t,e,n,r){if(t===e)return b(e);if(r){var i=m("interpolators",n,r);if(i)return i(t,e)||b(e);f(Pu(r,"interpolator"))}return Lu.number(t,e)||Lu.array(t,e)||Lu.object(t,e)||b(e)},Lu={number:function(t,e){var n;return u(t)&&u(e)?(t=+t,e=+e,n=e-t,n?function(e){return t+e*n}:function(){return t}):null},array:function(t,e){var n,r,i,a;if(!o(t)||!o(e))return null;for(n=[],r=[],a=i=Math.min(t.length,e.length);a--;)r[a]=Iu(t[a],e[a]);for(a=i;a<t.length;a+=1)n[a]=t[a];for(a=i;a<e.length;a+=1)n[a]=e[a];return function(t){for(var e=i;e--;)n[e]=r[e](t);return n}},object:function(t,e){var n,r,i,o,a;if(!c(t)||!c(e))return null;n=[],o={},i={};for(a in t)Au.call(t,a)&&(Au.call(e,a)?(n.push(a),i[a]=Iu(t[a],e[a])):o[a]=t[a]);for(a in e)Au.call(e,a)&&!Au.call(t,a)&&(o[a]=e[a]);return r=n.length,function(t){for(var e,a=r;a--;)e=n[a],o[e]=i[e](t);return o}}},Fu={},Bu=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,Nu=/\*/,Du={},Uu=function(t){var e=t.split(".");this.str=t,"@"===t[0]&&(this.isSpecial=!0,this.value=E(t)),this.firstKey=e[0],this.lastKey=e.pop(),this.isPattern=Nu.test(t),this.parent=""===t?null:S(e.join(".")),this.isRoot=!t};Uu.prototype={equalsOrStartsWith:function(t){return t===this||this.startsWith(t)},join:function(t){return S(this.isRoot?String(t):this.str+"."+t)},replace:function(t,e){return this===t?e:this.startsWith(t)?null===e?e:S(this.str.replace(t.str+".",e.str+".")):void 0},startsWith:function(t){return t?t&&this.str.substr(0,t.str.length+1)===t.str+".":!1},toString:function(){throw new Error("Bad coercion")},valueOf:function(){throw new Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=w(this.str))}};var qu,Wu=S(""),zu="Cannot add to a non-numeric value",Vu=j;"undefined"==typeof window?qu=null:(!function(t,e,n){var r,i;if(!n.requestAnimationFrame){for(r=0;r<t.length&&!n.requestAnimationFrame;++r)n.requestAnimationFrame=n[t[r]+"RequestAnimationFrame"];n.requestAnimationFrame||(i=n.setTimeout,n.requestAnimationFrame=function(t){var n,r,o;return n=Date.now(),r=Math.max(0,16-(n-e)),o=i(function(){t(n+r)},r),e=n+r,o})}}(iu,0,window),qu=window.requestAnimationFrame);var Gu,$u=qu;Gu="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var Hu={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};O.prototype.fire=function(t,e){function n(n){return t[n]?(e?t[n](e):t[n](),!0):void 0}n(this.method),!t[this.method]&&this.deprecate&&n(this.deprecate.deprecated)&&(this.deprecate.message?v(this.deprecate.message):v('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),e?t.fire(this.event,e):t.fire(this.event)};var Yu,Xu={},Ju={},Ku={};"function"==typeof Promise?Yu=Promise:(Yu=function(t){var e,n,r,i,o,a,s=[],u=[],c=Xu;r=function(t){return function(r){c===Xu&&(e=r,c=t,n=D(c===Ju?s:u,e),N(n))}},i=r(Ju),o=r(Ku);try{t(i,o)}catch(l){o(l)}return a={then:function(t,e){var r=new Yu(function(i,o){var a=function(t,e,n){e.push("function"==typeof t?function(e){var n;try{n=t(e),U(r,n,i,o)}catch(a){o(a)}}:n)};a(t,s,i),a(e,u,o),c!==Xu&&N(n)});return r}},a["catch"]=function(t){return this.then(null,t)},a},Yu.all=function(t){return new Yu(function(e,n){var r,i,o,a=[];if(!t.length)return void e(a);for(o=function(t,i){t&&"function"==typeof t.then?t.then(function(t){a[i]=t,--r||e(a)},n):(a[i]=t,--r||e(a))},r=i=t.length;i--;)o(t[i],i)})},Yu.resolve=function(t){return new Yu(function(e){e(t)})},Yu.reject=function(t){return new Yu(function(e,n){n(t)})});var Qu=Yu,Zu=function(t){do if(void 0!==t.context)return t.context;while(t=t.parent);return Wu},tc=function(t,e){this.callback=t,this.parent=e,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,e&&e.addChild(this)};tc.prototype={addChild:function(t){this.children.push(t),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,K(this)},decrementTotal:function(){this.totalChildren-=1,K(this)},add:function(t){var e=t.isIntro?this.intros:this.outros;e.push(t)},addDecorator:function(t){this.decoratorQueue.push(t)},remove:function(t){var e=t.isIntro?this.intros:this.outros;F(e,t),K(this)},init:function(){this.ready=!0,K(this)},detachNodes:function(){this.decoratorQueue.forEach($),this.detachQueue.forEach(X),this.children.forEach(J)}};var ec,nc,rc=[],ic=new O("change");nc={start:function(t,e){var n,r;return e&&(n=new Qu(function(t){return r=t})),ec={previousBatch:ec,transitionManager:new tc(r,ec&&ec.transitionManager),views:[],tasks:[],ractives:[],instance:t},t&&ec.ractives.push(t),n},end:function(){Q(),ec.transitionManager.init(),!ec.previousBatch&&ec.instance&&(ec.instance.viewmodel.changes=[]),ec=ec.previousBatch},addRactive:function(t){ec&&R(ec.ractives,t)},registerTransition:function(t){t._manager=ec.transitionManager,ec.transitionManager.add(t)},registerDecorator:function(t){ec.transitionManager.addDecorator(t)},addView:function(t){ec.views.push(t)},addUnresolved:function(t){rc.push(t)},removeUnresolved:function(t){F(rc,t)},detachWhenReady:function(t){ec.transitionManager.detachQueue.push(t)},scheduleTask:function(t,e){var n;if(ec){for(n=ec;e&&n.previousBatch;)n=n.previousBatch;n.tasks.push(t)}else t()}};var oc=[],ac={tick:function(){var t,e,n;for(n=Gu(),nc.start(),t=0;t<oc.length;t+=1)e=oc[t],e.tick(n)||oc.splice(t--,1);nc.end(),oc.length?$u(ac.tick):ac.running=!1},add:function(t){oc.push(t),ac.running||(ac.running=!0,$u(ac.tick))},abort:function(t,e){for(var n,r=oc.length;r--;)n=oc[r],n.root===e&&n.keypath===t&&n.stop()}},sc=ac,uc=function(t){var e;this.startTime=Date.now();for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.interpolator=Iu(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};uc.prototype={tick:function(){var t,e,n,r,i,o;return o=this.keypath,this.running?(r=Date.now(),t=r-this.startTime,t>=this.duration?(null!==o&&(nc.start(this.root),this.root.viewmodel.set(o,this.to),nc.end()),this.step&&this.step(1,this.to),this.complete(this.to),i=this.root._animations.indexOf(this),-1===i&&v("Animation was not found"),this.root._animations.splice(i,1),this.running=!1,!1):(e=this.easing?this.easing(t/this.duration):t/this.duration,null!==o&&(n=this.interpolator(e),nc.start(this.root),this.root.viewmodel.set(o,n),nc.end()),this.step&&this.step(e,n),!0)):!1},stop:function(){var t;this.running=!1,t=this.root._animations.indexOf(this),-1===t&&v("Animation was not found"),this.root._animations.splice(t,1)}};var cc=ee,lc={stop:ju},fc=re,hc=new O("detach"),pc=ie,dc=oe,vc=function(){var t,e,n;t=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],e=this.selector,n=t.indexOf(e),-1!==n&&(t.splice(n,1),t[e]=null)},gc=function(t,e){var n,r,i,o,a,s,u,c,l,f;for(n=se(t.component||t._ractive.proxy),r=se(e.component||e._ractive.proxy),i=L(n),o=L(r);i&&i===o;)n.pop(),r.pop(),a=i,i=L(n),o=L(r);if(i=i.component||i,o=o.component||o,l=i.parentFragment,f=o.parentFragment,l===f)return s=l.items.indexOf(i),u=f.items.indexOf(o),s-u||n.length-r.length;if(c=a.fragments)return s=c.indexOf(l),u=c.indexOf(f),s-u||n.length-r.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},mc=function(t,e){var n;return t.compareDocumentPosition?(n=t.compareDocumentPosition(e),2&n?1:-1):gc(t,e)},yc=function(){this.sort(this._isComponentQuery?gc:mc),this._dirty=!1},bc=function(){var t=this;this._dirty||(this._dirty=!0,nc.scheduleTask(function(){t._sort()}))},wc=function(t){var e=this.indexOf(this._isComponentQuery?t.instance:t);-1!==e&&this.splice(e,1)},_c=ce,xc=le,Ec=fe,Sc=he,Tc=pe,Ac={enqueue:function(t,e){t.event&&(t._eventQueue=t._eventQueue||[],t._eventQueue.push(t.event)),t.event=e},dequeue:function(t){t._eventQueue&&t._eventQueue.length?t.event=t._eventQueue.pop():delete t.event}},Cc=me,kc=ye,jc={capture:!0,noUnwrap:!0,fullRootGet:!0},Oc=be,Rc=new O("insert"),Mc=_e,Pc=function(t,e,n,r){this.root=t,this.keypath=e,this.callback=n,this.defer=r.defer,this.context=r&&r.context?r.context:t};Pc.prototype={init:function(t){this.value=this.root.get(this.keypath.str),t!==!1?this.update():this.oldValue=this.value},setValue:function(t){var e=this;s(t,this.value)||(this.value=t,this.defer&&this.ready?nc.scheduleTask(function(){return e.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1)}};var Ic,Lc=Array.prototype.slice;Ic=function(t,e,n,r){this.root=t,this.callback=n,this.defer=r.defer,this.keypath=e,this.regex=new RegExp("^"+e.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=r&&r.context?r.context:t},Ic.prototype={init:function(t){var e,n;if(e=xe(this.root,this.keypath),t!==!1)for(n in e)e.hasOwnProperty(n)&&this.update(S(n));else this.values=e},update:function(t){var e,n=this;if(t.isPattern){e=xe(this.root,t);for(t in e)e.hasOwnProperty(t)&&this.update(S(t))}else if(!this.root.viewmodel.implicitChanges[t.str])return this.defer&&this.ready?void nc.scheduleTask(function(){return n.getProxy(t).update()}):void this.reallyUpdate(t)},reallyUpdate:function(t){var e,n,r,i;return e=t.str,n=this.root.viewmodel.get(t),this.updating?void(this.values[e]=n):(this.updating=!0,s(n,this.values[e])&&this.ready||(r=Lc.call(this.regex.exec(e),1),i=[n,this.values[e],e].concat(r),this.values[e]=n,this.callback.apply(this.context,i)),void(this.updating=!1))},getProxy:function(t){var e=this;return this.proxies[t.str]||(this.proxies[t.str]={update:function(){return e.reallyUpdate(t)}}),this.proxies[t.str]}};var Fc,Bc,Nc,Dc,Uc,qc,Wc={},zc=Se,Vc=Te,Gc=function(t){return t.trim()},$c=function(t){return""!==t},Hc=Ae,Yc=Ce,Xc=ke,Jc=Array.prototype,Kc=function(t){return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];var a,s,u,c,l=[];if(e=S(C(e)),a=this.viewmodel.get(e),s=a.length,!o(a))throw new Error("Called ractive."+t+"('"+e.str+"'), but '"+e.str+"' does not refer to an array");return l=je(a,t,r),c=Jc[t].apply(a,r),u=nc.start(this,!0).then(function(){return c}),l?this.viewmodel.smartUpdate(e,a,l):this.viewmodel.mark(e),nc.end(),u}},Qc=Kc("pop"),Zc=Kc("push"),tl="/* Ractive.js component styles */\n",el=[],nl=!1;Qs?(Nc=document.createElement("style"),Nc.type="text/css",Dc=document.getElementsByTagName("head")[0],qc=!1,Uc=Nc.styleSheet,Bc=function(){var t=tl+el.map(function(t){return"\n/* {"+t.id+"} */\n"+t.styles}).join("\n");Uc?Uc.cssText=t:Nc.innerHTML=t,qc||(Dc.appendChild(Nc),qc=!0)},Fc={add:function(t){el.push(t),nl=!0},apply:function(){nl&&(Bc(),nl=!1)}}):Fc=null;var rl,il,ol=Re,al=new O("render"),sl=new O("complete"),ul={extend:function(t,e,n){e.adapt=Pe(e.adapt,I(n.adapt))},init:function(){}},cl=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,ll=/\/\*.*?\*\//g,fl=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,hl=/^@media/,pl=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g,dl=1,vl={name:"css",extend:function(t,e,n){if(n.css){var r=dl++,i=n.noCssTransform?n.css:Ie(n.css,r);e.cssId=r,Fc.add({id:r,styles:i})}},init:function(){}},gl={name:"data",extend:function(t,e,n){var r=void 0,i=void 0;if(n.data&&c(n.data))for(r in n.data)i=n.data[r],i&&"object"==typeof i&&(c(i)||o(i))&&v("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");e.data=Ne(e.data,n.data)},init:function(t,e,n){var r=Ne(t.prototype.data,n.data);return"function"==typeof r&&(r=r.call(e)),r||{}},reset:function(t){var e=this.init(t.constructor,t,t.viewmodel);return t.viewmodel.reset(e),!0}},ml=/^\s+/;il=function(t){this.name="ParseError",this.message=t;try{throw new Error(t)}catch(e){this.stack=e.stack}},il.prototype=Error.prototype,rl=function(t,e){var n,r,i=0;for(this.str=t,this.options=e||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(t){var e=i+t.length+1;return i=e,e},0),this.init&&this.init(t,e),n=[];this.pos<this.str.length&&(r=this.read());)n.push(r);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,e):n},rl.prototype={read:function(t){var e,n,r,i;for(t||(t=this.converters),e=this.pos,r=t.length,n=0;r>n;n+=1)if(this.pos=e,i=t[n](this))return i;return null},getLinePos:function(t){for(var e,n=0,r=0;t>=this.lineEnds[n];)r=this.lineEnds[n],n+=1;return e=t-r,[n+1,e+1,t]},error:function(t){var e=this.getLinePos(this.pos),n=e[0],r=e[1],i=this.lines[e[0]-1],o=0,a=i.replace(/\t/g,function(t,n){return n<e[1]&&(o+=1),"  "})+"\n"+new Array(e[1]+o).join(" ")+"^----",s=new il(""+t+" at line "+n+" character "+r+":\n"+a);throw s.line=e[0],s.character=e[1],s.shortMessage=t,s},matchString:function(t){return this.str.substr(this.pos,t.length)===t?(this.pos+=t.length,t):void 0},matchPattern:function(t){var e;return(e=t.exec(this.remaining()))?(this.pos+=e[0].length,e[1]||e[0]):void 0},allowWhitespace:function(){this.matchPattern(ml)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},rl.extend=function(t){var e,n,r=this;e=function(t,e){rl.call(this,t,e)},e.prototype=bu(r.prototype);for(n in t)Au.call(t,n)&&(e.prototype[n]=t[n]);return e.extend=rl.extend,e};var yl,bl,wl,_l=1,xl=2,El=3,Sl=4,Tl=5,Al=6,Cl=7,kl=8,jl=9,Ol=10,Rl=13,Ml=14,Pl=15,Il=16,Ll=17,Fl=18,Bl=20,Nl=21,Dl=22,Ul=23,ql=24,Wl=25,zl=26,Vl=27,Gl=30,$l=31,Hl=32,Yl=33,Xl=34,Jl=35,Kl=36,Ql=40,Zl=50,tf=51,ef=52,nf=53,rf=54,of=60,af=61,sf=/^[^\s=]+/,uf=/^\s+/,cf=We,lf=/^(\/(?:[^\n\r\u2028\u2029/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/,ff={t:Ol,exclude:!0},hf="Expected a JavaScript expression",pf="Expected closing paren",df=Ge,vf=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;yl=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,bl=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,wl=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var gf,mf,yf=function(t){return function(e){var n,r,i,o;for(n=e.pos,r='"',i=!1;!i;)o=e.matchPattern(yl)||e.matchPattern(bl)||e.matchString(t),o?r+='"'===o?'\\"':"\\'"===o?"'":o:(o=e.matchPattern(wl),o?r+="\\u"+("000"+o.charCodeAt(1).toString(16)).slice(-4):i=!0);return r+='"',JSON.parse(r)}},bf=yf('"'),wf=yf("'"),_f=function(t){var e,n;return e=t.pos,t.matchString('"')?(n=wf(t),t.matchString('"')?{t:Nl,v:n}:(t.pos=e,null)):t.matchString("'")?(n=bf(t),t.matchString("'")?{t:Nl,v:n}:(t.pos=e,null)):null},xf=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Ef=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Sf=Ye,Tf=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("{")?(n=Xe(t),t.allowWhitespace(),t.matchString("}")?{t:Ul,m:n}:(t.pos=e,null)):(t.pos=e,null)},Af=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("[")?(n=Je(t),t.matchString("]")?{t:Dl,m:n}:(t.pos=e,null)):(t.pos=e,null)},Cf=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/;gf=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)\b/,mf=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var kf,jf,Of=/^[a-zA-Z$_0-9]+(?:(?:\.[a-zA-Z$_0-9]+)|(?:\[[0-9]+\]))*/,Rf=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,Mf=function(t){return Ke(t)||Qe(t)||Ze(t)},Pf=function(t){var e,n,r,i;if(n=Mf(t),!n)return null;for(;n;)if(e=t.pos,r=tn(t))n={t:Hl,x:n,r:r};else{if(!t.matchString("("))break;t.allowWhitespace(),i=Je(t),t.allowWhitespace(),t.matchString(")")||t.error(pf),n={t:Ql,x:n},i&&(n.o=i)}return n};jf=function(t,e){return function(n){var r;return(r=e(n))?r:n.matchString(t)?(n.allowWhitespace(),r=nn(n),r||n.error(hf),{s:t,o:r,t:Yl}):null}},function(){var t,e,n,r,i;for(r="! ~ + - typeof".split(" "),i=Pf,t=0,e=r.length;e>t;t+=1)n=jf(r[t],i),i=n;kf=i}();var If,Lf,Ff=kf;Lf=function(t,e){return function(n){var r,i,o;if(i=e(n),!i)return null;for(;;){if(r=n.pos,n.allowWhitespace(),!n.matchString(t))return n.pos=r,i;if("in"===t&&/[a-zA-Z_$0-9]/.test(n.remaining().charAt(0)))return n.pos=r,i;if(n.allowWhitespace(),o=e(n),!o)return n.pos=r,i;i={t:Kl,s:t,o:[i,o]}}}},function(){var t,e,n,r,i;for(r="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),i=Ff,t=0,e=r.length;e>t;t+=1)n=Lf(r[t],i),i=n;If=i}();var Bf,Nf,Df,Uf,qf,Wf,zf,Vf,Gf=en,$f=/^[0-9][1-9]*$/,Hf=fn,Yf=/^yield\s*/,Xf=gn,Jf=/^\s*else\s*/,Kf=mn,Qf=/^\s*elseif\s+/,Zf={each:ef,"if":Zl,"if-with":rf,"with":nf,unless:tf},th=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,eh=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,nh=new RegExp("^("+Object.keys(Zf).join("|")+")\\b"),rh="<!--",ih="-->";Bf=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,Nf=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,Df={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Uf=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],qf=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(Df).join("|")+"));?","g"),Wf=/</g,zf=/>/g,Vf=/&/g;
var oh,ah,sh,uh,ch,lh,fh,hh=/^\s*\r?\n/,ph=/\r?\n\s*$/,dh=function(t){var e,n,r,i,o;for(e=1;e<t.length;e+=1)n=t[e],r=t[e-1],i=t[e-2],Cn(n)&&kn(r)&&Cn(i)&&ph.test(i)&&hh.test(n)&&(t[e-2]=i.replace(ph,"\n"),t[e]=n.replace(hh,"")),jn(n)&&Cn(r)&&ph.test(r)&&Cn(n.f[0])&&hh.test(n.f[0])&&(t[e-1]=r.replace(ph,"\n"),n.f[0]=n.f[0].replace(hh,"")),Cn(n)&&jn(r)&&(o=L(r.f),Cn(o)&&ph.test(o)&&hh.test(n)&&(r.f[r.f.length-1]=o.replace(ph,"\n"),t[e]=n.replace(hh,"")));return t},vh=/^[ \t\f\r\n]+/,gh=/[ \t\f\r\n]+$/,mh=function(t,e,n){var r;e&&(r=t[0],"string"==typeof r&&(r=r.replace(vh,""),r?t[0]=r:t.shift())),n&&(r=L(t),"string"==typeof r&&(r=r.replace(gh,""),r?t[t.length-1]=r:t.pop()))},yh=/[ \t\f\r\n]+/g,bh=/^(?:pre|script|style|textarea)$/i,wh=/^\s+/,_h=/\s+$/,xh=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,Eh=function(t,e){var n,r,i;for(n=e.length;n--;){if(r=t.indexOf(e[n]),!r)return 0;-1!==r&&(!i||i>r)&&(i=r)}return i||-1},Sh=/^[^\s"'>\/=]+/,Th=/^[^\s"'=<>`]+/;ah={"true":!0,"false":!1,undefined:void 0,"null":null},sh=new RegExp("^(?:"+Object.keys(ah).join("|")+")"),uh=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,ch=/\$\{([^\}]+)\}/g,lh=/^\$\{([^\}]+)\}/,fh=/^\s*$/,oh=rl.extend({init:function(t,e){this.values=e.values,this.allowWhitespace()},postProcess:function(t){return 1===t.length&&fh.test(this.leftover)?{value:t[0].v}:null},converters:[function(t){var e;return t.values?(e=t.matchPattern(lh),e&&t.values.hasOwnProperty(e)?{v:t.values[e]}:void 0):null},function(t){var e;return(e=t.matchPattern(sh))?{v:ah[e]}:void 0},function(t){var e;return(e=t.matchPattern(uh))?{v:+e}:void 0},function(t){var e,n=_f(t);return n&&(e=t.values)?{v:n.v.replace(ch,function(t,n){return n in e?e[n]:n})}:n},function(t){var e,n;if(!t.matchString("{"))return null;if(e={},t.allowWhitespace(),t.matchString("}"))return{v:e};for(;n=Nn(t);){if(e[n.key]=n.value,t.allowWhitespace(),t.matchString("}"))return{v:e};if(!t.matchString(","))return null}return null},function(t){var e,n;if(!t.matchString("["))return null;if(e=[],t.allowWhitespace(),t.matchString("]"))return{v:e};for(;n=t.read();){if(e.push(n.v),t.allowWhitespace(),t.matchString("]"))return{v:e};if(!t.matchString(","))return null;t.allowWhitespace()}return null}]});var Ah,Ch=function(t,e){var n=new oh(t,{values:e});return n.result},kh=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/,jh=/\)\s*$/;Ah=rl.extend({converters:[nn]});var Oh,Rh=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,Mh=/^[\s\n\/>]/,Ph=/^on/,Ih=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,Lh=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,Fh={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},Bh={exclude:!0};Oh={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var Nh,Dh=/[-/\\^$*+?.()|[\]{}]/g,Uh=/^<!--\s*/,qh=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,Wh=/\s*-->/,zh=/^#\s*partial\s+/,Vh=[ln,cn,yn,dn,pn,Hf],Gh=[un],$h=[cn,yn,pn],Hh=void 0,Yh=[ze,En,Un,Wn],Xh=[Vn,Gn];Hh=rl.extend({init:function(t,e){var n=e.tripleDelimiters||["{{{","}}}"],r=e.staticDelimiters||["[[","]]"],i=e.staticTripleDelimiters||["[[[","]]]"];this.standardDelimiters=e.delimiters||["{{","}}"],this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:Vh},{isStatic:!1,isTriple:!0,open:n[0],close:n[1],readers:Gh},{isStatic:!0,isTriple:!1,open:r[0],close:r[1],readers:$h},{isStatic:!0,isTriple:!0,open:i[0],close:i[1],readers:Gh}],this.sortMustacheTags(),this.sectionDepth=0,this.elementStack=[],this.interpolate={script:!e.interpolate||e.interpolate.script!==!1,style:!e.interpolate||e.interpolate.style!==!1},e.sanitize===!0&&(e.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.stripComments=e.stripComments!==!1,this.preserveWhitespace=e.preserveWhitespace,this.sanitizeElements=e.sanitize&&e.sanitize.elements,this.sanitizeEventAttributes=e.sanitize&&e.sanitize.eventAttributes,this.includeLinePositions=e.includeLinePositions},postProcess:function(t){return t.length?(this.sectionDepth>0&&this.error("A section was left open"),On(t[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace),t[0]):{t:[],v:ou}},converters:[$n],sortMustacheTags:function(){this.tags.sort(function(t,e){return e.open.length-t.open.length})}});var Jh,Kh,Qh,Zh=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],tp={parse:Xn,fromId:Jn,isHashedId:Kn,isParsed:Qn,getParseOptions:Zn,createHelper:Yn},ep=tp,np={name:"template",extend:function(t,e,n){var r;"template"in n&&(r=n.template,e.template="function"==typeof r?r:rr(r,e))},init:function(t,e,n){var r,i;r="template"in n?n.template:t.prototype.template,"function"==typeof r&&(i=r,r=er(e,i),e._config.template={fn:i,result:r}),r=rr(r,e),e.template=r.t,r.p&&ir(e.partials,r.p)},reset:function(t){var e,n=tr(t);return n?(e=rr(n,t),t.template=e.t,ir(t.partials,e.p,!0),!0):void 0}};Jh=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],Kh=function(t,e){this.name=t,this.useDefaults=e},Kh.prototype={constructor:Kh,extend:function(t,e,n){this.configure(this.useDefaults?t.defaults:t,this.useDefaults?e:e.constructor,n)},init:function(){},configure:function(t,e,n){var r,i=this.name,o=n[i];r=bu(t[i]);for(var a in o)r[a]=o[a];e[i]=r},reset:function(t){var e=t[this.name],n=!1;return Object.keys(e).forEach(function(t){var r=e[t];r._fn&&(r._fn.isOwner?e[t]=r._fn:delete e[t],n=!0)}),n}},Qh=Jh.map(function(t){return new Kh(t,"computed"===t)});var rp,ip,op,ap,sp,up,cp=or;ap={adapt:ul,css:vl,data:gl,template:np},op=Object.keys(su),up=hr(op.filter(function(t){return!ap[t]})),sp=hr(op.concat(Qh.map(function(t){return t.name}))),ip=[].concat(op.filter(function(t){return!Qh[t]&&!ap[t]}),Qh,ap.data,ap.template,ap.css),rp={extend:function(t,e,n){return lr("extend",t,e,n)},init:function(t,e,n){return lr("init",t,e,n)},reset:function(t){return ip.filter(function(e){return e.reset&&e.reset(t)}).map(function(t){return t.name})},order:ip};var lp=pr,fp=dr,hp=vr,pp=gr,dp=mr,vp=yr,gp=br,mp=wr,yp=xr,bp=Er,wp=Sr,_p=function(){return e(this.node)},xp=function(t){this.type=_l,this.text=t.template};xp.prototype={detach:_p,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(t){return t?An(this.text):this.text},unrender:function(t){return t?this.detach():void 0}};var Ep=Tr,Sp=Ar,Tp=function(t,e,n){var r;this.ref=e,this.resolved=!1,this.root=t.root,this.parentFragment=t.parentFragment,this.callback=n,r=q(t.root,e,t.parentFragment),void 0!=r?this.resolve(r):nc.addUnresolved(this)};Tp.prototype={resolve:function(t){this.keypath&&!t&&nc.addUnresolved(this),this.resolved=!0,this.keypath=t,this.callback(t)},forceResolution:function(){this.resolve(S(this.ref))},rebind:function(t,e){var n;void 0!=this.keypath&&(n=this.keypath.replace(t,e),void 0!==n&&this.resolve(n))},unbind:function(){this.resolved||nc.removeUnresolved(this)}};var Ap=function(t,e,n){this.parentFragment=t.parentFragment,this.ref=e,this.callback=n,this.rebind()},Cp={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};Ap.prototype={rebind:function(){var t,e=this.ref,n=this.parentFragment,r=Cp[e];if(!r)throw new Error('Unknown special reference "'+e+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(S("@"+r.prefix+Cr(this.cached,r)));if(-1!==r.prop.indexOf("index")||-1!==r.prop.indexOf("key"))for(;n;){if(n.owner.currentSubtype===ef&&void 0!==(t=Cr(n,r)))return this.cached=n,n.registerIndexRef(this),this.callback(S("@"+r.prefix+t));n=!n.parent&&n.owner&&n.owner.component&&n.owner.component.parentFragment&&!n.owner.component.instance.isolated?n.owner.component.parentFragment:n.parent}else for(;n;){if(void 0!==(t=Cr(n,r)))return this.callback(S("@"+r.prefix+t.str));n=n.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var kp=function(t,e,n){this.parentFragment=t.parentFragment,this.ref=e,this.callback=n,e.ref.fragment.registerIndexRef(this),this.rebind()};kp.prototype={rebind:function(){var t,e=this.ref.ref;t="k"===e.ref.t?"k"+e.fragment.key:"i"+e.fragment.index,void 0!==t&&this.callback(S("@"+t))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}},kr.resolve=function(t){var e,n,r={};for(e in t.refs)n=t.refs[e],r[n.ref.n]="k"===n.ref.t?n.fragment.key:n.fragment.index;return r};var jp,Op={},Rp=Function.prototype.bind;jp=function(t,e,n,r){var i,o=this;i=t.root,this.root=i,this.parentFragment=e,this.callback=r,this.owner=t,this.str=n.s,this.keypaths=[],this.pending=n.r.length,this.refResolvers=n.r.map(function(t,e){return jr(o,t,function(t){o.resolve(e,t)})}),this.ready=!0,this.bubble()},jp.prototype={bubble:function(){this.ready&&(this.uniqueString=Mr(this.str,this.keypaths),this.keypath=Pr(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var t;t=this.refResolvers.pop();)t.unbind()},resolve:function(t,e){this.keypaths[t]=e,this.bubble()},createEvaluator:function(){var t,e,n,r,i,o=this;r=this.keypath,t=this.root.viewmodel.computations[r.str],t?this.root.viewmodel.mark(r):(i=Or(this.str,this.refResolvers.length),e=this.keypaths.map(function(t){var e;return"undefined"===t?function(){return void 0}:t.isSpecial?(e=t.value,function(){return e}):function(){var e=o.root.viewmodel.get(t,{noUnwrap:!0,fullRootGet:!0});return"function"==typeof e&&(e=Lr(e,o.root)),e}}),n={deps:this.keypaths.filter(Ir),getter:function(){var t=e.map(Rr);return i.apply(null,t)}},t=this.root.viewmodel.compute(r,n))},rebind:function(t,e){this.refResolvers.forEach(function(n){return n.rebind(t,e)})}};var Mp=function(t,e,n){var r=this;this.resolver=e,this.root=e.root,this.parentFragment=n,this.viewmodel=e.root.viewmodel,"string"==typeof t?this.value=t:t.t===Gl?this.refResolver=jr(this,t.n,function(t){r.resolve(t)}):new jp(e,n,t,function(t){r.resolve(t)})};Mp.prototype={resolve:function(t){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=t,this.value=this.viewmodel.get(t),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(t,e){this.refResolver&&this.refResolver.rebind(t,e)},setValue:function(t){this.value=t,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var Pp=function(t,e,n){var r,i,o,a,s=this;this.parentFragment=a=t.parentFragment,this.root=r=t.root,this.mustache=t,this.ref=i=e.r,this.callback=n,this.unresolved=[],(o=q(r,i,a))?this.base=o:this.baseResolver=new Tp(this,i,function(t){s.base=t,s.baseResolver=null,s.bubble()}),this.members=e.m.map(function(t){return new Mp(t,s,a)}),this.ready=!0,this.bubble()};Pp.prototype={getKeypath:function(){var t=this.members.map(Fr);return!t.every(Br)||this.baseResolver?null:this.base.join(t.join("."))},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(H)},rebind:function(t,e){var n;if(this.base){var r=this.base.replace(t,e);r&&r!==this.base&&(this.base=r,n=!0)}this.members.forEach(function(r){r.rebind(t,e)&&(n=!0)}),n&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=S(this.ref),this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(Nr),this.bubble()}};var Ip=Dr,Lp=Ur,Fp=qr,Bp={getValue:Sp,init:Ip,resolve:Lp,rebind:Fp},Np=function(t){this.type=xl,Bp.init(this,t)};Np.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:Bp.resolve,rebind:Bp.rebind,detach:_p,unbind:Ep,render:function(){return this.node||(this.node=document.createTextNode(n(this.value))),this.node},unrender:function(t){t&&e(this.node)},getValue:Bp.getValue,setValue:function(t){var e;this.keypath&&(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),s(t,this.value)||(this.value=t,this.parentFragment.bubble(),this.node&&nc.addView(this))},firstNode:function(){return this.node},toString:function(t){var e=""+n(this.value);return t?An(e):e}};var Dp=Wr,Up=zr,qp=Vr,Wp=Gr,zp=$r,Vp=Hr,Gp=Yr,$p=Xr,Hp=Jr,Yp=function(t,e){Bp.rebind.call(this,t,e)},Xp=Qr,Jp=Zr,Kp=li,Qp=fi,Zp=hi,td=vi,ed=function(t){this.type=Sl,this.subtype=this.currentSubtype=t.template.n,this.inverted=this.subtype===tf,this.pElement=t.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],t.template.i&&(this.indexRefs=t.template.i.split(",").map(function(t,e){return{n:t,t:0===e?"k":"i"}})),this.renderedFragments=[],this.length=0,Bp.init(this,t)};ed.prototype={bubble:Dp,detach:Up,find:qp,findAll:Wp,findAllComponents:zp,findComponent:Vp,findNextNode:Gp,firstNode:$p,getIndexRef:function(t){if(this.indexRefs)for(var e=this.indexRefs.length;e--;){var n=this.indexRefs[e];if(n.n===t)return n}},getValue:Bp.getValue,shuffle:Hp,rebind:Yp,render:Xp,resolve:Bp.resolve,setValue:Jp,toString:Kp,unbind:Qp,unrender:Zp,update:td};var nd,rd,id=gi,od=mi,ad=yi,sd=bi,ud={};try{lu("table").innerHTML="foo"}catch(xu){nd=!0,rd={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var cd=function(t,e,n){var r,i,o,a,s,u=[];if(null!=t&&""!==t){for(nd&&(i=rd[e.tagName])?(r=wi("DIV"),r.innerHTML=i[0]+t+i[1],r=r.querySelector(".x"),"SELECT"===r.tagName&&(o=r.options[r.selectedIndex])):e.namespaceURI===nu.svg?(r=wi("DIV"),r.innerHTML='<svg class="x">'+t+"</svg>",r=r.querySelector(".x")):(r=wi(e.tagName),r.innerHTML=t,"SELECT"===r.tagName&&(o=r.options[r.selectedIndex]));a=r.firstChild;)u.push(a),n.appendChild(a);if("SELECT"===e.tagName)for(s=u.length;s--;)u[s]!==o&&(u[s].selected=!1)}return u},ld=Ei,fd=Si,hd=Ti,pd=Ai,dd=Ci,vd=function(t){this.type=El,Bp.init(this,t)};vd.prototype={detach:id,find:od,findAll:ad,firstNode:sd,getValue:Bp.getValue,rebind:Bp.rebind,render:ld,resolve:Bp.resolve,setValue:fd,toString:hd,unbind:Ep,unrender:pd,update:dd};var gd,md,yd,bd,wd=function(){this.parentFragment.bubble()},_d=ki,xd=function(t){return this.node?fu(this.node,t)?this.node:this.fragment&&this.fragment.find?this.fragment.find(t):void 0:null},Ed=function(t,e){e._test(this,!0)&&e.live&&(this.liveQueries||(this.liveQueries=[])).push(e),this.fragment&&this.fragment.findAll(t,e)},Sd=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},Td=function(t){return this.fragment?this.fragment.findComponent(t):void 0},Ad=ji,Cd=Oi,kd=Ri,jd=/^true|on|yes|1$/i,Od=/^[0-9]+$/,Rd=function(t,e){var n,r,i;return i=e.a||{},r={},n=i.twoway,void 0!==n&&(r.twoway=0===n||jd.test(n)),n=i.lazy,void 0!==n&&(r.lazy=0!==n&&Od.test(n)?parseInt(n):0===n||jd.test(n)),r},Md=Mi;gd="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),md="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),yd=function(t){for(var e={},n=t.length;n--;)e[t[n].toLowerCase()]=t[n];return e},bd=yd(gd.concat(md));var Pd=function(t){var e=t.toLowerCase();return bd[e]||e},Id=function(t,e){var n,r;if(n=e.indexOf(":"),-1===n||(r=e.substr(0,n),"xmlns"===r))t.name=t.element.namespace!==nu.html?Pd(e):e;else if(e=e.substring(n+1),t.name=Pd(e),t.namespace=nu[r.toLowerCase()],t.namespacePrefix=r,!t.namespace)throw'Unknown namespace ("'+r+'")'},Ld=Ii,Fd=Li,Bd=Fi,Nd={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},Dd=Bi,Ud=Di,qd=Ui,Wd=qi,zd=Wi,Vd=zi,Gd=Vi,$d=Gi,Hd=$i,Yd=Hi,Xd=Yi,Jd=Xi,Kd=Ji,Qd=Ki,Zd=Qi,tv=function(t){this.init(t)};tv.prototype={bubble:Md,init:Ld,rebind:Fd,render:Bd,toString:Dd,unbind:Ud,update:Zd};var ev,nv=function(t,e){var n,r,i=[];for(n in e)"twoway"!==n&&"lazy"!==n&&e.hasOwnProperty(n)&&(r=new tv({element:t,name:n,value:e[n],root:t.root}),i[n]=r,"value"!==n&&i.push(r));return(r=i.value)&&i.push(r),i};"undefined"!=typeof document&&(ev=lu("div"));var rv=function(t,e){this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.attributes=[],this.fragment=new ny({root:t.root,owner:this,template:[e]})};rv.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(t,e){this.fragment.rebind(t,e)},render:function(t){this.node=t,this.isSvg=t.namespaceURI===nu.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var t,e,n=this;t=this.fragment.toString(),e=Zi(t,this.isSvg),this.attributes.filter(function(t){return to(e,t)}).forEach(function(t){n.node.removeAttribute(t.name)}),e.forEach(function(t){n.node.setAttribute(t.name,t.value)}),this.attributes=e},toString:function(){return this.fragment.toString()}};var iv=function(t,e){return e?e.map(function(e){return new rv(t,e)}):[]},ov=function(t){var e,n,r,i;if(this.element=t,this.root=t.root,this.attribute=t.attributes[this.name||"value"],e=this.attribute.interpolator,e.twowayBinding=this,n=e.keypath){if("}"===n.str.slice(-1))return g("Two-way binding does not work with expressions (`%s` on <%s>)",e.resolver.uniqueString,t.name,{ractive:this.root}),!1;if(n.isSpecial)return g("Two-way binding does not work with %s",e.resolver.ref,{ractive:this.root}),!1}else{var o=e.template.r?"'"+e.template.r+"' reference":"expression";v("The %s being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",o,{ractive:this.root}),e.resolver.forceResolution(),n=e.keypath}this.attribute.isTwoway=!0,this.keypath=n,r=this.root.viewmodel.get(n),void 0===r&&this.getInitialValue&&(r=this.getInitialValue(),void 0!==r&&this.root.viewmodel.set(n,r)),(i=eo(t))&&(this.resetValue=r,i.formBindings.push(this))};ov.prototype={handleChange:function(){var t=this;nc.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),nc.scheduleTask(function(){return t.attribute.locked=!1}),nc.end()},rebound:function(){var t,e,n;e=this.keypath,n=this.attribute.interpolator.keypath,e!==n&&(F(this.root._twowayBindings[e.str],this),this.keypath=n,t=this.root._twowayBindings[n.str]||(this.root._twowayBindings[n.str]=[]),t.push(this))},unbind:function(){}},ov.extend=function(t){var e,n=this;return e=function(t){ov.call(this,t),this.init&&this.init()},e.prototype=bu(n.prototype),r(e.prototype,t),e.extend=ov.extend,e};var av,sv=ov,uv=no,cv=sv.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var t=this.element.node;t.addEventListener("change",uv,!1),this.root.lazy||(t.addEventListener("input",uv,!1),t.attachEvent&&t.addEventListener("keyup",uv,!1))},unrender:function(){var t=this.element.node;t.removeEventListener("change",uv,!1),t.removeEventListener("input",uv,!1),t.removeEventListener("keyup",uv,!1)},getValue:function(){return this.element.node.innerHTML}}),lv={},fv=sv.extend({name:"checked",init:function(){this.siblings=ro(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var t=this.element.node;t.addEventListener("change",uv,!1),t.attachEvent&&t.addEventListener("click",uv,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",uv,!1),t.removeEventListener("click",uv,!1)},handleChange:function(){nc.start(this.root),this.siblings.forEach(function(t){t.root.viewmodel.set(t.keypath,t.getValue())}),nc.end()},getValue:function(){return this.element.node.checked},unbind:function(){F(this.siblings,this)}}),hv=sv.extend({name:"name",init:function(){this.siblings=ro(this.root._guid,"radioname",this.keypath.str),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var t=this.element.node;t.name="{{"+this.keypath.str+"}}",t.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),t.addEventListener("change",uv,!1),t.attachEvent&&t.addEventListener("click",uv,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",uv,!1),t.removeEventListener("click",uv,!1)},getValue:function(){var t=this.element.node;return t._ractive?t._ractive.value:t.value},handleChange:function(){this.element.node.checked&&sv.prototype.handleChange.call(this)},rebound:function(t,e){var n;sv.prototype.rebound.call(this,t,e),(n=this.element.node)&&(n.name="{{"+this.keypath.str+"}}")},unbind:function(){F(this.siblings,this)}}),pv=sv.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var t,e;this.checkboxName=!0,this.siblings=ro(this.root._guid,"checkboxes",this.keypath.str),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(t=this.root.viewmodel.get(this.keypath),e=this.element.getAttribute("value"),t.push(e))},unbind:function(){F(this.siblings,this)},render:function(){var t,e,n=this.element.node;t=this.root.viewmodel.get(this.keypath),e=this.element.getAttribute("value"),this.isChecked=o(t)?M(t,e):t==e,n.name="{{"+this.keypath.str+"}}",n.checked=this.isChecked,n.addEventListener("change",uv,!1),n.attachEvent&&n.addEventListener("click",uv,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",uv,!1),t.removeEventListener("click",uv,!1)},changed:function(){var t=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===t},handleChange:function(){this.isChecked=this.element.node.checked,sv.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(io).map(oo)}}),dv=sv.extend({name:"checked",render:function(){var t=this.element.node;t.addEventListener("change",uv,!1),t.attachEvent&&t.addEventListener("click",uv,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",uv,!1),t.removeEventListener("click",uv,!1)},getValue:function(){return this.element.node.checked}}),vv=sv.extend({getInitialValue:function(){var t,e,n,r,i=this.element.options;if(void 0===this.element.getAttribute("value")&&(e=t=i.length,t)){for(;e--;)if(i[e].getAttribute("selected")){n=i[e].getAttribute("value"),r=!0;break}if(!r)for(;++e<t;)if(!i[e].getAttribute("disabled")){n=i[e].getAttribute("value");break}return void 0!==n&&(this.element.attributes.value.value=n),n}},render:function(){this.element.node.addEventListener("change",uv,!1)},unrender:function(){this.element.node.removeEventListener("change",uv,!1)},setValue:function(t){this.root.viewmodel.set(this.keypath,t)},getValue:function(){var t,e,n,r,i;for(t=this.element.node.options,n=t.length,e=0;n>e;e+=1)if(r=t[e],t[e].selected)return i=r._ractive?r._ractive.value:r.value},forceUpdate:function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,nc.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,e))}}),gv=vv.extend({getInitialValue:function(){return this.element.options.filter(function(t){return t.getAttribute("selected")}).map(function(t){return t.getAttribute("value")})},render:function(){var t;this.element.node.addEventListener("change",uv,!1),t=this.root.viewmodel.get(this.keypath),void 0===t&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",uv,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var t,e,n,r,i,o;for(t=[],e=this.element.node.options,r=e.length,n=0;r>n;n+=1)i=e[n],i.selected&&(o=i._ractive?i._ractive.value:i.value,t.push(o));return t},handleChange:function(){var t,e,n;return t=this.attribute,e=t.value,n=this.getValue(),void 0!==e&&P(n,e)||vv.prototype.handleChange.call(this),this},forceUpdate:function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,nc.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,e))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),mv=sv.extend({render:function(){this.element.node.addEventListener("change",uv,!1)},unrender:function(){this.element.node.removeEventListener("change",uv,!1)},getValue:function(){return this.element.node.files}});av=sv.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var t,e=this.element.node,n=!1;this.rendered=!0,t=this.root.lazy,this.element.lazy===!0?t=!0:this.element.lazy===!1?t=!1:u(this.element.lazy)?(t=!1,n=+this.element.lazy):u(t||"")&&(n=+t,t=!1,this.element.lazy=n),this.handler=n?so:uv,e.addEventListener("change",uv,!1),t||(e.addEventListener("input",this.handler,!1),e.attachEvent&&e.addEventListener("keyup",this.handler,!1)),e.addEventListener("blur",ao,!1)},unrender:function(){var t=this.element.node;this.rendered=!1,t.removeEventListener("change",uv,!1),t.removeEventListener("input",this.handler,!1),t.removeEventListener("keyup",this.handler,!1),t.removeEventListener("blur",ao,!1)}});var yv=av.extend({getInitialValue:function(){return void 0},getValue:function(){var t=parseFloat(this.element.node.value);return isNaN(t)?void 0:t}}),bv=lo,wv=fo,_v=ho,xv=po,Ev=/^event(?:\.(.+))?/,Sv=bo,Tv={},Av={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},Cv=_o,kv=xo,jv=Eo,Ov=So,Rv=To,Mv=function(t,e,n){this.init(t,e,n)};Mv.prototype={bubble:bv,fire:wv,getAction:_v,init:xv,listen:Sv,rebind:Cv,render:kv,resolve:jv,unbind:Ov,unrender:Rv};var Pv=function(t,e){var n,r,i,o,a=[];for(r in e)if(e.hasOwnProperty(r))for(i=r.split("-"),n=i.length;n--;)o=new Mv(t,i[n],e[r]),a.push(o);return a},Iv=function(t,e){var n,r,i,o=this;this.element=t,this.root=n=t.root,r=e.n||e,("string"==typeof r||(i=new ny({template:r,root:n,owner:t}),r=i.toString(),i.unbind(),""!==r))&&(e.a?this.params=e.a:e.d&&(this.fragment=new ny({template:e.d,root:n,owner:t}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,o.params=this.getArgsList(),o.ready&&o.update()}),this.fn=m("decorators",n,r),this.fn||f(Pu(r,"decorator")))};Iv.prototype={init:function(){var t,e,n;if(t=this.element.node,this.params?(n=[t].concat(this.params),e=this.fn.apply(this.root,n)):e=this.fn.call(this.root,t),!e||!e.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=e,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(t,e){this.fragment&&this.fragment.rebind(t,e)},teardown:function(t){this.torndown=!0,this.ready&&this.actual.teardown(),!t&&this.fragment&&this.fragment.unbind()}};var Lv,Fv,Bv,Nv=Mo,Dv=Po,Uv=Do,qv=function(t){return t.replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()})};Qs?(Fv={},Bv=lu("div").style,Lv=function(t){var e,n,r;if(t=qv(t),!Fv[t])if(void 0!==Bv[t])Fv[t]=t;else for(r=t.charAt(0).toUpperCase()+t.substring(1),e=iu.length;e--;)if(n=iu[e],void 0!==Bv[n+r]){Fv[t]=n+r;break}return Fv[t]}):Lv=null;var Wv,zv,Vv=Lv;Qs?(zv=window.getComputedStyle||legacy.getComputedStyle,Wv=function(t){var e,n,r,i,a;if(e=zv(this.node),"string"==typeof t)return a=e[Vv(t)],"0px"===a&&(a=0),a;if(!o(t))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(n={},r=t.length;r--;)i=t[r],a=e[Vv(i)],"0px"===a&&(a=0),n[i]=a;return n}):Wv=null;var Gv=function(t,e){var n;if("string"==typeof t)this.node.style[Vv(t)]=e;else for(n in t)t.hasOwnProperty(n)&&(this.node.style[Vv(n)]=t[n]);return this},$v=function(t){var e;this.duration=t.duration,this.step=t.step,this.complete=t.complete,"string"==typeof t.easing?(e=t.root.easing[t.easing],e||(g(Pu(t.easing,"easing")),e=Uo)):e="function"==typeof t.easing?t.easing:Uo,this.easing=e,this.start=Gu(),this.end=this.start+this.duration,this.running=!0,sc.add(this)};$v.prototype={tick:function(t){var e,n;return this.running?t>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(e=t-this.start,n=this.easing(e/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var Hv,Yv,Xv,Jv,Kv,Qv,Zv,tg,eg=new RegExp("^-(?:"+iu.join("|")+")-"),ng=function(t){return t.replace(eg,"")},rg=new RegExp("^(?:"+iu.join("|")+")([A-Z])"),ig=function(t){var e;return t?(rg.test(t)&&(t="-"+t),e=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})):""},og={},ag={};Qs?(Yv=lu("div").style,function(){void 0!==Yv.transition?(Xv="transition",Jv="transitionend",Kv=!0):void 0!==Yv.webkitTransition?(Xv="webkitTransition",Jv="webkitTransitionEnd",Kv=!0):Kv=!1}(),Xv&&(Qv=Xv+"Duration",Zv=Xv+"Property",tg=Xv+"TimingFunction"),Hv=function(t,e,n,r,i){setTimeout(function(){var o,a,s,u,c;u=function(){a&&s&&(t.root.fire(t.name+":end",t.node,t.isIntro),i())},o=(t.node.namespaceURI||"")+t.node.tagName,t.node.style[Zv]=r.map(Vv).map(ig).join(","),t.node.style[tg]=ig(n.easing||"linear"),t.node.style[Qv]=n.duration/1e3+"s",c=function(e){var n;n=r.indexOf(qv(ng(e.propertyName))),-1!==n&&r.splice(n,1),r.length||(t.node.removeEventListener(Jv,c,!1),s=!0,u())},t.node.addEventListener(Jv,c,!1),setTimeout(function(){for(var i,l,f,h,p,d=r.length,g=[];d--;)h=r[d],i=o+h,Kv&&!ag[i]&&(t.node.style[Vv(h)]=e[h],og[i]||(l=t.getStyle(h),og[i]=t.getStyle(h)!=e[h],ag[i]=!og[i],ag[i]&&(t.node.style[Vv(h)]=l))),(!Kv||ag[i])&&(void 0===l&&(l=t.getStyle(h)),f=r.indexOf(h),-1===f?v("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:t.node}):r.splice(f,1),p=/[^\d]*$/.exec(e[h])[0],g.push({name:Vv(h),interpolator:Iu(parseFloat(l),parseFloat(e[h])),suffix:p}));g.length?new $v({root:t.root,duration:n.duration,easing:qv(n.easing||""),step:function(e){var n,r;for(r=g.length;r--;)n=g[r],t.node.style[n.name]=n.interpolator(e)+n.suffix},complete:function(){a=!0,u()}}):a=!0,r.length||(t.node.removeEventListener(Jv,c,!1),s=!0,u())
},0)},n.delay||0)}):Hv=null;var sg,ug,cg,lg,fg;if("undefined"!=typeof document){if(sg="hidden",fg={},sg in document)cg="";else for(lg=iu.length;lg--;)ug=iu[lg],sg=ug+"Hidden",sg in document&&(cg=ug);void 0!==cg?(document.addEventListener(cg+"visibilitychange",qo),qo()):("onfocusout"in document?(document.addEventListener("focusout",Wo),document.addEventListener("focusin",zo)):(window.addEventListener("pagehide",Wo),window.addEventListener("blur",Wo),window.addEventListener("pageshow",zo),window.addEventListener("focus",zo)),fg.hidden=!1)}var hg,pg,dg;Qs?(pg=window.getComputedStyle||legacy.getComputedStyle,hg=function(t,e,n){var r,i=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(fg.hidden)return this.setStyle(t,e),dg||(dg=Qu.resolve());"string"==typeof t?(r={},r[t]=e):(r=t,n=e),n||(g('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),n=this);var o=new Qu(function(t){var e,o,a,s,u,c,l;if(!n.duration)return i.setStyle(r),void t();for(e=Object.keys(r),o=[],a=pg(i.node),u={},c=e.length;c--;)l=e[c],s=a[Vv(l)],"0px"===s&&(s=0),s!=r[l]&&(o.push(l),i.node.style[Vv(l)]=s);return o.length?void Hv(i,r,n,o,t):void t()});return o}):hg=null;var vg=function(t,e){return"number"==typeof t?t={duration:t}:"string"==typeof t?t="slow"===t?{duration:600}:"fast"===t?{duration:200}:{duration:400}:t||(t={}),i({},t,e)},gg=Vo,mg=function(t,e,n){this.init(t,e,n)};mg.prototype={init:Uv,start:gg,getStyle:Wv,setStyle:Gv,animateStyle:hg,processParams:vg};var yg,bg,wg=$o;yg=function(){var t=this.node,e=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(t.type="text/css"),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}},bg=function(){this.node.type&&"text/javascript"!==this.node.type||v("Script tag was updated. This does not cause the code to be re-evaluated!",{ractive:this.root}),this.node.text=this.fragment.toString(!1)};var _g=function(){var t,e;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(t="<"+this.template.e,t+=this.attributes.map(Qo).join("")+this.conditionalAttributes.map(Qo).join(""),"option"===this.name&&Jo(this)&&(t+=" selected"),"input"===this.name&&Ko(this)&&(t+=" checked"),t+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?t+=An(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(t+=this.getAttribute("value")||""),this.fragment&&(e="script"!==this.name&&"style"!==this.name,t+=this.fragment.toString(e)),Nf.test(this.template.e)||(t+="</"+this.template.e+">"),t)},xg=Zo,Eg=ta,Sg=function(t){this.init(t)};Sg.prototype={bubble:wd,detach:_d,find:xd,findAll:Ed,findAllComponents:Sd,findComponent:Td,findNextNode:Ad,firstNode:Cd,getAttribute:kd,init:Nv,rebind:Dv,render:wg,toString:_g,unbind:xg,unrender:Eg};var Tg=/^\s*$/,Ag=/^\s*/,Cg=function(t){var e,n,r,i;return e=t.split("\n"),n=e[0],void 0!==n&&Tg.test(n)&&e.shift(),r=L(e),void 0!==r&&Tg.test(r)&&e.pop(),i=e.reduce(na,null),i&&(t=e.map(function(t){return t.replace(i,"")}).join("\n")),t},kg=function(t,e){var n;return e?n=t.split("\n").map(function(t,n){return n?e+t:t}).join("\n"):t},jg='Could not find template for partial "%s"',Og=function(t){var e,n;e=this.parentFragment=t.parentFragment,this.root=e.root,this.type=kl,this.index=t.index,this.name=t.template.r,this.rendered=!1,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,Bp.init(this,t),this.keypath||((n=ra(this.root,this.name,e))?(Ep.call(this),this.isNamed=!0,this.setTemplate(n)):g(jg,this.name))};Og.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(t,e){this.isNamed||Fp.call(this,t,e),this.fragment&&this.fragment.rebind(t,e)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:Bp.resolve,setValue:function(t){var e;(void 0===t||t!==this.value)&&(void 0!==t&&(e=ra(this.root,""+t,this.parentFragment)),!e&&this.name&&(e=ra(this.root,this.name,this.parentFragment))&&(Ep.call(this),this.isNamed=!0),e||g(jg,this.name,{ractive:this.root}),this.value=t,this.setTemplate(e||[]),this.bubble(),this.rendered&&nc.addView(this))},setTemplate:function(t){this.fragment&&(this.fragment.unbind(),this.rendered&&(this.fragmentToUnrender=this.fragment)),this.fragment=new ny({template:t,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(t){var e,n,r,i;return e=this.fragment.toString(t),n=this.parentFragment.items[this.index-1],n&&n.type===_l?(r=n.text.split("\n").pop(),(i=/^\s+$/.exec(r))?kg(e,i[0]):e):e},unbind:function(){this.isNamed||Ep.call(this),this.fragment&&this.fragment.unbind()},unrender:function(t){this.rendered&&(this.fragment&&this.fragment.unrender(t),this.rendered=!1)},update:function(){var t,e;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(t=this.parentFragment.getNode(),e=this.parentFragment.findNextNode(this),t.insertBefore(this.docFrag,e))}};var Rg,Mg,Pg,Ig=ca,Lg=new O("detach"),Fg=la,Bg=fa,Ng=ha,Dg=pa,Ug=da,qg=va,Wg=function(t,e,n,r){var i=t.root,o=t.keypath;r?i.viewmodel.smartUpdate(o,e,r):i.viewmodel.mark(o)},zg=[],Vg=["pop","push","reverse","shift","sort","splice","unshift"];Vg.forEach(function(t){var e=function(){for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];var i,o,a,s;for(i=je(this,t,n),o=Array.prototype[t].apply(this,arguments),nc.start(),this._ractive.setting=!0,s=this._ractive.wrappers.length;s--;)a=this._ractive.wrappers[s],nc.addRactive(a.root),Wg(a,this,t,i);return nc.end(),this._ractive.setting=!1,o};wu(zg,t,{value:e})}),Rg={},Rg.__proto__?(Mg=function(t){t.__proto__=zg},Pg=function(t){t.__proto__=Array.prototype}):(Mg=function(t){var e,n;for(e=Vg.length;e--;)n=Vg[e],wu(t,n,{value:zg[n],configurable:!0})},Pg=function(t){var e;for(e=Vg.length;e--;)delete t[Vg[e]]}),Mg.unpatch=Pg;var Gg,$g,Hg,Yg=Mg;Gg={filter:function(t){return o(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,e,n){return new $g(t,e,n)}},$g=function(t,e,n){this.root=t,this.value=e,this.keypath=S(n),e._ractive||(wu(e,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),Yg(e)),e._ractive.instances[t._guid]||(e._ractive.instances[t._guid]=0,e._ractive.instances.push(t)),e._ractive.instances[t._guid]+=1,e._ractive.wrappers.push(this)},$g.prototype={get:function(){return this.value},teardown:function(){var t,e,n,r,i;if(t=this.value,e=t._ractive,n=e.wrappers,r=e.instances,e.setting)return!1;if(i=n.indexOf(this),-1===i)throw new Error(Hg);if(n.splice(i,1),n.length){if(r[this.root._guid]-=1,!r[this.root._guid]){if(i=r.indexOf(this.root),-1===i)throw new Error(Hg);r.splice(i,1)}}else delete t._ractive,Yg.unpatch(this.value)}},Hg="Something went wrong in a rather interesting way";var Xg,Jg,Kg=/^\s*[0-9]+\s*$/,Qg=function(t){return Kg.test(t)?[]:{}};try{Object.defineProperty({},"test",{value:0}),Xg={filter:function(t,e,n){var r,i;return e?(e=S(e),(r=n.viewmodel.wrapped[e.parent.str])&&!r.magic?!1:(i=n.viewmodel.get(e.parent),o(i)&&/^[0-9]+$/.test(e.lastKey)?!1:i&&("object"==typeof i||"function"==typeof i))):!1},wrap:function(t,e,n){return new Jg(t,e,n)}},Jg=function(t,e,n){var r,i,o;return n=S(n),this.magic=!0,this.ractive=t,this.keypath=n,this.value=e,this.prop=n.lastKey,r=n.parent,this.obj=r.isRoot?t.viewmodel.data:t.viewmodel.get(r),i=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),i&&i.set&&(o=i.set._ractiveWrappers)?void(-1===o.indexOf(this)&&o.push(this)):void ga(this,e,i)},Jg.prototype={get:function(){return this.value},reset:function(t){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=t,nc.addRactive(this.ractive),this.ractive.viewmodel.mark(this.keypath,{keepExistingWrapper:!0}),this.updating=!1,!0)},set:function(t,e){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=Qg(t),this.updating=!1),this.obj[this.prop][t]=e)},teardown:function(){var t,e,n,r,i;return this.updating?!1:(t=Object.getOwnPropertyDescriptor(this.obj,this.prop),e=t&&t.set,void(e&&(r=e._ractiveWrappers,i=r.indexOf(this),-1!==i&&r.splice(i,1),r.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}}}catch(xu){Xg=!1}var Zg,tm;Xg&&(Zg={filter:function(t,e,n){return Xg.filter(t,e,n)&&Gg.filter(t)},wrap:function(t,e,n){return new tm(t,e,n)}},tm=function(t,e,n){this.value=e,this.magic=!0,this.magicWrapper=Xg.wrap(t,e,n),this.arrayWrapper=Gg.wrap(t,e,n)},tm.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(t){return this.magicWrapper.reset(t)}});var em=ma,nm={},rm=Sa,im=ja,om=Oa,am=function(t,e){this.computation=t,this.viewmodel=t.viewmodel,this.ref=e,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};am.prototype={resolve:function(t){this.computation.softDeps.push(t),this.computation.unresolvedDeps[t.str]=null,this.viewmodel.register(t,this.computation,"computed")}};var sm=function(t,e){this.key=t,this.getter=e.getter,this.setter=e.setter,this.hardDeps=e.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this._dirty=this._firstRun=!0};sm.prototype={constructor:sm,init:function(t){var e,n=this;this.viewmodel=t,this.bypass=!0,e=t.get(this.key),t.clearCache(this.key.str),this.bypass=!1,this.setter&&void 0!==e&&this.set(e),this.hardDeps&&this.hardDeps.forEach(function(e){return t.register(e,n,"computed")})},invalidate:function(){this._dirty=!0},get:function(){var t,e,n=this,r=!1;if(this.getting){var i="The "+this.key.str+" computation indirectly called itself. This probably indicates a bug in the computation. It is commonly caused by `array.sort(...)` - if that's the case, clone the array first with `array.slice().sort(...)`";return d(i),this.value}if(this.getting=!0,this._dirty){if(this._firstRun||!this.hardDeps.length&&!this.softDeps.length?r=!0:[this.hardDeps,this.softDeps].forEach(function(t){var e,i,o;if(!r)for(o=t.length;o--;)if(e=t[o],i=n.viewmodel.get(e),!s(i,n.depValues[e.str]))return n.depValues[e.str]=i,void(r=!0)}),r){this.viewmodel.capture();try{this.value=this.getter()}catch(o){v('Failed to compute "%s"',this.key.str),h(o.stack||o),this.value=void 0}t=this.viewmodel.release(),e=this.updateDependencies(t),e&&[this.hardDeps,this.softDeps].forEach(function(t){t.forEach(function(t){n.depValues[t.str]=n.viewmodel.get(t)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value},set:function(t){if(this.setting)return void(this.value=t);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter(t)},updateDependencies:function(t){var e,n,r,i,o;for(n=this.softDeps,e=n.length;e--;)r=n[e],-1===t.indexOf(r)&&(i=!0,this.viewmodel.unregister(r,this,"computed"));for(e=t.length;e--;)r=t[e],-1!==n.indexOf(r)||this.hardDeps&&-1!==this.hardDeps.indexOf(r)||(i=!0,Ra(this.viewmodel,r)&&!this.unresolvedDeps[r.str]?(o=new am(this,r.str),t.splice(e,1),this.unresolvedDeps[r.str]=o,nc.addUnresolved(o)):this.viewmodel.register(r,this,"computed"));return i&&(this.softDeps=t.slice()),i}};var um=Ma,cm={FAILED_LOOKUP:!0},lm=Pa,fm={},hm=La,pm=Fa,dm=function(t,e){this.localKey=t,this.keypath=e.keypath,this.origin=e.origin,this.deps=[],this.unresolved=[],this.resolved=!1};dm.prototype={forceResolution:function(){this.keypath=this.localKey,this.setup()},get:function(t,e){return this.resolved?this.origin.get(this.map(t),e):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(t){this.local=t,this.setup()},map:function(t){return void 0===typeof this.keypath?this.localKey:t.replace(this.localKey,this.keypath)},register:function(t,e,n){this.deps.push({keypath:t,dep:e,group:n}),this.resolved&&this.origin.register(this.map(t),e,n)},resolve:function(t){void 0!==this.keypath&&this.unbind(!0),this.keypath=t,this.setup()},set:function(t,e){this.resolved||this.forceResolution(),this.origin.set(this.map(t),e)},setup:function(){var t=this;void 0!==this.keypath&&(this.resolved=!0,this.deps.length&&(this.deps.forEach(function(e){var n=t.map(e.keypath);if(t.origin.register(n,e.dep,e.group),e.dep.setValue)e.dep.setValue(t.origin.get(n));else{if(!e.dep.invalidate)throw new Error("An unexpected error occurred. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");e.dep.invalidate()}}),this.origin.mark(this.keypath)))},setValue:function(t){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,t)},unbind:function(t){var e=this;t||delete this.local.mappings[this.localKey],this.resolved&&(this.deps.forEach(function(t){e.origin.unregister(e.map(t.keypath),t.dep,t.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker))},unregister:function(t,e,n){var r,i;if(this.resolved){for(r=this.deps,i=r.length;i--;)if(r[i].dep===e){r.splice(i,1);break}this.origin.unregister(this.map(t),e,n)}}};var vm=Ba,gm=function(t,e){var n,r,i,o;return n={},r=0,i=t.map(function(t,i){var a,s,u;s=r,u=e.length;do{if(a=e.indexOf(t,s),-1===a)return o=!0,-1;s=a+1}while(n[a]&&u>s);return a===r&&(r+=1),a!==i&&(o=!0),n[a]=!0,a})},mm=Na,ym={},bm=qa,wm=za,_m=Va,xm=Ga,Em=Ha,Sm={implicit:!0},Tm={noCascade:!0},Am=Xa,Cm=Ja,km=function(t){var e,n,r=t.adapt,i=t.data,o=t.ractive,a=t.computed,s=t.mappings;this.ractive=o,this.adaptors=r,this.onchange=t.onchange,this.cache={},this.cacheMap=bu(null),this.deps={computed:bu(null),"default":bu(null)},this.depsMap={computed:bu(null),"default":bu(null)},this.patternObservers=[],this.specials=bu(null),this.wrapped=bu(null),this.computations=bu(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={},this.data=i,this.mappings=bu(null);for(e in s)this.map(S(e),s[e]);if(i)for(e in i)(n=this.mappings[e])&&void 0===n.getValue()&&n.setValue(i[e]);for(e in a)s&&e in s&&f("Cannot map to a computed property ('%s')",e),this.compute(S(e),a[e]);this.ready=!0};km.prototype={adapt:em,applyChanges:rm,capture:im,clearCache:om,compute:um,get:lm,init:hm,map:pm,mark:vm,merge:mm,register:bm,release:wm,reset:_m,set:xm,smartUpdate:Em,teardown:Am,unregister:Cm},Qa.prototype={constructor:Qa,begin:function(t){this.inProcess[t._guid]=!0},end:function(t){var e=t.parent;e&&this.inProcess[e._guid]?Za(this.queue,e).push(t):ts(this,t),delete this.inProcess[t._guid]}};var jm=/\$\{([^\}]+)\}/g,Om=new O("construct"),Rm=new O("config"),Mm=new Qa("init"),Pm=0,Im=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"],Lm=os;ls.prototype={bubble:function(){this.dirty||(this.dirty=!0,nc.addView(this))},update:function(){this.callback(this.fragment.getValue()),this.dirty=!1},rebind:function(t,e){this.fragment.rebind(t,e)},unbind:function(){this.fragment.unbind()}};var Fm=function(t,e,n,i,a){var s,u,c,l,f,h,p={},d={},g={},m=[];for(u=t.parentFragment,c=t.root,a=a||{},r(p,a),a.content=i||[],p[""]=a.content,e.defaults.el&&v("The <%s/> component has a default `el` property; it has been disregarded",t.name),l=u;l;){if(l.owner.type===Il){f=l.owner.container;break}l=l.parent}return n&&Object.keys(n).forEach(function(e){var r,i,a=n[e];if("string"==typeof a)r=Ch(a),d[e]=r?r.value:a;else if(0===a)d[e]=!0;else{if(!o(a))throw new Error("erm wut");hs(a)?(g[e]={origin:t.root.viewmodel,keypath:void 0},i=fs(t,a[0],function(t){t.isSpecial?h?s.set(e,t.value):(d[e]=t.value,delete g[e]):h?s.viewmodel.mappings[e].resolve(t):g[e].keypath=t})):i=new ls(t,a,function(t){h?s.set(e,t):d[e]=t}),m.push(i)}}),s=bu(e.prototype),Lm(s,{el:null,append:!0,data:d,partials:a,magic:c.magic||e.defaults.magic,modifyArrays:c.modifyArrays,adapt:c.adapt},{parent:c,component:t,container:f,mappings:g,inlinePartials:p,cssIds:u.cssIds}),h=!0,t.resolvers=m,s},Bm=function(t){var e,n;for(e=t.root;e;)(n=e._liveComponentQueries["_"+t.name])&&n.push(t.instance),e=e.parent},Nm=vs,Dm=gs,Um=ms,qm=ys,Wm=bs,zm=new O("teardown"),Vm=_s,Gm=function(t,e){this.init(t,e)};Gm.prototype={detach:Ig,find:Fg,findAll:Bg,findAllComponents:Ng,findComponent:Dg,findNextNode:Ug,firstNode:qg,init:Nm,rebind:Dm,render:Um,toString:qm,unbind:Wm,unrender:Vm};var $m=Gm,Hm=function(t){this.type=jl,this.value=t.template.c};Hm.prototype={detach:_p,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(t){t&&this.node.parentNode.removeChild(this.node)}};var Ym=function(t){var e,n;this.type=Il,this.container=e=t.parentFragment.root,this.component=n=e.component,this.container=e,this.containerFragment=t.parentFragment,this.parentFragment=n.parentFragment;var r=this.name=t.template.n||"",i=e._inlinePartials[r];i||(v('Could not find template for partial "'+r+'"',{ractive:t.root}),i=[]),this.fragment=new ny({owner:this,root:e.parent,template:i,pElement:this.containerFragment.pElement}),o(n.yielders[r])?n.yielders[r].push(this):n.yielders[r]=[this],nc.scheduleTask(function(){if(n.yielders[r].length>1)throw new Error("A component template can only have one {{yield"+(r?" "+r:"")+"}} declaration at a time")})};Ym.prototype={detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(t){return this.fragment.getValue(t)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(t){this.fragment.unrender(t),F(this.component.yielders[this.name],this)},rebind:function(t,e){this.fragment.rebind(t,e)},toString:function(){return this.fragment.toString()}};var Xm=function(t){this.declaration=t.template.a};Xm.prototype={init:ju,render:ju,unrender:ju,teardown:ju,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var Jm=xs,Km=Ss,Qm=Ts,Zm=As,ty=js,ey=Rs,ny=function(t){this.init(t)};ny.prototype={bubble:lp,detach:fp,find:hp,findAll:pp,findAllComponents:dp,findComponent:vp,findNextNode:gp,firstNode:mp,getArgsList:yp,getNode:bp,getValue:wp,init:Jm,rebind:Km,registerIndexRef:function(t){var e=this.registeredIndexRefs;-1===e.indexOf(t)&&e.push(t)},render:Qm,toString:Zm,unbind:ty,unregisterIndexRef:function(t){var e=this.registeredIndexRefs;e.splice(e.indexOf(t),1)},unrender:ey};var ry,iy,oy=Ms,ay=["template","partials","components","decorators","events"],sy=new O("reset"),uy=function(t,e){function n(e,r,i){i&&i.partials[t]||e.forEach(function(e){e.type===kl&&e.getPartialName()===t&&r.push(e),e.fragment&&n(e.fragment.items,r,i),o(e.fragments)?n(e.fragments,r,i):o(e.items)?n(e.items,r,i):e.type===Pl&&e.instance&&n(e.instance.fragment.items,r,e.instance),e.type===Cl&&(o(e.attributes)&&n(e.attributes,r,i),o(e.conditionalAttributes)&&n(e.conditionalAttributes,r,i))})}var r,i=[];return n(this.fragment.items,i),this.partials[t]=e,r=nc.start(this,!0),i.forEach(function(e){e.value=void 0,e.setValue(t)}),nc.end(),r},cy=Ps,ly=Kc("reverse"),fy=Is,hy=Kc("shift"),py=Kc("sort"),dy=Kc("splice"),vy=Fs,gy=Bs,my=new O("teardown"),yy=Ds,by=Us,wy=qs,_y=new O("unrender"),xy=Kc("unshift"),Ey=Ws,Sy=new O("update"),Ty=zs,Ay={add:Vu,animate:cc,detach:fc,find:pc,findAll:_c,findAllComponents:xc,findComponent:Ec,findContainer:Sc,findParent:Tc,fire:Cc,get:kc,insert:Oc,merge:Mc,observe:zc,observeOnce:Vc,off:Hc,on:Yc,once:Xc,pop:Qc,push:Zc,render:ol,reset:oy,resetPartial:uy,resetTemplate:cy,reverse:ly,set:fy,shift:hy,sort:py,splice:dy,subtract:vy,teardown:gy,toggle:yy,toHTML:by,toHtml:by,unrender:wy,unshift:xy,update:Ey,updateModel:Ty},Cy=function(t,e,n){return n||Gs(t,e)?function(){var n,r="_super"in this,i=this._super;return this._super=e,n=t.apply(this,arguments),r&&(this._super=i),n}:t},ky=$s,jy=Js,Oy=function(t){var e,n,r={};return t&&(e=t._ractive)?(r.ractive=e.root,r.keypath=e.keypath.str,r.index={},(n=kr(e.proxy.parentFragment))&&(r.index=kr.resolve(n)),r):r};ry=function(t){return this instanceof ry?void Lm(this,t):new ry(t)},iy={DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:jy},getNodeInfo:{value:Oy},parse:{value:Hn},Promise:{value:Qu},svg:{value:ru},magic:{value:eu},VERSION:{value:"0.7.1"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:uu},events:{writable:!0,value:{}},interpolators:{writable:!0,value:Lu},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},_u(ry,iy),ry.prototype=r(Ay,su),ry.prototype.constructor=ry,ry.defaults=ry.prototype;var Ry="function";if(typeof Date.now!==Ry||typeof String.prototype.trim!==Ry||typeof Object.keys!==Ry||typeof Array.prototype.indexOf!==Ry||typeof Array.prototype.forEach!==Ry||typeof Array.prototype.map!==Ry||typeof Array.prototype.filter!==Ry||"undefined"!=typeof window&&typeof window.addEventListener!==Ry)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");return ry})},,,function(t){"use strict";function e(t,e,n,r){this.resolve=t,this.fn=e,this.self=n||null,this.args=r}t.exports=function(n){function r(t,n){function r(n,r,s){if(t){t--;var u=new i(function(t){t(n.apply(r,s))});return u.then(o,o),u}return new i(function(t){a.push(new e(t,n,r,s))})}function o(){if(t++,a.length){var e=a.shift();e.resolve(r(e.fn,e.self,e.args))}}var a=[];if("function"==typeof t&&"number"==typeof n){var s=n;n=t,t=s}return"function"==typeof n?function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return r(n,this,t)}:function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);return r(t,this,e)}}var i;if("number"==typeof arguments[0]||"number"==typeof arguments[1]){if(i=t.exports.Promise,"function"!=typeof i)throw new Error("You must provide a Promise polyfill for this library to work in older environments");return r(arguments[0],arguments[1])}return i=n,r},"function"==typeof Promise&&(t.exports.Promise=Promise)},,,,,function(t,e,n){"use strict";function r(t){t&&t.parentNode===document.body&&document.body.removeChild(t)}var i=function(t){return t&&t.__esModule?t["default"]:t},o=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=i(n(8)),u=e.SceneManager=function(){function t(){a(this,t)}return o(t,{display:{value:function(t){return s(regeneratorRuntime.mark(function e(){var n,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.exit){e.next=4;break}return e.next=3,Promise.resolve(i.exit());case 3:r(i.currentElement);case 4:n=document.createElement("div"),n.className="scene",document.body.appendChild(n),i.currentElement=n,i.exit=t(n);case 9:case"end":return e.stop()}},e,this)}))}}}),t}(),c=new u;e.instance=c,e["default"]=c,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){t.exports=n.p+"7d6d69a86d70e4e52079c5ce873435c6.jpg"},,,,,,,,,,function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){for(var n,r=[],i=t[Symbol.iterator]();!(n=i.next()).done&&(r.push(n.value),!e||r.length!==e););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=r(n(81)),u=e.GameAudio=function(){function t(e){var n=e.game,r=e.samples,i=e.master;a(this,t),this._master=i,this._context=i.audioContext,this._players=new Map(n.players.map(function(t){return[t,new s({player:t,samples:r,master:i})]}))}return o(t,{unmute:{value:function(){this._master.unmute()}},context:{get:function(){return this._context}},update:{value:function(t,e){var n=!0,r=!1,o=void 0;try{for(var a,s=this._players[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=i(a.value,2),c=u[0],l=u[1];l.update(t,e.player(c))}}catch(f){r=!0,o=f}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw o}}}}}),t}();e["default"]=u,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e){"use strict";var n=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=e.Clock=function(){function t(e){r(this,t),e.unmute(),this._context=e.context,this._offset=[],this._sum=0,this.update()}return n(t,{update:{value:function(){var t=(new Date).getTime()/1e3,e=t-this._context.currentTime;for(this._offset.push(e),this._sum+=e;this._offset.length>60;)this._sum-=this._offset.shift();this.time=t-this._sum/this._offset.length}}}),t}();e["default"]=i,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){for(var n,r=[],i=t[Symbol.iterator]();!(n=i.next()).done&&(r.push(n.value),!e||r.length!==e););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=r(n(82)),u=e.GameDisplay=function(){function t(e){var n=e.game,r=(e.skin,e.context);a(this,t),this._context=r,this._players=new Map(n.players.map(function(t){return[t,new s(t)]})),this._stateful={}}return o(t,{start:{value:function(){this._started=(new Date).getTime()}},update:{value:function(t,e){var n=((new Date).getTime()-this._started)/1e3,r={};r.t=n,r.gameTime=t;var o=!0,a=!1,s=void 0;try{for(var u,c=this._players[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=i(u.value,2),f=l[0],h=l[1],p=e.player(f),d=h.update(n,t,p);for(var v in d)r["p"+f.number+"_"+v]=d[v]}}catch(g){a=!0,s=g}finally{try{!o&&c["return"]&&c["return"]()}finally{if(a)throw s}}void 0===this._stateful.started&&e.started&&(this._stateful.started=n),this._context.render(Object.assign({},this._stateful,r))}},context:{get:function(){return this._context}},view:{get:function(){return this._context.view}}}),t}();e["default"]=u,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";function r(){var t={},e={},n={},r=window.performance?function(){return window.performance.now()}:function(){return Date.now()};return{stats:t,benchmark:function(i,o,a){var s=o[a];o[a]=function(){try{var o=r();return s.apply(this,arguments)}finally{var a=r();e[i]=(e[i]||0)+a-o,n[i]=(n[i]||0)+1,t[i]=e[i]/n[i]}}}}}var i=function(t){return t&&t.__esModule?t["default"]:t},o=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=i(n(169)),u=i(n(174)),c=i(n(74)),l=i(n(165)),f=i(n(84)),h=e.GameController=function(){function t(e){var n=e.game,r=e.display,i=e.audio;a(this,t),this._audioInputLatency=n.options.audioInputLatency,this._game=n,this._display=r,this._audio=i,this._clock=new l(this._audio),this._input=new c,this._timer=new s(this._clock,this._input),this._state=new u(n),this._input.use(new f(this._display.context)),this.enableBenchmark()}return o(t,{game:{get:function(){return this._game}},display:{get:function(){return this._display}},audio:{get:function(){return this._audio}},start:{value:function(){var t=this;this._display.start(),/Mobile.*?Safari/.test(navigator.userAgent)?setInterval(function(){return t._update()},10):!function(){var e=function(){t._update(),requestAnimationFrame(e)};requestAnimationFrame(e)}()}},_update:{value:function(){this._clock.update(),this._input.update(),this._timer.update();var t=this._timer.time,e=this._audioInputLatency;this._state.update(t-e,this._input,this._timer),this._audio.update(t,this._state),this._display.update(t,this._state)}},enableBenchmark:{value:function(){function t(t){alert("Benchmarking Result\n"+JSON.stringify(e.stats,null,2)),t.preventDefault()}var e=window.GAME_BENCHMARK=this._bench=new r;e.benchmark("update",this,"_update"),e.benchmark("input_update",this._input,"update"),e.benchmark("state_update",this._state,"update"),e.benchmark("audio_update",this._audio,"update"),e.benchmark("display_update",this._display,"update"),e.benchmark("display_push",this._display._context._instance,"push"),e.benchmark("display_render",this._display._context._renderer,"render");var n=document.createElement("button");n.innerHTML="Show Benchmark Stats",n.addEventListener("click",t),n.addEventListener("touchstart",t),n.setAttribute("style","position:fixed;top:10px;right:10px;z-index:99999"),document.body.appendChild(n)}}}),t}();e["default"]=h,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";function r(t){return function(e){var n=function(){return!1};return a(window).on("touchstart",n),i(t.view,e),function(){a(window).off("touchstart",n)}}}function i(t,e){function n(){var e=Math.min(window.innerWidth/r,window.innerHeight/i);t.style.width=Math.round(r*e)+"px",t.style.height=Math.round(i*e)+"px";var n=(window.innerHeight-i*e)/2;t.style.marginTop=Math.round(n)+"px"}var r=t.width,i=t.height;t.style.display="block",t.style.margin="0 auto",e.appendChild(t),n(),a(window).on("resize",n)}var o=function(t){return t&&t.__esModule?t["default"]:t};t.exports=r;var a=o(n(10))},function(t,e){"use strict";var n=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=e.GameTimer=function(){function t(e,n){r(this,t),this._clock=e,this._input=n,this.startTime=null}return n(t,{started:{get:function(){return null!==this.startTime
}},update:{value:function(){this._checkStartGame(),this.time=this._calculateTime()}},_checkStartGame:{value:function(){!this.started&&this._input.get("start").value&&(this.startTime=this._clock.time)}},_calculateTime:{value:function(){var t=null===this.startTime?0:this._clock.time-this.startTime;return 1>t?(Math.pow(t,6)-1)/6-1/30:t-31/30}}}),t}();e["default"]=i,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},i=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=r(n(86)),s=r(n(75)),u=e.Game=function(){function t(e,n){o(this,t),this.options=n,this.players=n.players.map(function(t,r){t=Object.assign({},t,{autosound:n.audioInputLatency>=.01});var i=a.fromBMSChart(e,r+1,t);return new s(i,r+1,t)})}return i(t,{samples:{get:function(){var t=new Set,e=!0,n=!1,r=void 0;try{for(var i,o=this.players[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,s=!0,u=!1,c=void 0;try{for(var l,f=a.notechart.samples[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var h=l.value;t.add(h)}}catch(p){u=!0,c=p}finally{try{!s&&f["return"]&&f["return"]()}finally{if(u)throw c}}}}catch(p){n=!0,r=p}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw r}}return Array.from(t)}}}),t}();e["default"]=u,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){(function(t){"use strict";function r(e){var r=e.assets,i=e.bms;return h.start(function(o,h){o("Scintillator","Loading game engine",[],function(t){return new Promise(function(e){var r=new l(t);r.use(function(){n.e(6,function(){return e(n(44))})})})}),o("Skin","Loading skin",["Scintillator"],function(t,e){return t.load(t.getSkinUrl(),e)}),o("SkinContext",null,["Scintillator","Skin"],function(t,e){return new t.Context(e)}),r.progress&&(r.progress.current&&o.bar("Loading package",r.progress.current),r.progress.all&&o.bar("Loading song packages",r.progress.all)),o("BMSChart","Loading "+e.bms.name,[],a.wrap(regeneratorRuntime.mark(function b(e){var n,r,o,a,u;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,i.read(e);case 2:return n=c.sent,r=new t(new Uint8Array(n)),c.next=6,Promise.promisify(s.Reader.readAsync)(r);case 6:return o=c.sent,a=s.Compiler.compile(o),u=a.chart,c.abrupt("return",u);case 10:case"end":return c.stop()}},b,this)})));var m=new u,y=new u;return o.bar("Loading audio",m),o.bar("Decoding audio",y),o("SamplingMaster",null,[],function(){return new c}),o("Game",null,["BMSChart"],function(t){return new p(t,e.options)}),o("GameDisplay",null,["Game","Skin","SkinContext"],function(t,e,n){return new g({game:t,skin:e,context:n})}),o("Samples",null,["SamplingMaster","Game"],function(t,e){var n=new f(r,t);return n.loadFiles(e.samples,m,y)}),o("GameAudio",null,["Game","Samples","SamplingMaster"],function(t,e,n){return new v({game:t,samples:e,master:n})}),o("GameController",null,["Game","GameDisplay","GameAudio"],function(t,e,n){return new d({game:t,display:e,audio:n})}),h("GameController")})}var i=function(t){return t&&t.__esModule?t:{"default":t}},o=function(t){return t&&t.__esModule?t["default"]:t};e.load=r;var a=o(n(8)),s=o(n(46)),u=o(n(25)),c=o(n(20)),l=o(n(163)),f=o(n(85)),h=i(n(172)),p=o(n(170)),d=o(n(167)),v=o(n(164)),g=o(n(166));Object.defineProperty(e,"__esModule",{value:!0})}).call(e,n(18).Buffer)},function(t,e,n){"use strict";function r(t){function e(t,e,n,i){var a=new s;e&&f.push({text:e,progress:a}),c[t]=function(){return Promise.all(n.map(r)).then(function(t){return i.apply(void 0,o(t.concat([a])))})}}function n(t,e){f.push({text:t,progress:e})}function r(t){return l[t]||(l[t]=c[t]())}function i(){return f.map(function(t){return{text:t.text,progress:t.progress.progress,progressText:t.progress.toString()}})}var c={},l={},f=[];e.bar=n;var h=t(e,r),p=new a(i()),d=u(function(){p.value=i()},16),v=!0,g=!1,m=void 0;try{for(var y,b=f[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var w=y.value;w.progress.watch(d)}}catch(_){g=!0,m=_}finally{try{!v&&b["return"]&&b["return"]()}finally{if(g)throw m}}return{tasks:p,promise:h}}var i=function(t){return t&&t.__esModule?t["default"]:t},o=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)};e.start=r;var a=i(n(152)),s=i(n(25)),u=n(1).throttle;Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";function r(t){function e(){return{song:r,items:n.value.map(function(t){var e=t.text,n=t.progressText,r=t.progress;return{text:e,progress:n?" ("+n+")":"",width:Math.round(100*r||0)+"%"}})}}var n=t.tasks,r=t.song;return function(t){var r=e(),i=new o({el:t,data:r});return n.watch(function(){return i.set(e())}),function(){return t.classList.add("is-exiting"),Promise.delay(500)}}}var i=function(t){return t&&t.__esModule?t["default"]:t};t.exports=r;var o=i(n(186));n(180)},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){for(var n,r=[],i=t[Symbol.iterator]();!(n=i.next()).done&&(r.push(n.value),!e||r.length!==e););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=r(n(87)),u=e.GameState=function(){function t(e){a(this,t),this._game=e,this._players=new Map(e.players.map(function(t){return[t,new s(t)]}))}return o(t,{update:{value:function(t,e,n){var r=!0,o=!1,a=void 0;try{for(var s,u=this._players[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=i(s.value,2),l=(c[0],c[1]);l.update(t,e)}}catch(f){o=!0,a=f}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw a}}this.started=n.started}},player:{value:function(t){return this._players.get(t)}}}),t}();e["default"]=u,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";function r(t){function e(t){return u(regeneratorRuntime.mark(function e(){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.webkitGetAsEntry&&t.webkitGetAsEntry(),!r){e.next=6;break}return e.next=4,n(r,"");case 4:e.next=8;break;case 6:i=t.getAsFile&&t.getAsFile(),a(i);case 8:case"end":return e.stop()}},e,this)}))}function n(t){return t.isFile?r(t):t.isDirectory?i(t):void 0}function r(t){return new Promise(function(e,n){t.file(e,n)}).tap(function(t){a(t)})}function i(t){return u(regeneratorRuntime.mark(function e(){var r,i,a,s,u,c,l,f,h,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=[],i=t.createReader(),a=function(){return new Promise(function(t,e){i.readEntries(t,e)})};case 3:return e.next=5,a();case 5:if(s=e.sent,s&&0!==s.length){e.next=8;break}return e.abrupt("break",11);case 8:r.push.apply(r,o(Array.from(s)));case 9:e.next=3;break;case 11:u=!0,c=!1,l=void 0,e.prev=14,f=r[Symbol.iterator]();case 16:if(u=(h=f.next()).done){e.next=23;break}return p=h.value,e.next=20,n(p);case 20:u=!0,e.next=16;break;case 23:e.next=29;break;case 25:e.prev=25,e.t6=e["catch"](14),c=!0,l=e.t6;case 29:e.prev=29,e.prev=30,!u&&f["return"]&&f["return"]();case 32:if(e.prev=32,!c){e.next=35;break}throw l;case 35:return e.finish(32);case 36:return e.finish(29);case 37:case"end":return e.stop()}},e,this,[[14,25,29,37],[30,,32,36]])}))}function a(t){t&&s.push({name:t.name,file:t})}var s=[];return u(regeneratorRuntime.mark(function c(){var n,r,i,o,u,l,f,h,p,d,v,g;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!t.dataTransfer.items){c.next=29;break}n=!0,r=!1,i=void 0,c.prev=4,o=Array.from(t.dataTransfer.items)[Symbol.iterator]();case 6:if(n=(u=o.next()).done){c.next=13;break}return l=u.value,c.next=10,e(l);case 10:n=!0,c.next=6;break;case 13:c.next=19;break;case 15:c.prev=15,c.t4=c["catch"](4),r=!0,i=c.t4;case 19:c.prev=19,c.prev=20,!n&&o["return"]&&o["return"]();case 22:if(c.prev=22,!r){c.next=25;break}throw i;case 25:return c.finish(22);case 26:return c.finish(19);case 27:c.next=49;break;case 29:if(!t.dataTransfer.files){c.next=49;break}for(f=!0,h=!1,p=void 0,c.prev=33,d=Array.from(t.dataTransfer.files)[Symbol.iterator]();!(f=(v=d.next()).done);f=!0)g=v.value,a(g);c.next=41;break;case 37:c.prev=37,c.t5=c["catch"](33),h=!0,p=c.t5;case 41:c.prev=41,c.prev=42,!f&&d["return"]&&d["return"]();case 44:if(c.prev=44,!h){c.next=47;break}throw p;case 47:return c.finish(44);case 48:return c.finish(41);case 49:return c.abrupt("return",s);case 50:case"end":return c.stop()}},c,this,[[4,15,19,27],[20,,22,26],[33,37,41,49],[42,,44,48]])}))}var i=function(t){return t&&t.__esModule?t["default"]:t},o=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},a=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},u=i(n(8)),c=i(n(15)),l=e.DndResources=function(){function t(e){s(this,t),this._files=r(e)}return a(t,{file:{value:function(t){return this._files.then(function(e){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.name.toLowerCase()===t.toLowerCase())return new f(s.file)}}catch(u){r=!0,i=u}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw i}}throw new Error("unable to find "+t)})}},fileList:{get:function(){return Promise.resolve(this._files.map(function(t){return t.name}))}}}),t}(),f=e.FileResource=function(){function t(e){s(this,t),this._file=e}return a(t,{read:{value:function(){return c(this._file).as("arraybuffer")}},name:{get:function(){return this._file.name}}}),t}();e["default"]=l,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},i=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=r(n(30)),s=n(185).basename,u=e.URLResource=function(){function t(e){o(this,t),this._url=e}return i(t,{read:{value:function(t){return a(this._url).as("arraybuffer",t)}},name:{get:function(){return s(this._url)}}}),t}();e["default"]=u,Object.defineProperty(e,"__esModule",{value:!0})},,function(t,e,n){e=t.exports=n(21)(),e.push([t.id,'.loading-scene{position:absolute;top:0;right:0;bottom:0;left:0;overflow:hidden;font-family:"Source Sans Pro","Segoe UI","Helvetica Neue",sans-serif;background:url('+n(154)+") center no-repeat;background-size:cover}.loading-scene--info{position:absolute;top:40%;left:0;right:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.loading-scene .loading-scene-song-info{-webkit-animation:loading-scene-song-info-animation 1s ease;animation:loading-scene-song-info-animation 1s ease}.loading-scene .loading-scene-progress{position:absolute;bottom:10px;left:10px}.loading-scene--flash{background:#fff;-webkit-animation:loading-scene--flash-animation .8s ease-out;animation:loading-scene--flash-animation .8s ease-out}.loading-scene--flash,.loading-scene--cover{position:absolute;top:0;right:0;bottom:0;left:0;opacity:0;pointer-events:none}.loading-scene--cover{background:#000}.scene.is-exiting .loading-scene--info{-webkit-animation:loading-scene--info-exit .3s linear;animation:loading-scene--info-exit .3s linear}.scene.is-exiting .loading-scene--flash{-webkit-animation:loading-scene--flash-exit .3s ease;animation:loading-scene--flash-exit .3s ease}.scene.is-exiting .loading-scene--cover{-webkit-animation:loading-scene--cover-exit .3s linear;animation:loading-scene--cover-exit .3s linear;opacity:1}@-webkit-keyframes loading-scene-song-info-animation{0%{-webkit-transform:scale(1.5,.02);transform:scale(1.5,.02)}100%{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes loading-scene-song-info-animation{0%{-webkit-transform:scale(1.5,.02);transform:scale(1.5,.02)}100%{-webkit-transform:scale(1,1);transform:scale(1,1)}}@-webkit-keyframes loading-scene--info-exit{0%{-webkit-transform:translateY(-50%)scale(1,1);transform:translateY(-50%)scale(1,1)}100%{-webkit-transform:translateY(-50%)scale(2,2);transform:translateY(-50%)scale(2,2)}}@keyframes loading-scene--info-exit{0%{-webkit-transform:translateY(-50%)scale(1,1);transform:translateY(-50%)scale(1,1)}100%{-webkit-transform:translateY(-50%)scale(2,2);transform:translateY(-50%)scale(2,2)}}@-webkit-keyframes loading-scene--cover-exit{0%{opacity:0}100%{opacity:1}}@keyframes loading-scene--cover-exit{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes loading-scene--flash-animation{0%{opacity:1}100%{opacity:0}}@keyframes loading-scene--flash-animation{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes loading-scene--flash-exit{0%{opacity:.5}100%{opacity:0}}@keyframes loading-scene--flash-exit{0%{opacity:.5}100%{opacity:0}}.loading-scene-song-info{background:rgba(255,255,255,.96);color:#191817;text-align:center;padding:25px 0;box-shadow:0 2px 18px rgba(0,0,0,.2)}.loading-scene-song-info--genre{font-size:3vmin}.loading-scene-song-info--title{font-size:8vmin;font-weight:700}.loading-scene-song-info--subtitle{font-size:6vmin}.loading-scene-song-info--artist{font-size:4vmin;margin-top:.8ex}.loading-scene-song-info--subartist{font-size:2.5vmin}.loading-scene-progress{color:#333;font-size:11px}.loading-scene-progress .loading-scene-progress-bar{display:inline-block;vertical-align:middle;width:48px;margin-right:4px;position:relative;top:-1px}.loading-scene-progress-bar{border:1px solid rgba(0,0,0,.6);padding:1px}.loading-scene-progress-bar--bar{height:8px;background:rgba(0,0,0,.6);width:0%}.loading-scene-progress-bar--progress{font-size:83%;opacity:.7}",""])},function(t){t.exports={v:3,t:[{t:7,e:"div",a:{"class":"loading-scene"},f:[{t:7,e:"div",a:{"class":"loading-scene--info"},f:[{t:7,e:"div",a:{"class":"loading-scene-song-info"},f:[{t:7,e:"div",a:{"class":"loading-scene-song-info--genre"},f:[{t:2,r:"song.genre"}]},{t:7,e:"div",a:{"class":"loading-scene-song-info--title"},f:[{t:2,r:"song.title"}]},{t:4,f:[{t:7,e:"div",a:{"class":"loading-scene-song-info--subtitle"},f:[{t:2,r:"."}]}],r:"song.subtitles"},{t:7,e:"div",a:{"class":"loading-scene-song-info--artist"},f:[{t:2,r:"song.artist"}]},{t:4,f:[{t:7,e:"div",a:{"class":"loading-scene-song-info--subartist"},f:[{t:2,r:"."}]}],r:"song.subartists"}]}]},{t:7,e:"div",a:{"class":"loading-scene-progress"},f:[{t:4,f:[{t:7,e:"div",a:{"class":"loading-scene-progress--item"},f:[{t:7,e:"div",a:{"class":"loading-scene-progress-bar"},f:[{t:7,e:"div",a:{style:["width:",{t:2,r:"width"}],"class":"loading-scene-progress-bar--bar"}}]},{t:2,r:"text"},{t:7,e:"span",a:{"class":"loading-scene-progress-bar--progress"},f:[{t:2,r:"progress"}]}]}],r:"items"}]},{t:7,e:"div",a:{"class":"loading-scene--flash"}},{t:7,e:"div",a:{"class":"loading-scene--cover"}}]}]}},function(t,e,n){var r=n(178);"string"==typeof r&&(r=[[t.id,r,""]]);n(12)(r,{})},,,,,function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,i="/"===a.charAt(0))}return e=n(r(e.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),o="/"===a(t,-1);return t=n(r(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,function(t){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;a>u;u++)if(i[u]!==o[u]){s=u;break}for(var c=[],u=s;u<i.length;u++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return 0>e&&(e=t.length+e),t.substr(e,n)}}).call(e,n(42))},function(t,e,n){var r=n(50).View,i=n(179);t.exports=new r(i)},,,,,,,function(t,e,n){"use strict";function r(){window.addEventListener("touchstart",function n(){d(v),window.removeEventListener("touchstart",n)});var t=function(t){return new Promise(function(e){var n=new f({options:t,play:function(t){e(t)}});s.display(n)})},e=a.wrap(regeneratorRuntime.mark(function r(){var e,n,i,o,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e={url:u.bms||"/music/[snack]ddddevelopers/dddd_sph.bme",game:{audioInputLatency:+u.audioInputLatency||0},players:[{speed:+u.speed||3.5,autoplay:!!u.autoplay,placement:"center"}]},r.next=3,t(e);case 3:return e=r.sent,n=e.url,i=g(n,"assets/"),o={title:"Loading",subtitles:[],artist:"",genre:"",subartists:[]},a={bms:e.resource||new h(n),assets:e.resources||new p(i),metadata:o,options:Object.assign({},e.game,{players:e.players})},r.abrupt("return",a);case 9:case"end":return r.stop()}},r,this)}));a(regeneratorRuntime.mark(function i(){var t,n,r,o,a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e();case 2:return t=i.sent,n=m.load(t),r=n.tasks,o=n.promise,i.next=8,s.display(new c({tasks:r,song:t.metadata}));case 8:return i.next=10,o;case 10:return a=i.sent,i.next=13,s.display(new l(a.display));case 13:a.start();case 14:case"end":return i.stop()}},i,this)})).done()}var i=function(t){return t&&t.__esModule?t:{"default":t}},o=function(t){return t&&t.__esModule?t["default"]:t};e.main=r;var a=o(n(8)),s=o(n(153)),u=o(n(77)),c=o(n(173)),l=o(n(168)),f=o(n(251)),h=o(n(176)),p=o(n(88)),d=n(20).unmuteAudio,v=o(n(22)),g=n(29).resolve,m=i(n(171));Object.defineProperty(e,"__esModule",{value:!0})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function r(t){var e=t.options,n=t.play;return function(t){function r(t){var e=new a(t);e.fileList.then(function(t){return t.filter(function(t){return/\.(bms|bme|bml)$/i.test(t)})}).map(function(t){return e.file(t).then(function(e){return{name:t,resource:e}})}).then(function(t){i.set("files",t),s=function(t){var r=i.get("options");r.resources=e,r.resource=t.resource,n(r)}})["catch"](function(t){throw"FileError"===t.constructor.name?new Error("File Error code "+t.code):t}).done()}var i=new o({el:t,data:{options:e}}),s=function(){};return i.on({submit:function(t){n(i.get("options")),t.original.preventDefault()},dragover:function(t){t.original.preventDefault()},drop:function(t){r(t.original),t.original.preventDefault()},playFile:function(t){s(t.context)}}),function(){}}}var i=function(t){return t&&t.__esModule?t["default"]:t};t.exports=r;var o=i(n(380));n(331);var a=i(n(175))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){e=t.exports=n(21)(),e.push([t.id,".game-shell{margin:20px auto;background:#353433;border:1px solid #555453;padding:15px;max-width:720px}.game-shell .drop-zone{border:2px dashed #555453;padding:5px}.game-shell .drop-zone-hint{padding:10px;text-align:center;color:#8b8685}.game-shell form>div{margin-bottom:1em}.game-shell form>div.text .label{display:block;color:#8b8685;font-weight:700;font-size:.8em;margin:0 0 .5ex}.game-shell form>div.text input{font:inherit;display:block;width:100%;box-sizing:border-box;border:1px inset #555453;background:#252423;color:#bfb}.game-shell form>div.checkbox input{margin-right:1ex}.game-shell form>div.radio>h3{display:block;color:#8b8685;font-weight:700;font-size:.8em;margin:0 0 .5ex}.game-shell form>div.radio>label{display:block}.game-shell form>div.radio input{margin-right:1ex}.game-shell button{background:#8b8685;border:1px outset #aba6a5;font:inherit;font-size:1.5em;color:#e9e8e7;display:block;width:100%;box-sizing:border-box}.game-shell a{color:#fed}",""])},,,,,,,,,,,,,,,,,,,,,,function(t){t.exports={v:3,t:[{t:7,e:"div",a:{"class":"game-shell"},f:[{t:7,e:"h1",f:["Bemuse Game Shell"]},{t:7,e:"p",f:["This tool is intended for developers testing the game."]},{t:7,e:"form",v:{submit:"submit"},f:[{t:7,e:"div",a:{"class":"text"},f:[{t:7,e:"label",f:[{t:7,e:"span",a:{"class":"label"},f:["BMS URL:"]},{t:7,e:"input",a:{type:"text",value:[{t:2,r:"options.url"}]}}]}]},{t:7,e:"div",a:{"class":"text"},f:[{t:7,e:"label",f:[{t:7,e:"span",a:{"class":"label"},f:["-or- Drop BMS folder here"]},{t:7,e:"div",v:{dragover:"dragover",drop:"drop"},a:{"class":"drop-zone"},f:[{t:4,f:[{t:7,e:"div",a:{"class":"drop-zone-hint"},f:["Drop BMS folder here",{t:7,e:"br"},"(only works on Google Chrome)"]}],n:51,r:"files"},{t:4,f:[{t:7,e:"div",f:[{t:7,e:"a",a:{href:"javascript://"},v:{click:"playFile"},f:[{t:2,r:"name"}]}]}],r:"files"}]}]}]},{t:7,e:"div",a:{"class":"text"},f:[{t:7,e:"label",f:[{t:7,e:"span",a:{"class":"label"},f:["Audio-Input Latency"]},{t:7,e:"input",a:{type:"text",value:[{t:2,r:"options.game.audioInputLatency"}]}}]}]},{t:4,f:[{t:7,e:"h2",f:["Player ",{t:2,x:{r:["index"],s:"_0+1"}}]},{t:7,e:"div",a:{"class":"text"},f:[{t:7,e:"label",f:[{t:7,e:"span",a:{"class":"label"},f:["HI-SPEED:"]},{t:7,e:"input",a:{type:"text",value:[{t:2,r:"speed"}]}}]}]},{t:7,e:"div",a:{"class":"checkbox"},f:[{t:7,e:"label",f:[{t:7,e:"input",a:{type:"checkbox",checked:[{t:2,r:"autoplay"}]}},{t:7,e:"span",a:{"class":"label"},f:["AUTOPLAY"]}]}]},{t:7,e:"div",a:{"class":"radio"},f:[{t:7,e:"h3",f:["Placement"]},{t:7,e:"label",f:[{t:7,e:"input",a:{type:"radio",name:[{t:2,r:"placement"}],value:"left"}},{t:7,e:"span",a:{"class":"label"},f:["Left"]}]},{t:7,e:"label",f:[{t:7,e:"input",a:{type:"radio",name:[{t:2,r:"placement"}],value:"center"}},{t:7,e:"span",a:{"class":"label"},f:["Center"]}]},{t:7,e:"label",f:[{t:7,e:"input",a:{type:"radio",name:[{t:2,r:"placement"}],value:"right"}},{t:7,e:"span",a:{"class":"label"},f:["Right"]}]}]}],i:"index",r:"options.players"},{t:7,e:"button",a:{type:"submit"},f:["Play"]}]}]}]}},,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(286);"string"==typeof r&&(r=[[t.id,r,""]]);n(12)(r,{})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(50).View,i=n(308);t.exports=new r(i)}]);