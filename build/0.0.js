webpackJsonp([0],[,,function(n,e,t){"use strict";t(6),t(10)},function(n,e,t){t(4),t(5)},function(n){!function(e,t,r){"use strict";function i(n){return null!=n&&("object"==typeof n||"function"==typeof n)}function o(n){return"function"==typeof n}function s(n,e,t){n&&!at(n=t?n:n[pe],kt)&&xt(n,kt,e)}function a(n){return n==r?n===r?"Undefined":"Null":Ve.call(n).slice(8,-1)}function u(n){var e,t=a(n);return t==Q&&(e=n[kt])?at(Xe,e)?"~"+e:e:t}function c(){for(var n=arguments.length,e=Ee(n),t=0,r=qt._,i=!1;n>t;)(e[t]=arguments[t++])===r&&(i=!0);return l(this,e,n,i,r,!1)}function l(n,e,t,r,i,o,s){return R(n),function(){var a,u=o?s:this,c=arguments.length,l=0,f=0;if(!r&&!c)return p(n,e,u);if(a=e.slice(),r)for(;t>l;l++)a[l]===i&&(a[l]=arguments[f++]);for(;c>f;)a.push(arguments[f++]);return p(n,a,u)}}function f(n,e,t){if(R(n),~t&&e===r)return n;switch(t){case 1:return function(t){return n.call(e,t)};case 2:return function(t,r){return n.call(e,t,r)};case 3:return function(t,r,i){return n.call(e,t,r,i)}}return function(){return n.apply(e,arguments)}}function p(n,e,t){var i=t===r;switch(0|e.length){case 0:return i?n():n.call(t);case 1:return i?n(e[0]):n.call(t,e[0]);case 2:return i?n(e[0],e[1]):n.call(t,e[0],e[1]);case 3:return i?n(e[0],e[1],e[2]):n.call(t,e[0],e[1],e[2]);case 4:return i?n(e[0],e[1],e[2],e[3]):n.call(t,e[0],e[1],e[2],e[3]);case 5:return i?n(e[0],e[1],e[2],e[3],e[4]):n.call(t,e[0],e[1],e[2],e[3],e[4])}return n.apply(t,e)}function h(n,e){var t=Ke(n[pe]),r=Ze.call(n,t,e);return i(r)?r:t}function d(n){return n}function g(n,e){return at(n,e)?n[e]:void 0}function m(n){return st?ot(n).concat(st(n)):ot(n)}function v(n,e){for(var t,r=ut(n),i=it(r),o=i.length,s=0;o>s;)if(r[t=i[s++]]===e)return t}function b(n){return ke(n).split(",")}function y(n){var e=1==n,t=2==n,i=3==n,o=4==n,s=6==n,a=5==n||s;return function(u){for(var c,l,p=je(A(this)),h=arguments[1],d=ut(p),g=f(u,h,3),m=E(d.length),v=0,b=e?Ee(m):t?[]:r;m>v;v++)if((a||v in d)&&(c=d[v],l=g(c,v,p),n))if(e)b[v]=l;else if(l)switch(n){case 3:return!0;case 5:return c;case 6:return v;case 2:b.push(c)}else if(o)return!1;return s?-1:i||o?o:b}}function w(n){return function(e){var t=ut(A(this)),r=E(t.length),i=k(arguments[1],r);if(n&&e!=e){for(;r>i;i++)if(S(t[i]))return n||i}else for(;r>i;i++)if((n||i in t)&&t[i]===e)return n||i;return!n&&-1}}function x(n,e){return"function"==typeof n?n:e}function S(n){return n!=n}function j(n){return isNaN(n)?0:bt(n)}function E(n){return n>0?mt(j(n),pt):0}function k(n,e){var n=j(n);return 0>n?gt(n+e,0):mt(n,e)}function T(n,e,t){var r=i(e)?function(n){return e[n]}:e;return function(e){return ke(t?e:this).replace(n,r)}}function O(n){return function(e){var t,i,o=ke(A(this)),s=j(e),a=o.length;return 0>s||s>=a?n?"":r:(t=o.charCodeAt(s),55296>t||t>56319||s+1===a||(i=o.charCodeAt(s+1))<56320||i>57343?n?o.charAt(s):t:n?o.slice(s,s+2):(t-55296<<10)+(i-56320)+65536)}}function _(n,e,t){if(!n)throw Ce(t?e+t:e)}function A(n){if(n==r)throw Ce("Function called on null or undefined");return n}function R(n){return _(o(n),n," is not a function!"),n}function P(n){return _(i(n),n," is not an object!"),n}function I(n,e,t){_(n instanceof e,t,": use the 'new' operator!")}function M(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}}function C(n,e,t){return n[e]=t,n}function N(n){return yt?function(e,t,r){return tt(e,t,M(n,r))}:C}function q(n){return ue+"("+n+")_"+(++wt+vt())[de](36)}function L(n,e){return Ie&&Ie[n]||(e?Ie:jt)(ue+Ge+n)}function B(n,e){for(var t in e)xt(n,t,e[t]);return n}function D(n,e){xt(n,Et,e),Tt&&xt(n,ye,e)}function F(n,e,t,r){n[pe]=Ke(r||Pt,{next:M(1,t)}),s(n,e+" Iterator")}function z(n,r,i,o){var a=n[pe],u=g(a,Et)||g(a,ye)||o&&g(a,o)||i;if(t&&(D(a,u),u!==i)){var c=nt(u.call(new n));s(c,r+" Iterator",!0),at(a,ye)&&D(c,e)}return Rt[r]=u,Rt[r+" Iterator"]=e,u}function U(n,e,t,r,i,o){function s(n){return function(){return new t(this,n)}}F(t,e,r);var a=s(_t+At),u=s(At);i==At?u=z(n,e,u,"values"):a=z(n,e,a,"entries"),i&&Y(zt+Bt*Mt,e,{entries:a,keys:o?u:s(_t),values:u})}function H(n,e){return{value:e,done:!!n}}function W(n){var e=je(n),t=V[ue],r=!!(t&&t[be]&&t[be]in e);return r||Et in e||at(Rt,u(e))}function $(n){var e=V[ue],t=e&&e[be]&&n[e[be]],r=t||n[Et]||Rt[u(n)];return P(r.call(n))}function J(n,e,t){return t?p(n,e):n(e)}function G(n,e,t,r){for(var i,o=$(n),s=f(t,r,e?2:1);!(i=o.next()).done;)if(J(s,i.value,e)===!1)return}function Y(n,e,r){var i,s,a,u,c=n&Dt,l=c?V:n&Ft?V[e]:(V[e]||We)[pe],p=c?Nt:Nt[e]||(Nt[e]={});c&&(r=e);for(i in r)s=!(n&Bt)&&l&&i in l&&(!o(l[i])||Ye(l[i])),a=(s?l:r)[i],n&Ut&&s?u=f(a,V):n&Ht&&!t&&l[i]==a?(u=function(n){return this instanceof a?new a(n):a(n)},u[pe]=a[pe]):u=n&zt&&o(a)?f(Qe,a):a,p[i]!=a&&xt(p,i,u),t&&l&&!s&&(c?l[i]=a:delete l[i]&&xt(l,i,a))}var X,V=e(),Q="Object",Z="Function",K="Array",ne="String",ee="Number",te="RegExp",re="Date",ie="Map",oe="Set",se="WeakMap",ae="WeakSet",ue="Symbol",ce="Promise",le="Math",fe="Arguments",pe="prototype",he="constructor",de="toString",ge=de+"Tag",me="hasOwnProperty",ve="forEach",be="iterator",ye="@@"+be,we="process",xe="createElement",Se=V[Z],je=V[Q],Ee=V[K],ke=V[ne],Te=V[ee],Oe=V[te],_e=(V[re],V[ie]),Ae=V[oe],Re=V[se],Pe=V[ae],Ie=V[ue],Me=V[le],Ce=V.TypeError,Ne=V.setTimeout,qe=V.setImmediate,Le=V.clearImmediate,Be=V[we],De=Be&&Be.nextTick,Fe=V.document,ze=Fe&&Fe.documentElement,Ue=(V.navigator,V.define),He=Ee[pe],We=je[pe],$e=Se[pe],Je=1/0,Ge=".",Ye=f(/./.test,/\[native code\]\s*\}\s*$/,1),Xe={Undefined:1,Null:1,Array:1,String:1,Arguments:1,Function:1,Error:1,Boolean:1,Number:1,Date:1,RegExp:1},Ve=We[de],Qe=$e.call,Ze=$e.apply,Ke=je.create,nt=je.getPrototypeOf,et=je.setPrototypeOf,tt=je.defineProperty,rt=(je.defineProperties,je.getOwnPropertyDescriptor),it=je.keys,ot=je.getOwnPropertyNames,st=je.getOwnPropertySymbols,at=f(Qe,We[me],2),ut=je,ct=je.assign||function(n){for(var e=je(A(n)),t=arguments.length,r=1;t>r;)for(var i,o=ut(arguments[r++]),s=it(o),a=s.length,u=0;a>u;)e[i=s[u++]]=o[i];return e},lt=He.push,ft=(He.unshift,He.slice,He.splice,He.indexOf,He[ve]),pt=9007199254740991,ht=Me.ceil,dt=Me.floor,gt=Me.max,mt=Me.min,vt=Me.random,bt=Me.trunc||function(n){return(n>0?dt:ht)(n)},yt=!!function(){try{return tt({},Ge,We)}catch(n){}}(),wt=0,xt=N(1),St=Ie?C:xt,jt=Ie||q,Et=L(be),kt=L(ge),Tt=ye in He,Ot=jt("iter"),_t=1,At=2,Rt={},Pt={},It=Et in He,Mt="keys"in He&&!("next"in[].keys());D(Pt,e);var Ct=a(Be)==we,Nt={},qt=t?V:Nt,Lt=V.core,Bt=1,Dt=2,Ft=4,zt=8,Ut=16,Ht=32;"undefined"!=typeof n&&n.exports&&(n.exports=Nt),o(Ue)&&Ue.amd&&Ue(function(){return Nt}),(!Ct||t)&&(Nt.noConflict=function(){return V.core=Lt,Nt},V.core=Nt),Y(Dt+Bt,{global:V}),!function(n,e,t){Ye(Ie)||(Ie=function(e){_(!(this instanceof Ie),ue+" is not a "+he);var r=q(e);return yt&&t&&tt(We,r,{configurable:!0,set:function(n){xt(this,r,n)}}),St(Ke(Ie[pe]),n,r)},xt(Ie[pe],de,function(){return this[n]})),Y(Dt+Ht,{Symbol:Ie});var r={"for":function(n){return at(e,n+="")?e[n]:e[n]=Ie(n)},iterator:Et,keyFor:c.call(v,e),toStringTag:kt=L(ge,!0),pure:jt,set:St,useSetter:function(){t=!0},useSimple:function(){t=!1}};ft.call(b("hasInstance,isConcatSpreadable,match,replace,search,species,split,toPrimitive,unscopables"),function(n){r[n]=L(n)}),Y(Ft,ue,r),s(Ie,ue),Y(Dt,{Reflect:{ownKeys:m}})}(jt("tag"),{},!0),!function(n,e){function o(e){return n(e=+e)&&0!=e?0>e?-o(-e):v(e+b(e*e+1)):e}function c(n){if(i(n)&&n instanceof Oe)throw Ce()}var l=V.RangeError,p=Te.isInteger||function(e){return!i(e)&&n(e)&&dt(e)===e},h=Me.sign||function(n){return 0==(n=+n)||n!=n?n:0>n?-1:1},d=Me.pow,g=Me.abs,m=Me.exp,v=Me.log,b=Me.sqrt,w=ke.fromCharCode,R=O(!0),I={assign:ct,is:function(n,e){return n===e?0!==n||1/n===1/e:n!=n&&e!=e}};"__proto__"in We&&function(n,e){try{e=f(Qe,rt(We,"__proto__").set,2),e({},He)}catch(t){n=!0}I.setPrototypeOf=et=et||function(t,r){return P(t),_(null===r||i(r),r,": can't set as prototype!"),n?t.__proto__=r:e(t,r),t}}(),Y(Ft,Q,I),Y(Ft,ee,{EPSILON:d(2,-52),isFinite:function(e){return"number"==typeof e&&n(e)},isInteger:p,isNaN:S,isSafeInteger:function(n){return p(n)&&g(n)<=pt},MAX_SAFE_INTEGER:pt,MIN_SAFE_INTEGER:-pt,parseFloat:parseFloat,parseInt:parseInt}),Y(Ft,le,{acosh:function(n){return 1>n?0/0:v(n+b(n*n-1))},asinh:o,atanh:function(n){return 0==n?+n:v((1+ +n)/(1-n))/2},cbrt:function(n){return h(n)*d(g(n),1/3)},clz32:function(n){return(n>>>=0)?32-n[de](2).length:32},cosh:function(n){return(m(n)+m(-n))/2},expm1:function(n){return 0==n?+n:n>-1e-6&&1e-6>n?+n+n*n/2:m(n)-1},fround:function(n){return new Float32Array([n])[0]},hypot:function(){for(var n,e=0,t=arguments.length;t--;){if(n=+arguments[t],n==Je||n==-Je)return Je;e+=n*n}return b(e)},imul:function(n,e){var t=65535,r=t&n,i=t&e;return 0|r*i+((t&n>>>16)*i+r*(t&e>>>16)<<16>>>0)},log1p:function(n){return n>-1e-8&&1e-8>n?n-n*n/2:v(1+ +n)},log10:function(n){return v(n)/Me.LN10},log2:function(n){return v(n)/Me.LN2},sign:h,sinh:function(n){return 0==n?+n:(m(n)-m(-n))/2},tanh:function(e){return n(e)?0==e?+e:(m(e)-m(-e))/(m(e)+m(-e)):h(e)},trunc:bt}),s(Me,le,!0),Y(Ft,ne,{fromCodePoint:function(){for(var n,e=[],t=arguments.length,r=0;t>r;){if(n=+arguments[r++],k(n,1114111)!==n)throw l(n+" is not a valid code point");e.push(65536>n?w(n):w(((n-=65536)>>10)+55296,n%1024+56320))}return e.join("")},raw:function(n){for(var e=ut(A(n.raw)),t=E(e.length),r=arguments.length,i=[],o=0;t>o;)i.push(ke(e[o++])),r>o&&i.push(ke(arguments[o]));return i.join("")}}),Y(zt,ne,{codePointAt:O(!1),endsWith:function(n){c(n);var e=ke(A(this)),t=arguments[1],i=E(e.length),o=t===r?i:mt(E(t),i);return n+="",e.slice(o-n.length,o)===n},includes:function(n){return c(n),!!~ke(A(this)).indexOf(n,arguments[1])},repeat:function(n){var e=ke(A(this)),t="",r=j(n);if(0>r||r==Je)throw l("Count can't be negative");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(t+=e);return t},startsWith:function(n){c(n);var e=ke(A(this)),t=E(mt(arguments[1],e.length));return n+="",e.slice(t,t+n.length)===n}}),U(ke,ne,function(n){St(this,Ot,{o:ke(n),i:0})},function(){var n,e=this[Ot],t=e.o,r=e.i;return r>=t.length?H(1):(n=R.call(t,r),e.i+=n.length,H(0,n))}),Y(Ft,K,{from:function(n){var e,t=je(A(n)),i=new(x(this,Ee)),o=arguments[1],s=arguments[2],a=o!==r,u=a?f(o,s,2):r,c=0;if(W(t))for(var l,p=$(t);!(l=p.next()).done;c++)i[c]=a?u(l.value,c):l.value;else for(e=E(t.length);e>c;c++)i[c]=a?u(t[c],c):t[c];return i.length=c,i},of:function(){for(var n=0,e=arguments.length,t=new(x(this,Ee))(e);e>n;)t[n]=arguments[n++];return t.length=e,t}}),Y(zt,K,{copyWithin:function(n,e){var t=je(A(this)),i=E(t.length),o=k(n,i),s=k(e,i),a=arguments[2],u=a===r?i:k(a,i),c=mt(u-s,i-o),l=1;for(o>s&&s+c>o&&(l=-1,s=s+c-1,o=o+c-1);c-->0;)s in t?t[o]=t[s]:delete t[o],o+=l,s+=l;return t},fill:function(n){for(var e=je(A(this)),t=E(e.length),i=k(arguments[1],t),o=arguments[2],s=o===r?t:k(o,t);s>i;)e[i++]=n;return e},find:y(5),findIndex:y(6)}),U(Ee,K,function(n,e){St(this,Ot,{o:ut(n),i:0,k:e})},function(){var n=this[Ot],e=n.o,t=n.k,i=n.i++;return!e||i>=e.length?(n.o=r,H(1)):t==_t?H(0,i):t==At?H(0,e[i]):H(0,[i,e[i]])},At),Rt[fe]=Rt[K],s(V.JSON,"JSON",!0),t&&(e[kt]=Ge,a(e)!=Ge&&xt(We,de,function(){return"[object "+u(this)+"]"}),"g"!=/./g.flags&&tt(Oe[pe],"flags",{configurable:!0,get:T(/^.*\/(\w*)$/,"$1")}))}(isFinite,{}),o(qe)&&o(Le)||function(n){function e(n){if(at(d,n)){var e=d[n];delete d[n],e()}}function t(n){e(n.data)}var r,i,s,a=V.postMessage,u=V.addEventListener,l=V.MessageChannel,h=0,d={};qe=function(n){for(var e=[],t=1;arguments.length>t;)e.push(arguments[t++]);return d[++h]=function(){p(o(n)?n:Se(n),e)},r(h),h},Le=function(n){delete d[n]},Ct?r=function(n){De(c.call(e,n))}:u&&o(a)&&!V.importScripts?(r=function(n){a(n,"*")},u("message",t,!1)):o(l)?(i=new l,s=i.port2,i.port1.onmessage=t,r=f(s.postMessage,s,1)):r=Fe&&n in Fe[xe]("script")?function(t){ze.appendChild(Fe[xe]("script"))[n]=function(){ze.removeChild(this),e(t)}}:function(n){Ne(c.call(e,n),0)}}("onreadystatechange"),Y(Dt+Ut,{setImmediate:qe,clearImmediate:Le}),!function(n,e){o(n)&&o(n.resolve)&&n.resolve(e=new n(Se()))==e||function(e,t){function s(n){var e;return i(n)&&(e=n.then),o(e)?e:!1}function a(n){var t=n.chain;t.length&&e(function(){for(var e=n.msg,r=1==n.state,i=0;t.length>i;)!function(n){var t,i,o=r?n.ok:n.fail;try{o?(t=o===!0?e:o(e),t===n.P?n.rej(Ce(ce+"-chain cycle")):(i=s(t))?i.call(t,n.res,n.rej):n.res(t)):n.rej(e)}catch(a){n.rej(a)}}(t[i++]);t.length=0})}function u(n){var e,t,r=this;if(!r.done){r.done=!0,r=r.def||r;try{(e=s(n))?(t={def:r,done:!1},e.call(n,f(u,t,1),f(c,t,1))):(r.msg=n,r.state=1,a(r))}catch(i){c.call(t||{def:r,done:!1},i)}}}function c(n){var e=this;e.done||(e.done=!0,e=e.def||e,e.msg=n,e.state=2,a(e))}n=function(e){R(e),I(this,n,ce);var i={chain:[],state:0,done:!1,msg:r};xt(this,t,i);try{e(f(u,i,1),f(c,i,1))}catch(o){c.call(i,o)}},B(n[pe],{then:function(n,e){var r={ok:o(n)?n:!0,fail:o(e)?e:!1},i=r.P=new this[he](function(n,e){r.res=R(n),r.rej=R(e)}),s=this[t];return s.chain.push(r),s.state&&a(s),i},"catch":function(n){return this.then(r,n)}}),B(n,{all:function(n){var e=this,t=[];return new e(function(r,i){G(n,!1,lt,t);var o=t.length,s=Ee(o);o?ft.call(t,function(n,t){e.resolve(n).then(function(n){s[t]=n,--o||r(s)},i)}):r(s)})},race:function(n){var e=this;return new e(function(t,r){G(n,!1,function(n){e.resolve(n).then(t,r)})})},reject:function(n){return new this(function(e,t){t(n)})},resolve:function(n){return i(n)&&nt(n)===this[pe]?n:new this(function(e){e(n)})}})}(De||qe,jt("def")),s(n,ce),Y(Dt+Bt*!Ye(n),{Promise:n})}(V[ce]),!function(){function n(n,e,i,o,a,u){function c(n,e){return e!=r&&G(e,a,n[h],n),n}function f(n,e){var r=b[n];t&&xt(b,n,function(n,t){var i=r.call(this,0===n?0:n,t);return e?this:i})}var h=a?"set":"add",b=n&&n[pe],y={};if(Ye(n)&&(u||!Mt&&at(b,"entries"))){var w,x=n,S=new n,j=S[h](u?{}:-0,1);It&&n.length||(n=function(t){return I(this,n,e),c(new x,t)},n[pe]=b),u||S[ve](function(n,e){w=1/e===-Je}),w&&(f("delete"),f("has"),a&&f("get")),(w||j!==S)&&f(h,!0)}else n=u?function(t){I(this,n,e),St(this,l,v++),c(this,t)}:function(t){var i=this;I(i,n,e),St(i,p,Ke(null)),St(i,m,0),St(i,d,r),St(i,g,r),c(i,t)},B(B(n[pe],i),o),u||tt(n[pe],"size",{get:function(){return A(this[m])}});return s(n,e),y[e]=n,Y(Dt+Ht+Bt*!Ye(n),y),u||U(n,e,function(n,e){St(this,Ot,{o:n,k:e})},function(){for(var n=this[Ot],e=n.o,t=n.k,i=n.l;i&&i.r;)i=i.p;return e&&(n.l=i=i?i.n:e[g])?t==_t?H(0,i.k):t==At?H(0,i.v):H(0,[i.k,i.v]):(n.o=r,H(1))},a?_t+At:At,!a),n}function e(n,e){if(!i(n))return("string"==typeof n?"S":"P")+n;if(!at(n,l)){if(!e)return"";xt(n,l,++v)}return"O"+n[l]}function o(n,t,r){var i,o=e(t,!0),s=n[p],a=n[d];return o in s?s[o].v=r:(i=s[o]={k:t,v:r,p:a},n[g]||(n[g]=i),a&&(a.n=i),n[d]=i,n[m]++),n}function a(n,e){var t=n[p],r=t[e],i=r.n,o=r.p;delete t[e],r.r=!0,o&&(o.n=i),i&&(i.p=o),n[g]==r&&(n[g]=i),n[d]==r&&(n[d]=o),n[m]--}function u(n,e,t){return at(P(e),h)||xt(e,h,{}),e[h][n[l]]=t,n}function c(n){return i(n)&&at(n,h)&&at(n[h],this[l])}var l=jt("uid"),p=jt("data"),h=jt("weak"),d=jt("last"),g=jt("first"),m=yt?jt("size"):"size",v=0,b={clear:function(){for(var n in this[p])a(this,n)},"delete":function(n){var t=e(n),r=t in this[p];return r&&a(this,t),r},forEach:function(n){for(var e,t=f(n,arguments[1],3);e=e?e.n:this[g];)for(t(e.v,e.k,this);e&&e.r;)e=e.p},has:function(n){return e(n)in this[p]}};_e=n(_e,ie,{get:function(n){var t=this[p][e(n)];return t&&t.v},set:function(n,e){return o(this,0===n?0:n,e)}},b,!0),Ae=n(Ae,oe,{add:function(n){return o(this,n=0===n?0:n,n)}},b);var y={"delete":function(n){return c.call(this,n)&&delete n[h][this[l]]},has:c};Re=n(Re,se,{get:function(n){return i(n)&&at(n,h)?n[h][this[l]]:void 0},set:function(n,e){return u(this,n,e)}},y,!0,!0),Pe=n(Pe,ae,{add:function(n){return u(this,n,!0)}},y,!1,!0)}(),!function(){function n(n){var e,t=[];for(e in n)t.push(e);St(this,Ot,{o:n,a:t,i:0})}function e(n){return function(e){P(e);try{return n.apply(r,arguments),!0}catch(t){return!1}}}function t(n,e,o){o===r&&(o=n);var s,a=rt(P(n),e);return a?a.get?a.get.call(o):a.value:i(s=nt(n))?t(s,e,o):r}function o(n,e,t,s){s===r&&(s=n);var a,u=rt(P(n),e);if(u){if(u.writable===!1)return!1;if(u.set)return u.set.call(s,t),!0}return i(a=nt(n))?o(a,e,t,s):(u=rt(s,e)||M(0),u.value=t,tt(s,e,u),!0)}F(n,Q,function(){var n,e=this[Ot],t=e.a;do if(e.i>=t.length)return H(1);while(!((n=t[e.i++])in e.o));return H(0,n)});var s={apply:f(Qe,Ze,3),construct:h,defineProperty:e(tt),deleteProperty:function(n,e){var t=rt(P(n),e);return t&&!t.configurable?!1:delete n[e]},enumerate:function(e){return new n(P(e))},get:t,getOwnPropertyDescriptor:rt,getPrototypeOf:nt,has:function(n,e){return e in n},isExtensible:je.isExtensible||function(n){return!!P(n)},ownKeys:m,preventExtensions:e(je.preventExtensions||d),set:o};et&&(s.setPrototypeOf=function(n,e){return et(P(n),e),!0}),Y(Dt,{Reflect:{}}),Y(Ft,"Reflect",s)}(),!function(){function n(n){return function(e){var t,r=ut(e),i=it(e),o=i.length,s=0,a=Ee(o);if(n)for(;o>s;)a[s]=[t=i[s++],r[t]];else for(;o>s;)a[s]=r[i[s++]];return a}}Y(zt,K,{includes:w(!0)}),Y(zt,ne,{at:O(!0)}),Y(Ft,Q,{values:n(!1),entries:n(!0)}),Y(Ft,te,{escape:T(/([\\\-[\]{}()*+?.,^$|])/g,"\\$1",!0)})}(),!function(n){function t(n){if(n){var e=n[pe];xt(e,X,e.get),xt(e,r,e.set),xt(e,i,e["delete"])}}X=L(n+"Get",!0);var r=L(n+oe,!0),i=L(n+"Delete",!0);Y(Ft,ue,{referenceGet:X,referenceSet:r,referenceDelete:i}),xt($e,X,e),t(_e),t(Re)}("reference"),!function(n){function e(e,t){ft.call(b(e),function(e){e in He&&(n[e]=f(Qe,He[e],t))})}e("pop,reverse,shift,keys,values,entries",1),e("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),e("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill,turn"),Y(Ft,K,n)}({})}(Function("return this"),!0)},function(n,e){!function(){function n(n,e,t,r){return new i(n,e,t||null,r||[])}function t(){}function r(){}function i(n,e,t,r){function i(e,r){if(u===m)throw new Error("Generator is already running");if(u===v)return c();for(;;){var i=s.delegate;if(i){try{var o=i.iterator[e](r);e="next",r=l}catch(a){s.delegate=null,e="throw",r=a;continue}if(!o.done)return u=g,o;s[i.resultName]=o.value,s.next=i.nextLoc,s.delegate=null}if("next"===e){if(u===d&&"undefined"!=typeof r)throw new TypeError("attempt to send "+JSON.stringify(r)+" to newborn generator");u===g?s.sent=r:delete s.sent}else if("throw"===e){if(u===d)throw u=v,r;s.dispatchException(r)&&(e="next",r=l)}else"return"===e&&s.abrupt("return",r);u=m;try{var f=n.call(t,s);u=s.done?v:g;var o={value:f,done:s.done};if(f!==b)return o;s.delegate&&"next"===e&&(r=l)}catch(p){u=v,"next"===e?s.dispatchException(p):r=p}}}var o=e?Object.create(e.prototype):this,s=new a(r),u=d;return o.next=i.bind(o,"next"),o["throw"]=i.bind(o,"throw"),o["return"]=i.bind(o,"return"),o}function o(n){var e={tryLoc:n[0]};1 in n&&(e.catchLoc=n[1]),2 in n&&(e.finallyLoc=n[2]),this.tryEntries.push(e)}function s(n,e){var t=n.completion||{};t.type=0===e?"normal":"return",delete t.arg,n.completion=t}function a(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(o,this),this.reset()}function u(n){function e(){for(;++r<n.length;)if(f.call(n,r))return e.value=n[r],e.done=!1,e;return e.value=l,e.done=!0,e}if(n){var t=n[p];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var r=-1;return e.next=e}}return{next:c}}function c(){return{value:l,done:!0}}var l,f=Object.prototype.hasOwnProperty,p="function"==typeof Symbol&&Symbol.iterator||"@@iterator";if("object"!=typeof regeneratorRuntime){var h=regeneratorRuntime=e;h.wrap=n;var d="suspendedStart",g="suspendedYield",m="executing",v="completed",b={},y=r.prototype=i.prototype;t.prototype=y.constructor=r,r.constructor=t,t.displayName="GeneratorFunction",h.isGeneratorFunction=function(n){var e="function"==typeof n&&n.constructor;return e?e===t||"GeneratorFunction"===(e.displayName||e.name):!1},h.mark=function(n){return n.__proto__=r,n.prototype=Object.create(y),n},h.async=function(e,t,r,i){return new Promise(function(o,s){function a(n){try{var e=this(n),t=e.value}catch(r){return s(r)}e.done?o(t):Promise.resolve(t).then(c,l)}var u=n(e,t,r,i),c=a.bind(u.next),l=a.bind(u["throw"]);c()})},y[p]=function(){return this},y.toString=function(){return"[object Generator]"},h.keys=function(n){var e=[];for(var t in n)e.push(t);return e.reverse(),function r(){for(;e.length;){var t=e.pop();if(t in n)return r.value=t,r.done=!1,r}return r.done=!0,r}},h.values=u,a.prototype={constructor:a,reset:function(){this.prev=0,this.next=0,this.sent=l,this.done=!1,this.delegate=null,this.tryEntries.forEach(s);for(var n,e=0;f.call(this,n="t"+e)||20>e;++e)this[n]=null},stop:function(){this.done=!0;var n=this.tryEntries[0],e=n.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){function e(e,r){return o.type="throw",o.arg=n,t.next=e,!!r}if(this.done)throw n;for(var t=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var s=f.call(i,"catchLoc"),a=f.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},_findFinallyEntry:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.tryLoc<=this.prev&&f.call(t,"finallyLoc")&&(t.finallyLoc===n||this.prev<t.finallyLoc))return t}},abrupt:function(n,e){var t=this._findFinallyEntry(),r=t?t.completion:{};return r.type=n,r.arg=e,t?this.next=t.finallyLoc:this.complete(r),b},complete:function(n){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type&&(this.rval=n.arg,this.next="end"),b},finish:function(n){var e=this._findFinallyEntry(n);return this.complete(e.completion)},"catch":function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.tryLoc===n){var r=t.completion;if("throw"===r.type){var i=r.arg;s(t,e)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(n,e,t){return this.delegate={iterator:u(n),resultName:e,nextLoc:t},b}}}}()},function(n,e,t){n.exports=t(3)},function(n){n.exports={includeStack:!1,showDiff:!0,truncateThreshold:40}},function(n){/*!
	 * Chai - flag utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
n.exports=function(n,e,t){var r=n.__flags||(n.__flags=Object.create(null));return 3!==arguments.length?r[e]:void(r[e]=t)}},,function(n,e,t){t(13)()},function(n,e,t){(function(e){n.exports=function(n){"use strict";n||(n=e.Promise),n||(t(12),n=e.Promise),n.prototype.all=function(){var e=this.constructor||n;return this.then(function(n){return e.all(n)})},n.join=function(){var e=this||n;return e.all(arguments)},n.prototype.map=function(e,t){var r=this.constructor||n;return r.map(this,e,t)};var r=Array.prototype.map;n.map=function(e,t,i){var o=this||n;return o.resolve(e).then(function(n){return o.all(r.call(n,function(n,e,r){return o.resolve(n).then(function(n){var o=void 0===i?this:i;return t.call(o,n,e,r)})}))})},n.prototype.filter=function(e,t){var r=this.constructor||n;return r.filter(this,e,t)};Array.prototype.filter;n.filter=function(e,t,i){var o=this||n;return o.resolve(e).then(function(n){var e=new Array(n.length);return o.all(r.call(n,function(n,r,s){return o.resolve(n).then(function(n){var a=void 0===i?this:i,u=t.call(a,n,r,s);return o.resolve(u).then(function(t){return e[r]=t,n})})})).then(function(n){return n.filter(function(n,t){return e[t]})})})},n.prototype.props=function(){var e=this.constructor||n;return e.props(this)},n.props=function(e){var t=this||n;return t.resolve(e).then(function(n){var e={},r=Object.keys(n);if(Object(n)!==n)throw new TypeError("not an object");return t.all(r.map(function(e){return n[e]})).then(function(n){return r.forEach(function(t,r){e[t]=n[r]}),e})})},n.prototype.race=function(){var e=this.constructor||n;return this.then(function(n){return e.race(n)})};var i=function(n,e){return function(t,r,i,o){return n.resolve(t).then(function(t){return n.resolve(r).then(function(n){return e.call(this,t,n,i,o)})})}};n.prototype.reduce=function(e){var t=this.constructor||n;return arguments.length<=1?t.reduce(this,e):t.reduce(this,e,arguments[1])};var o=Array.prototype.reduce;n.reduce=function(e,t){var r=this||n;if(arguments.length<=2)return r.resolve(e).then(function(n){return o.call(n,i(r,t))});var s=r.resolve(arguments[2]);return r.resolve(e).then(function(n){return o.call(n,i(r,t),s)})},n.prototype.reduceRight=function(e){var t=this.constructor||n;return arguments.length<=1?t.reduceRight(this,e):t.reduceRight(this,e,arguments[1])};var s=Array.prototype.reduceRight;n.reduceRight=function(e,t){var r=this||n;if(arguments.length<=2)return r.resolve(e).then(function(n){return s.call(n,i(r,t))});var o=r.resolve(arguments[2]);return r.resolve(e).then(function(n){return s.call(n,i(r,t),o)})},n.prototype.spread=function(e,t){var r=this.constructor||n,i=e?function(n){return r.all(n).then(function(n){return e.apply(this,n)})}:void 0,o=t?function(n){return r.all(n).then(function(n){return t.apply(this,n)})}:void 0;return this.then(i,o)};var a=function(){};Object.defineProperties(a.prototype,{resolver:{enumerable:!0,get:function(){return{resolve:this.resolve,reject:this.reject}}},callback:{enumerable:!0,get:function(){var n=this.resolve,e=this.reject;return function(t,r){return t?e(t):n(r)}}}}),n.defer=function(){var e=this||n,t=new a;return t.promise=new e(function(n,e){t.resolve=n,t.reject=e}),t},n.prototype.call=function(e){var t=this.constructor||n,r=Array.prototype.slice.call(arguments,1);return this.then(function(n){return t.all(r).then(function(t){return n[e].apply(n,t)})})},n.prototype.get=function(n){return this.then(function(e){return e[n]})},n.prototype["return"]=function(n){return this.then(function(){return n})},n.prototype.tap=function(e){var t=this.constructor||n;return this.then(function(n){return t.resolve(e(n))["return"](n)})},n.prototype["throw"]=function(n){return this["return"](n).then(function(n){throw n})},n.prototype.done=function(){return arguments.length>0?this.then.apply(this,arguments).done():void this["catch"](function(n){setTimeout(function(){throw n},0)})},n.prototype.delay=function(e){var t=this.constructor||n;return t.delay(this,e)},n.delay=function(e,t){var r=this||n;return 1===arguments.length&&(t=e,e=void 0),r.resolve(e).then(function(n){return new r(function(e){setTimeout(function(){e(n)},t)})})};var u=n.TimeoutError=function(n){this.message="string"==typeof n?n:"timeout",this.name="TimeoutError",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};u.prototype=Object.create(Error.prototype);var c=function(n,e,t){var r=setTimeout(function(){n(new u(e))},t);return function(){clearTimeout(r)}};return n.prototype.timeout=function(e,t){var r=this.constructor||n,i=this;return new r(function(n,r){i.then(n,r);var o=c(r,t,e);i.then(o,o)})},n["try"]=function(){var e=this||n;return e.all(arguments).then(function(n){var t=n[0],r=n[1],i=n.slice(2);return new e(function(n,e){try{n(t.apply(r,i))}catch(o){e(o)}})})},n.prototype.caught=function(n,e){var t=this;if(arguments.length<=1)return t["catch"](n);var r=Array.prototype.slice.call(arguments);return e=r.pop(),r=r.map(function(n){var e=n===Error||null!=n&&n.prototype instanceof Error;return e?function(e){return e instanceof n}:"function"==typeof n?function(e){return!!n(e)}:function(){throw new TypeError("caught filter must inherit from Error or be a simple predicate function")}}),t["catch"](function(n){for(var t=0;t<r.length;t++)if(r[t](n))return e.call(this,n);throw n})},n.prototype["finally"]=function(e){var t=this,r=this.constructor||n;return new r(function(n,i){t.then(function(t){var o=function(){n(t)};r.resolve().then(e).then(o,i)},function(n){var t=function(){i(n)};r.resolve().then(e).then(t,i)})})},n.method=function(e){var t=this||n;if("function"!=typeof e)throw new TypeError("must wrap a function");return function(){var n=[e,this];return Array.prototype.push.apply(n,arguments),t["try"].apply(t,n)}},n.prototype.nodify=function(n){var e=this;if(n){var t=function(n){setTimeout(function(){throw n},0)};e.then(function(e){try{n.call(this,null,e)}catch(r){t(r)}},function(e){try{n.call(this,e)}catch(r){t(r)}})}return e},n.promisify=function(e,t,r){var i=this||n,o=arguments.length>2;return function(){var n=o?r:this,s=Array.prototype.slice.call(arguments);return new i(function(r,i){s.push(function(n,e){if(n)i(n);else if(t===!0)r(Array.prototype.slice.call(arguments,1));else if(t){var o={};for(var s in t)o[t[s]]=arguments[+s+1];r(o)}else r(e)});try{e.apply(n,s)}catch(o){i(o)}})}},n.guard=function(e,t){var r=this||n;return"number"==typeof e&&(e=r.guard.n(e)),function(){var n,i;return n=this,i=arguments,r.resolve(e()).then(function(e){return r.resolve(t.apply(n,i))["finally"](e)})}},n.guard.n=function(e){var t,r;t=0,r=[];var i=function(){t>0&&t--,r.length&&r.shift()(i)};return function(){return new n(function(n){e>t?n(i):r.push(n),t+=1})}},n.bind=function(n){return this.resolve().bind(n)},n.prototype.bind=function(e){var t=this._bindSuper||this.constructor||n,r=function(n){return t.call(this,n)};return Object.setPrototypeOf(r,t),r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype._bindSuper=t,r.prototype.then=function(n){return function(t,r){var i=t&&t.bind(e),o=r&&r.bind(e);return n.call(this,i,o)}}(r.prototype.then),e?r.resolve(this):t.resolve(this)},n.async=function(e){var t=this||n;return function(){function n(n,e){var s;try{s=r[n](e)}catch(a){return t.reject(a)}return s.done?s.value:t.resolve(s.value).then(i,o)}var r,i,o;return r=e.apply(this,arguments),i=n.bind(n,"next"),o=n.bind(n,"throw"),i()}},n}}).call(e,function(){return this}())},function(n,e,t){var r,i;(function(o){/*!
	  * https://github.com/paulmillr/es6-shim
	  * @license es6-shim Copyright 2013-2014 by Paul Miller (http://paulmillr.com)
	  *   and contributors,  MIT License
	  * es6-shim: v0.22.2
	  * see https://github.com/paulmillr/es6-shim/blob/0.22.2/LICENSE
	  * Details and documentation:
	  * https://github.com/paulmillr/es6-shim/
	  */
!function(o,s){r=s,i="function"==typeof r?r.call(e,t,e,n):r,!(void 0!==i&&(n.exports=i))}(this,function(){"use strict";var n,e=function(n){try{n()}catch(e){return!1}return!0},t=function(n,e){try{var t=function(){n.apply(this,arguments)};return t.__proto__?(Object.setPrototypeOf(t,n),t.prototype=Object.create(n.prototype,{constructor:{value:n}}),e(t)):!1}catch(r){return!1}},r=function(){try{return Object.defineProperty({},"x",{}),!0}catch(n){return!1}},i=function(){var n=!1;if(String.prototype.startsWith)try{"/a/".startsWith(/a/)}catch(e){n=!0}return n},s=new Function("return this;"),a=s(),u=a.isFinite,c=!!Object.defineProperty&&r(),l=i(),f=Function.call.bind(String.prototype.indexOf),p=Function.call.bind(Object.prototype.toString),h=Function.call.bind(Object.prototype.hasOwnProperty),d=function(){},g=a.Symbol||{},m={string:function(n){return"[object String]"===p(n)},regex:function(n){return"[object RegExp]"===p(n)},symbol:function(n){return"function"==typeof a.Symbol&&"symbol"==typeof n}},v=function(n,e,t,r){!r&&e in n||(c?Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:!0,value:t}):n[e]=t)},b={getter:function(n,e,t){if(!c)throw new TypeError("getters require true ES5 support");Object.defineProperty(n,e,{configurable:!0,enumerable:!1,get:t})},proxy:function(n,e,t){if(!c)throw new TypeError("getters require true ES5 support");var r=Object.getOwnPropertyDescriptor(n,e);Object.defineProperty(t,e,{configurable:r.configurable,enumerable:r.enumerable,get:function(){return n[e]},set:function(t){n[e]=t}})},redefine:function(n,e,t){if(c){var r=Object.getOwnPropertyDescriptor(n,e);r.value=t,Object.defineProperty(n,e,r)}else n[e]=t}},y=function(n,e){Object.keys(e).forEach(function(t){var r=e[t];v(n,t,r,!1)})},w=Object.create||function(n,e){function t(){}t.prototype=n;var r=new t;return"undefined"!=typeof e&&y(r,e),r},x=m.symbol(g.iterator)?g.iterator:"_es6-shim iterator_";a.Set&&"function"==typeof(new a.Set)["@@iterator"]&&(x="@@iterator");var S=function(n,e){e||(e=function(){return this});var t={};t[x]=e,y(n,t),!n[x]&&m.symbol(x)&&(n[x]=e)},j=function(n){var e=p(n),t="[object Arguments]"===e;return t||(t="[object Array]"!==e&&null!==n&&"object"==typeof n&&"number"==typeof n.length&&n.length>=0&&"[object Function]"===p(n.callee)),t},E={CheckObjectCoercible:function(n,e){if(null==n)throw new TypeError(e||"Cannot call method on "+n);return n},TypeIsObject:function(n){return null!=n&&Object(n)===n},ToObject:function(n,e){return Object(E.CheckObjectCoercible(n,e))},IsCallable:function(n){return"function"==typeof n&&"[object Function]"===p(n)},ToInt32:function(n){return E.ToNumber(n)>>0},ToUint32:function(n){return E.ToNumber(n)>>>0},ToNumber:function(n){if("[object Symbol]"===p(n))throw new TypeError("Cannot convert a Symbol value to a number");return+n},ToInteger:function(n){var e=E.ToNumber(n);return Number.isNaN(e)?0:0!==e&&Number.isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},ToLength:function(n){var e=E.ToInteger(n);return 0>=e?0:e>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e},SameValue:function(n,e){return n===e?0===n?1/n===1/e:!0:Number.isNaN(n)&&Number.isNaN(e)},SameValueZero:function(n,e){return n===e||Number.isNaN(n)&&Number.isNaN(e)},IsIterable:function(n){return E.TypeIsObject(n)&&("undefined"!=typeof n[x]||j(n))},GetIterator:function(e){if(j(e))return new n(e,"value");var t=e[x];if(!E.IsCallable(t))throw new TypeError("value is not an iterable");var r=t.call(e);if(!E.TypeIsObject(r))throw new TypeError("bad iterator");return r},IteratorNext:function(n){var e=arguments.length>1?n.next(arguments[1]):n.next();if(!E.TypeIsObject(e))throw new TypeError("bad iterator");return e},Construct:function(n,e){var t;t=E.IsCallable(n["@@create"])?n["@@create"]():w(n.prototype||null),y(t,{_es6construct:!0});var r=n.apply(t,e);return E.TypeIsObject(r)?r:t}},k=function(n){if(!E.TypeIsObject(n))throw new TypeError("bad object");return n._es6construct||(n.constructor&&E.IsCallable(n.constructor["@@create"])&&(n=n.constructor["@@create"](n)),y(n,{_es6construct:!0})),n},T=function(){function n(n){var e=Math.floor(n),t=n-e;return.5>t?e:t>.5?e+1:e%2?e+1:e}function e(e,t,r){var i,o,s,a,u,c,l,f=(1<<t-1)-1;for(e!==e?(o=(1<<t)-1,s=Math.pow(2,r-1),i=0):1/0===e||e===-1/0?(o=(1<<t)-1,s=0,i=0>e?1:0):0===e?(o=0,s=0,i=1/e===-1/0?1:0):(i=0>e,e=Math.abs(e),e>=Math.pow(2,1-f)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),s=n(e/Math.pow(2,o)*Math.pow(2,r)),s/Math.pow(2,r)>=2&&(o+=1,s=1),o>f?(o=(1<<t)-1,s=0):(o+=f,s-=Math.pow(2,r))):(o=0,s=n(e/Math.pow(2,1-f-r)))),u=[],a=r;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(a=t;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(u.push(i?1:0),u.reverse(),c=u.join(""),l=[];c.length;)l.push(parseInt(c.slice(0,8),2)),c=c.slice(8);return l}function t(n,e,t){var r,i,o,s,a,u,c,l,f=[];for(r=n.length;r;r-=1)for(o=n[r-1],i=8;i;i-=1)f.push(o%2?1:0),o>>=1;return f.reverse(),s=f.join(""),a=(1<<e-1)-1,u=parseInt(s.slice(0,1),2)?-1:1,c=parseInt(s.slice(1,1+e),2),l=parseInt(s.slice(1+e),2),c===(1<<e)-1?0!==l?0/0:1/0*u:c>0?u*Math.pow(2,c-a)*(1+l/Math.pow(2,t)):0!==l?u*Math.pow(2,-(a-1))*(l/Math.pow(2,t)):0>u?-0:0}function r(n){return t(n,8,23)}function i(n){return e(n,8,23)}var o={toFloat32:function(n){return r(i(n))}};if("undefined"!=typeof Float32Array){var s=new Float32Array(1);o.toFloat32=function(n){return s[0]=n,s[0]}}return o}();if(y(String,{fromCodePoint:function(){for(var n,e=[],t=0,r=arguments.length;r>t;t++){if(n=Number(arguments[t]),!E.SameValue(n,E.ToInteger(n))||0>n||n>1114111)throw new RangeError("Invalid code point "+n);65536>n?e.push(String.fromCharCode(n)):(n-=65536,e.push(String.fromCharCode((n>>10)+55296)),e.push(String.fromCharCode(n%1024+56320)))}return e.join("")},raw:function(n){var e=E.ToObject(n,"bad callSite"),t=e.raw,r=E.ToObject(t,"bad raw value"),i=r.length,o=E.ToLength(i);if(0>=o)return"";for(var s,a,u,c,l=[],f=0;o>f&&(s=String(f),a=r[s],u=String(a),l.push(u),!(f+1>=o));)a=f+1<arguments.length?arguments[f+1]:"",c=String(a),l.push(c),f++;return l.join("")}}),1!==String.fromCodePoint.length){var O=Function.apply.bind(String.fromCodePoint);v(String,"fromCodePoint",function(){return O(this,arguments)},!0)}var _={repeat:function(){var n=function(e,t){if(1>t)return"";if(t%2)return n(e,t-1)+e;var r=n(e,t/2);return r+r};return function(e){var t=String(E.CheckObjectCoercible(this));if(e=E.ToInteger(e),0>e||1/0===e)throw new RangeError("Invalid String#repeat value");return n(t,e)}}(),startsWith:function(n){var e=String(E.CheckObjectCoercible(this));if(m.regex(n))throw new TypeError('Cannot call method "startsWith" with a regex');n=String(n);var t=arguments.length>1?arguments[1]:void 0,r=Math.max(E.ToInteger(t),0);return e.slice(r,r+n.length)===n},endsWith:function(n){var e=String(E.CheckObjectCoercible(this));if(m.regex(n))throw new TypeError('Cannot call method "endsWith" with a regex');n=String(n);var t=e.length,r=arguments.length>1?arguments[1]:void 0,i="undefined"==typeof r?t:E.ToInteger(r),o=Math.min(Math.max(i,0),t);return e.slice(o-n.length,o)===n},includes:function(n){var e=arguments.length>1?arguments[1]:void 0;return-1!==f(this,n,e)},codePointAt:function(n){var e=String(E.CheckObjectCoercible(this)),t=E.ToInteger(n),r=e.length;if(t>=0&&r>t){var i=e.charCodeAt(t),o=t+1===r;if(55296>i||i>56319||o)return i;var s=e.charCodeAt(t+1);return 56320>s||s>57343?i:1024*(i-55296)+(s-56320)+65536}}};y(String.prototype,_);var A=1!=="".trim().length;if(A){delete String.prototype.trim;var R=["	\n\f\r   ᠎    ","         　\u2028","\u2029﻿"].join(""),P=new RegExp("(^["+R+"]+)|(["+R+"]+$)","g");y(String.prototype,{trim:function(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(P,"")}})}var I=function(n){this._s=String(E.CheckObjectCoercible(n)),this._i=0};I.prototype.next=function(){var n=this._s,e=this._i;if("undefined"==typeof n||e>=n.length)return this._s=void 0,{value:void 0,done:!0};var t,r,i=n.charCodeAt(e);return 55296>i||i>56319||e+1===n.length?r=1:(t=n.charCodeAt(e+1),r=56320>t||t>57343?1:2),this._i=e+r,{value:n.substr(e,r),done:!1}},S(I.prototype),S(String.prototype,function(){return new I(this)}),l||y(String.prototype,{startsWith:_.startsWith,endsWith:_.endsWith});var M={from:function(n){var e=arguments.length>1?arguments[1]:void 0,t=E.ToObject(n,"bad iterable");if("undefined"!=typeof e&&!E.IsCallable(e))throw new TypeError("Array.from: when provided, the second argument must be a function");var r,i,o,s,a=arguments.length>2,u=a?arguments[2]:void 0,c=E.IsIterable(t);if(c){o=0,i=E.IsCallable(this)?Object(new this):[];var l,f=c?E.GetIterator(t):null;do l=E.IteratorNext(f),l.done||(s=l.value,i[o]=e?a?e.call(u,s,o):e(s,o):s,o+=1);while(!l.done);r=o}else for(r=E.ToLength(t.length),i=E.IsCallable(this)?Object(new this(r)):new Array(r),o=0;r>o;++o)s=t[o],i[o]=e?a?e.call(u,s,o):e(s,o):s;return i.length=r,i},of:function(){return Array.from(arguments)}};y(Array,M);var C=function(){try{return 0===Array.from({length:-1}).length}catch(n){return!1}};C()||v(Array,"from",M.from,!0),n=function(n,e){this.i=0,this.array=n,this.kind=e},y(n.prototype,{next:function(){var e=this.i,t=this.array;if(!(this instanceof n))throw new TypeError("Not an ArrayIterator");if("undefined"!=typeof t)for(var r=E.ToLength(t.length);r>e;e++){var i,o=this.kind;return"key"===o?i=e:"value"===o?i=t[e]:"entry"===o&&(i=[e,t[e]]),this.i=e+1,{value:i,done:!1}}return this.array=void 0,{value:void 0,done:!0}}}),S(n.prototype);var N={copyWithin:function(n,e){var t=arguments[2],r=E.ToObject(this),i=E.ToLength(r.length);n=E.ToInteger(n),e=E.ToInteger(e);var o=0>n?Math.max(i+n,0):Math.min(n,i),s=0>e?Math.max(i+e,0):Math.min(e,i);t="undefined"==typeof t?i:E.ToInteger(t);var a=0>t?Math.max(i+t,0):Math.min(t,i),u=Math.min(a-s,i-o),c=1;for(o>s&&s+u>o&&(c=-1,s+=u-1,o+=u-1);u>0;)h(r,s)?r[o]=r[s]:delete r[s],s+=c,o+=c,u-=1;return r},fill:function(n){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,r=E.ToObject(this),i=E.ToLength(r.length);e=E.ToInteger("undefined"==typeof e?0:e),t=E.ToInteger("undefined"==typeof t?i:t);for(var o=0>e?Math.max(i+e,0):Math.min(e,i),s=0>t?i+t:t,a=o;i>a&&s>a;++a)r[a]=n;return r},find:function(n){var e=E.ToObject(this),t=E.ToLength(e.length);if(!E.IsCallable(n))throw new TypeError("Array#find: predicate must be a function");for(var r,i=arguments.length>1?arguments[1]:null,o=0;t>o;o++)if(r=e[o],i){if(n.call(i,r,o,e))return r}else if(n(r,o,e))return r},findIndex:function(n){var e=E.ToObject(this),t=E.ToLength(e.length);if(!E.IsCallable(n))throw new TypeError("Array#findIndex: predicate must be a function");for(var r=arguments.length>1?arguments[1]:null,i=0;t>i;i++)if(r){if(n.call(r,e[i],i,e))return i}else if(n(e[i],i,e))return i;return-1},keys:function(){return new n(this,"key")},values:function(){return new n(this,"value")},entries:function(){return new n(this,"entry")}};Array.prototype.keys&&!E.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!E.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[x]&&(y(Array.prototype,{values:Array.prototype[x]}),m.symbol(g.unscopables)&&(Array.prototype[g.unscopables].values=!0)),y(Array.prototype,N),S(Array.prototype,function(){return this.values()}),Object.getPrototypeOf&&S(Object.getPrototypeOf([].values()));var q=Math.pow(2,53)-1;y(Number,{MAX_SAFE_INTEGER:q,MIN_SAFE_INTEGER:-q,EPSILON:2.220446049250313e-16,parseInt:a.parseInt,parseFloat:a.parseFloat,isFinite:function(n){return"number"==typeof n&&u(n)},isInteger:function(n){return Number.isFinite(n)&&E.ToInteger(n)===n},isSafeInteger:function(n){return Number.isInteger(n)&&Math.abs(n)<=Number.MAX_SAFE_INTEGER},isNaN:function(n){return n!==n}}),[,1].find(function(n,e){return 0===e})||v(Array.prototype,"find",N.find,!0),0!==[,1].findIndex(function(n,e){return 0===e})&&v(Array.prototype,"findIndex",N.findIndex,!0),c&&y(Object,{assign:function(n){if(!E.TypeIsObject(n))throw new TypeError("target must be an object");return Array.prototype.reduce.call(arguments,function(n,e){return Object.keys(Object(e)).reduce(function(n,t){return n[t]=e[t],n},n)})},is:function(n,e){return E.SameValue(n,e)},setPrototypeOf:function(n,e){var t,r=function(n,e){if(!E.TypeIsObject(n))throw new TypeError("cannot set prototype on a non-object");if(null!==e&&!E.TypeIsObject(e))throw new TypeError("can only set prototype to an object or null"+e)},i=function(n,e){return r(n,e),t.call(n,e),n};try{t=n.getOwnPropertyDescriptor(n.prototype,e).set,t.call({},null)}catch(o){if(n.prototype!=={}[e])return;t=function(n){this[e]=n},i.polyfill=i(i({},null),n.prototype)instanceof n}return i}(Object,"__proto__")}),Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&!function(){var n=Object.create(null),e=Object.getPrototypeOf,t=Object.setPrototypeOf;Object.getPrototypeOf=function(t){var r=e(t);return r===n?null:r},Object.setPrototypeOf=function(e,r){return null===r&&(r=n),t(e,r)},Object.setPrototypeOf.polyfill=!1}();try{Object.keys("foo")}catch(L){var B=Object.keys;Object.keys=function(n){return B(E.ToObject(n))}}if(!RegExp.prototype.flags&&c){var D=function(){if(!E.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var n="";return this.global&&(n+="g"),this.ignoreCase&&(n+="i"),this.multiline&&(n+="m"),this.unicode&&(n+="u"),this.sticky&&(n+="y"),n};b.getter(RegExp.prototype,"flags",D)}var F=function(){try{return"/a/i"===String(new RegExp(/a/g,"i"))}catch(n){return!1}}();if(!F&&c){var z=RegExp,U=function ne(n,e){return m.regex(n)&&m.string(e)?new ne(n.source,e):new z(n,e)};v(U,"toString",z.toString.bind(z),!0),Object.setPrototypeOf&&Object.setPrototypeOf(z,U),Object.getOwnPropertyNames(z).forEach(function(n){"$input"!==n&&(n in d||b.proxy(z,n,U))}),U.prototype=z.prototype,b.redefine(z.prototype,"constructor",U),RegExp=U,b.redefine(a,"RegExp",U)}var H={acosh:function(n){return n=Number(n),Number.isNaN(n)||1>n?0/0:1===n?0:1/0===n?n:Math.log(n+Math.sqrt(n*n-1))},asinh:function(n){return n=Number(n),0!==n&&u(n)?0>n?-Math.asinh(-n):Math.log(n+Math.sqrt(n*n+1)):n},atanh:function(n){return n=Number(n),Number.isNaN(n)||-1>n||n>1?0/0:-1===n?-1/0:1===n?1/0:0===n?n:.5*Math.log((1+n)/(1-n))},cbrt:function(n){if(n=Number(n),0===n)return n;var e,t=0>n;return t&&(n=-n),e=Math.pow(n,1/3),t?-e:e},clz32:function(n){n=Number(n);var e=E.ToUint32(n);return 0===e?32:32-e.toString(2).length},cosh:function(n){return n=Number(n),0===n?1:Number.isNaN(n)?0/0:u(n)?(0>n&&(n=-n),n>21?Math.exp(n)/2:(Math.exp(n)+Math.exp(-n))/2):1/0},expm1:function(n){return n=Number(n),n===-1/0?-1:u(n)&&0!==n?Math.exp(n)-1:n},hypot:function(){var n=!1,e=!0,t=!1,r=[];if(Array.prototype.every.call(arguments,function(i){var o=Number(i);return Number.isNaN(o)?n=!0:1/0===o||o===-1/0?t=!0:0!==o&&(e=!1),t?!1:(n||r.push(Math.abs(o)),!0)}),t)return 1/0;if(n)return 0/0;if(e)return 0;r.sort(function(n,e){return e-n});var i=r[0],o=r.map(function(n){return n/i}),s=o.reduce(function(n,e){return n+e*e},0);return i*Math.sqrt(s)},log2:function(n){return Math.log(n)*Math.LOG2E},log10:function(n){return Math.log(n)*Math.LOG10E},log1p:function(n){if(n=Number(n),-1>n||Number.isNaN(n))return 0/0;if(0===n||1/0===n)return n;if(-1===n)return-1/0;var e=0,t=50;if(0>n||n>1)return Math.log(1+n);for(var r=1;t>r;r++)r%2===0?e-=Math.pow(n,r)/r:e+=Math.pow(n,r)/r;return e},sign:function(n){var e=+n;return 0===e?e:Number.isNaN(e)?e:0>e?-1:1},sinh:function(n){return n=Number(n),u(n)&&0!==n?(Math.exp(n)-Math.exp(-n))/2:n},tanh:function(n){return n=Number(n),Number.isNaN(n)||0===n?n:1/0===n?1:n===-1/0?-1:(Math.exp(n)-Math.exp(-n))/(Math.exp(n)+Math.exp(-n))},trunc:function(n){var e=Number(n);return 0>e?-Math.floor(-e):Math.floor(e)},imul:function(n,e){n=E.ToUint32(n),e=E.ToUint32(e);var t=n>>>16&65535,r=65535&n,i=e>>>16&65535,o=65535&e;return r*o+(t*o+r*i<<16>>>0)|0},fround:function(n){if(0===n||1/0===n||n===-1/0||Number.isNaN(n))return n;var e=Number(n);return T.toFloat32(e)}};y(Math,H),-5!==Math.imul(4294967295,5)&&(Math.imul=H.imul);var W=function(){var n,e;E.IsPromise=function(n){return E.TypeIsObject(n)&&n._promiseConstructor?"undefined"==typeof n._status?!1:!0:!1};var t,r=function(n){if(!E.IsCallable(n))throw new TypeError("bad promise constructor");var e=this,t=function(n,t){e.resolve=n,e.reject=t};if(e.promise=E.Construct(n,[t]),!e.promise._es6construct)throw new TypeError("bad promise constructor");if(!E.IsCallable(e.resolve)||!E.IsCallable(e.reject))throw new TypeError("bad promise constructor")},i=a.setTimeout;"undefined"!=typeof window&&E.IsCallable(window.postMessage)&&(t=function(){var n=[],e="zero-timeout-message",t=function(t){n.push(t),window.postMessage(e,"*")},r=function(t){if(t.source===window&&t.data===e){if(t.stopPropagation(),0===n.length)return;var r=n.shift();r()}};return window.addEventListener("message",r,!0),t});var s=function(){var n=a.Promise;return n&&n.resolve&&function(e){return n.resolve().then(e)}},u=E.IsCallable(a.setImmediate)?a.setImmediate.bind(a):"object"==typeof o&&o.nextTick?o.nextTick:s()||(E.IsCallable(t)?t():function(n){i(n,0)}),c=function(n,e){if(!E.TypeIsObject(n))return!1;var t=e.resolve,r=e.reject;try{var i=n.then;if(!E.IsCallable(i))return!1;i.call(n,t,r)}catch(o){r(o)}return!0},l=function(n,e){n.forEach(function(n){u(function(){var t=n.handler,r=n.capability,i=r.resolve,o=r.reject;try{var s=t(e);if(s===r.promise)throw new TypeError("self resolution");var a=c(s,r);a||i(s)}catch(u){o(u)}})})},f=function(n,e,t){return function(i){if(i===n)return t(new TypeError("self resolution"));var o=n._promiseConstructor,s=new r(o),a=c(i,s);return a?s.promise.then(e,t):e(i)}};n=function(n){var e=this;if(e=k(e),!e._promiseConstructor)throw new TypeError("bad promise");if("undefined"!=typeof e._status)throw new TypeError("promise already initialized");if(!E.IsCallable(n))throw new TypeError("not a valid resolver");e._status="unresolved",e._resolveReactions=[],e._rejectReactions=[];var t=function(n){if("unresolved"===e._status){var t=e._resolveReactions;e._result=n,e._resolveReactions=void 0,e._rejectReactions=void 0,e._status="has-resolution",l(t,n)}},r=function(n){if("unresolved"===e._status){var t=e._rejectReactions;e._result=n,e._resolveReactions=void 0,e._rejectReactions=void 0,e._status="has-rejection",l(t,n)}};try{n(t,r)}catch(i){r(i)}return e},e=n.prototype;var p=function(n,e,t,r){var i=!1;return function(o){if(!i&&(i=!0,e[n]=o,0===--r.count)){var s=t.resolve;s(e)}}};return y(n,{"@@create":function(n){var t=this,r=t.prototype||e;return n=n||w(r),y(n,{_status:void 0,_result:void 0,_resolveReactions:void 0,_rejectReactions:void 0,_promiseConstructor:void 0}),n._promiseConstructor=t,n},all:function(n){var e=this,t=new r(e),i=t.resolve,o=t.reject;try{if(!E.IsIterable(n))throw new TypeError("bad iterable");for(var s=E.GetIterator(n),a=[],u={count:1},c=0;;c++){var l=E.IteratorNext(s);if(l.done)break;var f=e.resolve(l.value),h=p(c,a,t,u);u.count++,f.then(h,t.reject)}0===--u.count&&i(a)}catch(d){o(d)}return t.promise},race:function(n){var e=this,t=new r(e),i=t.resolve,o=t.reject;try{if(!E.IsIterable(n))throw new TypeError("bad iterable");for(var s=E.GetIterator(n);;){var a=E.IteratorNext(s);if(a.done)break;var u=e.resolve(a.value);u.then(i,o)}}catch(c){o(c)}return t.promise},reject:function(n){var e=this,t=new r(e),i=t.reject;return i(n),t.promise},resolve:function(n){var e=this;if(E.IsPromise(n)){var t=n._promiseConstructor;if(t===e)return n}var i=new r(e),o=i.resolve;return o(n),i.promise}}),y(e,{"catch":function(n){return this.then(void 0,n)},then:function(n,e){var t=this;if(!E.IsPromise(t))throw new TypeError("not a promise");var i=this.constructor,o=new r(i);E.IsCallable(e)||(e=function(n){throw n}),E.IsCallable(n)||(n=function(n){return n});var s=f(t,n,e),a={capability:o,handler:s},u={capability:o,handler:e};switch(t._status){case"unresolved":t._resolveReactions.push(a),t._rejectReactions.push(u);break;case"has-resolution":l([a],t._result);break;case"has-rejection":l([u],t._result);break;default:throw new TypeError("unexpected")}return o.promise}}),n}();a.Promise&&(delete a.Promise.accept,delete a.Promise.defer,delete a.Promise.prototype.chain),y(a,{Promise:W});var $=t(a.Promise,function(n){return n.resolve(42)instanceof n}),J=function(){try{return a.Promise.reject(42).then(null,5).then(null,d),!0}catch(n){return!1}}(),G=function(){try{Promise.call(3,d)}catch(n){return!0}return!1}();$&&J&&G||(Promise=W,v(a,"Promise",W,!0));var Y=function(n){var e=Object.keys(n.reduce(function(n,e){return n[e]=!0,n},{}));return n.join(":")===e.join(":")},X=Y(["z","a","bb"]),V=Y(["z",1,"a","3",2]);if(c){var Q=function(n){if(!X)return null;var e=typeof n;return"string"===e?"$"+n:"number"===e?V?n:"n"+n:null},Z=function(){return Object.create?Object.create(null):{}},K={Map:function(){function n(n,e){this.key=n,this.value=e,this.next=null,this.prev=null}function e(n,e){this.head=n._head,this.i=this.head,this.kind=e}function t(e){var t=this;if(!E.TypeIsObject(t))throw new TypeError("Map does not accept arguments when called as a function");if(t=k(t),!t._es6map)throw new TypeError("bad map");var r=new n(null,null);if(r.next=r.prev=r,y(t,{_head:r,_storage:Z(),_size:0}),"undefined"!=typeof e&&null!==e){var i=E.GetIterator(e),o=t.set;if(!E.IsCallable(o))throw new TypeError("bad map");for(;;){var s=E.IteratorNext(i);if(s.done)break;var a=s.value;if(!E.TypeIsObject(a))throw new TypeError("expected iterable of pairs");o.call(t,a[0],a[1])}}return t}var r={};n.prototype.isRemoved=function(){return this.key===r},e.prototype={next:function(){var n,e=this.i,t=this.kind,r=this.head;if("undefined"==typeof this.i)return{value:void 0,done:!0};for(;e.isRemoved()&&e!==r;)e=e.prev;for(;e.next!==r;)if(e=e.next,!e.isRemoved())return n="key"===t?e.key:"value"===t?e.value:[e.key,e.value],this.i=e,{value:n,done:!1};return this.i=void 0,{value:void 0,done:!0}}},S(e.prototype);var i=t.prototype;return y(t,{"@@create":function(n){var e=this,t=e.prototype||i;return n=n||w(t),y(n,{_es6map:!0}),n}}),b.getter(t.prototype,"size",function(){if("undefined"==typeof this._size)throw new TypeError("size method called on incompatible Map");return this._size}),y(t.prototype,{get:function(n){var e=Q(n);if(null!==e){var t=this._storage[e];return t?t.value:void 0}for(var r=this._head,i=r;(i=i.next)!==r;)if(E.SameValueZero(i.key,n))return i.value},has:function(n){var e=Q(n);if(null!==e)return"undefined"!=typeof this._storage[e];for(var t=this._head,r=t;(r=r.next)!==t;)if(E.SameValueZero(r.key,n))return!0;return!1},set:function(e,t){var r,i=this._head,o=i,s=Q(e);if(null!==s){if("undefined"!=typeof this._storage[s])return this._storage[s].value=t,this;r=this._storage[s]=new n(e,t),o=i.prev}for(;(o=o.next)!==i;)if(E.SameValueZero(o.key,e))return o.value=t,this;return r=r||new n(e,t),E.SameValue(-0,e)&&(r.key=0),r.next=this._head,r.prev=this._head.prev,r.prev.next=r,r.next.prev=r,this._size+=1,this},"delete":function(n){var e=this._head,t=e,i=Q(n);if(null!==i){if("undefined"==typeof this._storage[i])return!1;t=this._storage[i].prev,delete this._storage[i]}for(;(t=t.next)!==e;)if(E.SameValueZero(t.key,n))return t.key=t.value=r,t.prev.next=t.next,t.next.prev=t.prev,this._size-=1,!0;return!1},clear:function(){this._size=0,this._storage=Z();for(var n=this._head,e=n,t=e.next;(e=t)!==n;)e.key=e.value=r,t=e.next,e.next=e.prev=n;n.next=n.prev=n},keys:function(){return new e(this,"key")},values:function(){return new e(this,"value")},entries:function(){return new e(this,"key+value")},forEach:function(n){for(var e=arguments.length>1?arguments[1]:null,t=this.entries(),r=t.next();!r.done;r=t.next())e?n.call(e,r.value[1],r.value[0],this):n(r.value[1],r.value[0],this)}}),S(t.prototype,function(){return this.entries()}),t}(),Set:function(){var n=function(n){var e=this;if(!E.TypeIsObject(e))throw new TypeError("Set does not accept arguments when called as a function");if(e=k(e),!e._es6set)throw new TypeError("bad set");if(y(e,{"[[SetData]]":null,_storage:Z()}),"undefined"!=typeof n&&null!==n){var t=E.GetIterator(n),r=e.add;if(!E.IsCallable(r))throw new TypeError("bad set");for(;;){var i=E.IteratorNext(t);if(i.done)break;var o=i.value;r.call(e,o)}}return e},e=n.prototype;y(n,{"@@create":function(n){var t=this,r=t.prototype||e;return n=n||w(r),y(n,{_es6set:!0}),n}});var t=function(n){if(!n["[[SetData]]"]){var e=n["[[SetData]]"]=new K.Map;Object.keys(n._storage).forEach(function(n){n=36===n.charCodeAt(0)?n.slice(1):"n"===n.charAt(0)?+n.slice(1):+n,e.set(n,n)}),n._storage=null}};return b.getter(n.prototype,"size",function(){if("undefined"==typeof this._storage)throw new TypeError("size method called on incompatible Set");return t(this),this["[[SetData]]"].size}),y(n.prototype,{has:function(n){var e;return this._storage&&null!==(e=Q(n))?!!this._storage[e]:(t(this),this["[[SetData]]"].has(n))},add:function(n){var e;return this._storage&&null!==(e=Q(n))?(this._storage[e]=!0,this):(t(this),this["[[SetData]]"].set(n,n),this)},"delete":function(n){var e;if(this._storage&&null!==(e=Q(n))){var r=h(this._storage,e);return delete this._storage[e]&&r}return t(this),this["[[SetData]]"]["delete"](n)},clear:function(){this._storage?this._storage=Z():this["[[SetData]]"].clear()},values:function(){return t(this),this["[[SetData]]"].values()},entries:function(){return t(this),this["[[SetData]]"].entries()},forEach:function(n){var e=arguments.length>1?arguments[1]:null,r=this;t(r),this["[[SetData]]"].forEach(function(t,i){e?n.call(e,i,i,r):n(i,i,r)})}}),v(n,"keys",n.values,!0),S(n.prototype,function(){return this.values()}),n}()};y(a,K),(a.Map||a.Set)&&("function"!=typeof a.Map.prototype.clear||0!==(new a.Set).size||0!==(new a.Map).size||"function"!=typeof a.Map.prototype.keys||"function"!=typeof a.Set.prototype.keys||"function"!=typeof a.Map.prototype.forEach||"function"!=typeof a.Set.prototype.forEach||e(a.Map)||e(a.Set)||!t(a.Map,function(n){var e=new n([]);return e.set(42,42),e instanceof n}))&&(a.Map=K.Map,a.Set=K.Set),a.Set.prototype.keys!==a.Set.prototype.values&&v(a.Set.prototype,"keys",a.Set.prototype.values,!0),S(Object.getPrototypeOf((new a.Map).keys())),S(Object.getPrototypeOf((new a.Set).keys()))}return a})}).call(e,t(14))},function(n,e,t){n.exports=t(11)},function(n){function e(){}var t=n.exports={};t.nextTick=function(){var n="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.MutationObserver,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(n)return function(n){return window.setImmediate(n)};var r=[];if(e){var i=document.createElement("div"),o=new MutationObserver(function(){var n=r.slice();r.length=0,n.forEach(function(n){n()})});return o.observe(i,{attributes:!0}),function(n){r.length||i.setAttribute("yes","no"),r.push(n)}}return t?(window.addEventListener("message",function(n){var e=n.source;if((e===window||null===e)&&"process-tick"===n.data&&(n.stopPropagation(),r.length>0)){var t=r.shift();t()}},!0),function(n){r.push(n),window.postMessage("process-tick","*")}):function(n){setTimeout(n,0)}}(),t.title="browser",t.browser=!0,t.env={},t.argv=[],t.on=e,t.addListener=e,t.once=e,t.off=e,t.removeListener=e,t.removeAllListeners=e,t.emit=e,t.binding=function(){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(){throw new Error("process.chdir is not supported")}},function(n,e,t){function r(n,e,t){var r={showHidden:e,seen:[],stylize:function(n){return n}};return i(r,n,"undefined"==typeof t?2:t)}function i(n,t,r){if(t&&"function"==typeof t.inspect&&t.inspect!==e.inspect&&(!t.constructor||t.constructor.prototype!==t)){var d=t.inspect(r);return"string"!=typeof d&&(d=i(n,d,r)),d}var y=o(n,t);if(y)return y;if(b(t)){if("outerHTML"in t)return t.outerHTML;try{if(document.xmlVersion){var w=new XMLSerializer;return w.serializeToString(t)}var x="http://www.w3.org/1999/xhtml",S=document.createElementNS(x,"_");return S.appendChild(t.cloneNode(!1)),html=S.innerHTML.replace("><",">"+t.innerHTML+"<"),S.innerHTML="",html}catch(j){}}var E=v(t),k=n.showHidden?m(t):E;if(0===k.length||h(t)&&(1===k.length&&"stack"===k[0]||2===k.length&&"description"===k[0]&&"stack"===k[1])){if("function"==typeof t){var T=g(t),O=T?": "+T:"";return n.stylize("[Function"+O+"]","special")}if(f(t))return n.stylize(RegExp.prototype.toString.call(t),"regexp");if(p(t))return n.stylize(Date.prototype.toUTCString.call(t),"date");if(h(t))return s(t)}var _="",A=!1,R=["{","}"];if(l(t)&&(A=!0,R=["[","]"]),"function"==typeof t){var T=g(t),O=T?": "+T:"";_=" [Function"+O+"]"}if(f(t)&&(_=" "+RegExp.prototype.toString.call(t)),p(t)&&(_=" "+Date.prototype.toUTCString.call(t)),h(t))return s(t);if(0===k.length&&(!A||0==t.length))return R[0]+_+R[1];if(0>r)return f(t)?n.stylize(RegExp.prototype.toString.call(t),"regexp"):n.stylize("[Object]","special");n.seen.push(t);var P;return P=A?a(n,t,r,E,k):k.map(function(e){return u(n,t,r,E,e,A)}),n.seen.pop(),c(P,_,R)}function o(n,e){switch(typeof e){case"undefined":return n.stylize("undefined","undefined");case"string":var t="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(t,"string");case"number":return 0===e&&1/e===-1/0?n.stylize("-0","number"):n.stylize(""+e,"number");case"boolean":return n.stylize(""+e,"boolean")}return null===e?n.stylize("null","null"):void 0}function s(n){return"["+Error.prototype.toString.call(n)+"]"}function a(n,e,t,r,i){for(var o=[],s=0,a=e.length;a>s;++s)o.push(Object.prototype.hasOwnProperty.call(e,String(s))?u(n,e,t,r,String(s),!0):"");return i.forEach(function(i){i.match(/^\d+$/)||o.push(u(n,e,t,r,i,!0))}),o}function u(n,e,t,r,o,s){var a,u;if(e.__lookupGetter__&&(e.__lookupGetter__(o)?u=e.__lookupSetter__(o)?n.stylize("[Getter/Setter]","special"):n.stylize("[Getter]","special"):e.__lookupSetter__(o)&&(u=n.stylize("[Setter]","special"))),r.indexOf(o)<0&&(a="["+o+"]"),u||(n.seen.indexOf(e[o])<0?(u=null===t?i(n,e[o],null):i(n,e[o],t-1),u.indexOf("\n")>-1&&(u=s?u.split("\n").map(function(n){return"  "+n}).join("\n").substr(2):"\n"+u.split("\n").map(function(n){return"   "+n}).join("\n"))):u=n.stylize("[Circular]","special")),"undefined"==typeof a){if(s&&o.match(/^\d+$/))return u;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=n.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=n.stylize(a,"string"))}return a+": "+u}function c(n,e,t){var r=0,i=n.reduce(function(n,e){return r++,e.indexOf("\n")>=0&&r++,n+e.length+1},0);return i>60?t[0]+(""===e?"":e+"\n ")+" "+n.join(",\n  ")+" "+t[1]:t[0]+e+" "+n.join(", ")+" "+t[1]}function l(n){return Array.isArray(n)||"object"==typeof n&&"[object Array]"===d(n)}function f(n){return"object"==typeof n&&"[object RegExp]"===d(n)}function p(n){return"object"==typeof n&&"[object Date]"===d(n)}function h(n){return"object"==typeof n&&"[object Error]"===d(n)}function d(n){return Object.prototype.toString.call(n)}var g=t(23),m=t(57),v=t(54);n.exports=r;var b=function(n){return"object"==typeof HTMLElement?n instanceof HTMLElement:n&&"object"==typeof n&&1===n.nodeType&&"string"==typeof n.nodeName}},,,,,,function(n,e,t){(function(n){"use strict";function r(){i(),o(),s()}function i(){var e=document.createElement("div");e.id="mocha",document.body.appendChild(e),mocha.setup("bdd"),u.use(c),n.expect=u.expect}function o(){t(92)}function s(){var n=[];mocha.run().on("test end",function(n){n.err&&(console.log("%cFailed Spec: %c%s\n %c%s","color: black; font: 16px sans-serif","color: black; font: bold 16px sans-serif",n.title,"color: red; font: bold 1em sans-serif",n.err.message),console.error(n.err.stack))}).on("test end",function(e){n.push("passed"===e.state?{fullName:e.title,status:"passed"}:e.pending?{fullName:e.title,status:"pending"}:{fullName:e.title,status:"failed",failedExpectations:[{message:e.err.message,stack:e.err.stack}]})
}).on("suite end",function(e){if(e.root){var t=window.__coverage__||null,r=JSON.stringify({specs:n,coverage:t}),i=new XMLHttpRequest;i.open("POST","/api/test",!0),i.setRequestHeader("Content-Type","application/json"),i.send(r)}})}var a=function(n){return n&&(n["default"]||n)};e.main=r,t(2),t(80),t(87),t(89);var u=a(t(44)),c=a(t(43))}).call(e,function(){return this}())},function(n){/*!
	 * Chai - getActual utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
n.exports=function(n,e){return e.length>4?e[4]:n._obj}},function(n){/*!
	 * Chai - getName utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
n.exports=function(n){if(n.name)return n.name;var e=/^\s?function ([^(]*)\(/.exec(n);return e&&e[1]?e[1]:""}},function(n,e,t){/*!
	 * Chai - flag utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependancies
	 */
var r=t(15),i=t(7);n.exports=function(n){var e=r(n),t=Object.prototype.toString.call(n);if(i.truncateThreshold&&e.length>=i.truncateThreshold){if("[object Function]"===t)return n.name&&""!==n.name?"[Function: "+n.name+"]":"[Function]";if("[object Array]"===t)return"[ Array("+n.length+") ]";if("[object Object]"===t){var o=Object.keys(n),s=o.length>2?o.splice(0,2).join(", ")+", ...":o.join(", ");return"{ Object ("+s+") }"}return e}return e}},function(n){/*!
	 * Chai - transferFlags utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
n.exports=function(n,e,t){var r=n.__flags||(n.__flags=Object.create(null));e.__flags||(e.__flags=Object.create(null)),t=3===arguments.length?t:!0;for(var i in r)(t||"object"!==i&&"ssfi"!==i&&"message"!=i)&&(e.__flags[i]=r[i])}},function(n,e,t){(function(n){function n(e,t,r){if(!(this instanceof n))return new n(e,t,r);var i,o=typeof e;if("number"===o)i=e>0?e>>>0:0;else if("string"===o)"base64"===t&&(e=S(e)),i=n.byteLength(e,t);else{if("object"!==o||null===e)throw new TypeError("must start with number, buffer, array or string");"Buffer"===e.type&&C(e.data)&&(e=e.data),i=+e.length>0?Math.floor(+e.length):0}if(this.length>N)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+N.toString(16)+" bytes");var s;n.TYPED_ARRAY_SUPPORT?s=n._augment(new Uint8Array(i)):(s=this,s.length=i,s._isBuffer=!0);var a;if(n.TYPED_ARRAY_SUPPORT&&"number"==typeof e.byteLength)s._set(e);else if(E(e))if(n.isBuffer(e))for(a=0;i>a;a++)s[a]=e.readUInt8(a);else for(a=0;i>a;a++)s[a]=(e[a]%256+256)%256;else if("string"===o)s.write(e,0,t);else if("number"===o&&!n.TYPED_ARRAY_SUPPORT&&!r)for(a=0;i>a;a++)s[a]=0;return s}function r(n,e,t,r){t=Number(t)||0;var i=n.length-t;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;r>s;s++){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");n[t+s]=a}return s}function i(n,e,t,r){var i=R(T(e),n,t,r);return i}function o(n,e,t,r){var i=R(O(e),n,t,r);return i}function s(n,e,t,r){return o(n,e,t,r)}function a(n,e,t,r){var i=R(A(e),n,t,r);return i}function u(n,e,t,r){var i=R(_(e),n,t,r,2);return i}function c(n,e,t){return I.fromByteArray(0===e&&t===n.length?n:n.slice(e,t))}function l(n,e,t){var r="",i="";t=Math.min(n.length,t);for(var o=e;t>o;o++)n[o]<=127?(r+=P(i)+String.fromCharCode(n[o]),i=""):i+="%"+n[o].toString(16);return r+P(i)}function f(n,e,t){var r="";t=Math.min(n.length,t);for(var i=e;t>i;i++)r+=String.fromCharCode(n[i]);return r}function p(n,e,t){return f(n,e,t)}function h(n,e,t){var r=n.length;(!e||0>e)&&(e=0),(!t||0>t||t>r)&&(t=r);for(var i="",o=e;t>o;o++)i+=k(n[o]);return i}function d(n,e,t){for(var r=n.slice(e,t),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function g(n,e,t){if(n%1!==0||0>n)throw new RangeError("offset is not uint");if(n+e>t)throw new RangeError("Trying to access beyond buffer length")}function m(e,t,r,i,o,s){if(!n.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>o||s>t)throw new TypeError("value is out of bounds");if(r+i>e.length)throw new TypeError("index out of range")}function v(n,e,t,r){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(n.length-t,2);o>i;i++)n[t+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function b(n,e,t,r){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(n.length-t,4);o>i;i++)n[t+i]=e>>>8*(r?i:3-i)&255}function y(n,e,t,r,i,o){if(e>i||o>e)throw new TypeError("value is out of bounds");if(t+r>n.length)throw new TypeError("index out of range")}function w(n,e,t,r,i){return i||y(n,e,t,4,3.4028234663852886e38,-3.4028234663852886e38),M.write(n,e,t,r,23,4),t+4}function x(n,e,t,r,i){return i||y(n,e,t,8,1.7976931348623157e308,-1.7976931348623157e308),M.write(n,e,t,r,52,8),t+8}function S(n){for(n=j(n).replace(L,"");n.length%4!==0;)n+="=";return n}function j(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function E(e){return C(e)||n.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function k(n){return 16>n?"0"+n.toString(16):n.toString(16)}function T(n){for(var e=[],t=0;t<n.length;t++){var r=n.charCodeAt(t);if(127>=r)e.push(r);else{var i=t;r>=55296&&57343>=r&&t++;for(var o=encodeURIComponent(n.slice(i,t+1)).substr(1).split("%"),s=0;s<o.length;s++)e.push(parseInt(o[s],16))}}return e}function O(n){for(var e=[],t=0;t<n.length;t++)e.push(255&n.charCodeAt(t));return e}function _(n){for(var e,t,r,i=[],o=0;o<n.length;o++)e=n.charCodeAt(o),t=e>>8,r=e%256,i.push(r),i.push(t);return i}function A(n){return I.toByteArray(n)}function R(n,e,t,r,i){i&&(r-=r%i);for(var o=0;r>o&&!(o+t>=e.length||o>=n.length);o++)e[o+t]=n[o];return o}function P(n){try{return decodeURIComponent(n)}catch(e){return String.fromCharCode(65533)}}/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
var I=t(93),M=t(94),C=t(95);e.Buffer=n,e.SlowBuffer=n,e.INSPECT_MAX_BYTES=50,n.poolSize=8192;var N=1073741823;n.TYPED_ARRAY_SUPPORT=function(){try{var n=new ArrayBuffer(0),e=new Uint8Array(n);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(t){return!1}}(),n.isBuffer=function(n){return!(null==n||!n._isBuffer)},n.compare=function(e,t){if(!n.isBuffer(e)||!n.isBuffer(t))throw new TypeError("Arguments must be Buffers");for(var r=e.length,i=t.length,o=0,s=Math.min(r,i);s>o&&e[o]===t[o];o++);return o!==s&&(r=e[o],i=t[o]),i>r?-1:r>i?1:0},n.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(e,t){if(!C(e))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===e.length)return new n(0);if(1===e.length)return e[0];var r;if(void 0===t)for(t=0,r=0;r<e.length;r++)t+=e[r].length;var i=new n(t),o=0;for(r=0;r<e.length;r++){var s=e[r];s.copy(i,o),o+=s.length}return i},n.byteLength=function(n,e){var t;switch(n+="",e||"utf8"){case"ascii":case"binary":case"raw":t=n.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":t=2*n.length;break;case"hex":t=n.length>>>1;break;case"utf8":case"utf-8":t=T(n).length;break;case"base64":t=A(n).length;break;default:t=n.length}return t},n.prototype.length=void 0,n.prototype.parent=void 0,n.prototype.toString=function(n,e,t){var r=!1;if(e>>>=0,t=void 0===t||1/0===t?this.length:t>>>0,n||(n="utf8"),0>e&&(e=0),t>this.length&&(t=this.length),e>=t)return"";for(;;)switch(n){case"hex":return h(this,e,t);case"utf8":case"utf-8":return l(this,e,t);case"ascii":return f(this,e,t);case"binary":return p(this,e,t);case"base64":return c(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,e,t);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),r=!0}},n.prototype.equals=function(e){if(!n.isBuffer(e))throw new TypeError("Argument must be a Buffer");return 0===n.compare(this,e)},n.prototype.inspect=function(){var n="",t=e.INSPECT_MAX_BYTES;return this.length>0&&(n=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(n+=" ... ")),"<Buffer "+n+">"},n.prototype.compare=function(e){if(!n.isBuffer(e))throw new TypeError("Argument must be a Buffer");return n.compare(this,e)},n.prototype.get=function(n){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(n)},n.prototype.set=function(n,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(n,e)},n.prototype.write=function(n,e,t,c){if(isFinite(e))isFinite(t)||(c=t,t=void 0);else{var l=c;c=e,e=t,t=l}e=Number(e)||0;var f=this.length-e;t?(t=Number(t),t>f&&(t=f)):t=f,c=String(c||"utf8").toLowerCase();var p;switch(c){case"hex":p=r(this,n,e,t);break;case"utf8":case"utf-8":p=i(this,n,e,t);break;case"ascii":p=o(this,n,e,t);break;case"binary":p=s(this,n,e,t);break;case"base64":p=a(this,n,e,t);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":p=u(this,n,e,t);break;default:throw new TypeError("Unknown encoding: "+c)}return p},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},n.prototype.slice=function(e,t){var r=this.length;if(e=~~e,t=void 0===t?r:~~t,0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),e>t&&(t=e),n.TYPED_ARRAY_SUPPORT)return n._augment(this.subarray(e,t));for(var i=t-e,o=new n(i,void 0,!0),s=0;i>s;s++)o[s]=this[s+e];return o},n.prototype.readUInt8=function(n,e){return e||g(n,1,this.length),this[n]},n.prototype.readUInt16LE=function(n,e){return e||g(n,2,this.length),this[n]|this[n+1]<<8},n.prototype.readUInt16BE=function(n,e){return e||g(n,2,this.length),this[n]<<8|this[n+1]},n.prototype.readUInt32LE=function(n,e){return e||g(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+16777216*this[n+3]},n.prototype.readUInt32BE=function(n,e){return e||g(n,4,this.length),16777216*this[n]+(this[n+1]<<16|this[n+2]<<8|this[n+3])},n.prototype.readInt8=function(n,e){return e||g(n,1,this.length),128&this[n]?-1*(255-this[n]+1):this[n]},n.prototype.readInt16LE=function(n,e){e||g(n,2,this.length);var t=this[n]|this[n+1]<<8;return 32768&t?4294901760|t:t},n.prototype.readInt16BE=function(n,e){e||g(n,2,this.length);var t=this[n+1]|this[n]<<8;return 32768&t?4294901760|t:t},n.prototype.readInt32LE=function(n,e){return e||g(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},n.prototype.readInt32BE=function(n,e){return e||g(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},n.prototype.readFloatLE=function(n,e){return e||g(n,4,this.length),M.read(this,n,!0,23,4)},n.prototype.readFloatBE=function(n,e){return e||g(n,4,this.length),M.read(this,n,!1,23,4)},n.prototype.readDoubleLE=function(n,e){return e||g(n,8,this.length),M.read(this,n,!0,52,8)},n.prototype.readDoubleBE=function(n,e){return e||g(n,8,this.length),M.read(this,n,!1,52,8)},n.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||m(this,e,t,1,255,0),n.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=e,t+1},n.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||m(this,e,t,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8):v(this,e,t,!0),t+2},n.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||m(this,e,t,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e):v(this,e,t,!1),t+2},n.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||m(this,e,t,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e):b(this,e,t,!0),t+4},n.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||m(this,e,t,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e):b(this,e,t,!1),t+4},n.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||m(this,e,t,1,127,-128),n.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=e,t+1},n.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||m(this,e,t,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8):v(this,e,t,!0),t+2},n.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||m(this,e,t,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e):v(this,e,t,!1),t+2},n.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||m(this,e,t,4,2147483647,-2147483648),n.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):b(this,e,t,!0),t+4},n.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||m(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e):b(this,e,t,!1),t+4},n.prototype.writeFloatLE=function(n,e,t){return w(this,n,e,!0,t)},n.prototype.writeFloatBE=function(n,e,t){return w(this,n,e,!1,t)},n.prototype.writeDoubleLE=function(n,e,t){return x(this,n,e,!0,t)},n.prototype.writeDoubleBE=function(n,e,t){return x(this,n,e,!1,t)},n.prototype.copy=function(e,t,r,i){var o=this;if(r||(r=0),i||0===i||(i=this.length),t||(t=0),i!==r&&0!==e.length&&0!==o.length){if(r>i)throw new TypeError("sourceEnd < sourceStart");if(0>t||t>=e.length)throw new TypeError("targetStart out of bounds");if(0>r||r>=o.length)throw new TypeError("sourceStart out of bounds");if(0>i||i>o.length)throw new TypeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);var s=i-r;if(1e3>s||!n.TYPED_ARRAY_SUPPORT)for(var a=0;s>a;a++)e[a+t]=this[a+r];else e._set(this.subarray(r,r+s),t)}},n.prototype.fill=function(n,e,t){if(n||(n=0),e||(e=0),t||(t=this.length),e>t)throw new TypeError("end < start");if(t!==e&&0!==this.length){if(0>e||e>=this.length)throw new TypeError("start out of bounds");if(0>t||t>this.length)throw new TypeError("end out of bounds");var r;if("number"==typeof n)for(r=e;t>r;r++)this[r]=n;else{var i=T(n.toString()),o=i.length;for(r=e;t>r;r++)this[r]=i[r%o]}return this}},n.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(n.TYPED_ARRAY_SUPPORT)return new n(this).buffer;for(var e=new Uint8Array(this.length),t=0,r=e.length;r>t;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var q=n.prototype;n._augment=function(e){return e.constructor=n,e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=q.get,e.set=q.set,e.write=q.write,e.toString=q.toString,e.toLocaleString=q.toString,e.toJSON=q.toJSON,e.equals=q.equals,e.compare=q.compare,e.copy=q.copy,e.slice=q.slice,e.readUInt8=q.readUInt8,e.readUInt16LE=q.readUInt16LE,e.readUInt16BE=q.readUInt16BE,e.readUInt32LE=q.readUInt32LE,e.readUInt32BE=q.readUInt32BE,e.readInt8=q.readInt8,e.readInt16LE=q.readInt16LE,e.readInt16BE=q.readInt16BE,e.readInt32LE=q.readInt32LE,e.readInt32BE=q.readInt32BE,e.readFloatLE=q.readFloatLE,e.readFloatBE=q.readFloatBE,e.readDoubleLE=q.readDoubleLE,e.readDoubleBE=q.readDoubleBE,e.writeUInt8=q.writeUInt8,e.writeUInt16LE=q.writeUInt16LE,e.writeUInt16BE=q.writeUInt16BE,e.writeUInt32LE=q.writeUInt32LE,e.writeUInt32BE=q.writeUInt32BE,e.writeInt8=q.writeInt8,e.writeInt16LE=q.writeInt16LE,e.writeInt16BE=q.writeInt16BE,e.writeInt32LE=q.writeInt32LE,e.writeInt32BE=q.writeInt32BE,e.writeFloatLE=q.writeFloatLE,e.writeFloatBE=q.writeFloatBE,e.writeDoubleLE=q.writeDoubleLE,e.writeDoubleBE=q.writeDoubleBE,e.fill=q.fill,e.inspect=q.inspect,e.toArrayBuffer=q.toArrayBuffer,e};var L=/[^+\/0-9A-z]/g}).call(e,t(26).Buffer)},function(n,e,t){"use strict";var r=t(30).Cachier;describe("Cachier",function(){var n=void 0,e=0,t=function(n){return function(e){return function(){var t=function(r){var i=Promise.resolve().then(e);return r>=n?i:i["catch"](function(){return t(r+1)})};return t(1)}}};beforeEach(function(){return n=new r("test."+(new Date).getTime()+"."+ ++e)}),afterEach(t(2)(function(){return n.destroyDatabase()})),describe(".connection",function(){it("should be a promise which fullfill with the db connection",function(){return n.connection.then(function(n){expect(n.constructor+"").to.match(/DBDatabase/)})})}),describe("#save",function(){it("stores a blob",function(){var e=new Blob(["hello"]);return expect(n.save("wow",e)).to.eventually.be.ok}),it("rejects when key is invalid",function(){var e=new Blob(["hello"]);return expect(n.save(void 0,e)).to.be.rejected})}),describe("with a blob saved",function(){beforeEach(function(){var e=new Blob(["hello"]);return n.save("wow2",e,{name:"example1"}).delay(10)}),describe("#load",function(){it("should return the blob value",function(){return n.load("wow2").then(function(n){var e=n.blob,t=n.metadata;expect(e.size).to.equal(5),expect(t).to.deep.equal({name:"example1"})})})}),describe("#save",function(){it("should replace content with a new blob",function(){var e=new Blob(["world!"]);return n.save("wow2",e).delay(10).then(function(){return n.load("wow2")}).then(function(n){var e=n.blob,t=n.metadata;expect(e.size).to.equal(6),expect(t).to.equal(void 0)})})}),describe("#delete",function(){it("should remove the blob",function(){return n["delete"]("wow3").then(function(){return expect(n.load("wow3")).to.be.rejected})})})}),describe("#destroyDatabase",function(){it("may be called twice",function(){return n.destroyDatabase()})}),describe("without blob support in IndexedDB",function(){it("still works",function(){var e=new Blob(["hello"],{type:"text/plain"});return n._NO_BLOB=!0,n.save("wow4",e).delay(10).then(function(){return n.load("wow4")}).then(function(n){var e=n.blob;expect(e.size).to.equal(5),expect(e.type).to.equal("text/plain")})})})})},function(){"use strict";describe("The specs",function(){it("runs",function(){expect({runs:!0}.runs).to.equal(!0)})})},,function(n,e){"use strict";function t(n){function e(){return new Promise(function(e,t){var r=o.open(n,1);r.onupgradeneeded=function(n){var r=n.target.result,i=r.createObjectStore("cachier",{keyPath:"_id"});i.transaction.oncomplete=function(){e(r)},i.transaction.onerror=function(){t(new Error("Cannot upgrade database!"))}},r.onerror=function(){t(new Error("Cannot request database!"))},r.onsuccess=function(n){var t=n.target.result;e(t)}})}function t(n){return new Promise(function(e,t){n.onerror=function(){t(new Error("IndexedDB Error: "+n.error))},n.onblocked=function(){console.log(n),t(new Error("IndexedDB Blocked: "+n))},n.onsuccess=function(n){e(n)}})}function r(n){return new Promise(function(e,t){var r=new FileReader;r.onload=function(){e({buffer:r.result,type:n.type})},r.onerror=function(){t(new Error("Unable to convert blob to object!"))},r.readAsArrayBuffer(n)})}function i(n){return n instanceof Blob?n:n.buffer?new Blob([n.buffer],{type:n.type}):void 0}var o=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB,s=e();return n=n||"cachier",{connection:s,save:function(n,e,i){var o=!!this._NO_BLOB;return s.then(function(s){return Promise.resolve().then(function(){if(o)throw new Error("Requested non-Blob storing mode");var r=s.transaction("cachier","readwrite").objectStore("cachier").put({_id:n,blob:e,metadata:i});return t(r)})["catch"](function(){return console.log("Cannot store as blob, store as data-URL instead."),r(e).then(function(e){var r=s.transaction("cachier","readwrite").objectStore("cachier").put({_id:n,blob:e,metadata:i});return t(r)})})})},load:function(n){return s.then(function(e){var r=e.transaction("cachier").objectStore("cachier").get(n);return t(r).then(function(){var n=r.result;return{blob:i(n.blob),metadata:n.metadata}})})},"delete":function(n){return s.then(function(e){var r=e.transaction("cachier","readwrite").objectStore("cachier")["delete"](n);return t(r)})},destroyDatabase:function(){return s?s.then(function(n){n.close()}).then(function(){var e=o.deleteDatabase(n);return t(e)}).tap(function(){s=null}):Promise.resolve()}}}e["default"]=new t,e.Cachier=t,n.exports=Object.assign(e["default"],e)},,,,,,,,,,,,,function(n){!function(){"use strict";function e(n,t){function r(n){return"function"==typeof n.always&&"function"==typeof n.done&&"function"==typeof n.fail&&"function"==typeof n.pipe&&"function"==typeof n.progress&&"function"==typeof n.state}function i(n){if("function"!=typeof n._obj.then)throw new TypeError(t.inspect(n._obj)+" is not a thenable.");if(r(n._obj))throw new TypeError("Chai as Promised is incompatible with jQuery's thenables, sorry! Please use a Promises/A+ compatible library (see http://promisesaplus.com/).")}function o(n,e){t.addMethod(p.prototype,n,function(){return i(this),e.apply(this,arguments)})}function s(n,e){t.addProperty(p.prototype,n,function(){return i(this),e.apply(this,arguments)})}function a(n,e){n.then(function(){e()},e)}function u(n,e,t){n.assert(!0,null,e,t.expected,t.actual)}function c(n,e,t){n.assert(!1,e,null,t.expected,t.actual)}function l(n){return"function"==typeof n.then?n:n._obj}function f(n,r,i){if(!t.flag(r,"eventually"))return n.apply(r,i);var o=l(r).then(function(e){return r._obj=e,t.flag(r,"eventually",!1),n.apply(r,i),r._obj});e.transferPromiseness(r,o)}var p=n.Assertion,h=n.assert,d=Object.getOwnPropertyNames(p.prototype),g={};d.forEach(function(n){g[n]=Object.getOwnPropertyDescriptor(p.prototype,n)}),s("fulfilled",function(){var n=this,t=l(n).then(function(e){return n._obj=e,u(n,"expected promise not to be fulfilled but it was fulfilled with #{act}",{actual:e}),e},function(e){c(n,"expected promise to be fulfilled but it was rejected with #{act}",{actual:e})});e.transferPromiseness(n,t)}),s("rejected",function(){var n=this,t=l(n).then(function(e){return n._obj=e,c(n,"expected promise to be rejected but it was fulfilled with #{act}",{actual:e}),e},function(e){return u(n,"expected promise not to be rejected but it was rejected with #{act}",{actual:e}),e});e.transferPromiseness(n,t)}),o("rejectedWith",function(n,r){var i=null,o=null;n instanceof RegExp||"string"==typeof n?(r=n,n=null):n&&n instanceof Error?(i=n,n=null,r=null):"function"==typeof n?o=(new n).name:n=null;var s=this,a=l(s).then(function(e){var t=null,a=null;if(n)t="expected promise to be rejected with #{exp} but it was fulfilled with #{act}",a=o;else if(r){var u=r instanceof RegExp?"matching":"including";t="expected promise to be rejected with an error "+u+" #{exp} but it was fulfilled with #{act}",a=r}else i&&(t="expected promise to be rejected with #{exp} but it was fulfilled with #{act}",a=i);s._obj=e,c(s,t,{expected:a,actual:e})},function(e){n&&s.assert(e instanceof n,"expected promise to be rejected with #{exp} but it was rejected with #{act}","expected promise not to be rejected with #{exp} but it was rejected with #{act}",o,e);var a="object"===t.type(e)&&"message"in e?e.message:""+e;r&&null!==a&&void 0!==a&&(r instanceof RegExp&&s.assert(r.test(a),"expected promise to be rejected with an error matching #{exp} but got #{act}","expected promise not to be rejected with an error matching #{exp}",r,a),"string"==typeof r&&s.assert(-1!==a.indexOf(r),"expected promise to be rejected with an error including #{exp} but got #{act}","expected promise not to be rejected with an error including #{exp}",r,a)),i&&s.assert(e===i,"expected promise to be rejected with #{exp} but it was rejected with #{act}","expected promise not to be rejected with #{exp}",i,e)});e.transferPromiseness(s,a)}),s("eventually",function(){t.flag(this,"eventually",!0)}),o("notify",function(n){a(l(this),n)}),o("become",function(n){return this.eventually.deep.equal(n)});var m=d.filter(function(n){return"assert"!==n&&"function"==typeof g[n].value});m.forEach(function(n){p.overwriteMethod(n,function(n){return function(){f(n,this,arguments)}})});var v=d.filter(function(n){return"_obj"!==n&&"function"==typeof g[n].get});v.forEach(function(n){var e=g[n],t=!1;try{t="function"==typeof e.get.call({})}catch(r){}t?p.addChainableMethod(n,function(){function n(){return e.get.call(t).apply(t,arguments)}var t=this;f(n,this,arguments)},function(){var n=e.get;f(n,this)}):p.overwriteProperty(n,function(n){return function(){f(n,this)}})});var b=Object.getOwnPropertyNames(h).filter(function(n){return"function"==typeof h[n]});h.isFulfilled=function(n,e){return new p(n,e).to.be.fulfilled},h.isRejected=function(n,e,t){"string"==typeof e&&(t=e,e=void 0);var r=new p(n,t);return void 0!==e?r.to.be.rejectedWith(e):r.to.be.rejected},h.becomes=function(n,e,t){return h.eventually.deepEqual(n,e,t)},h.doesNotBecome=function(n,e,t){return h.eventually.notDeepEqual(n,e,t)},h.eventually={},b.forEach(function(e){h.eventually[e]=function(r){var i,o=Array.prototype.slice.call(arguments,1),s=arguments[h[e].length-1];"string"==typeof s&&(i=function(e){throw new n.AssertionError(s+"\n\nOriginal reason: "+t.inspect(e))});var u=r.then(function(n){return h[e].apply(h,[n].concat(o))},i);return u.notify=function(n){a(u,n)},u}})}n.exports=e,e.transferPromiseness=function(n,e){n.then=e.then.bind(e)}}()},function(n,e,t){n.exports=t(45)},function(n,e,t){/*!
	 * chai
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var r=[],e=n.exports={};/*!
	 * Chai version
	 */
e.version="1.10.0",/*!
	 * Assertion Error
	 */
e.AssertionError=t(64);/*!
	 * Utils for plugins (not exported)
	 */
var i=t(58);e.use=function(n){return~r.indexOf(n)||(n(this,i),r.push(n)),this};/*!
	 * Configuration
	 */
var o=t(7);e.config=o;/*!
	 * Primary `Assertion` prototype
	 */
var s=t(46);e.use(s);/*!
	 * Core Assertions
	 */
var a=t(47);e.use(a);/*!
	 * Expect interface
	 */
var u=t(49);e.use(u);/*!
	 * Should interface
	 */
var c=t(50);e.use(c);/*!
	 * Assert interface
	 */
var l=t(48);e.use(l)},function(n,e,t){/*!
	 * chai
	 * http://chaijs.com
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var r=t(7),i=function(){};n.exports=function(n,e){/*!
	   * Assertion Constructor
	   *
	   * Creates object for chaining.
	   *
	   * @api private
	   */
function t(n,e,t){s(this,"ssfi",t||arguments.callee),s(this,"object",n),s(this,"message",e)}/*!
	   * Module dependencies.
	   */
var o=n.AssertionError,s=e.flag;/*!
	   * Module export.
	   */
n.Assertion=t,Object.defineProperty(t,"includeStack",{get:function(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),r.includeStack},set:function(n){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),r.includeStack=n}}),Object.defineProperty(t,"showDiff",{get:function(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),r.showDiff},set:function(n){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),r.showDiff=n}}),t.addProperty=function(n,t){e.addProperty(this.prototype,n,t)},t.addMethod=function(n,t){e.addMethod(this.prototype,n,t)},t.addChainableMethod=function(n,t,r){e.addChainableMethod(this.prototype,n,t,r)},t.addChainableNoop=function(n,t){e.addChainableMethod(this.prototype,n,i,t)},t.overwriteProperty=function(n,t){e.overwriteProperty(this.prototype,n,t)},t.overwriteMethod=function(n,t){e.overwriteMethod(this.prototype,n,t)},t.overwriteChainableMethod=function(n,t,r){e.overwriteChainableMethod(this.prototype,n,t,r)},/*!
	   * ### .assert(expression, message, negateMessage, expected, actual)
	   *
	   * Executes an expression and check expectations. Throws AssertionError for reporting if test doesn't pass.
	   *
	   * @name assert
	   * @param {Philosophical} expression to be tested
	   * @param {String or Function} message or function that returns message to display if fails
	   * @param {String or Function} negatedMessage or function that returns negatedMessage to display if negated expression fails
	   * @param {Mixed} expected value (remember to check for negation)
	   * @param {Mixed} actual (optional) will default to `this.obj`
	   * @api private
	   */
t.prototype.assert=function(n,t,i,a,u,c){var l=e.test(this,arguments);if(!0!==c&&(c=!1),!0!==r.showDiff&&(c=!1),!l){var t=e.getMessage(this,arguments),f=e.getActual(this,arguments);throw new o(t,{actual:f,expected:a,showDiff:c},r.includeStack?this.assert:s(this,"ssfi"))}},/*!
	   * ### ._obj
	   *
	   * Quick reference to stored `actual` value for plugin developers.
	   *
	   * @api private
	   */
Object.defineProperty(t.prototype,"_obj",{get:function(){return s(this,"object")},set:function(n){s(this,"object",n)}})}},function(n){/*!
	 * chai
	 * http://chaijs.com
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
n.exports=function(n,e){function t(n,t){t&&w(this,"message",t),n=n.toLowerCase();var r=w(this,"object"),i=~["a","e","i","o","u"].indexOf(n.charAt(0))?"an ":"a ";this.assert(n===e.type(r),"expected #{this} to be "+i+n,"expected #{this} not to be "+i+n)}function r(){w(this,"contains",!0)}function i(n,t){t&&w(this,"message",t);var r=w(this,"object"),i=!1;if("array"===e.type(r)&&"object"===e.type(n)){for(var o in r)if(e.eql(r[o],n)){i=!0;break}}else if("object"===e.type(n)){if(!w(this,"negate")){for(var s in n)new y(r).property(s,n[s]);return}var a={};for(var s in n)a[s]=r[s];i=e.eql(a,n)}else i=r&&~r.indexOf(n);this.assert(i,"expected #{this} to include "+e.inspect(n),"expected #{this} to not include "+e.inspect(n))}function o(){var n=w(this,"object"),e=Object.prototype.toString.call(n);this.assert("[object Arguments]"===e,"expected #{this} to be arguments but got "+e,"expected #{this} to not be arguments")}function s(n,e){e&&w(this,"message",e);var t=w(this,"object");return w(this,"deep")?this.eql(n):void this.assert(n===t,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",n,this._obj,!0)}function a(n,t){t&&w(this,"message",t),this.assert(e.eql(n,w(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",n,this._obj,!0)}function u(n,e){e&&w(this,"message",e);var t=w(this,"object");if(w(this,"doLength")){new y(t,e).to.have.property("length");var r=t.length;this.assert(r>n,"expected #{this} to have a length above #{exp} but got #{act}","expected #{this} to not have a length above #{exp}",n,r)}else this.assert(t>n,"expected #{this} to be above "+n,"expected #{this} to be at most "+n)}function c(n,e){e&&w(this,"message",e);var t=w(this,"object");if(w(this,"doLength")){new y(t,e).to.have.property("length");var r=t.length;this.assert(r>=n,"expected #{this} to have a length at least #{exp} but got #{act}","expected #{this} to have a length below #{exp}",n,r)}else this.assert(t>=n,"expected #{this} to be at least "+n,"expected #{this} to be below "+n)}function l(n,e){e&&w(this,"message",e);var t=w(this,"object");if(w(this,"doLength")){new y(t,e).to.have.property("length");var r=t.length;this.assert(n>r,"expected #{this} to have a length below #{exp} but got #{act}","expected #{this} to not have a length below #{exp}",n,r)}else this.assert(n>t,"expected #{this} to be below "+n,"expected #{this} to be at least "+n)}function f(n,e){e&&w(this,"message",e);var t=w(this,"object");if(w(this,"doLength")){new y(t,e).to.have.property("length");var r=t.length;this.assert(n>=r,"expected #{this} to have a length at most #{exp} but got #{act}","expected #{this} to have a length above #{exp}",n,r)}else this.assert(n>=t,"expected #{this} to be at most "+n,"expected #{this} to be above "+n)}function p(n,t){t&&w(this,"message",t);var r=e.getName(n);this.assert(w(this,"object")instanceof n,"expected #{this} to be an instance of "+r,"expected #{this} to not be an instance of "+r)}function h(n,t){t&&w(this,"message",t);var r=w(this,"object");this.assert(r.hasOwnProperty(n),"expected #{this} to have own property "+e.inspect(n),"expected #{this} to not have own property "+e.inspect(n))}function d(){w(this,"doLength",!0)}function g(n,e){e&&w(this,"message",e);var t=w(this,"object");new y(t,e).to.have.property("length");var r=t.length;this.assert(r==n,"expected #{this} to have a length of #{exp} but got #{act}","expected #{this} to not have a length of #{act}",n,r)}function m(n){var t,r=w(this,"object"),i=!0;if(n=n instanceof Array?n:Array.prototype.slice.call(arguments),!n.length)throw new Error("keys required");var o=Object.keys(r),s=n,a=n.length;if(i=n.every(function(n){return~o.indexOf(n)}),w(this,"negate")||w(this,"contains")||(i=i&&n.length==o.length),a>1){n=n.map(function(n){return e.inspect(n)});var u=n.pop();t=n.join(", ")+", and "+u}else t=e.inspect(n[0]);t=(a>1?"keys ":"key ")+t,t=(w(this,"contains")?"contain ":"have ")+t,this.assert(i,"expected #{this} to "+t,"expected #{this} to not "+t,s.sort(),o.sort(),!0)}function v(n,t,r){r&&w(this,"message",r);var i=w(this,"object");new y(i,r).is.a("function");var o=!1,s=null,a=null,u=null;0===arguments.length?(t=null,n=null):n&&(n instanceof RegExp||"string"==typeof n)?(t=n,n=null):n&&n instanceof Error?(s=n,n=null,t=null):"function"==typeof n?(a=n.prototype.name||n.name,"Error"===a&&n!==Error&&(a=(new n).name)):n=null;try{i()}catch(c){if(s)return this.assert(c===s,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}",s instanceof Error?s.toString():s,c instanceof Error?c.toString():c),w(this,"object",c),this;if(n&&(this.assert(c instanceof n,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp} but #{act} was thrown",a,c instanceof Error?c.toString():c),!t))return w(this,"object",c),this;var l="object"===e.type(c)&&"message"in c?c.message:""+c;if(null!=l&&t&&t instanceof RegExp)return this.assert(t.exec(l),"expected #{this} to throw error matching #{exp} but got #{act}","expected #{this} to throw error not matching #{exp}",t,l),w(this,"object",c),this;if(null!=l&&t&&"string"==typeof t)return this.assert(~l.indexOf(t),"expected #{this} to throw error including #{exp} but got #{act}","expected #{this} to throw error not including #{act}",t,l),w(this,"object",c),this;o=!0,u=c}var f="",p=null!==a?a:s?"#{exp}":"an error";o&&(f=" but #{act} was thrown"),this.assert(o===!0,"expected #{this} to throw "+p+f,"expected #{this} to not throw "+p+f,s instanceof Error?s.toString():s,u instanceof Error?u.toString():u),w(this,"object",u)}function b(n,e,t){return n.every(function(n){return t?e.some(function(e){return t(n,e)}):-1!==e.indexOf(n)})}var y=n.Assertion,w=(Object.prototype.toString,e.flag);["to","be","been","is","and","has","have","with","that","at","of","same"].forEach(function(n){y.addProperty(n,function(){return this})}),y.addProperty("not",function(){w(this,"negate",!0)}),y.addProperty("deep",function(){w(this,"deep",!0)}),y.addChainableMethod("an",t),y.addChainableMethod("a",t),y.addChainableMethod("include",i,r),y.addChainableMethod("contain",i,r),y.addChainableNoop("ok",function(){this.assert(w(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")}),y.addChainableNoop("true",function(){this.assert(!0===w(this,"object"),"expected #{this} to be true","expected #{this} to be false",this.negate?!1:!0)}),y.addChainableNoop("false",function(){this.assert(!1===w(this,"object"),"expected #{this} to be false","expected #{this} to be true",this.negate?!0:!1)}),y.addChainableNoop("null",function(){this.assert(null===w(this,"object"),"expected #{this} to be null","expected #{this} not to be null")}),y.addChainableNoop("undefined",function(){this.assert(void 0===w(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")}),y.addChainableNoop("exist",function(){this.assert(null!=w(this,"object"),"expected #{this} to exist","expected #{this} to not exist")}),y.addChainableNoop("empty",function(){var n=w(this,"object"),e=n;Array.isArray(n)||"string"==typeof object?e=n.length:"object"==typeof n&&(e=Object.keys(n).length),this.assert(!e,"expected #{this} to be empty","expected #{this} not to be empty")}),y.addChainableNoop("arguments",o),y.addChainableNoop("Arguments",o),y.addMethod("equal",s),y.addMethod("equals",s),y.addMethod("eq",s),y.addMethod("eql",a),y.addMethod("eqls",a),y.addMethod("above",u),y.addMethod("gt",u),y.addMethod("greaterThan",u),y.addMethod("least",c),y.addMethod("gte",c),y.addMethod("below",l),y.addMethod("lt",l),y.addMethod("lessThan",l),y.addMethod("most",f),y.addMethod("lte",f),y.addMethod("within",function(n,e,t){t&&w(this,"message",t);var r=w(this,"object"),i=n+".."+e;if(w(this,"doLength")){new y(r,t).to.have.property("length");var o=r.length;this.assert(o>=n&&e>=o,"expected #{this} to have a length within "+i,"expected #{this} to not have a length within "+i)}else this.assert(r>=n&&e>=r,"expected #{this} to be within "+i,"expected #{this} to not be within "+i)}),y.addMethod("instanceof",p),y.addMethod("instanceOf",p),y.addMethod("property",function(n,t,r){r&&w(this,"message",r);var i=w(this,"deep")?"deep property ":"property ",o=w(this,"negate"),s=w(this,"object"),a=w(this,"deep")?e.getPathValue(n,s):s[n];if(o&&void 0!==t){if(void 0===a)throw r=null!=r?r+": ":"",new Error(r+e.inspect(s)+" has no "+i+e.inspect(n))}else this.assert(void 0!==a,"expected #{this} to have a "+i+e.inspect(n),"expected #{this} to not have "+i+e.inspect(n));void 0!==t&&this.assert(t===a,"expected #{this} to have a "+i+e.inspect(n)+" of #{exp}, but got #{act}","expected #{this} to not have a "+i+e.inspect(n)+" of #{act}",t,a),w(this,"object",a)}),y.addMethod("ownProperty",h),y.addMethod("haveOwnProperty",h),y.addChainableMethod("length",g,d),y.addMethod("lengthOf",g),y.addMethod("match",function(n,e){e&&w(this,"message",e);var t=w(this,"object");this.assert(n.exec(t),"expected #{this} to match "+n,"expected #{this} not to match "+n)}),y.addMethod("string",function(n,t){t&&w(this,"message",t);var r=w(this,"object");new y(r,t).is.a("string"),this.assert(~r.indexOf(n),"expected #{this} to contain "+e.inspect(n),"expected #{this} to not contain "+e.inspect(n))}),y.addMethod("keys",m),y.addMethod("key",m),y.addMethod("throw",v),y.addMethod("throws",v),y.addMethod("Throw",v),y.addMethod("respondTo",function(n,t){t&&w(this,"message",t);var r=w(this,"object"),i=w(this,"itself"),o="function"!==e.type(r)||i?r[n]:r.prototype[n];this.assert("function"==typeof o,"expected #{this} to respond to "+e.inspect(n),"expected #{this} to not respond to "+e.inspect(n))}),y.addProperty("itself",function(){w(this,"itself",!0)}),y.addMethod("satisfy",function(n,t){t&&w(this,"message",t);var r=w(this,"object"),i=n(r);this.assert(i,"expected #{this} to satisfy "+e.objDisplay(n),"expected #{this} to not satisfy"+e.objDisplay(n),this.negate?!1:!0,i)}),y.addMethod("closeTo",function(n,t,r){r&&w(this,"message",r);var i=w(this,"object");if(new y(i,r).is.a("number"),"number"!==e.type(n)||"number"!==e.type(t))throw new Error("the arguments to closeTo must be numbers");this.assert(Math.abs(i-n)<=t,"expected #{this} to be close to "+n+" +/- "+t,"expected #{this} not to be close to "+n+" +/- "+t)}),y.addMethod("members",function(n,t){t&&w(this,"message",t);var r=w(this,"object");new y(r).to.be.an("array"),new y(n).to.be.an("array");var i=w(this,"deep")?e.eql:void 0;return w(this,"contains")?this.assert(b(n,r,i),"expected #{this} to be a superset of #{act}","expected #{this} to not be a superset of #{act}",r,n):void this.assert(b(r,n,i)&&b(n,r,i),"expected #{this} to have the same members as #{act}","expected #{this} to not have the same members as #{act}",r,n)})}},function(module,exports,__webpack_require__){/*!
	 * chai
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
module.exports=function(chai,util){/*!
	   * Chai dependencies.
	   */
var Assertion=chai.Assertion,flag=util.flag,assert=chai.assert=function(n,e){var t=new Assertion(null,null,chai.assert);t.assert(n,e,"[ negation message unavailable ]")};assert.fail=function(n,e,t,r){throw t=t||"assert.fail()",new chai.AssertionError(t,{actual:n,expected:e,operator:r},assert.fail)},assert.ok=function(n,e){new Assertion(n,e).is.ok},assert.notOk=function(n,e){new Assertion(n,e).is.not.ok},assert.equal=function(n,e,t){var r=new Assertion(n,t,assert.equal);r.assert(e==flag(r,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",e,n)},assert.notEqual=function(n,e,t){var r=new Assertion(n,t,assert.notEqual);r.assert(e!=flag(r,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",e,n)},assert.strictEqual=function(n,e,t){new Assertion(n,t).to.equal(e)},assert.notStrictEqual=function(n,e,t){new Assertion(n,t).to.not.equal(e)},assert.deepEqual=function(n,e,t){new Assertion(n,t).to.eql(e)},assert.notDeepEqual=function(n,e,t){new Assertion(n,t).to.not.eql(e)},assert.isTrue=function(n,e){new Assertion(n,e).is["true"]},assert.isFalse=function(n,e){new Assertion(n,e).is["false"]},assert.isNull=function(n,e){new Assertion(n,e).to.equal(null)},assert.isNotNull=function(n,e){new Assertion(n,e).to.not.equal(null)},assert.isUndefined=function(n,e){new Assertion(n,e).to.equal(void 0)},assert.isDefined=function(n,e){new Assertion(n,e).to.not.equal(void 0)},assert.isFunction=function(n,e){new Assertion(n,e).to.be.a("function")},assert.isNotFunction=function(n,e){new Assertion(n,e).to.not.be.a("function")},assert.isObject=function(n,e){new Assertion(n,e).to.be.a("object")},assert.isNotObject=function(n,e){new Assertion(n,e).to.not.be.a("object")},assert.isArray=function(n,e){new Assertion(n,e).to.be.an("array")},assert.isNotArray=function(n,e){new Assertion(n,e).to.not.be.an("array")},assert.isString=function(n,e){new Assertion(n,e).to.be.a("string")},assert.isNotString=function(n,e){new Assertion(n,e).to.not.be.a("string")},assert.isNumber=function(n,e){new Assertion(n,e).to.be.a("number")},assert.isNotNumber=function(n,e){new Assertion(n,e).to.not.be.a("number")},assert.isBoolean=function(n,e){new Assertion(n,e).to.be.a("boolean")},assert.isNotBoolean=function(n,e){new Assertion(n,e).to.not.be.a("boolean")},assert.typeOf=function(n,e,t){new Assertion(n,t).to.be.a(e)},assert.notTypeOf=function(n,e,t){new Assertion(n,t).to.not.be.a(e)},assert.instanceOf=function(n,e,t){new Assertion(n,t).to.be.instanceOf(e)},assert.notInstanceOf=function(n,e,t){new Assertion(n,t).to.not.be.instanceOf(e)},assert.include=function(n,e,t){new Assertion(n,t,assert.include).include(e)},assert.notInclude=function(n,e,t){new Assertion(n,t,assert.notInclude).not.include(e)},assert.match=function(n,e,t){new Assertion(n,t).to.match(e)},assert.notMatch=function(n,e,t){new Assertion(n,t).to.not.match(e)},assert.property=function(n,e,t){new Assertion(n,t).to.have.property(e)},assert.notProperty=function(n,e,t){new Assertion(n,t).to.not.have.property(e)},assert.deepProperty=function(n,e,t){new Assertion(n,t).to.have.deep.property(e)},assert.notDeepProperty=function(n,e,t){new Assertion(n,t).to.not.have.deep.property(e)},assert.propertyVal=function(n,e,t,r){new Assertion(n,r).to.have.property(e,t)},assert.propertyNotVal=function(n,e,t,r){new Assertion(n,r).to.not.have.property(e,t)},assert.deepPropertyVal=function(n,e,t,r){new Assertion(n,r).to.have.deep.property(e,t)},assert.deepPropertyNotVal=function(n,e,t,r){new Assertion(n,r).to.not.have.deep.property(e,t)},assert.lengthOf=function(n,e,t){new Assertion(n,t).to.have.length(e)},assert.Throw=function(n,e,t,r){("string"==typeof e||e instanceof RegExp)&&(t=e,e=null);var i=new Assertion(n,r).to.Throw(e,t);return flag(i,"object")},assert.doesNotThrow=function(n,e,t){"string"==typeof e&&(t=e,e=null),new Assertion(n,t).to.not.Throw(e)},assert.operator=function(val,operator,val2,msg){if(!~["==","===",">",">=","<","<=","!=","!=="].indexOf(operator))throw new Error('Invalid operator "'+operator+'"');var test=new Assertion(eval(val+operator+val2),msg);test.assert(!0===flag(test,"object"),"expected "+util.inspect(val)+" to be "+operator+" "+util.inspect(val2),"expected "+util.inspect(val)+" to not be "+operator+" "+util.inspect(val2))},assert.closeTo=function(n,e,t,r){new Assertion(n,r).to.be.closeTo(e,t)},assert.sameMembers=function(n,e,t){new Assertion(n,t).to.have.same.members(e)},assert.includeMembers=function(n,e,t){new Assertion(n,t).to.include.members(e)},/*!
	   * Undocumented / untested
	   */
assert.ifError=function(n,e){new Assertion(n,e).to.not.be.ok},/*!
	   * Aliases.
	   */
function n(e,t){return assert[t]=assert[e],n}("Throw","throw")("Throw","throws")}},function(n){/*!
	 * chai
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
n.exports=function(n){n.expect=function(e,t){return new n.Assertion(e,t)}}},function(n){/*!
	 * chai
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
n.exports=function(n){function e(){function n(){return this instanceof String||this instanceof Number?new t(this.constructor(this),null,n):this instanceof Boolean?new t(1==this,null,n):new t(this,null,n)}function e(n){Object.defineProperty(this,"should",{value:n,enumerable:!0,configurable:!0,writable:!0})}Object.defineProperty(Object.prototype,"should",{set:e,get:n,configurable:!0});var r={};return r.equal=function(n,e,r){new t(n,r).to.equal(e)},r.Throw=function(n,e,r,i){new t(n,i).to.Throw(e,r)},r.exist=function(n,e){new t(n,e).to.exist},r.not={},r.not.equal=function(n,e,r){new t(n,r).to.not.equal(e)},r.not.Throw=function(n,e,r,i){new t(n,i).to.not.Throw(e,r)},r.not.exist=function(n,e){new t(n,e).to.not.exist},r["throw"]=r.Throw,r.not["throw"]=r.not.Throw,r}var t=n.Assertion;n.should=e,n.Should=e}},function(n,e,t){/*!
	 * Chai - addChainingMethod utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependencies
	 */
var r=t(25),i=t(8),o=t(7),s="__proto__"in Object,a=/^(?:length|name|arguments|caller)$/,u=Function.prototype.call,c=Function.prototype.apply;n.exports=function(n,e,t,l){"function"!=typeof l&&(l=function(){});var f={method:t,chainingBehavior:l};n.__methods||(n.__methods={}),n.__methods[e]=f,Object.defineProperty(n,e,{get:function(){f.chainingBehavior.call(this);var e=function p(){var n=i(this,"ssfi");n&&o.includeStack===!1&&i(this,"ssfi",p);var e=f.method.apply(this,arguments);return void 0===e?this:e};if(s){var t=e.__proto__=Object.create(this);t.call=u,t.apply=c}else{var l=Object.getOwnPropertyNames(n);l.forEach(function(t){if(!a.test(t)){var r=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,r)}})}return r(this,e),e},configurable:!0})}},function(n,e,t){/*!
	 * Chai - addMethod utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var r=t(7),i=t(8);n.exports=function(n,e,t){n[e]=function(){var o=i(this,"ssfi");o&&r.includeStack===!1&&i(this,"ssfi",n[e]);var s=t.apply(this,arguments);return void 0===s?this:s}}},function(n){/*!
	 * Chai - addProperty utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
n.exports=function(n,e,t){Object.defineProperty(n,e,{get:function(){var n=t.call(this);return void 0===n?this:n},configurable:!0})}},function(n){/*!
	 * Chai - getEnumerableProperties utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
n.exports=function(n){var e=[];for(var t in n)e.push(t);return e}},function(n,e,t){/*!
	 * Chai - message composition utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependancies
	 */
var r=t(8),i=t(22),o=(t(15),t(24));n.exports=function(n,e){var t=r(n,"negate"),s=r(n,"object"),a=e[3],u=i(n,e),c=t?e[2]:e[1],l=r(n,"message");return"function"==typeof c&&(c=c()),c=c||"",c=c.replace(/#{this}/g,o(s)).replace(/#{act}/g,o(u)).replace(/#{exp}/g,o(a)),l?l+": "+c:c}},function(n){/*!
	 * ## parsePath(path)
	 *
	 * Helper function used to parse string object
	 * paths. Use in conjunction with `_getPathValue`.
	 *
	 *      var parsed = parsePath('myobject.property.subprop');
	 *
	 * ### Paths:
	 *
	 * * Can be as near infinitely deep and nested
	 * * Arrays are also valid using the formal `myobject.document[3].property`.
	 *
	 * @param {String} path
	 * @returns {Object} parsed
	 * @api private
	 */
function e(n){var e=n.replace(/\[/g,".["),t=e.match(/(\\\.|[^.]+?)+/g);return t.map(function(n){var e=/\[(\d+)\]$/,t=e.exec(n);return t?{i:parseFloat(t[1])}:{p:n}})}/*!
	 * ## _getPathValue(parsed, obj)
	 *
	 * Helper companion function for `.parsePath` that returns
	 * the value located at the parsed address.
	 *
	 *      var value = getPathValue(parsed, obj);
	 *
	 * @param {Object} parsed definition from `parsePath`.
	 * @param {Object} object to search against
	 * @returns {Object|Undefined} value
	 * @api private
	 */
function t(n,e){for(var t,r=e,i=0,o=n.length;o>i;i++){var s=n[i];r?("undefined"!=typeof s.p?r=r[s.p]:"undefined"!=typeof s.i&&(r=r[s.i]),i==o-1&&(t=r)):t=void 0}return t}/*!
	 * Chai - getPathValue utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * @see https://github.com/logicalparadox/filtr
	 * MIT Licensed
	 */
n.exports=function(n,r){var i=e(n);return t(i,r)}},function(n){/*!
	 * Chai - getProperties utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
n.exports=function(){function n(n){-1===e.indexOf(n)&&e.push(n)}for(var e=Object.getOwnPropertyNames(subject),t=Object.getPrototypeOf(subject);null!==t;)Object.getOwnPropertyNames(t).forEach(n),t=Object.getPrototypeOf(t);return e}},function(n,e,t){/*!
	 * chai
	 * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Main exports
	 */
var e=n.exports={};/*!
	 * test utility
	 */
e.test=t(62),/*!
	 * type utility
	 */
e.type=t(63),/*!
	 * message utility
	 */
e.getMessage=t(55),/*!
	 * actual utility
	 */
e.getActual=t(22),/*!
	 * Inspect util
	 */
e.inspect=t(15),/*!
	 * Object Display util
	 */
e.objDisplay=t(24),/*!
	 * Flag utility
	 */
e.flag=t(8),/*!
	 * Flag transferring utility
	 */
e.transferFlags=t(25),/*!
	 * Deep equal utility
	 */
e.eql=t(65),/*!
	 * Deep path value
	 */
e.getPathValue=t(56),/*!
	 * Function name
	 */
e.getName=t(23),/*!
	 * add Property
	 */
e.addProperty=t(53),/*!
	 * add Method
	 */
e.addMethod=t(52),/*!
	 * overwrite Property
	 */
e.overwriteProperty=t(61),/*!
	 * overwrite Method
	 */
e.overwriteMethod=t(60),/*!
	 * Add a chainable method
	 */
e.addChainableMethod=t(51),/*!
	 * Overwrite chainable method
	 */
e.overwriteChainableMethod=t(59)},function(n){/*!
	 * Chai - overwriteChainableMethod utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
n.exports=function(n,e,t,r){var i=n.__methods[e],o=i.chainingBehavior;i.chainingBehavior=function(){var n=r(o).call(this);return void 0===n?this:n};var s=i.method;i.method=function(){var n=t(s).apply(this,arguments);return void 0===n?this:n}}},function(n){/*!
	 * Chai - overwriteMethod utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
n.exports=function(n,e,t){var r=n[e],i=function(){return this};r&&"function"==typeof r&&(i=r),n[e]=function(){var n=t(i).apply(this,arguments);return void 0===n?this:n}}},function(n){/*!
	 * Chai - overwriteProperty utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
n.exports=function(n,e,t){var r=Object.getOwnPropertyDescriptor(n,e),i=function(){};r&&"function"==typeof r.get&&(i=r.get),Object.defineProperty(n,e,{get:function(){var n=t(i).call(this);return void 0===n?this:n},configurable:!0})}},function(n,e,t){/*!
	 * Chai - test utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependancies
	 */
var r=t(8);n.exports=function(n,e){var t=r(n,"negate"),i=e[0];return t?!i:i}},function(n){/*!
	 * Chai - type utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Detectable javascript natives
	 */
var e={"[object Arguments]":"arguments","[object Array]":"array","[object Date]":"date","[object Function]":"function","[object Number]":"number","[object RegExp]":"regexp","[object String]":"string"};n.exports=function(n){var t=Object.prototype.toString.call(n);return e[t]?e[t]:null===n?"null":void 0===n?"undefined":n===Object(n)?"object":typeof n}},function(n){/*!
	 * assertion-error
	 * Copyright(c) 2013 Jake Luer <jake@qualiancy.com>
	 * MIT Licensed
	 */
/*!
	 * Return a function that will copy properties from
	 * one object to another excluding any originally
	 * listed. Returned function will create a new `{}`.
	 *
	 * @param {String} excluded properties ...
	 * @return {Function}
	 */
function e(){function n(n,t){Object.keys(t).forEach(function(r){~e.indexOf(r)||(n[r]=t[r])})}var e=[].slice.call(arguments);return function(){for(var e=[].slice.call(arguments),t=0,r={};t<e.length;t++)n(r,e[t]);return r}}function t(n,t,r){var i=e("name","message","stack","constructor","toJSON"),o=i(t||{});this.message=n||"Unspecified AssertionError",this.showDiff=!1;for(var s in o)this[s]=o[s];r=r||arguments.callee,r&&Error.captureStackTrace&&Error.captureStackTrace(this,r)}/*!
	 * Primary Exports
	 */
n.exports=t,/*!
	 * Inherit from Error.prototype
	 */
t.prototype=Object.create(Error.prototype),/*!
	 * Statically set name
	 */
t.prototype.name="AssertionError",/*!
	 * Ensure correct constructor
	 */
t.prototype.constructor=t,t.prototype.toJSON=function(n){var t=e("constructor","toJSON","stack"),r=t({name:this.name},this);return!1!==n&&this.stack&&(r.stack=this.stack),r}},function(n,e,t){n.exports=t(66)},function(n,e,t){function r(n,e,t){return i(n,e)?!0:"date"===g(n)?s(n,e):"regexp"===g(n)?a(n,e):d.isBuffer(n)?f(n,e):"arguments"===g(n)?u(n,e,t):o(n,e)?"object"!==g(n)&&"object"!==g(e)&&"array"!==g(n)&&"array"!==g(e)?i(n,e):h(n,e,t):!1}/*!
	 * Strict (egal) equality test. Ensures that NaN always
	 * equals NaN and `-0` does not equal `+0`.
	 *
	 * @param {Mixed} a
	 * @param {Mixed} b
	 * @return {Boolean} equal match
	 */
function i(n,e){return n===e?0!==n||1/n===1/e:n!==n&&e!==e}/*!
	 * Compare the types of two given objects and
	 * return if they are equal. Note that an Array
	 * has a type of `array` (not `object`) and arguments
	 * have a type of `arguments` (not `array`/`object`).
	 *
	 * @param {Mixed} a
	 * @param {Mixed} b
	 * @return {Boolean} result
	 */
function o(n,e){return g(n)===g(e)}/*!
	 * Compare two Date objects by asserting that
	 * the time values are equal using `saveValue`.
	 *
	 * @param {Date} a
	 * @param {Date} b
	 * @return {Boolean} result
	 */
function s(n,e){return"date"!==g(e)?!1:i(n.getTime(),e.getTime())}/*!
	 * Compare two regular expressions by converting them
	 * to string and checking for `sameValue`.
	 *
	 * @param {RegExp} a
	 * @param {RegExp} b
	 * @return {Boolean} result
	 */
function a(n,e){return"regexp"!==g(e)?!1:i(n.toString(),e.toString())}/*!
	 * Assert deep equality of two `arguments` objects.
	 * Unfortunately, these must be sliced to arrays
	 * prior to test to ensure no bad behavior.
	 *
	 * @param {Arguments} a
	 * @param {Arguments} b
	 * @param {Array} memoize (optional)
	 * @return {Boolean} result
	 */
function u(n,e,t){return"arguments"!==g(e)?!1:(n=[].slice.call(n),e=[].slice.call(e),r(n,e,t))}/*!
	 * Get enumerable properties of a given object.
	 *
	 * @param {Object} a
	 * @return {Array} property names
	 */
function c(n){var e=[];for(var t in n)e.push(t);return e}/*!
	 * Simple equality for flat iterable objects
	 * such as Arrays or Node.js buffers.
	 *
	 * @param {Iterable} a
	 * @param {Iterable} b
	 * @return {Boolean} result
	 */
function l(n,e){if(n.length!==e.length)return!1;for(var t=0,r=!0;t<n.length;t++)if(n[t]!==e[t]){r=!1;break}return r}/*!
	 * Extension to `iterableEqual` specifically
	 * for Node.js Buffers.
	 *
	 * @param {Buffer} a
	 * @param {Mixed} b
	 * @return {Boolean} result
	 */
function f(n,e){return d.isBuffer(e)?l(n,e):!1}/*!
	 * Block for `objectEqual` ensuring non-existing
	 * values don't get in.
	 *
	 * @param {Mixed} object
	 * @return {Boolean} result
	 */
function p(n){return null!==n&&void 0!==n}/*!
	 * Recursively check the equality of two objects.
	 * Once basic sameness has been established it will
	 * defer to `deepEqual` for each enumerable key
	 * in the object.
	 *
	 * @param {Mixed} a
	 * @param {Mixed} b
	 * @return {Boolean} result
	 */
function h(n,e,t){if(!p(n)||!p(e))return!1;if(n.prototype!==e.prototype)return!1;var i;if(t){for(i=0;i<t.length;i++)if(t[i][0]===n&&t[i][1]===e||t[i][0]===e&&t[i][1]===n)return!0}else t=[];try{var o=c(n),s=c(e)}catch(a){return!1}if(o.sort(),s.sort(),!l(o,s))return!1;t.push([n,e]);var u;for(i=o.length-1;i>=0;i--)if(u=o[i],!r(n[u],e[u],t))return!1;return!0}/*!
	 * deep-eql
	 * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependencies
	 */
var d,g=t(67);try{d=t(26).Buffer}catch(m){d={},d.isBuffer=function(){return!1}}/*!
	 * Primary Export
	 */
n.exports=r},function(n,e,t){n.exports=t(68)},function(n,e){function t(n){var e=Object.prototype.toString.call(n);return i[e]?i[e]:null===n?"null":void 0===n?"undefined":n===Object(n)?"object":typeof n}function r(){this.tests={}}/*!
	 * type-detect
	 * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Primary Exports
	 */
var e=n.exports=t,i={"[object Array]":"array","[object RegExp]":"regexp","[object Function]":"function","[object Arguments]":"arguments","[object Date]":"date"};e.Library=r,r.prototype.of=t,r.prototype.define=function(n,e){return 1===arguments.length?this.tests[n]:(this.tests[n]=e,this)},r.prototype.test=function(n,e){if(e===t(n))return!0;var r=this.tests[e];if(r&&"regexp"===t(r))return r.test(n);if(r&&"function"===t(r))return r(n);throw new ReferenceError('Type test "'+e+'" not defined or invalid.')}},,function(n,e,t){e=n.exports=t(9)(),e.push([n.id,"@charset \"utf-8\";body{margin:0}#mocha{font:20px/1.5 \"Helvetica Neue\",Helvetica,Arial,sans-serif;margin:60px 50px}#mocha ul,#mocha li{margin:0;padding:0}#mocha ul{list-style:none}#mocha h2{margin:0}#mocha h1{margin:15px 0 0;font-size:1em;font-weight:200}#mocha h1 a{text-decoration:none;color:inherit}#mocha h1 a:hover{text-decoration:underline}#mocha .suite .suite h1{margin-top:0;font-size:.8em}#mocha .hidden{display:none}#mocha h2{font-size:12px;font-weight:400;cursor:pointer}#mocha .suite,#mocha .test{margin-left:15px}#mocha .test{overflow:hidden}#mocha .test.pending:hover h2::after{content:'(pending)';font-family:arial,sans-serif}#mocha .test.pass.medium .duration{background:#c09853}#mocha .test.pass.slow .duration{background:#b94a48}#mocha .test.pass::before{content:'✓';font-size:12px;display:block;float:left;margin-right:5px;color:#00d6b2}#mocha .test.pass .duration{font-size:9px;margin-left:5px;padding:2px 5px;color:#fff;box-shadow:inset 0 1px 1px rgba(0,0,0,.2);-o-border-radius:5px;border-radius:5px}#mocha .test.pass.fast .duration{display:none}#mocha .test.pending{color:#0b97c4}#mocha .test.pending::before{content:'◦';color:#0b97c4}#mocha .test.fail{color:#c00}#mocha .test.fail pre{color:#000}#mocha .test.fail::before{content:'✖';font-size:12px;display:block;float:left;margin-right:5px;color:#c00}#mocha .test pre.error{color:#c00;max-height:300px;overflow:auto}#mocha .test pre{display:block;float:left;clear:left;font:12px/1.5 monaco,monospace;margin:5px;padding:15px;border:1px solid #eee;max-width:calc(100% - 42px);word-wrap:break-word;border-bottom-color:#ddd;-webkit-border-radius:3px;-webkit-box-shadow:0 1px 3px #eee;-moz-border-radius:3px;-moz-box-shadow:0 1px 3px #eee;border-radius:3px}#mocha .test h2{position:relative}#mocha .test a.replay{position:absolute;top:3px;right:0;text-decoration:none;vertical-align:middle;display:block;width:15px;height:15px;line-height:15px;text-align:center;background:#eee;font-size:15px;border-radius:15px;transition:opacity 200ms;opacity:.3;color:#888}#mocha .test:hover a.replay{opacity:1}#mocha-report.pass .test.fail,#mocha-report.fail .test.pass,#mocha-report.pending .test.pass,#mocha-report.pending .test.fail{display:none}#mocha-report.pending .test.pass.pending{display:block}#mocha-error{color:#c00;font-size:1.5em;font-weight:100;letter-spacing:1px}#mocha-stats{position:fixed;top:15px;right:10px;font-size:12px;margin:0;color:#888;z-index:1}#mocha-stats .progress{float:right;padding-top:0}#mocha-stats em{color:#000}#mocha-stats a{text-decoration:none;color:inherit}#mocha-stats a:hover{border-bottom:1px solid #eee}#mocha-stats li{display:inline-block;margin:0 5px;list-style:none;padding-top:11px}#mocha-stats canvas{width:40px;height:40px}#mocha code .comment{color:#ddd}#mocha code .init{color:#2f6fad}#mocha code .string{color:#5890ad}#mocha code .keyword{color:#8a6343}#mocha code .number{color:#2f6fad}@media screen and (max-device-width:480px){#mocha{margin:60px 0}#mocha #stats{position:absolute}}",""])},,,,function(n,e,t){e=n.exports=t(9)(),e.push([n.id,"#mocha-stats em{color:#fff}",""])},,,,,function(n){n.exports=function(n){"function"==typeof execScript?execScript(n):eval.call(null,n)}},function(n,e,t){t(79)(t(81))},function(n){n.exports=";(function(){\n\n// CommonJS require()\n\nfunction require(p){\n    var path = require.resolve(p)\n      , mod = require.modules[path];\n    if (!mod) throw new Error('failed to require \"' + p + '\"');\n    if (!mod.exports) {\n      mod.exports = {};\n      mod.call(mod.exports, mod, mod.exports, require.relative(path));\n    }\n    return mod.exports;\n  }\n\nrequire.modules = {};\n\nrequire.resolve = function (path){\n    var orig = path\n      , reg = path + '.js'\n      , index = path + '/index.js';\n    return require.modules[reg] && reg\n      || require.modules[index] && index\n      || orig;\n  };\n\nrequire.register = function (path, fn){\n    require.modules[path] = fn;\n  };\n\nrequire.relative = function (parent) {\n    return function(p){\n      if ('.' != p.charAt(0)) return require(p);\n\n      var path = parent.split('/')\n        , segs = p.split('/');\n      path.pop();\n\n      for (var i = 0; i < segs.length; i++) {\n        var seg = segs[i];\n        if ('..' == seg) path.pop();\n        else if ('.' != seg) path.push(seg);\n      }\n\n      return require(path.join('/'));\n    };\n  };\n\n\nrequire.register(\"browser/debug.js\", function(module, exports, require){\nmodule.exports = function(type){\n  return function(){\n  }\n};\n\n}); // module: browser/debug.js\n\nrequire.register(\"browser/diff.js\", function(module, exports, require){\n/* See LICENSE file for terms of use */\n\n/*\n * Text diff implementation.\n *\n * This library supports the following APIS:\n * JsDiff.diffChars: Character by character diff\n * JsDiff.diffWords: Word (as defined by \\b regex) diff which ignores whitespace\n * JsDiff.diffLines: Line based diff\n *\n * JsDiff.diffCss: Diff targeted at CSS content\n *\n * These methods are based on the implementation proposed in\n * \"An O(ND) Difference Algorithm and its Variations\" (Myers, 1986).\n * http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.4.6927\n */\nvar JsDiff = (function() {\n  /*jshint maxparams: 5*/\n  function clonePath(path) {\n    return { newPos: path.newPos, components: path.components.slice(0) };\n  }\n  function removeEmpty(array) {\n    var ret = [];\n    for (var i = 0; i < array.length; i++) {\n      if (array[i]) {\n        ret.push(array[i]);\n      }\n    }\n    return ret;\n  }\n  function escapeHTML(s) {\n    var n = s;\n    n = n.replace(/&/g, '&amp;');\n    n = n.replace(/</g, '&lt;');\n    n = n.replace(/>/g, '&gt;');\n    n = n.replace(/\"/g, '&quot;');\n\n    return n;\n  }\n\n  var Diff = function(ignoreWhitespace) {\n    this.ignoreWhitespace = ignoreWhitespace;\n  };\n  Diff.prototype = {\n      diff: function(oldString, newString) {\n        // Handle the identity case (this is due to unrolling editLength == 0\n        if (newString === oldString) {\n          return [{ value: newString }];\n        }\n        if (!newString) {\n          return [{ value: oldString, removed: true }];\n        }\n        if (!oldString) {\n          return [{ value: newString, added: true }];\n        }\n\n        newString = this.tokenize(newString);\n        oldString = this.tokenize(oldString);\n\n        var newLen = newString.length, oldLen = oldString.length;\n        var maxEditLength = newLen + oldLen;\n        var bestPath = [{ newPos: -1, components: [] }];\n\n        // Seed editLength = 0\n        var oldPos = this.extractCommon(bestPath[0], newString, oldString, 0);\n        if (bestPath[0].newPos+1 >= newLen && oldPos+1 >= oldLen) {\n          return bestPath[0].components;\n        }\n\n        for (var editLength = 1; editLength <= maxEditLength; editLength++) {\n          for (var diagonalPath = -1*editLength; diagonalPath <= editLength; diagonalPath+=2) {\n            var basePath;\n            var addPath = bestPath[diagonalPath-1],\n                removePath = bestPath[diagonalPath+1];\n            oldPos = (removePath ? removePath.newPos : 0) - diagonalPath;\n            if (addPath) {\n              // No one else is going to attempt to use this value, clear it\n              bestPath[diagonalPath-1] = undefined;\n            }\n\n            var canAdd = addPath && addPath.newPos+1 < newLen;\n            var canRemove = removePath && 0 <= oldPos && oldPos < oldLen;\n            if (!canAdd && !canRemove) {\n              bestPath[diagonalPath] = undefined;\n              continue;\n            }\n\n            // Select the diagonal that we want to branch from. We select the prior\n            // path whose position in the new string is the farthest from the origin\n            // and does not pass the bounds of the diff graph\n            if (!canAdd || (canRemove && addPath.newPos < removePath.newPos)) {\n              basePath = clonePath(removePath);\n              this.pushComponent(basePath.components, oldString[oldPos], undefined, true);\n            } else {\n              basePath = clonePath(addPath);\n              basePath.newPos++;\n              this.pushComponent(basePath.components, newString[basePath.newPos], true, undefined);\n            }\n\n            var oldPos = this.extractCommon(basePath, newString, oldString, diagonalPath);\n\n            if (basePath.newPos+1 >= newLen && oldPos+1 >= oldLen) {\n              return basePath.components;\n            } else {\n              bestPath[diagonalPath] = basePath;\n            }\n          }\n        }\n      },\n\n      pushComponent: function(components, value, added, removed) {\n        var last = components[components.length-1];\n        if (last && last.added === added && last.removed === removed) {\n          // We need to clone here as the component clone operation is just\n          // as shallow array clone\n          components[components.length-1] =\n            {value: this.join(last.value, value), added: added, removed: removed };\n        } else {\n          components.push({value: value, added: added, removed: removed });\n        }\n      },\n      extractCommon: function(basePath, newString, oldString, diagonalPath) {\n        var newLen = newString.length,\n            oldLen = oldString.length,\n            newPos = basePath.newPos,\n            oldPos = newPos - diagonalPath;\n        while (newPos+1 < newLen && oldPos+1 < oldLen && this.equals(newString[newPos+1], oldString[oldPos+1])) {\n          newPos++;\n          oldPos++;\n\n          this.pushComponent(basePath.components, newString[newPos], undefined, undefined);\n        }\n        basePath.newPos = newPos;\n        return oldPos;\n      },\n\n      equals: function(left, right) {\n        var reWhitespace = /\\S/;\n        if (this.ignoreWhitespace && !reWhitespace.test(left) && !reWhitespace.test(right)) {\n          return true;\n        } else {\n          return left === right;\n        }\n      },\n      join: function(left, right) {\n        return left + right;\n      },\n      tokenize: function(value) {\n        return value;\n      }\n  };\n\n  var CharDiff = new Diff();\n\n  var WordDiff = new Diff(true);\n  var WordWithSpaceDiff = new Diff();\n  WordDiff.tokenize = WordWithSpaceDiff.tokenize = function(value) {\n    return removeEmpty(value.split(/(\\s+|\\b)/));\n  };\n\n  var CssDiff = new Diff(true);\n  CssDiff.tokenize = function(value) {\n    return removeEmpty(value.split(/([{}:;,]|\\s+)/));\n  };\n\n  var LineDiff = new Diff();\n  LineDiff.tokenize = function(value) {\n    var retLines = [],\n        lines = value.split(/^/m);\n\n    for(var i = 0; i < lines.length; i++) {\n      var line = lines[i],\n          lastLine = lines[i - 1];\n\n      // Merge lines that may contain windows new lines\n      if (line == '\\n' && lastLine && lastLine[lastLine.length - 1] === '\\r') {\n        retLines[retLines.length - 1] += '\\n';\n      } else if (line) {\n        retLines.push(line);\n      }\n    }\n\n    return retLines;\n  };\n\n  return {\n    Diff: Diff,\n\n    diffChars: function(oldStr, newStr) { return CharDiff.diff(oldStr, newStr); },\n    diffWords: function(oldStr, newStr) { return WordDiff.diff(oldStr, newStr); },\n    diffWordsWithSpace: function(oldStr, newStr) { return WordWithSpaceDiff.diff(oldStr, newStr); },\n    diffLines: function(oldStr, newStr) { return LineDiff.diff(oldStr, newStr); },\n\n    diffCss: function(oldStr, newStr) { return CssDiff.diff(oldStr, newStr); },\n\n    createPatch: function(fileName, oldStr, newStr, oldHeader, newHeader) {\n      var ret = [];\n\n      ret.push('Index: ' + fileName);\n      ret.push('===================================================================');\n      ret.push('--- ' + fileName + (typeof oldHeader === 'undefined' ? '' : '\\t' + oldHeader));\n      ret.push('+++ ' + fileName + (typeof newHeader === 'undefined' ? '' : '\\t' + newHeader));\n\n      var diff = LineDiff.diff(oldStr, newStr);\n      if (!diff[diff.length-1].value) {\n        diff.pop();   // Remove trailing newline add\n      }\n      diff.push({value: '', lines: []});   // Append an empty value to make cleanup easier\n\n      function contextLines(lines) {\n        return lines.map(function(entry) { return ' ' + entry; });\n      }\n      function eofNL(curRange, i, current) {\n        var last = diff[diff.length-2],\n            isLast = i === diff.length-2,\n            isLastOfType = i === diff.length-3 && (current.added !== last.added || current.removed !== last.removed);\n\n        // Figure out if this is the last line for the given file and missing NL\n        if (!/\\n$/.test(current.value) && (isLast || isLastOfType)) {\n          curRange.push('\\\\ No newline at end of file');\n        }\n      }\n\n      var oldRangeStart = 0, newRangeStart = 0, curRange = [],\n          oldLine = 1, newLine = 1;\n      for (var i = 0; i < diff.length; i++) {\n        var current = diff[i],\n            lines = current.lines || current.value.replace(/\\n$/, '').split('\\n');\n        current.lines = lines;\n\n        if (current.added || current.removed) {\n          if (!oldRangeStart) {\n            var prev = diff[i-1];\n            oldRangeStart = oldLine;\n            newRangeStart = newLine;\n\n            if (prev) {\n              curRange = contextLines(prev.lines.slice(-4));\n              oldRangeStart -= curRange.length;\n              newRangeStart -= curRange.length;\n            }\n          }\n          curRange.push.apply(curRange, lines.map(function(entry) { return (current.added?'+':'-') + entry; }));\n          eofNL(curRange, i, current);\n\n          if (current.added) {\n            newLine += lines.length;\n          } else {\n            oldLine += lines.length;\n          }\n        } else {\n          if (oldRangeStart) {\n            // Close out any changes that have been output (or join overlapping)\n            if (lines.length <= 8 && i < diff.length-2) {\n              // Overlapping\n              curRange.push.apply(curRange, contextLines(lines));\n            } else {\n              // end the range and output\n              var contextSize = Math.min(lines.length, 4);\n              ret.push(\n                  '@@ -' + oldRangeStart + ',' + (oldLine-oldRangeStart+contextSize)\n                  + ' +' + newRangeStart + ',' + (newLine-newRangeStart+contextSize)\n                  + ' @@');\n              ret.push.apply(ret, curRange);\n              ret.push.apply(ret, contextLines(lines.slice(0, contextSize)));\n              if (lines.length <= 4) {\n                eofNL(ret, i, current);\n              }\n\n              oldRangeStart = 0;  newRangeStart = 0; curRange = [];\n            }\n          }\n          oldLine += lines.length;\n          newLine += lines.length;\n        }\n      }\n\n      return ret.join('\\n') + '\\n';\n    },\n\n    applyPatch: function(oldStr, uniDiff) {\n      var diffstr = uniDiff.split('\\n');\n      var diff = [];\n      var remEOFNL = false,\n          addEOFNL = false;\n\n      for (var i = (diffstr[0][0]==='I'?4:0); i < diffstr.length; i++) {\n        if(diffstr[i][0] === '@') {\n          var meh = diffstr[i].split(/@@ -(\\d+),(\\d+) \\+(\\d+),(\\d+) @@/);\n          diff.unshift({\n            start:meh[3],\n            oldlength:meh[2],\n            oldlines:[],\n            newlength:meh[4],\n            newlines:[]\n          });\n        } else if(diffstr[i][0] === '+') {\n          diff[0].newlines.push(diffstr[i].substr(1));\n        } else if(diffstr[i][0] === '-') {\n          diff[0].oldlines.push(diffstr[i].substr(1));\n        } else if(diffstr[i][0] === ' ') {\n          diff[0].newlines.push(diffstr[i].substr(1));\n          diff[0].oldlines.push(diffstr[i].substr(1));\n        } else if(diffstr[i][0] === '\\\\') {\n          if (diffstr[i-1][0] === '+') {\n            remEOFNL = true;\n          } else if(diffstr[i-1][0] === '-') {\n            addEOFNL = true;\n          }\n        }\n      }\n\n      var str = oldStr.split('\\n');\n      for (var i = diff.length - 1; i >= 0; i--) {\n        var d = diff[i];\n        for (var j = 0; j < d.oldlength; j++) {\n          if(str[d.start-1+j] !== d.oldlines[j]) {\n            return false;\n          }\n        }\n        Array.prototype.splice.apply(str,[d.start-1,+d.oldlength].concat(d.newlines));\n      }\n\n      if (remEOFNL) {\n        while (!str[str.length-1]) {\n          str.pop();\n        }\n      } else if (addEOFNL) {\n        str.push('');\n      }\n      return str.join('\\n');\n    },\n\n    convertChangesToXML: function(changes){\n      var ret = [];\n      for ( var i = 0; i < changes.length; i++) {\n        var change = changes[i];\n        if (change.added) {\n          ret.push('<ins>');\n        } else if (change.removed) {\n          ret.push('<del>');\n        }\n\n        ret.push(escapeHTML(change.value));\n\n        if (change.added) {\n          ret.push('</ins>');\n        } else if (change.removed) {\n          ret.push('</del>');\n        }\n      }\n      return ret.join('');\n    },\n\n    // See: http://code.google.com/p/google-diff-match-patch/wiki/API\n    convertChangesToDMP: function(changes){\n      var ret = [], change;\n      for ( var i = 0; i < changes.length; i++) {\n        change = changes[i];\n        ret.push([(change.added ? 1 : change.removed ? -1 : 0), change.value]);\n      }\n      return ret;\n    }\n  };\n})();\n\nif (typeof module !== 'undefined') {\n    module.exports = JsDiff;\n}\n\n}); // module: browser/diff.js\n\nrequire.register(\"browser/escape-string-regexp.js\", function(module, exports, require){\n'use strict';\n\nvar matchOperatorsRe = /[|\\\\{}()[\\]^$+*?.]/g;\n\nmodule.exports = function (str) {\n  if (typeof str !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  return str.replace(matchOperatorsRe,  '\\\\$&');\n};\n\n}); // module: browser/escape-string-regexp.js\n\nrequire.register(\"browser/events.js\", function(module, exports, require){\n/**\n * Module exports.\n */\n\nexports.EventEmitter = EventEmitter;\n\n/**\n * Check if `obj` is an array.\n */\n\nfunction isArray(obj) {\n  return '[object Array]' == {}.toString.call(obj);\n}\n\n/**\n * Event emitter constructor.\n *\n * @api public\n */\n\nfunction EventEmitter(){};\n\n/**\n * Adds a listener.\n *\n * @api public\n */\n\nEventEmitter.prototype.on = function (name, fn) {\n  if (!this.$events) {\n    this.$events = {};\n  }\n\n  if (!this.$events[name]) {\n    this.$events[name] = fn;\n  } else if (isArray(this.$events[name])) {\n    this.$events[name].push(fn);\n  } else {\n    this.$events[name] = [this.$events[name], fn];\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n/**\n * Adds a volatile listener.\n *\n * @api public\n */\n\nEventEmitter.prototype.once = function (name, fn) {\n  var self = this;\n\n  function on () {\n    self.removeListener(name, on);\n    fn.apply(this, arguments);\n  };\n\n  on.listener = fn;\n  this.on(name, on);\n\n  return this;\n};\n\n/**\n * Removes a listener.\n *\n * @api public\n */\n\nEventEmitter.prototype.removeListener = function (name, fn) {\n  if (this.$events && this.$events[name]) {\n    var list = this.$events[name];\n\n    if (isArray(list)) {\n      var pos = -1;\n\n      for (var i = 0, l = list.length; i < l; i++) {\n        if (list[i] === fn || (list[i].listener && list[i].listener === fn)) {\n          pos = i;\n          break;\n        }\n      }\n\n      if (pos < 0) {\n        return this;\n      }\n\n      list.splice(pos, 1);\n\n      if (!list.length) {\n        delete this.$events[name];\n      }\n    } else if (list === fn || (list.listener && list.listener === fn)) {\n      delete this.$events[name];\n    }\n  }\n\n  return this;\n};\n\n/**\n * Removes all listeners for an event.\n *\n * @api public\n */\n\nEventEmitter.prototype.removeAllListeners = function (name) {\n  if (name === undefined) {\n    this.$events = {};\n    return this;\n  }\n\n  if (this.$events && this.$events[name]) {\n    this.$events[name] = null;\n  }\n\n  return this;\n};\n\n/**\n * Gets all listeners for a certain event.\n *\n * @api public\n */\n\nEventEmitter.prototype.listeners = function (name) {\n  if (!this.$events) {\n    this.$events = {};\n  }\n\n  if (!this.$events[name]) {\n    this.$events[name] = [];\n  }\n\n  if (!isArray(this.$events[name])) {\n    this.$events[name] = [this.$events[name]];\n  }\n\n  return this.$events[name];\n};\n\n/**\n * Emits an event.\n *\n * @api public\n */\n\nEventEmitter.prototype.emit = function (name) {\n  if (!this.$events) {\n    return false;\n  }\n\n  var handler = this.$events[name];\n\n  if (!handler) {\n    return false;\n  }\n\n  var args = [].slice.call(arguments, 1);\n\n  if ('function' == typeof handler) {\n    handler.apply(this, args);\n  } else if (isArray(handler)) {\n    var listeners = handler.slice();\n\n    for (var i = 0, l = listeners.length; i < l; i++) {\n      listeners[i].apply(this, args);\n    }\n  } else {\n    return false;\n  }\n\n  return true;\n};\n\n}); // module: browser/events.js\n\nrequire.register(\"browser/fs.js\", function(module, exports, require){\n\n}); // module: browser/fs.js\n\nrequire.register(\"browser/glob.js\", function(module, exports, require){\n\n}); // module: browser/glob.js\n\nrequire.register(\"browser/path.js\", function(module, exports, require){\n\n}); // module: browser/path.js\n\nrequire.register(\"browser/progress.js\", function(module, exports, require){\n/**\n * Expose `Progress`.\n */\n\nmodule.exports = Progress;\n\n/**\n * Initialize a new `Progress` indicator.\n */\n\nfunction Progress() {\n  this.percent = 0;\n  this.size(0);\n  this.fontSize(11);\n  this.font('helvetica, arial, sans-serif');\n}\n\n/**\n * Set progress size to `n`.\n *\n * @param {Number} n\n * @return {Progress} for chaining\n * @api public\n */\n\nProgress.prototype.size = function(n){\n  this._size = n;\n  return this;\n};\n\n/**\n * Set text to `str`.\n *\n * @param {String} str\n * @return {Progress} for chaining\n * @api public\n */\n\nProgress.prototype.text = function(str){\n  this._text = str;\n  return this;\n};\n\n/**\n * Set font size to `n`.\n *\n * @param {Number} n\n * @return {Progress} for chaining\n * @api public\n */\n\nProgress.prototype.fontSize = function(n){\n  this._fontSize = n;\n  return this;\n};\n\n/**\n * Set font `family`.\n *\n * @param {String} family\n * @return {Progress} for chaining\n */\n\nProgress.prototype.font = function(family){\n  this._font = family;\n  return this;\n};\n\n/**\n * Update percentage to `n`.\n *\n * @param {Number} n\n * @return {Progress} for chaining\n */\n\nProgress.prototype.update = function(n){\n  this.percent = n;\n  return this;\n};\n\n/**\n * Draw on `ctx`.\n *\n * @param {CanvasRenderingContext2d} ctx\n * @return {Progress} for chaining\n */\n\nProgress.prototype.draw = function(ctx){\n  try {\n    var percent = Math.min(this.percent, 100)\n      , size = this._size\n      , half = size / 2\n      , x = half\n      , y = half\n      , rad = half - 1\n      , fontSize = this._fontSize;\n\n    ctx.font = fontSize + 'px ' + this._font;\n\n    var angle = Math.PI * 2 * (percent / 100);\n    ctx.clearRect(0, 0, size, size);\n\n    // outer circle\n    ctx.strokeStyle = '#9f9f9f';\n    ctx.beginPath();\n    ctx.arc(x, y, rad, 0, angle, false);\n    ctx.stroke();\n\n    // inner circle\n    ctx.strokeStyle = '#eee';\n    ctx.beginPath();\n    ctx.arc(x, y, rad - 1, 0, angle, true);\n    ctx.stroke();\n\n    // text\n    var text = this._text || (percent | 0) + '%'\n      , w = ctx.measureText(text).width;\n\n    ctx.fillText(\n        text\n      , x - w / 2 + 1\n      , y + fontSize / 2 - 1);\n  } catch (ex) {} //don't fail if we can't render progress\n  return this;\n};\n\n}); // module: browser/progress.js\n\nrequire.register(\"browser/tty.js\", function(module, exports, require){\nexports.isatty = function(){\n  return true;\n};\n\nexports.getWindowSize = function(){\n  if ('innerHeight' in global) {\n    return [global.innerHeight, global.innerWidth];\n  } else {\n    // In a Web Worker, the DOM Window is not available.\n    return [640, 480];\n  }\n};\n\n}); // module: browser/tty.js\n\nrequire.register(\"context.js\", function(module, exports, require){\n/**\n * Expose `Context`.\n */\n\nmodule.exports = Context;\n\n/**\n * Initialize a new `Context`.\n *\n * @api private\n */\n\nfunction Context(){}\n\n/**\n * Set or get the context `Runnable` to `runnable`.\n *\n * @param {Runnable} runnable\n * @return {Context}\n * @api private\n */\n\nContext.prototype.runnable = function(runnable){\n  if (0 == arguments.length) return this._runnable;\n  this.test = this._runnable = runnable;\n  return this;\n};\n\n/**\n * Set test timeout `ms`.\n *\n * @param {Number} ms\n * @return {Context} self\n * @api private\n */\n\nContext.prototype.timeout = function(ms){\n  if (arguments.length === 0) return this.runnable().timeout();\n  this.runnable().timeout(ms);\n  return this;\n};\n\n/**\n * Set test timeout `enabled`.\n *\n * @param {Boolean} enabled\n * @return {Context} self\n * @api private\n */\n\nContext.prototype.enableTimeouts = function (enabled) {\n  this.runnable().enableTimeouts(enabled);\n  return this;\n};\n\n\n/**\n * Set test slowness threshold `ms`.\n *\n * @param {Number} ms\n * @return {Context} self\n * @api private\n */\n\nContext.prototype.slow = function(ms){\n  this.runnable().slow(ms);\n  return this;\n};\n\n/**\n * Inspect the context void of `._runnable`.\n *\n * @return {String}\n * @api private\n */\n\nContext.prototype.inspect = function(){\n  return JSON.stringify(this, function(key, val){\n    if ('_runnable' == key) return;\n    if ('test' == key) return;\n    return val;\n  }, 2);\n};\n\n}); // module: context.js\n\nrequire.register(\"hook.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Runnable = require('./runnable');\n\n/**\n * Expose `Hook`.\n */\n\nmodule.exports = Hook;\n\n/**\n * Initialize a new `Hook` with the given `title` and callback `fn`.\n *\n * @param {String} title\n * @param {Function} fn\n * @api private\n */\n\nfunction Hook(title, fn) {\n  Runnable.call(this, title, fn);\n  this.type = 'hook';\n}\n\n/**\n * Inherit from `Runnable.prototype`.\n */\n\nfunction F(){};\nF.prototype = Runnable.prototype;\nHook.prototype = new F;\nHook.prototype.constructor = Hook;\n\n\n/**\n * Get or set the test `err`.\n *\n * @param {Error} err\n * @return {Error}\n * @api public\n */\n\nHook.prototype.error = function(err){\n  if (0 == arguments.length) {\n    var err = this._error;\n    this._error = null;\n    return err;\n  }\n\n  this._error = err;\n};\n\n}); // module: hook.js\n\nrequire.register(\"interfaces/bdd.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Suite = require('../suite')\n  , Test = require('../test')\n  , utils = require('../utils')\n  , escapeRe = require('browser/escape-string-regexp');\n\n/**\n * BDD-style interface:\n *\n *      describe('Array', function(){\n *        describe('#indexOf()', function(){\n *          it('should return -1 when not present', function(){\n *\n *          });\n *\n *          it('should return the index when present', function(){\n *\n *          });\n *        });\n *      });\n *\n */\n\nmodule.exports = function(suite){\n  var suites = [suite];\n\n  suite.on('pre-require', function(context, file, mocha){\n\n    /**\n     * Execute before running tests.\n     */\n\n    context.before = function(name, fn){\n      suites[0].beforeAll(name, fn);\n    };\n\n    /**\n     * Execute after running tests.\n     */\n\n    context.after = function(name, fn){\n      suites[0].afterAll(name, fn);\n    };\n\n    /**\n     * Execute before each test case.\n     */\n\n    context.beforeEach = function(name, fn){\n      suites[0].beforeEach(name, fn);\n    };\n\n    /**\n     * Execute after each test case.\n     */\n\n    context.afterEach = function(name, fn){\n      suites[0].afterEach(name, fn);\n    };\n\n    /**\n     * Describe a \"suite\" with the given `title`\n     * and callback `fn` containing nested suites\n     * and/or tests.\n     */\n\n    context.describe = context.context = function(title, fn){\n      var suite = Suite.create(suites[0], title);\n      suite.file = file;\n      suites.unshift(suite);\n      fn.call(suite);\n      suites.shift();\n      return suite;\n    };\n\n    /**\n     * Pending describe.\n     */\n\n    context.xdescribe =\n    context.xcontext =\n    context.describe.skip = function(title, fn){\n      var suite = Suite.create(suites[0], title);\n      suite.pending = true;\n      suites.unshift(suite);\n      fn.call(suite);\n      suites.shift();\n    };\n\n    /**\n     * Exclusive suite.\n     */\n\n    context.describe.only = function(title, fn){\n      var suite = context.describe(title, fn);\n      mocha.grep(suite.fullTitle());\n      return suite;\n    };\n\n    /**\n     * Describe a specification or test-case\n     * with the given `title` and callback `fn`\n     * acting as a thunk.\n     */\n\n    context.it = context.specify = function(title, fn){\n      var suite = suites[0];\n      if (suite.pending) fn = null;\n      var test = new Test(title, fn);\n      test.file = file;\n      suite.addTest(test);\n      return test;\n    };\n\n    /**\n     * Exclusive test-case.\n     */\n\n    context.it.only = function(title, fn){\n      var test = context.it(title, fn);\n      var reString = '^' + escapeRe(test.fullTitle()) + '$';\n      mocha.grep(new RegExp(reString));\n      return test;\n    };\n\n    /**\n     * Pending test case.\n     */\n\n    context.xit =\n    context.xspecify =\n    context.it.skip = function(title){\n      context.it(title);\n    };\n  });\n};\n\n}); // module: interfaces/bdd.js\n\nrequire.register(\"interfaces/exports.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Suite = require('../suite')\n  , Test = require('../test');\n\n/**\n * TDD-style interface:\n *\n *     exports.Array = {\n *       '#indexOf()': {\n *         'should return -1 when the value is not present': function(){\n *\n *         },\n *\n *         'should return the correct index when the value is present': function(){\n *\n *         }\n *       }\n *     };\n *\n */\n\nmodule.exports = function(suite){\n  var suites = [suite];\n\n  suite.on('require', visit);\n\n  function visit(obj, file) {\n    var suite;\n    for (var key in obj) {\n      if ('function' == typeof obj[key]) {\n        var fn = obj[key];\n        switch (key) {\n          case 'before':\n            suites[0].beforeAll(fn);\n            break;\n          case 'after':\n            suites[0].afterAll(fn);\n            break;\n          case 'beforeEach':\n            suites[0].beforeEach(fn);\n            break;\n          case 'afterEach':\n            suites[0].afterEach(fn);\n            break;\n          default:\n            var test = new Test(key, fn);\n            test.file = file;\n            suites[0].addTest(test);\n        }\n      } else {\n        suite = Suite.create(suites[0], key);\n        suites.unshift(suite);\n        visit(obj[key]);\n        suites.shift();\n      }\n    }\n  }\n};\n\n}); // module: interfaces/exports.js\n\nrequire.register(\"interfaces/index.js\", function(module, exports, require){\nexports.bdd = require('./bdd');\nexports.tdd = require('./tdd');\nexports.qunit = require('./qunit');\nexports.exports = require('./exports');\n\n}); // module: interfaces/index.js\n\nrequire.register(\"interfaces/qunit.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Suite = require('../suite')\n  , Test = require('../test')\n  , escapeRe = require('browser/escape-string-regexp')\n  , utils = require('../utils');\n\n/**\n * QUnit-style interface:\n *\n *     suite('Array');\n *\n *     test('#length', function(){\n *       var arr = [1,2,3];\n *       ok(arr.length == 3);\n *     });\n *\n *     test('#indexOf()', function(){\n *       var arr = [1,2,3];\n *       ok(arr.indexOf(1) == 0);\n *       ok(arr.indexOf(2) == 1);\n *       ok(arr.indexOf(3) == 2);\n *     });\n *\n *     suite('String');\n *\n *     test('#length', function(){\n *       ok('foo'.length == 3);\n *     });\n *\n */\n\nmodule.exports = function(suite){\n  var suites = [suite];\n\n  suite.on('pre-require', function(context, file, mocha){\n\n    /**\n     * Execute before running tests.\n     */\n\n    context.before = function(name, fn){\n      suites[0].beforeAll(name, fn);\n    };\n\n    /**\n     * Execute after running tests.\n     */\n\n    context.after = function(name, fn){\n      suites[0].afterAll(name, fn);\n    };\n\n    /**\n     * Execute before each test case.\n     */\n\n    context.beforeEach = function(name, fn){\n      suites[0].beforeEach(name, fn);\n    };\n\n    /**\n     * Execute after each test case.\n     */\n\n    context.afterEach = function(name, fn){\n      suites[0].afterEach(name, fn);\n    };\n\n    /**\n     * Describe a \"suite\" with the given `title`.\n     */\n\n    context.suite = function(title){\n      if (suites.length > 1) suites.shift();\n      var suite = Suite.create(suites[0], title);\n      suite.file = file;\n      suites.unshift(suite);\n      return suite;\n    };\n\n    /**\n     * Exclusive test-case.\n     */\n\n    context.suite.only = function(title, fn){\n      var suite = context.suite(title, fn);\n      mocha.grep(suite.fullTitle());\n    };\n\n    /**\n     * Describe a specification or test-case\n     * with the given `title` and callback `fn`\n     * acting as a thunk.\n     */\n\n    context.test = function(title, fn){\n      var test = new Test(title, fn);\n      test.file = file;\n      suites[0].addTest(test);\n      return test;\n    };\n\n    /**\n     * Exclusive test-case.\n     */\n\n    context.test.only = function(title, fn){\n      var test = context.test(title, fn);\n      var reString = '^' + escapeRe(test.fullTitle()) + '$';\n      mocha.grep(new RegExp(reString));\n    };\n\n    /**\n     * Pending test case.\n     */\n\n    context.test.skip = function(title){\n      context.test(title);\n    };\n  });\n};\n\n}); // module: interfaces/qunit.js\n\nrequire.register(\"interfaces/tdd.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Suite = require('../suite')\n  , Test = require('../test')\n  , escapeRe = require('browser/escape-string-regexp')\n  , utils = require('../utils');\n\n/**\n * TDD-style interface:\n *\n *      suite('Array', function(){\n *        suite('#indexOf()', function(){\n *          suiteSetup(function(){\n *\n *          });\n *\n *          test('should return -1 when not present', function(){\n *\n *          });\n *\n *          test('should return the index when present', function(){\n *\n *          });\n *\n *          suiteTeardown(function(){\n *\n *          });\n *        });\n *      });\n *\n */\n\nmodule.exports = function(suite){\n  var suites = [suite];\n\n  suite.on('pre-require', function(context, file, mocha){\n\n    /**\n     * Execute before each test case.\n     */\n\n    context.setup = function(name, fn){\n      suites[0].beforeEach(name, fn);\n    };\n\n    /**\n     * Execute after each test case.\n     */\n\n    context.teardown = function(name, fn){\n      suites[0].afterEach(name, fn);\n    };\n\n    /**\n     * Execute before the suite.\n     */\n\n    context.suiteSetup = function(name, fn){\n      suites[0].beforeAll(name, fn);\n    };\n\n    /**\n     * Execute after the suite.\n     */\n\n    context.suiteTeardown = function(name, fn){\n      suites[0].afterAll(name, fn);\n    };\n\n    /**\n     * Describe a \"suite\" with the given `title`\n     * and callback `fn` containing nested suites\n     * and/or tests.\n     */\n\n    context.suite = function(title, fn){\n      var suite = Suite.create(suites[0], title);\n      suite.file = file;\n      suites.unshift(suite);\n      fn.call(suite);\n      suites.shift();\n      return suite;\n    };\n\n    /**\n     * Pending suite.\n     */\n    context.suite.skip = function(title, fn) {\n      var suite = Suite.create(suites[0], title);\n      suite.pending = true;\n      suites.unshift(suite);\n      fn.call(suite);\n      suites.shift();\n    };\n\n    /**\n     * Exclusive test-case.\n     */\n\n    context.suite.only = function(title, fn){\n      var suite = context.suite(title, fn);\n      mocha.grep(suite.fullTitle());\n    };\n\n    /**\n     * Describe a specification or test-case\n     * with the given `title` and callback `fn`\n     * acting as a thunk.\n     */\n\n    context.test = function(title, fn){\n      var suite = suites[0];\n      if (suite.pending) fn = null;\n      var test = new Test(title, fn);\n      test.file = file;\n      suite.addTest(test);\n      return test;\n    };\n\n    /**\n     * Exclusive test-case.\n     */\n\n    context.test.only = function(title, fn){\n      var test = context.test(title, fn);\n      var reString = '^' + escapeRe(test.fullTitle()) + '$';\n      mocha.grep(new RegExp(reString));\n    };\n\n    /**\n     * Pending test case.\n     */\n\n    context.test.skip = function(title){\n      context.test(title);\n    };\n  });\n};\n\n}); // module: interfaces/tdd.js\n\nrequire.register(\"mocha.js\", function(module, exports, require){\n/*!\n * mocha\n * Copyright(c) 2011 TJ Holowaychuk <tj@vision-media.ca>\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\n\nvar path = require('browser/path')\n  , escapeRe = require('browser/escape-string-regexp')\n  , utils = require('./utils');\n\n/**\n * Expose `Mocha`.\n */\n\nexports = module.exports = Mocha;\n\n/**\n * To require local UIs and reporters when running in node.\n */\n\nif (typeof process !== 'undefined' && typeof process.cwd === 'function') {\n  var join = path.join\n    , cwd = process.cwd();\n  module.paths.push(cwd, join(cwd, 'node_modules'));\n}\n\n/**\n * Expose internals.\n */\n\nexports.utils = utils;\nexports.interfaces = require('./interfaces');\nexports.reporters = require('./reporters');\nexports.Runnable = require('./runnable');\nexports.Context = require('./context');\nexports.Runner = require('./runner');\nexports.Suite = require('./suite');\nexports.Hook = require('./hook');\nexports.Test = require('./test');\n\n/**\n * Return image `name` path.\n *\n * @param {String} name\n * @return {String}\n * @api private\n */\n\nfunction image(name) {\n  return __dirname + '/../images/' + name + '.png';\n}\n\n/**\n * Setup mocha with `options`.\n *\n * Options:\n *\n *   - `ui` name \"bdd\", \"tdd\", \"exports\" etc\n *   - `reporter` reporter instance, defaults to `mocha.reporters.spec`\n *   - `globals` array of accepted globals\n *   - `timeout` timeout in milliseconds\n *   - `bail` bail on the first test failure\n *   - `slow` milliseconds to wait before considering a test slow\n *   - `ignoreLeaks` ignore global leaks\n *   - `grep` string or regexp to filter tests with\n *\n * @param {Object} options\n * @api public\n */\n\nfunction Mocha(options) {\n  options = options || {};\n  this.files = [];\n  this.options = options;\n  this.grep(options.grep);\n  this.suite = new exports.Suite('', new exports.Context);\n  this.ui(options.ui);\n  this.bail(options.bail);\n  this.reporter(options.reporter, options.reporterOptions);\n  if (null != options.timeout) this.timeout(options.timeout);\n  this.useColors(options.useColors)\n  if (options.enableTimeouts !== null) this.enableTimeouts(options.enableTimeouts);\n  if (options.slow) this.slow(options.slow);\n\n  this.suite.on('pre-require', function (context) {\n    exports.afterEach = context.afterEach || context.teardown;\n    exports.after = context.after || context.suiteTeardown;\n    exports.beforeEach = context.beforeEach || context.setup;\n    exports.before = context.before || context.suiteSetup;\n    exports.describe = context.describe || context.suite;\n    exports.it = context.it || context.test;\n    exports.setup = context.setup || context.beforeEach;\n    exports.suiteSetup = context.suiteSetup || context.before;\n    exports.suiteTeardown = context.suiteTeardown || context.after;\n    exports.suite = context.suite || context.describe;\n    exports.teardown = context.teardown || context.afterEach;\n    exports.test = context.test || context.it;\n  });\n}\n\n/**\n * Enable or disable bailing on the first failure.\n *\n * @param {Boolean} [bail]\n * @api public\n */\n\nMocha.prototype.bail = function(bail){\n  if (0 == arguments.length) bail = true;\n  this.suite.bail(bail);\n  return this;\n};\n\n/**\n * Add test `file`.\n *\n * @param {String} file\n * @api public\n */\n\nMocha.prototype.addFile = function(file){\n  this.files.push(file);\n  return this;\n};\n\n/**\n * Set reporter to `reporter`, defaults to \"spec\".\n *\n * @param {String|Function} reporter name or constructor\n * @param {Object} reporterOptions optional options\n * @api public\n */\nMocha.prototype.reporter = function(reporter, reporterOptions){\n  if ('function' == typeof reporter) {\n    this._reporter = reporter;\n  } else {\n    reporter = reporter || 'spec';\n    var _reporter;\n    try { _reporter = require('./reporters/' + reporter); } catch (err) {};\n    if (!_reporter) try { _reporter = require(reporter); } catch (err) {};\n    if (!_reporter && reporter === 'teamcity')\n      console.warn('The Teamcity reporter was moved to a package named ' +\n        'mocha-teamcity-reporter ' +\n        '(https://npmjs.org/package/mocha-teamcity-reporter).');\n    if (!_reporter) throw new Error('invalid reporter \"' + reporter + '\"');\n    this._reporter = _reporter;\n  }\n  this.options.reporterOptions = reporterOptions;\n  return this;\n};\n\n/**\n * Set test UI `name`, defaults to \"bdd\".\n *\n * @param {String} bdd\n * @api public\n */\n\nMocha.prototype.ui = function(name){\n  name = name || 'bdd';\n  this._ui = exports.interfaces[name];\n  if (!this._ui) try { this._ui = require(name); } catch (err) {};\n  if (!this._ui) throw new Error('invalid interface \"' + name + '\"');\n  this._ui = this._ui(this.suite);\n  return this;\n};\n\n/**\n * Load registered files.\n *\n * @api private\n */\n\nMocha.prototype.loadFiles = function(fn){\n  var self = this;\n  var suite = this.suite;\n  var pending = this.files.length;\n  this.files.forEach(function(file){\n    file = path.resolve(file);\n    suite.emit('pre-require', global, file, self);\n    suite.emit('require', require(file), file, self);\n    suite.emit('post-require', global, file, self);\n    --pending || (fn && fn());\n  });\n};\n\n/**\n * Enable growl support.\n *\n * @api private\n */\n\nMocha.prototype._growl = function(runner, reporter) {\n  var notify = require('growl');\n\n  runner.on('end', function(){\n    var stats = reporter.stats;\n    if (stats.failures) {\n      var msg = stats.failures + ' of ' + runner.total + ' tests failed';\n      notify(msg, { name: 'mocha', title: 'Failed', image: image('error') });\n    } else {\n      notify(stats.passes + ' tests passed in ' + stats.duration + 'ms', {\n          name: 'mocha'\n        , title: 'Passed'\n        , image: image('ok')\n      });\n    }\n  });\n};\n\n/**\n * Add regexp to grep, if `re` is a string it is escaped.\n *\n * @param {RegExp|String} re\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.grep = function(re){\n  this.options.grep = 'string' == typeof re\n    ? new RegExp(escapeRe(re))\n    : re;\n  return this;\n};\n\n/**\n * Invert `.grep()` matches.\n *\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.invert = function(){\n  this.options.invert = true;\n  return this;\n};\n\n/**\n * Ignore global leaks.\n *\n * @param {Boolean} ignore\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.ignoreLeaks = function(ignore){\n  this.options.ignoreLeaks = !!ignore;\n  return this;\n};\n\n/**\n * Enable global leak checking.\n *\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.checkLeaks = function(){\n  this.options.ignoreLeaks = false;\n  return this;\n};\n\n/**\n * Enable growl support.\n *\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.growl = function(){\n  this.options.growl = true;\n  return this;\n};\n\n/**\n * Ignore `globals` array or string.\n *\n * @param {Array|String} globals\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.globals = function(globals){\n  this.options.globals = (this.options.globals || []).concat(globals);\n  return this;\n};\n\n/**\n * Emit color output.\n *\n * @param {Boolean} colors\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.useColors = function(colors){\n  if (colors !== undefined) {\n    this.options.useColors = colors;\n  }\n  return this;\n};\n\n/**\n * Use inline diffs rather than +/-.\n *\n * @param {Boolean} inlineDiffs\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.useInlineDiffs = function(inlineDiffs) {\n  this.options.useInlineDiffs = arguments.length && inlineDiffs != undefined\n  ? inlineDiffs\n  : false;\n  return this;\n};\n\n/**\n * Set the timeout in milliseconds.\n *\n * @param {Number} timeout\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.timeout = function(timeout){\n  this.suite.timeout(timeout);\n  return this;\n};\n\n/**\n * Set slowness threshold in milliseconds.\n *\n * @param {Number} slow\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.slow = function(slow){\n  this.suite.slow(slow);\n  return this;\n};\n\n/**\n * Enable timeouts.\n *\n * @param {Boolean} enabled\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.enableTimeouts = function(enabled) {\n  this.suite.enableTimeouts(arguments.length && enabled !== undefined\n    ? enabled\n    : true);\n  return this\n};\n\n/**\n * Makes all tests async (accepting a callback)\n *\n * @return {Mocha}\n * @api public\n */\n\nMocha.prototype.asyncOnly = function(){\n  this.options.asyncOnly = true;\n  return this;\n};\n\n/**\n * Disable syntax highlighting (in browser).\n * @returns {Mocha}\n * @api public\n */\nMocha.prototype.noHighlighting = function() {\n  this.options.noHighlighting = true;\n  return this;\n};\n\n/**\n * Run tests and invoke `fn()` when complete.\n *\n * @param {Function} fn\n * @return {Runner}\n * @api public\n */\n\nMocha.prototype.run = function(fn){\n  if (this.files.length) this.loadFiles();\n  var suite = this.suite;\n  var options = this.options;\n  options.files = this.files;\n  var runner = new exports.Runner(suite);\n  var reporter = new this._reporter(runner, options);\n  runner.ignoreLeaks = false !== options.ignoreLeaks;\n  runner.asyncOnly = options.asyncOnly;\n  if (options.grep) runner.grep(options.grep, options.invert);\n  if (options.globals) runner.globals(options.globals);\n  if (options.growl) this._growl(runner, reporter);\n  if (options.useColors !== undefined) {\n    exports.reporters.Base.useColors = options.useColors;\n  }\n  exports.reporters.Base.inlineDiffs = options.useInlineDiffs;\n\n  function done(failures) {\n      if (reporter.done) {\n          reporter.done(failures, fn);\n      } else {\n          fn(failures);\n      }\n  }\n\n  return runner.run(done);\n};\n\n}); // module: mocha.js\n\nrequire.register(\"ms.js\", function(module, exports, require){\n/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} options\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options){\n  options = options || {};\n  if ('string' == typeof val) return parse(val);\n  return options['long'] ? longFormat(val) : shortFormat(val);\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  var match = /^((?:\\d+)?\\.?\\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(str);\n  if (!match) return;\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 's':\n      return n * s;\n    case 'ms':\n      return n;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction shortFormat(ms) {\n  if (ms >= d) return Math.round(ms / d) + 'd';\n  if (ms >= h) return Math.round(ms / h) + 'h';\n  if (ms >= m) return Math.round(ms / m) + 'm';\n  if (ms >= s) return Math.round(ms / s) + 's';\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction longFormat(ms) {\n  return plural(ms, d, 'day')\n    || plural(ms, h, 'hour')\n    || plural(ms, m, 'minute')\n    || plural(ms, s, 'second')\n    || ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) return;\n  if (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n\n}); // module: ms.js\n\nrequire.register(\"reporters/base.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar tty = require('browser/tty')\n  , diff = require('browser/diff')\n  , ms = require('../ms')\n  , utils = require('../utils');\n\n/**\n * Save timer references to avoid Sinon interfering (see GH-237).\n */\n\nvar Date = global.Date\n  , setTimeout = global.setTimeout\n  , setInterval = global.setInterval\n  , clearTimeout = global.clearTimeout\n  , clearInterval = global.clearInterval;\n\n/**\n * Check if both stdio streams are associated with a tty.\n */\n\nvar isatty = tty.isatty(1) && tty.isatty(2);\n\n/**\n * Expose `Base`.\n */\n\nexports = module.exports = Base;\n\n/**\n * Enable coloring by default.\n */\n\nexports.useColors = isatty || (process.env.MOCHA_COLORS !== undefined);\n\n/**\n * Inline diffs instead of +/-\n */\n\nexports.inlineDiffs = false;\n\n/**\n * Default color map.\n */\n\nexports.colors = {\n    'pass': 90\n  , 'fail': 31\n  , 'bright pass': 92\n  , 'bright fail': 91\n  , 'bright yellow': 93\n  , 'pending': 36\n  , 'suite': 0\n  , 'error title': 0\n  , 'error message': 31\n  , 'error stack': 90\n  , 'checkmark': 32\n  , 'fast': 90\n  , 'medium': 33\n  , 'slow': 31\n  , 'green': 32\n  , 'light': 90\n  , 'diff gutter': 90\n  , 'diff added': 42\n  , 'diff removed': 41\n};\n\n/**\n * Default symbol map.\n */\n\nexports.symbols = {\n  ok: '✓',\n  err: '✖',\n  dot: '․'\n};\n\n// With node.js on Windows: use symbols available in terminal default fonts\nif ('win32' == process.platform) {\n  exports.symbols.ok = '\\u221A';\n  exports.symbols.err = '\\u00D7';\n  exports.symbols.dot = '.';\n}\n\n/**\n * Color `str` with the given `type`,\n * allowing colors to be disabled,\n * as well as user-defined color\n * schemes.\n *\n * @param {String} type\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nvar color = exports.color = function(type, str) {\n  if (!exports.useColors) return String(str);\n  return '\\u001b[' + exports.colors[type] + 'm' + str + '\\u001b[0m';\n};\n\n/**\n * Expose term window size, with some\n * defaults for when stderr is not a tty.\n */\n\nexports.window = {\n  width: isatty\n    ? process.stdout.getWindowSize\n      ? process.stdout.getWindowSize(1)[0]\n      : tty.getWindowSize()[1]\n    : 75\n};\n\n/**\n * Expose some basic cursor interactions\n * that are common among reporters.\n */\n\nexports.cursor = {\n  hide: function(){\n    isatty && process.stdout.write('\\u001b[?25l');\n  },\n\n  show: function(){\n    isatty && process.stdout.write('\\u001b[?25h');\n  },\n\n  deleteLine: function(){\n    isatty && process.stdout.write('\\u001b[2K');\n  },\n\n  beginningOfLine: function(){\n    isatty && process.stdout.write('\\u001b[0G');\n  },\n\n  CR: function(){\n    if (isatty) {\n      exports.cursor.deleteLine();\n      exports.cursor.beginningOfLine();\n    } else {\n      process.stdout.write('\\r');\n    }\n  }\n};\n\n/**\n * Outut the given `failures` as a list.\n *\n * @param {Array} failures\n * @api public\n */\n\nexports.list = function(failures){\n  console.log();\n  failures.forEach(function(test, i){\n    // format\n    var fmt = color('error title', '  %s) %s:\\n')\n      + color('error message', '     %s')\n      + color('error stack', '\\n%s\\n');\n\n    // msg\n    var err = test.err\n      , message = err.message || ''\n      , stack = err.stack || message\n      , index = stack.indexOf(message) + message.length\n      , msg = stack.slice(0, index)\n      , actual = err.actual\n      , expected = err.expected\n      , escape = true;\n\n    // uncaught\n    if (err.uncaught) {\n      msg = 'Uncaught ' + msg;\n    }\n\n    // explicitly show diff\n    if (err.showDiff && sameType(actual, expected)) {\n\n      if ('string' !== typeof actual) {\n        escape = false;\n        err.actual = actual = utils.stringify(actual);\n        err.expected = expected = utils.stringify(expected);\n      }\n\n      fmt = color('error title', '  %s) %s:\\n%s') + color('error stack', '\\n%s\\n');\n      var match = message.match(/^([^:]+): expected/);\n      msg = '\\n      ' + color('error message', match ? match[1] : msg);\n\n      if (exports.inlineDiffs) {\n        msg += inlineDiff(err, escape);\n      } else {\n        msg += unifiedDiff(err, escape);\n      }\n    }\n\n    // indent stack trace without msg\n    stack = stack.slice(index ? index + 1 : index)\n      .replace(/^/gm, '  ');\n\n    console.log(fmt, (i + 1), test.fullTitle(), msg, stack);\n  });\n};\n\n/**\n * Initialize a new `Base` reporter.\n *\n * All other reporters generally\n * inherit from this reporter, providing\n * stats such as test duration, number\n * of tests passed / failed etc.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction Base(runner) {\n  var self = this\n    , stats = this.stats = { suites: 0, tests: 0, passes: 0, pending: 0, failures: 0 }\n    , failures = this.failures = [];\n\n  if (!runner) return;\n  this.runner = runner;\n\n  runner.stats = stats;\n\n  runner.on('start', function(){\n    stats.start = new Date;\n  });\n\n  runner.on('suite', function(suite){\n    stats.suites = stats.suites || 0;\n    suite.root || stats.suites++;\n  });\n\n  runner.on('test end', function(test){\n    stats.tests = stats.tests || 0;\n    stats.tests++;\n  });\n\n  runner.on('pass', function(test){\n    stats.passes = stats.passes || 0;\n\n    var medium = test.slow() / 2;\n    test.speed = test.duration > test.slow()\n      ? 'slow'\n      : test.duration > medium\n        ? 'medium'\n        : 'fast';\n\n    stats.passes++;\n  });\n\n  runner.on('fail', function(test, err){\n    stats.failures = stats.failures || 0;\n    stats.failures++;\n    test.err = err;\n    failures.push(test);\n  });\n\n  runner.on('end', function(){\n    stats.end = new Date;\n    stats.duration = new Date - stats.start;\n  });\n\n  runner.on('pending', function(){\n    stats.pending++;\n  });\n}\n\n/**\n * Output common epilogue used by many of\n * the bundled reporters.\n *\n * @api public\n */\n\nBase.prototype.epilogue = function(){\n  var stats = this.stats;\n  var tests;\n  var fmt;\n\n  console.log();\n\n  // passes\n  fmt = color('bright pass', ' ')\n    + color('green', ' %d passing')\n    + color('light', ' (%s)');\n\n  console.log(fmt,\n    stats.passes || 0,\n    ms(stats.duration));\n\n  // pending\n  if (stats.pending) {\n    fmt = color('pending', ' ')\n      + color('pending', ' %d pending');\n\n    console.log(fmt, stats.pending);\n  }\n\n  // failures\n  if (stats.failures) {\n    fmt = color('fail', '  %d failing');\n\n    console.log(fmt, stats.failures);\n\n    Base.list(this.failures);\n    console.log();\n  }\n\n  console.log();\n};\n\n/**\n * Pad the given `str` to `len`.\n *\n * @param {String} str\n * @param {String} len\n * @return {String}\n * @api private\n */\n\nfunction pad(str, len) {\n  str = String(str);\n  return Array(len - str.length + 1).join(' ') + str;\n}\n\n\n/**\n * Returns an inline diff between 2 strings with coloured ANSI output\n *\n * @param {Error} Error with actual/expected\n * @return {String} Diff\n * @api private\n */\n\nfunction inlineDiff(err, escape) {\n  var msg = errorDiff(err, 'WordsWithSpace', escape);\n\n  // linenos\n  var lines = msg.split('\\n');\n  if (lines.length > 4) {\n    var width = String(lines.length).length;\n    msg = lines.map(function(str, i){\n      return pad(++i, width) + ' |' + ' ' + str;\n    }).join('\\n');\n  }\n\n  // legend\n  msg = '\\n'\n    + color('diff removed', 'actual')\n    + ' '\n    + color('diff added', 'expected')\n    + '\\n\\n'\n    + msg\n    + '\\n';\n\n  // indent\n  msg = msg.replace(/^/gm, '      ');\n  return msg;\n}\n\n/**\n * Returns a unified diff between 2 strings\n *\n * @param {Error} Error with actual/expected\n * @return {String} Diff\n * @api private\n */\n\nfunction unifiedDiff(err, escape) {\n  var indent = '      ';\n  function cleanUp(line) {\n    if (escape) {\n      line = escapeInvisibles(line);\n    }\n    if (line[0] === '+') return indent + colorLines('diff added', line);\n    if (line[0] === '-') return indent + colorLines('diff removed', line);\n    if (line.match(/\\@\\@/)) return null;\n    if (line.match(/\\\\ No newline/)) return null;\n    else return indent + line;\n  }\n  function notBlank(line) {\n    return line != null;\n  }\n  msg = diff.createPatch('string', err.actual, err.expected);\n  var lines = msg.split('\\n').splice(4);\n  return '\\n      '\n         + colorLines('diff added',   '+ expected') + ' '\n         + colorLines('diff removed', '- actual')\n         + '\\n\\n'\n         + lines.map(cleanUp).filter(notBlank).join('\\n');\n}\n\n/**\n * Return a character diff for `err`.\n *\n * @param {Error} err\n * @return {String}\n * @api private\n */\n\nfunction errorDiff(err, type, escape) {\n  var actual   = escape ? escapeInvisibles(err.actual)   : err.actual;\n  var expected = escape ? escapeInvisibles(err.expected) : err.expected;\n  return diff['diff' + type](actual, expected).map(function(str){\n    if (str.added) return colorLines('diff added', str.value);\n    if (str.removed) return colorLines('diff removed', str.value);\n    return str.value;\n  }).join('');\n}\n\n/**\n * Returns a string with all invisible characters in plain text\n *\n * @param {String} line\n * @return {String}\n * @api private\n */\nfunction escapeInvisibles(line) {\n    return line.replace(/\\t/g, '<tab>')\n               .replace(/\\r/g, '<CR>')\n               .replace(/\\n/g, '<LF>\\n');\n}\n\n/**\n * Color lines for `str`, using the color `name`.\n *\n * @param {String} name\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nfunction colorLines(name, str) {\n  return str.split('\\n').map(function(str){\n    return color(name, str);\n  }).join('\\n');\n}\n\n/**\n * Check that a / b have the same type.\n *\n * @param {Object} a\n * @param {Object} b\n * @return {Boolean}\n * @api private\n */\n\nfunction sameType(a, b) {\n  a = Object.prototype.toString.call(a);\n  b = Object.prototype.toString.call(b);\n  return a == b;\n}\n\n}); // module: reporters/base.js\n\nrequire.register(\"reporters/doc.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , utils = require('../utils');\n\n/**\n * Expose `Doc`.\n */\n\nexports = module.exports = Doc;\n\n/**\n * Initialize a new `Doc` reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction Doc(runner) {\n  Base.call(this, runner);\n\n  var self = this\n    , stats = this.stats\n    , total = runner.total\n    , indents = 2;\n\n  function indent() {\n    return Array(indents).join('  ');\n  }\n\n  runner.on('suite', function(suite){\n    if (suite.root) return;\n    ++indents;\n    console.log('%s<section class=\"suite\">', indent());\n    ++indents;\n    console.log('%s<h1>%s</h1>', indent(), utils.escape(suite.title));\n    console.log('%s<dl>', indent());\n  });\n\n  runner.on('suite end', function(suite){\n    if (suite.root) return;\n    console.log('%s</dl>', indent());\n    --indents;\n    console.log('%s</section>', indent());\n    --indents;\n  });\n\n  runner.on('pass', function(test){\n    console.log('%s  <dt>%s</dt>', indent(), utils.escape(test.title));\n    var code = utils.escape(utils.clean(test.fn.toString()));\n    console.log('%s  <dd><pre><code>%s</code></pre></dd>', indent(), code);\n  });\n\n  runner.on('fail', function(test, err){\n    console.log('%s  <dt class=\"error\">%s</dt>', indent(), utils.escape(test.title));\n    var code = utils.escape(utils.clean(test.fn.toString()));\n    console.log('%s  <dd class=\"error\"><pre><code>%s</code></pre></dd>', indent(), code);\n    console.log('%s  <dd class=\"error\">%s</dd>', indent(), utils.escape(err));\n  });\n}\n\n}); // module: reporters/doc.js\n\nrequire.register(\"reporters/dot.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , color = Base.color;\n\n/**\n * Expose `Dot`.\n */\n\nexports = module.exports = Dot;\n\n/**\n * Initialize a new `Dot` matrix test reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction Dot(runner) {\n  Base.call(this, runner);\n\n  var self = this\n    , stats = this.stats\n    , width = Base.window.width * .75 | 0\n    , n = -1;\n\n  runner.on('start', function(){\n    process.stdout.write('\\n  ');\n  });\n\n  runner.on('pending', function(test){\n    if (++n % width == 0) process.stdout.write('\\n  ');\n    process.stdout.write(color('pending', Base.symbols.dot));\n  });\n\n  runner.on('pass', function(test){\n    if (++n % width == 0) process.stdout.write('\\n  ');\n    if ('slow' == test.speed) {\n      process.stdout.write(color('bright yellow', Base.symbols.dot));\n    } else {\n      process.stdout.write(color(test.speed, Base.symbols.dot));\n    }\n  });\n\n  runner.on('fail', function(test, err){\n    if (++n % width == 0) process.stdout.write('\\n  ');\n    process.stdout.write(color('fail', Base.symbols.dot));\n  });\n\n  runner.on('end', function(){\n    console.log();\n    self.epilogue();\n  });\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\n\nfunction F(){};\nF.prototype = Base.prototype;\nDot.prototype = new F;\nDot.prototype.constructor = Dot;\n\n\n}); // module: reporters/dot.js\n\nrequire.register(\"reporters/html-cov.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar JSONCov = require('./json-cov')\n  , fs = require('browser/fs');\n\n/**\n * Expose `HTMLCov`.\n */\n\nexports = module.exports = HTMLCov;\n\n/**\n * Initialize a new `JsCoverage` reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction HTMLCov(runner) {\n  var jade = require('jade')\n    , file = __dirname + '/templates/coverage.jade'\n    , str = fs.readFileSync(file, 'utf8')\n    , fn = jade.compile(str, { filename: file })\n    , self = this;\n\n  JSONCov.call(this, runner, false);\n\n  runner.on('end', function(){\n    process.stdout.write(fn({\n        cov: self.cov\n      , coverageClass: coverageClass\n    }));\n  });\n}\n\n/**\n * Return coverage class for `n`.\n *\n * @return {String}\n * @api private\n */\n\nfunction coverageClass(n) {\n  if (n >= 75) return 'high';\n  if (n >= 50) return 'medium';\n  if (n >= 25) return 'low';\n  return 'terrible';\n}\n\n}); // module: reporters/html-cov.js\n\nrequire.register(\"reporters/html.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , utils = require('../utils')\n  , Progress = require('../browser/progress')\n  , escape = utils.escape;\n\n/**\n * Save timer references to avoid Sinon interfering (see GH-237).\n */\n\nvar Date = global.Date\n  , setTimeout = global.setTimeout\n  , setInterval = global.setInterval\n  , clearTimeout = global.clearTimeout\n  , clearInterval = global.clearInterval;\n\n/**\n * Expose `HTML`.\n */\n\nexports = module.exports = HTML;\n\n/**\n * Stats template.\n */\n\nvar statsTemplate = '<ul id=\"mocha-stats\">'\n  + '<li class=\"progress\"><canvas width=\"40\" height=\"40\"></canvas></li>'\n  + '<li class=\"passes\"><a href=\"#\">passes:</a> <em>0</em></li>'\n  + '<li class=\"failures\"><a href=\"#\">failures:</a> <em>0</em></li>'\n  + '<li class=\"duration\">duration: <em>0</em>s</li>'\n  + '</ul>';\n\n/**\n * Initialize a new `HTML` reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction HTML(runner) {\n  Base.call(this, runner);\n\n  var self = this\n    , stats = this.stats\n    , total = runner.total\n    , stat = fragment(statsTemplate)\n    , items = stat.getElementsByTagName('li')\n    , passes = items[1].getElementsByTagName('em')[0]\n    , passesLink = items[1].getElementsByTagName('a')[0]\n    , failures = items[2].getElementsByTagName('em')[0]\n    , failuresLink = items[2].getElementsByTagName('a')[0]\n    , duration = items[3].getElementsByTagName('em')[0]\n    , canvas = stat.getElementsByTagName('canvas')[0]\n    , report = fragment('<ul id=\"mocha-report\"></ul>')\n    , stack = [report]\n    , progress\n    , ctx\n    , root = document.getElementById('mocha');\n\n  if (canvas.getContext) {\n    var ratio = window.devicePixelRatio || 1;\n    canvas.style.width = canvas.width;\n    canvas.style.height = canvas.height;\n    canvas.width *= ratio;\n    canvas.height *= ratio;\n    ctx = canvas.getContext('2d');\n    ctx.scale(ratio, ratio);\n    progress = new Progress;\n  }\n\n  if (!root) return error('#mocha div missing, add it to your document');\n\n  // pass toggle\n  on(passesLink, 'click', function(){\n    unhide();\n    var name = /pass/.test(report.className) ? '' : ' pass';\n    report.className = report.className.replace(/fail|pass/g, '') + name;\n    if (report.className.trim()) hideSuitesWithout('test pass');\n  });\n\n  // failure toggle\n  on(failuresLink, 'click', function(){\n    unhide();\n    var name = /fail/.test(report.className) ? '' : ' fail';\n    report.className = report.className.replace(/fail|pass/g, '') + name;\n    if (report.className.trim()) hideSuitesWithout('test fail');\n  });\n\n  root.appendChild(stat);\n  root.appendChild(report);\n\n  if (progress) progress.size(40);\n\n  runner.on('suite', function(suite){\n    if (suite.root) return;\n\n    // suite\n    var url = self.suiteURL(suite);\n    var el = fragment('<li class=\"suite\"><h1><a href=\"%s\">%s</a></h1></li>', url, escape(suite.title));\n\n    // container\n    stack[0].appendChild(el);\n    stack.unshift(document.createElement('ul'));\n    el.appendChild(stack[0]);\n  });\n\n  runner.on('suite end', function(suite){\n    if (suite.root) return;\n    stack.shift();\n  });\n\n  runner.on('fail', function(test, err){\n    if ('hook' == test.type) runner.emit('test end', test);\n  });\n\n  runner.on('test end', function(test){\n    // TODO: add to stats\n    var percent = stats.tests / this.total * 100 | 0;\n    if (progress) progress.update(percent).draw(ctx);\n\n    // update stats\n    var ms = new Date - stats.start;\n    text(passes, stats.passes);\n    text(failures, stats.failures);\n    text(duration, (ms / 1000).toFixed(2));\n\n    // test\n    if ('passed' == test.state) {\n      var url = self.testURL(test);\n      var el = fragment('<li class=\"test pass %e\"><h2>%e<span class=\"duration\">%ems</span> <a href=\"%s\" class=\"replay\">‣</a></h2></li>', test.speed, test.title, test.duration, url);\n    } else if (test.pending) {\n      var el = fragment('<li class=\"test pass pending\"><h2>%e</h2></li>', test.title);\n    } else {\n      var el = fragment('<li class=\"test fail\"><h2>%e <a href=\"%e\" class=\"replay\">‣</a></h2></li>', test.title, self.testURL(test));\n      var str = test.err.stack || test.err.toString();\n\n      // FF / Opera do not add the message\n      if (!~str.indexOf(test.err.message)) {\n        str = test.err.message + '\\n' + str;\n      }\n\n      // <=IE7 stringifies to [Object Error]. Since it can be overloaded, we\n      // check for the result of the stringifying.\n      if ('[object Error]' == str) str = test.err.message;\n\n      // Safari doesn't give you a stack. Let's at least provide a source line.\n      if (!test.err.stack && test.err.sourceURL && test.err.line !== undefined) {\n        str += \"\\n(\" + test.err.sourceURL + \":\" + test.err.line + \")\";\n      }\n\n      el.appendChild(fragment('<pre class=\"error\">%e</pre>', str));\n    }\n\n    // toggle code\n    // TODO: defer\n    if (!test.pending) {\n      var h2 = el.getElementsByTagName('h2')[0];\n\n      on(h2, 'click', function(){\n        pre.style.display = 'none' == pre.style.display\n          ? 'block'\n          : 'none';\n      });\n\n      var pre = fragment('<pre><code>%e</code></pre>', utils.clean(test.fn.toString()));\n      el.appendChild(pre);\n      pre.style.display = 'none';\n    }\n\n    // Don't call .appendChild if #mocha-report was already .shift()'ed off the stack.\n    if (stack[0]) stack[0].appendChild(el);\n  });\n}\n\n/**\n * Makes a URL, preserving querystring (\"search\") parameters.\n * @param {string} s\n * @returns {string} your new URL\n */\nvar makeUrl = function makeUrl(s) {\n  var search = window.location.search;\n  return window.location.pathname + (search ? search + '&' : '?' ) + 'grep=' + encodeURIComponent(s);\n};\n\n/**\n * Provide suite URL\n *\n * @param {Object} [suite]\n */\nHTML.prototype.suiteURL = function(suite){\n  return makeUrl(suite.fullTitle());\n};\n\n/**\n * Provide test URL\n *\n * @param {Object} [test]\n */\n\nHTML.prototype.testURL = function(test){\n  return makeUrl(test.fullTitle());\n};\n\n/**\n * Display error `msg`.\n */\n\nfunction error(msg) {\n  document.body.appendChild(fragment('<div id=\"mocha-error\">%s</div>', msg));\n}\n\n/**\n * Return a DOM fragment from `html`.\n */\n\nfunction fragment(html) {\n  var args = arguments\n    , div = document.createElement('div')\n    , i = 1;\n\n  div.innerHTML = html.replace(/%([se])/g, function(_, type){\n    switch (type) {\n      case 's': return String(args[i++]);\n      case 'e': return escape(args[i++]);\n    }\n  });\n\n  return div.firstChild;\n}\n\n/**\n * Check for suites that do not have elements\n * with `classname`, and hide them.\n */\n\nfunction hideSuitesWithout(classname) {\n  var suites = document.getElementsByClassName('suite');\n  for (var i = 0; i < suites.length; i++) {\n    var els = suites[i].getElementsByClassName(classname);\n    if (0 == els.length) suites[i].className += ' hidden';\n  }\n}\n\n/**\n * Unhide .hidden suites.\n */\n\nfunction unhide() {\n  var els = document.getElementsByClassName('suite hidden');\n  for (var i = 0; i < els.length; ++i) {\n    els[i].className = els[i].className.replace('suite hidden', 'suite');\n  }\n}\n\n/**\n * Set `el` text to `str`.\n */\n\nfunction text(el, str) {\n  if (el.textContent) {\n    el.textContent = str;\n  } else {\n    el.innerText = str;\n  }\n}\n\n/**\n * Listen on `event` with callback `fn`.\n */\n\nfunction on(el, event, fn) {\n  if (el.addEventListener) {\n    el.addEventListener(event, fn, false);\n  } else {\n    el.attachEvent('on' + event, fn);\n  }\n}\n\n}); // module: reporters/html.js\n\nrequire.register(\"reporters/index.js\", function(module, exports, require){\nexports.Base = require('./base');\nexports.Dot = require('./dot');\nexports.Doc = require('./doc');\nexports.TAP = require('./tap');\nexports.JSON = require('./json');\nexports.HTML = require('./html');\nexports.List = require('./list');\nexports.Min = require('./min');\nexports.Spec = require('./spec');\nexports.Nyan = require('./nyan');\nexports.XUnit = require('./xunit');\nexports.Markdown = require('./markdown');\nexports.Progress = require('./progress');\nexports.Landing = require('./landing');\nexports.JSONCov = require('./json-cov');\nexports.HTMLCov = require('./html-cov');\nexports.JSONStream = require('./json-stream');\n\n}); // module: reporters/index.js\n\nrequire.register(\"reporters/json-cov.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\n\n/**\n * Expose `JSONCov`.\n */\n\nexports = module.exports = JSONCov;\n\n/**\n * Initialize a new `JsCoverage` reporter.\n *\n * @param {Runner} runner\n * @param {Boolean} output\n * @api public\n */\n\nfunction JSONCov(runner, output) {\n  var self = this\n    , output = 1 == arguments.length ? true : output;\n\n  Base.call(this, runner);\n\n  var tests = []\n    , failures = []\n    , passes = [];\n\n  runner.on('test end', function(test){\n    tests.push(test);\n  });\n\n  runner.on('pass', function(test){\n    passes.push(test);\n  });\n\n  runner.on('fail', function(test){\n    failures.push(test);\n  });\n\n  runner.on('end', function(){\n    var cov = global._$jscoverage || {};\n    var result = self.cov = map(cov);\n    result.stats = self.stats;\n    result.tests = tests.map(clean);\n    result.failures = failures.map(clean);\n    result.passes = passes.map(clean);\n    if (!output) return;\n    process.stdout.write(JSON.stringify(result, null, 2 ));\n  });\n}\n\n/**\n * Map jscoverage data to a JSON structure\n * suitable for reporting.\n *\n * @param {Object} cov\n * @return {Object}\n * @api private\n */\n\nfunction map(cov) {\n  var ret = {\n      instrumentation: 'node-jscoverage'\n    , sloc: 0\n    , hits: 0\n    , misses: 0\n    , coverage: 0\n    , files: []\n  };\n\n  for (var filename in cov) {\n    var data = coverage(filename, cov[filename]);\n    ret.files.push(data);\n    ret.hits += data.hits;\n    ret.misses += data.misses;\n    ret.sloc += data.sloc;\n  }\n\n  ret.files.sort(function(a, b) {\n    return a.filename.localeCompare(b.filename);\n  });\n\n  if (ret.sloc > 0) {\n    ret.coverage = (ret.hits / ret.sloc) * 100;\n  }\n\n  return ret;\n}\n\n/**\n * Map jscoverage data for a single source file\n * to a JSON structure suitable for reporting.\n *\n * @param {String} filename name of the source file\n * @param {Object} data jscoverage coverage data\n * @return {Object}\n * @api private\n */\n\nfunction coverage(filename, data) {\n  var ret = {\n    filename: filename,\n    coverage: 0,\n    hits: 0,\n    misses: 0,\n    sloc: 0,\n    source: {}\n  };\n\n  data.source.forEach(function(line, num){\n    num++;\n\n    if (data[num] === 0) {\n      ret.misses++;\n      ret.sloc++;\n    } else if (data[num] !== undefined) {\n      ret.hits++;\n      ret.sloc++;\n    }\n\n    ret.source[num] = {\n        source: line\n      , coverage: data[num] === undefined\n        ? ''\n        : data[num]\n    };\n  });\n\n  ret.coverage = ret.hits / ret.sloc * 100;\n\n  return ret;\n}\n\n/**\n * Return a plain-object representation of `test`\n * free of cyclic properties etc.\n *\n * @param {Object} test\n * @return {Object}\n * @api private\n */\n\nfunction clean(test) {\n  return {\n      title: test.title\n    , fullTitle: test.fullTitle()\n    , duration: test.duration\n  }\n}\n\n}); // module: reporters/json-cov.js\n\nrequire.register(\"reporters/json-stream.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , color = Base.color;\n\n/**\n * Expose `List`.\n */\n\nexports = module.exports = List;\n\n/**\n * Initialize a new `List` test reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction List(runner) {\n  Base.call(this, runner);\n\n  var self = this\n    , stats = this.stats\n    , total = runner.total;\n\n  runner.on('start', function(){\n    console.log(JSON.stringify(['start', { total: total }]));\n  });\n\n  runner.on('pass', function(test){\n    console.log(JSON.stringify(['pass', clean(test)]));\n  });\n\n  runner.on('fail', function(test, err){\n    test = clean(test);\n    test.err = err.message;\n    console.log(JSON.stringify(['fail', test]));\n  });\n\n  runner.on('end', function(){\n    process.stdout.write(JSON.stringify(['end', self.stats]));\n  });\n}\n\n/**\n * Return a plain-object representation of `test`\n * free of cyclic properties etc.\n *\n * @param {Object} test\n * @return {Object}\n * @api private\n */\n\nfunction clean(test) {\n  return {\n      title: test.title\n    , fullTitle: test.fullTitle()\n    , duration: test.duration\n  }\n}\n\n}); // module: reporters/json-stream.js\n\nrequire.register(\"reporters/json.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , cursor = Base.cursor\n  , color = Base.color;\n\n/**\n * Expose `JSON`.\n */\n\nexports = module.exports = JSONReporter;\n\n/**\n * Initialize a new `JSON` reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction JSONReporter(runner) {\n  var self = this;\n  Base.call(this, runner);\n\n  var tests = []\n    , pending = []\n    , failures = []\n    , passes = [];\n\n  runner.on('test end', function(test){\n    tests.push(test);\n  });\n\n  runner.on('pass', function(test){\n    passes.push(test);\n  });\n\n  runner.on('fail', function(test){\n    failures.push(test);\n  });\n\n  runner.on('pending', function(test){\n    pending.push(test);\n  });\n\n  runner.on('end', function(){\n    var obj = {\n      stats: self.stats,\n      tests: tests.map(clean),\n      pending: pending.map(clean),\n      failures: failures.map(clean),\n      passes: passes.map(clean)\n    };\n\n    runner.testResults = obj;\n\n    process.stdout.write(JSON.stringify(obj, null, 2));\n  });\n}\n\n/**\n * Return a plain-object representation of `test`\n * free of cyclic properties etc.\n *\n * @param {Object} test\n * @return {Object}\n * @api private\n */\n\nfunction clean(test) {\n  return {\n    title: test.title,\n    fullTitle: test.fullTitle(),\n    duration: test.duration,\n    err: errorJSON(test.err || {})\n  }\n}\n\n/**\n * Transform `error` into a JSON object.\n * @param {Error} err\n * @return {Object}\n */\n\nfunction errorJSON(err) {\n  var res = {};\n  Object.getOwnPropertyNames(err).forEach(function(key) {\n    res[key] = err[key];\n  }, err);\n  return res;\n}\n\n}); // module: reporters/json.js\n\nrequire.register(\"reporters/landing.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , cursor = Base.cursor\n  , color = Base.color;\n\n/**\n * Expose `Landing`.\n */\n\nexports = module.exports = Landing;\n\n/**\n * Airplane color.\n */\n\nBase.colors.plane = 0;\n\n/**\n * Airplane crash color.\n */\n\nBase.colors['plane crash'] = 31;\n\n/**\n * Runway color.\n */\n\nBase.colors.runway = 90;\n\n/**\n * Initialize a new `Landing` reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction Landing(runner) {\n  Base.call(this, runner);\n\n  var self = this\n    , stats = this.stats\n    , width = Base.window.width * .75 | 0\n    , total = runner.total\n    , stream = process.stdout\n    , plane = color('plane', '✈')\n    , crashed = -1\n    , n = 0;\n\n  function runway() {\n    var buf = Array(width).join('-');\n    return '  ' + color('runway', buf);\n  }\n\n  runner.on('start', function(){\n    stream.write('\\n\\n\\n  ');\n    cursor.hide();\n  });\n\n  runner.on('test end', function(test){\n    // check if the plane crashed\n    var col = -1 == crashed\n      ? width * ++n / total | 0\n      : crashed;\n\n    // show the crash\n    if ('failed' == test.state) {\n      plane = color('plane crash', '✈');\n      crashed = col;\n    }\n\n    // render landing strip\n    stream.write('\\u001b['+(width+1)+'D\\u001b[2A');\n    stream.write(runway());\n    stream.write('\\n  ');\n    stream.write(color('runway', Array(col).join('⋅')));\n    stream.write(plane)\n    stream.write(color('runway', Array(width - col).join('⋅') + '\\n'));\n    stream.write(runway());\n    stream.write('\\u001b[0m');\n  });\n\n  runner.on('end', function(){\n    cursor.show();\n    console.log();\n    self.epilogue();\n  });\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\n\nfunction F(){};\nF.prototype = Base.prototype;\nLanding.prototype = new F;\nLanding.prototype.constructor = Landing;\n\n\n}); // module: reporters/landing.js\n\nrequire.register(\"reporters/list.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , cursor = Base.cursor\n  , color = Base.color;\n\n/**\n * Expose `List`.\n */\n\nexports = module.exports = List;\n\n/**\n * Initialize a new `List` test reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction List(runner) {\n  Base.call(this, runner);\n\n  var self = this\n    , stats = this.stats\n    , n = 0;\n\n  runner.on('start', function(){\n    console.log();\n  });\n\n  runner.on('test', function(test){\n    process.stdout.write(color('pass', '    ' + test.fullTitle() + ': '));\n  });\n\n  runner.on('pending', function(test){\n    var fmt = color('checkmark', '  -')\n      + color('pending', ' %s');\n    console.log(fmt, test.fullTitle());\n  });\n\n  runner.on('pass', function(test){\n    var fmt = color('checkmark', '  '+Base.symbols.dot)\n      + color('pass', ' %s: ')\n      + color(test.speed, '%dms');\n    cursor.CR();\n    console.log(fmt, test.fullTitle(), test.duration);\n  });\n\n  runner.on('fail', function(test, err){\n    cursor.CR();\n    console.log(color('fail', '  %d) %s'), ++n, test.fullTitle());\n  });\n\n  runner.on('end', self.epilogue.bind(self));\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\n\nfunction F(){};\nF.prototype = Base.prototype;\nList.prototype = new F;\nList.prototype.constructor = List;\n\n\n}); // module: reporters/list.js\n\nrequire.register(\"reporters/markdown.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , utils = require('../utils');\n\n/**\n * Constants\n */\n\nvar SUITE_PREFIX = '$';\n\n/**\n * Expose `Markdown`.\n */\n\nexports = module.exports = Markdown;\n\n/**\n * Initialize a new `Markdown` reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction Markdown(runner) {\n  Base.call(this, runner);\n\n  var self = this\n    , stats = this.stats\n    , level = 0\n    , buf = '';\n\n  function title(str) {\n    return Array(level).join('#') + ' ' + str;\n  }\n\n  function indent() {\n    return Array(level).join('  ');\n  }\n\n  function mapTOC(suite, obj) {\n    var ret = obj,\n        key = SUITE_PREFIX + suite.title;\n    obj = obj[key] = obj[key] || { suite: suite };\n    suite.suites.forEach(function(suite){\n      mapTOC(suite, obj);\n    });\n    return ret;\n  }\n\n  function stringifyTOC(obj, level) {\n    ++level;\n    var buf = '';\n    var link;\n    for (var key in obj) {\n      if ('suite' == key) continue;\n      if (key !== SUITE_PREFIX) {\n        link = ' - [' + key.substring(1) + ']';\n        link += '(#' + utils.slug(obj[key].suite.fullTitle()) + ')\\n';\n        buf += Array(level).join('  ') + link;\n      }\n      buf += stringifyTOC(obj[key], level);\n    }\n    return buf;\n  }\n\n  function generateTOC(suite) {\n    var obj = mapTOC(suite, {});\n    return stringifyTOC(obj, 0);\n  }\n\n  generateTOC(runner.suite);\n\n  runner.on('suite', function(suite){\n    ++level;\n    var slug = utils.slug(suite.fullTitle());\n    buf += '<a name=\"' + slug + '\"></a>' + '\\n';\n    buf += title(suite.title) + '\\n';\n  });\n\n  runner.on('suite end', function(suite){\n    --level;\n  });\n\n  runner.on('pass', function(test){\n    var code = utils.clean(test.fn.toString());\n    buf += test.title + '.\\n';\n    buf += '\\n```js\\n';\n    buf += code + '\\n';\n    buf += '```\\n\\n';\n  });\n\n  runner.on('end', function(){\n    process.stdout.write('# TOC\\n');\n    process.stdout.write(generateTOC(runner.suite));\n    process.stdout.write(buf);\n  });\n}\n\n}); // module: reporters/markdown.js\n\nrequire.register(\"reporters/min.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\n\n/**\n * Expose `Min`.\n */\n\nexports = module.exports = Min;\n\n/**\n * Initialize a new `Min` minimal test reporter (best used with --watch).\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction Min(runner) {\n  Base.call(this, runner);\n\n  runner.on('start', function(){\n    // clear screen\n    process.stdout.write('\\u001b[2J');\n    // set cursor position\n    process.stdout.write('\\u001b[1;3H');\n  });\n\n  runner.on('end', this.epilogue.bind(this));\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\n\nfunction F(){};\nF.prototype = Base.prototype;\nMin.prototype = new F;\nMin.prototype.constructor = Min;\n\n\n}); // module: reporters/min.js\n\nrequire.register(\"reporters/nyan.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\n\n/**\n * Expose `Dot`.\n */\n\nexports = module.exports = NyanCat;\n\n/**\n * Initialize a new `Dot` matrix test reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction NyanCat(runner) {\n  Base.call(this, runner);\n  var self = this\n    , stats = this.stats\n    , width = Base.window.width * .75 | 0\n    , rainbowColors = this.rainbowColors = self.generateColors()\n    , colorIndex = this.colorIndex = 0\n    , numerOfLines = this.numberOfLines = 4\n    , trajectories = this.trajectories = [[], [], [], []]\n    , nyanCatWidth = this.nyanCatWidth = 11\n    , trajectoryWidthMax = this.trajectoryWidthMax = (width - nyanCatWidth)\n    , scoreboardWidth = this.scoreboardWidth = 5\n    , tick = this.tick = 0\n    , n = 0;\n\n  runner.on('start', function(){\n    Base.cursor.hide();\n    self.draw();\n  });\n\n  runner.on('pending', function(test){\n    self.draw();\n  });\n\n  runner.on('pass', function(test){\n    self.draw();\n  });\n\n  runner.on('fail', function(test, err){\n    self.draw();\n  });\n\n  runner.on('end', function(){\n    Base.cursor.show();\n    for (var i = 0; i < self.numberOfLines; i++) write('\\n');\n    self.epilogue();\n  });\n}\n\n/**\n * Draw the nyan cat\n *\n * @api private\n */\n\nNyanCat.prototype.draw = function(){\n  this.appendRainbow();\n  this.drawScoreboard();\n  this.drawRainbow();\n  this.drawNyanCat();\n  this.tick = !this.tick;\n};\n\n/**\n * Draw the \"scoreboard\" showing the number\n * of passes, failures and pending tests.\n *\n * @api private\n */\n\nNyanCat.prototype.drawScoreboard = function(){\n  var stats = this.stats;\n\n  function draw(type, n) {\n    write(' ');\n    write(Base.color(type, n));\n    write('\\n');\n  }\n\n  draw('green', stats.passes);\n  draw('fail', stats.failures);\n  draw('pending', stats.pending);\n  write('\\n');\n\n  this.cursorUp(this.numberOfLines);\n};\n\n/**\n * Append the rainbow.\n *\n * @api private\n */\n\nNyanCat.prototype.appendRainbow = function(){\n  var segment = this.tick ? '_' : '-';\n  var rainbowified = this.rainbowify(segment);\n\n  for (var index = 0; index < this.numberOfLines; index++) {\n    var trajectory = this.trajectories[index];\n    if (trajectory.length >= this.trajectoryWidthMax) trajectory.shift();\n    trajectory.push(rainbowified);\n  }\n};\n\n/**\n * Draw the rainbow.\n *\n * @api private\n */\n\nNyanCat.prototype.drawRainbow = function(){\n  var self = this;\n\n  this.trajectories.forEach(function(line, index) {\n    write('\\u001b[' + self.scoreboardWidth + 'C');\n    write(line.join(''));\n    write('\\n');\n  });\n\n  this.cursorUp(this.numberOfLines);\n};\n\n/**\n * Draw the nyan cat\n *\n * @api private\n */\n\nNyanCat.prototype.drawNyanCat = function() {\n  var self = this;\n  var startWidth = this.scoreboardWidth + this.trajectories[0].length;\n  var dist = '\\u001b[' + startWidth + 'C';\n  var padding = '';\n\n  write(dist);\n  write('_,------,');\n  write('\\n');\n\n  write(dist);\n  padding = self.tick ? '  ' : '   ';\n  write('_|' + padding + '/\\\\_/\\\\ ');\n  write('\\n');\n\n  write(dist);\n  padding = self.tick ? '_' : '__';\n  var tail = self.tick ? '~' : '^';\n  var face;\n  write(tail + '|' + padding + this.face() + ' ');\n  write('\\n');\n\n  write(dist);\n  padding = self.tick ? ' ' : '  ';\n  write(padding + '\"\"  \"\" ');\n  write('\\n');\n\n  this.cursorUp(this.numberOfLines);\n};\n\n/**\n * Draw nyan cat face.\n *\n * @return {String}\n * @api private\n */\n\nNyanCat.prototype.face = function() {\n  var stats = this.stats;\n  if (stats.failures) {\n    return '( x .x)';\n  } else if (stats.pending) {\n    return '( o .o)';\n  } else if(stats.passes) {\n    return '( ^ .^)';\n  } else {\n    return '( - .-)';\n  }\n};\n\n/**\n * Move cursor up `n`.\n *\n * @param {Number} n\n * @api private\n */\n\nNyanCat.prototype.cursorUp = function(n) {\n  write('\\u001b[' + n + 'A');\n};\n\n/**\n * Move cursor down `n`.\n *\n * @param {Number} n\n * @api private\n */\n\nNyanCat.prototype.cursorDown = function(n) {\n  write('\\u001b[' + n + 'B');\n};\n\n/**\n * Generate rainbow colors.\n *\n * @return {Array}\n * @api private\n */\n\nNyanCat.prototype.generateColors = function(){\n  var colors = [];\n\n  for (var i = 0; i < (6 * 7); i++) {\n    var pi3 = Math.floor(Math.PI / 3);\n    var n = (i * (1.0 / 6));\n    var r = Math.floor(3 * Math.sin(n) + 3);\n    var g = Math.floor(3 * Math.sin(n + 2 * pi3) + 3);\n    var b = Math.floor(3 * Math.sin(n + 4 * pi3) + 3);\n    colors.push(36 * r + 6 * g + b + 16);\n  }\n\n  return colors;\n};\n\n/**\n * Apply rainbow to the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nNyanCat.prototype.rainbowify = function(str){\n  if (!Base.useColors)\n    return str;\n  var color = this.rainbowColors[this.colorIndex % this.rainbowColors.length];\n  this.colorIndex += 1;\n  return '\\u001b[38;5;' + color + 'm' + str + '\\u001b[0m';\n};\n\n/**\n * Stdout helper.\n */\n\nfunction write(string) {\n  process.stdout.write(string);\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\n\nfunction F(){};\nF.prototype = Base.prototype;\nNyanCat.prototype = new F;\nNyanCat.prototype.constructor = NyanCat;\n\n\n}); // module: reporters/nyan.js\n\nrequire.register(\"reporters/progress.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , cursor = Base.cursor\n  , color = Base.color;\n\n/**\n * Expose `Progress`.\n */\n\nexports = module.exports = Progress;\n\n/**\n * General progress bar color.\n */\n\nBase.colors.progress = 90;\n\n/**\n * Initialize a new `Progress` bar test reporter.\n *\n * @param {Runner} runner\n * @param {Object} options\n * @api public\n */\n\nfunction Progress(runner, options) {\n  Base.call(this, runner);\n\n  var self = this\n    , options = options || {}\n    , stats = this.stats\n    , width = Base.window.width * .50 | 0\n    , total = runner.total\n    , complete = 0\n    , max = Math.max\n    , lastN = -1;\n\n  // default chars\n  options.open = options.open || '[';\n  options.complete = options.complete || '▬';\n  options.incomplete = options.incomplete || Base.symbols.dot;\n  options.close = options.close || ']';\n  options.verbose = false;\n\n  // tests started\n  runner.on('start', function(){\n    console.log();\n    cursor.hide();\n  });\n\n  // tests complete\n  runner.on('test end', function(){\n    complete++;\n    var incomplete = total - complete\n      , percent = complete / total\n      , n = width * percent | 0\n      , i = width - n;\n\n    if (lastN === n && !options.verbose) {\n      // Don't re-render the line if it hasn't changed\n      return;\n    }\n    lastN = n;\n\n    cursor.CR();\n    process.stdout.write('\\u001b[J');\n    process.stdout.write(color('progress', '  ' + options.open));\n    process.stdout.write(Array(n).join(options.complete));\n    process.stdout.write(Array(i).join(options.incomplete));\n    process.stdout.write(color('progress', options.close));\n    if (options.verbose) {\n      process.stdout.write(color('progress', ' ' + complete + ' of ' + total));\n    }\n  });\n\n  // tests are complete, output some stats\n  // and the failures if any\n  runner.on('end', function(){\n    cursor.show();\n    console.log();\n    self.epilogue();\n  });\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\n\nfunction F(){};\nF.prototype = Base.prototype;\nProgress.prototype = new F;\nProgress.prototype.constructor = Progress;\n\n\n}); // module: reporters/progress.js\n\nrequire.register(\"reporters/spec.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , cursor = Base.cursor\n  , color = Base.color;\n\n/**\n * Expose `Spec`.\n */\n\nexports = module.exports = Spec;\n\n/**\n * Initialize a new `Spec` test reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction Spec(runner) {\n  Base.call(this, runner);\n\n  var self = this\n    , stats = this.stats\n    , indents = 0\n    , n = 0;\n\n  function indent() {\n    return Array(indents).join('  ')\n  }\n\n  runner.on('start', function(){\n    console.log();\n  });\n\n  runner.on('suite', function(suite){\n    ++indents;\n    console.log(color('suite', '%s%s'), indent(), suite.title);\n  });\n\n  runner.on('suite end', function(suite){\n    --indents;\n    if (1 == indents) console.log();\n  });\n\n  runner.on('pending', function(test){\n    var fmt = indent() + color('pending', '  - %s');\n    console.log(fmt, test.title);\n  });\n\n  runner.on('pass', function(test){\n    if ('fast' == test.speed) {\n      var fmt = indent()\n        + color('checkmark', '  ' + Base.symbols.ok)\n        + color('pass', ' %s ');\n      cursor.CR();\n      console.log(fmt, test.title);\n    } else {\n      var fmt = indent()\n        + color('checkmark', '  ' + Base.symbols.ok)\n        + color('pass', ' %s ')\n        + color(test.speed, '(%dms)');\n      cursor.CR();\n      console.log(fmt, test.title, test.duration);\n    }\n  });\n\n  runner.on('fail', function(test, err){\n    cursor.CR();\n    console.log(indent() + color('fail', '  %d) %s'), ++n, test.title);\n  });\n\n  runner.on('end', self.epilogue.bind(self));\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\n\nfunction F(){};\nF.prototype = Base.prototype;\nSpec.prototype = new F;\nSpec.prototype.constructor = Spec;\n\n\n}); // module: reporters/spec.js\n\nrequire.register(\"reporters/tap.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , cursor = Base.cursor\n  , color = Base.color;\n\n/**\n * Expose `TAP`.\n */\n\nexports = module.exports = TAP;\n\n/**\n * Initialize a new `TAP` reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction TAP(runner) {\n  Base.call(this, runner);\n\n  var self = this\n    , stats = this.stats\n    , n = 1\n    , passes = 0\n    , failures = 0;\n\n  runner.on('start', function(){\n    var total = runner.grepTotal(runner.suite);\n    console.log('%d..%d', 1, total);\n  });\n\n  runner.on('test end', function(){\n    ++n;\n  });\n\n  runner.on('pending', function(test){\n    console.log('ok %d %s # SKIP -', n, title(test));\n  });\n\n  runner.on('pass', function(test){\n    passes++;\n    console.log('ok %d %s', n, title(test));\n  });\n\n  runner.on('fail', function(test, err){\n    failures++;\n    console.log('not ok %d %s', n, title(test));\n    if (err.stack) console.log(err.stack.replace(/^/gm, '  '));\n  });\n\n  runner.on('end', function(){\n    console.log('# tests ' + (passes + failures));\n    console.log('# pass ' + passes);\n    console.log('# fail ' + failures);\n  });\n}\n\n/**\n * Return a TAP-safe title of `test`\n *\n * @param {Object} test\n * @return {String}\n * @api private\n */\n\nfunction title(test) {\n  return test.fullTitle().replace(/#/g, '');\n}\n\n}); // module: reporters/tap.js\n\nrequire.register(\"reporters/xunit.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base')\n  , utils = require('../utils')\n  , fs = require('browser/fs')\n  , escape = utils.escape;\n\n/**\n * Save timer references to avoid Sinon interfering (see GH-237).\n */\n\nvar Date = global.Date\n  , setTimeout = global.setTimeout\n  , setInterval = global.setInterval\n  , clearTimeout = global.clearTimeout\n  , clearInterval = global.clearInterval;\n\n/**\n * Expose `XUnit`.\n */\n\nexports = module.exports = XUnit;\n\n/**\n * Initialize a new `XUnit` reporter.\n *\n * @param {Runner} runner\n * @api public\n */\n\nfunction XUnit(runner, options) {\n  Base.call(this, runner);\n  var stats = this.stats\n    , tests = []\n    , self = this;\n\n  if (options.reporterOptions && options.reporterOptions.output) {\n      if (! fs.createWriteStream) {\n          throw new Error('file output not supported in browser');\n      }\n      self.fileStream = fs.createWriteStream(options.reporterOptions.output);\n  }\n\n  runner.on('pending', function(test){\n    tests.push(test);\n  });\n\n  runner.on('pass', function(test){\n    tests.push(test);\n  });\n\n  runner.on('fail', function(test){\n    tests.push(test);\n  });\n\n  runner.on('end', function(){\n    self.write(tag('testsuite', {\n        name: 'Mocha Tests'\n      , tests: stats.tests\n      , failures: stats.failures\n      , errors: stats.failures\n      , skipped: stats.tests - stats.failures - stats.passes\n      , timestamp: (new Date).toUTCString()\n      , time: (stats.duration / 1000) || 0\n    }, false));\n\n    tests.forEach(function(t) { self.test(t); });\n    self.write('</testsuite>');\n  });\n}\n\n/**\n * Override done to close the stream (if it's a file).\n */\nXUnit.prototype.done = function(failures, fn) {\n    if (this.fileStream) {\n        this.fileStream.end(function() {\n            fn(failures);\n        });\n    } else {\n        fn(failures);\n    }\n};\n\n/**\n * Inherit from `Base.prototype`.\n */\n\nfunction F(){};\nF.prototype = Base.prototype;\nXUnit.prototype = new F;\nXUnit.prototype.constructor = XUnit;\n\n\n/**\n * Write out the given line\n */\nXUnit.prototype.write = function(line) {\n    if (this.fileStream) {\n        this.fileStream.write(line + '\\n');\n    } else {\n        console.log(line);\n    }\n};\n\n/**\n * Output tag for the given `test.`\n */\n\nXUnit.prototype.test = function(test, ostream) {\n  var attrs = {\n      classname: test.parent.fullTitle()\n    , name: test.title\n    , time: (test.duration / 1000) || 0\n  };\n\n  if ('failed' == test.state) {\n    var err = test.err;\n    this.write(tag('testcase', attrs, false, tag('failure', {}, false, cdata(escape(err.message) + \"\\n\" + err.stack))));\n  } else if (test.pending) {\n    this.write(tag('testcase', attrs, false, tag('skipped', {}, true)));\n  } else {\n    this.write(tag('testcase', attrs, true) );\n  }\n};\n\n/**\n * HTML tag helper.\n */\n\nfunction tag(name, attrs, close, content) {\n  var end = close ? '/>' : '>'\n    , pairs = []\n    , tag;\n\n  for (var key in attrs) {\n    pairs.push(key + '=\"' + escape(attrs[key]) + '\"');\n  }\n\n  tag = '<' + name + (pairs.length ? ' ' + pairs.join(' ') : '') + end;\n  if (content) tag += content + '</' + name + end;\n  return tag;\n}\n\n/**\n * Return cdata escaped CDATA `str`.\n */\n\nfunction cdata(str) {\n  return '<![CDATA[' + escape(str) + ']]>';\n}\n\n}); // module: reporters/xunit.js\n\nrequire.register(\"runnable.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar EventEmitter = require('browser/events').EventEmitter\n  , debug = require('browser/debug')('mocha:runnable')\n  , milliseconds = require('./ms')\n  , utils = require('./utils');\n\n/**\n * Save timer references to avoid Sinon interfering (see GH-237).\n */\n\nvar Date = global.Date\n  , setTimeout = global.setTimeout\n  , setInterval = global.setInterval\n  , clearTimeout = global.clearTimeout\n  , clearInterval = global.clearInterval;\n\n/**\n * Object#toString().\n */\n\nvar toString = Object.prototype.toString;\n\n/**\n * Expose `Runnable`.\n */\n\nmodule.exports = Runnable;\n\n/**\n * Initialize a new `Runnable` with the given `title` and callback `fn`.\n *\n * @param {String} title\n * @param {Function} fn\n * @api private\n */\n\nfunction Runnable(title, fn) {\n  this.title = title;\n  this.fn = fn;\n  this.async = fn && fn.length;\n  this.sync = ! this.async;\n  this._timeout = 2000;\n  this._slow = 75;\n  this._enableTimeouts = true;\n  this.timedOut = false;\n  this._trace = new Error('done() called multiple times')\n}\n\n/**\n * Inherit from `EventEmitter.prototype`.\n */\n\nfunction F(){};\nF.prototype = EventEmitter.prototype;\nRunnable.prototype = new F;\nRunnable.prototype.constructor = Runnable;\n\n\n/**\n * Set & get timeout `ms`.\n *\n * @param {Number|String} ms\n * @return {Runnable|Number} ms or self\n * @api private\n */\n\nRunnable.prototype.timeout = function(ms){\n  if (0 == arguments.length) return this._timeout;\n  if (ms === 0) this._enableTimeouts = false;\n  if ('string' == typeof ms) ms = milliseconds(ms);\n  debug('timeout %d', ms);\n  this._timeout = ms;\n  if (this.timer) this.resetTimeout();\n  return this;\n};\n\n/**\n * Set & get slow `ms`.\n *\n * @param {Number|String} ms\n * @return {Runnable|Number} ms or self\n * @api private\n */\n\nRunnable.prototype.slow = function(ms){\n  if (0 === arguments.length) return this._slow;\n  if ('string' == typeof ms) ms = milliseconds(ms);\n  debug('timeout %d', ms);\n  this._slow = ms;\n  return this;\n};\n\n/**\n * Set and & get timeout `enabled`.\n *\n * @param {Boolean} enabled\n * @return {Runnable|Boolean} enabled or self\n * @api private\n */\n\nRunnable.prototype.enableTimeouts = function(enabled){\n  if (arguments.length === 0) return this._enableTimeouts;\n  debug('enableTimeouts %s', enabled);\n  this._enableTimeouts = enabled;\n  return this;\n};\n\n/**\n * Return the full title generated by recursively\n * concatenating the parent's full title.\n *\n * @return {String}\n * @api public\n */\n\nRunnable.prototype.fullTitle = function(){\n  return this.parent.fullTitle() + ' ' + this.title;\n};\n\n/**\n * Clear the timeout.\n *\n * @api private\n */\n\nRunnable.prototype.clearTimeout = function(){\n  clearTimeout(this.timer);\n};\n\n/**\n * Inspect the runnable void of private properties.\n *\n * @return {String}\n * @api private\n */\n\nRunnable.prototype.inspect = function(){\n  return JSON.stringify(this, function(key, val){\n    if ('_' == key[0]) return;\n    if ('parent' == key) return '#<Suite>';\n    if ('ctx' == key) return '#<Context>';\n    return val;\n  }, 2);\n};\n\n/**\n * Reset the timeout.\n *\n * @api private\n */\n\nRunnable.prototype.resetTimeout = function(){\n  var self = this;\n  var ms = this.timeout() || 1e9;\n\n  if (!this._enableTimeouts) return;\n  this.clearTimeout();\n  this.timer = setTimeout(function(){\n    if (!self._enableTimeouts) return;\n    self.callback(new Error('timeout of ' + ms + 'ms exceeded'));\n    self.timedOut = true;\n  }, ms);\n};\n\n/**\n * Whitelist these globals for this test run\n *\n * @api private\n */\nRunnable.prototype.globals = function(arr){\n  var self = this;\n  this._allowedGlobals = arr;\n};\n\n/**\n * Run the test and invoke `fn(err)`.\n *\n * @param {Function} fn\n * @api private\n */\n\nRunnable.prototype.run = function(fn){\n  var self = this\n    , start = new Date\n    , ctx = this.ctx\n    , finished\n    , emitted;\n\n  // Some times the ctx exists but it is not runnable\n  if (ctx && ctx.runnable) ctx.runnable(this);\n\n  // called multiple times\n  function multiple(err) {\n    if (emitted) return;\n    emitted = true;\n    self.emit('error', err || new Error('done() called multiple times; stacktrace may be inaccurate'));\n  }\n\n  // finished\n  function done(err) {\n    var ms = self.timeout();\n    if (self.timedOut) return;\n    if (finished) return multiple(err || self._trace);\n    self.clearTimeout();\n    self.duration = new Date - start;\n    finished = true;\n    if (!err && self.duration > ms && self._enableTimeouts) err = new Error('timeout of ' + ms + 'ms exceeded');\n    fn(err);\n  }\n\n  // for .resetTimeout()\n  this.callback = done;\n\n  // explicit async with `done` argument\n  if (this.async) {\n    this.resetTimeout();\n\n    try {\n      this.fn.call(ctx, function(err){\n        if (err instanceof Error || toString.call(err) === \"[object Error]\") return done(err);\n        if (null != err) {\n          if (Object.prototype.toString.call(err) === '[object Object]') {\n            return done(new Error('done() invoked with non-Error: ' + JSON.stringify(err)));\n          } else {\n            return done(new Error('done() invoked with non-Error: ' + err));\n          }\n        }\n        done();\n      });\n    } catch (err) {\n      done(utils.getError(err));\n    }\n    return;\n  }\n\n  if (this.asyncOnly) {\n    return done(new Error('--async-only option in use without declaring `done()`'));\n  }\n\n  // sync or promise-returning\n  try {\n    if (this.pending) {\n      done();\n    } else {\n      callFn(this.fn);\n    }\n  } catch (err) {\n    done(utils.getError(err));\n  }\n\n  function callFn(fn) {\n    var result = fn.call(ctx);\n    if (result && typeof result.then === 'function') {\n      self.resetTimeout();\n      result\n        .then(function() {\n          done()\n        },\n        function(reason) {\n          done(reason || new Error('Promise rejected with no or falsy reason'))\n        });\n    } else {\n      done();\n    }\n  }\n};\n\n}); // module: runnable.js\n\nrequire.register(\"runner.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar EventEmitter = require('browser/events').EventEmitter\n  , debug = require('browser/debug')('mocha:runner')\n  , Test = require('./test')\n  , utils = require('./utils')\n  , filter = utils.filter\n  , keys = utils.keys;\n\n/**\n * Non-enumerable globals.\n */\n\nvar globals = [\n  'setTimeout',\n  'clearTimeout',\n  'setInterval',\n  'clearInterval',\n  'XMLHttpRequest',\n  'Date',\n  'setImmediate',\n  'clearImmediate'\n];\n\n/**\n * Expose `Runner`.\n */\n\nmodule.exports = Runner;\n\n/**\n * Initialize a `Runner` for the given `suite`.\n *\n * Events:\n *\n *   - `start`  execution started\n *   - `end`  execution complete\n *   - `suite`  (suite) test suite execution started\n *   - `suite end`  (suite) all tests (and sub-suites) have finished\n *   - `test`  (test) test execution started\n *   - `test end`  (test) test completed\n *   - `hook`  (hook) hook execution started\n *   - `hook end`  (hook) hook complete\n *   - `pass`  (test) test passed\n *   - `fail`  (test, err) test failed\n *   - `pending`  (test) test pending\n *\n * @api public\n */\n\nfunction Runner(suite) {\n  var self = this;\n  this._globals = [];\n  this._abort = false;\n  this.suite = suite;\n  this.total = suite.total();\n  this.failures = 0;\n  this.on('test end', function(test){ self.checkGlobals(test); });\n  this.on('hook end', function(hook){ self.checkGlobals(hook); });\n  this.grep(/.*/);\n  this.globals(this.globalProps().concat(extraGlobals()));\n}\n\n/**\n * Wrapper for setImmediate, process.nextTick, or browser polyfill.\n *\n * @param {Function} fn\n * @api private\n */\n\nRunner.immediately = global.setImmediate || process.nextTick;\n\n/**\n * Inherit from `EventEmitter.prototype`.\n */\n\nfunction F(){};\nF.prototype = EventEmitter.prototype;\nRunner.prototype = new F;\nRunner.prototype.constructor = Runner;\n\n\n/**\n * Run tests with full titles matching `re`. Updates runner.total\n * with number of tests matched.\n *\n * @param {RegExp} re\n * @param {Boolean} invert\n * @return {Runner} for chaining\n * @api public\n */\n\nRunner.prototype.grep = function(re, invert){\n  debug('grep %s', re);\n  this._grep = re;\n  this._invert = invert;\n  this.total = this.grepTotal(this.suite);\n  return this;\n};\n\n/**\n * Returns the number of tests matching the grep search for the\n * given suite.\n *\n * @param {Suite} suite\n * @return {Number}\n * @api public\n */\n\nRunner.prototype.grepTotal = function(suite) {\n  var self = this;\n  var total = 0;\n\n  suite.eachTest(function(test){\n    var match = self._grep.test(test.fullTitle());\n    if (self._invert) match = !match;\n    if (match) total++;\n  });\n\n  return total;\n};\n\n/**\n * Return a list of global properties.\n *\n * @return {Array}\n * @api private\n */\n\nRunner.prototype.globalProps = function() {\n  var props = utils.keys(global);\n\n  // non-enumerables\n  for (var i = 0; i < globals.length; ++i) {\n    if (~utils.indexOf(props, globals[i])) continue;\n    props.push(globals[i]);\n  }\n\n  return props;\n};\n\n/**\n * Allow the given `arr` of globals.\n *\n * @param {Array} arr\n * @return {Runner} for chaining\n * @api public\n */\n\nRunner.prototype.globals = function(arr){\n  if (0 == arguments.length) return this._globals;\n  debug('globals %j', arr);\n  this._globals = this._globals.concat(arr);\n  return this;\n};\n\n/**\n * Check for global variable leaks.\n *\n * @api private\n */\n\nRunner.prototype.checkGlobals = function(test){\n  if (this.ignoreLeaks) return;\n  var ok = this._globals;\n\n  var globals = this.globalProps();\n  var leaks;\n\n  if (test) {\n    ok = ok.concat(test._allowedGlobals || []);\n  }\n\n  if(this.prevGlobalsLength == globals.length) return;\n  this.prevGlobalsLength = globals.length;\n\n  leaks = filterLeaks(ok, globals);\n  this._globals = this._globals.concat(leaks);\n\n  if (leaks.length > 1) {\n    this.fail(test, new Error('global leaks detected: ' + leaks.join(', ') + ''));\n  } else if (leaks.length) {\n    this.fail(test, new Error('global leak detected: ' + leaks[0]));\n  }\n};\n\n/**\n * Fail the given `test`.\n *\n * @param {Test} test\n * @param {Error} err\n * @api private\n */\n\nRunner.prototype.fail = function(test, err){\n  ++this.failures;\n  test.state = 'failed';\n\n  if ('string' == typeof err) {\n    err = new Error('the string \"' + err + '\" was thrown, throw an Error :)');\n  }\n\n  this.emit('fail', test, err);\n};\n\n/**\n * Fail the given `hook` with `err`.\n *\n * Hook failures work in the following pattern:\n * - If bail, then exit\n * - Failed `before` hook skips all tests in a suite and subsuites,\n *   but jumps to corresponding `after` hook\n * - Failed `before each` hook skips remaining tests in a\n *   suite and jumps to corresponding `after each` hook,\n *   which is run only once\n * - Failed `after` hook does not alter\n *   execution order\n * - Failed `after each` hook skips remaining tests in a\n *   suite and subsuites, but executes other `after each`\n *   hooks\n *\n * @param {Hook} hook\n * @param {Error} err\n * @api private\n */\n\nRunner.prototype.failHook = function(hook, err){\n  this.fail(hook, err);\n  if (this.suite.bail()) {\n    this.emit('end');\n  }\n};\n\n/**\n * Run hook `name` callbacks and then invoke `fn()`.\n *\n * @param {String} name\n * @param {Function} function\n * @api private\n */\n\nRunner.prototype.hook = function(name, fn){\n  var suite = this.suite\n    , hooks = suite['_' + name]\n    , self = this\n    , timer;\n\n  function next(i) {\n    var hook = hooks[i];\n    if (!hook) return fn();\n    self.currentRunnable = hook;\n\n    hook.ctx.currentTest = self.test;\n\n    self.emit('hook', hook);\n\n    hook.on('error', function(err){\n      self.failHook(hook, err);\n    });\n\n    hook.run(function(err){\n      hook.removeAllListeners('error');\n      var testError = hook.error();\n      if (testError) self.fail(self.test, testError);\n      if (err) {\n        self.failHook(hook, err);\n\n        // stop executing hooks, notify callee of hook err\n        return fn(err);\n      }\n      self.emit('hook end', hook);\n      delete hook.ctx.currentTest;\n      next(++i);\n    });\n  }\n\n  Runner.immediately(function(){\n    next(0);\n  });\n};\n\n/**\n * Run hook `name` for the given array of `suites`\n * in order, and callback `fn(err, errSuite)`.\n *\n * @param {String} name\n * @param {Array} suites\n * @param {Function} fn\n * @api private\n */\n\nRunner.prototype.hooks = function(name, suites, fn){\n  var self = this\n    , orig = this.suite;\n\n  function next(suite) {\n    self.suite = suite;\n\n    if (!suite) {\n      self.suite = orig;\n      return fn();\n    }\n\n    self.hook(name, function(err){\n      if (err) {\n        var errSuite = self.suite;\n        self.suite = orig;\n        return fn(err, errSuite);\n      }\n\n      next(suites.pop());\n    });\n  }\n\n  next(suites.pop());\n};\n\n/**\n * Run hooks from the top level down.\n *\n * @param {String} name\n * @param {Function} fn\n * @api private\n */\n\nRunner.prototype.hookUp = function(name, fn){\n  var suites = [this.suite].concat(this.parents()).reverse();\n  this.hooks(name, suites, fn);\n};\n\n/**\n * Run hooks from the bottom up.\n *\n * @param {String} name\n * @param {Function} fn\n * @api private\n */\n\nRunner.prototype.hookDown = function(name, fn){\n  var suites = [this.suite].concat(this.parents());\n  this.hooks(name, suites, fn);\n};\n\n/**\n * Return an array of parent Suites from\n * closest to furthest.\n *\n * @return {Array}\n * @api private\n */\n\nRunner.prototype.parents = function(){\n  var suite = this.suite\n    , suites = [];\n  while (suite = suite.parent) suites.push(suite);\n  return suites;\n};\n\n/**\n * Run the current test and callback `fn(err)`.\n *\n * @param {Function} fn\n * @api private\n */\n\nRunner.prototype.runTest = function(fn){\n  var test = this.test\n    , self = this;\n\n  if (this.asyncOnly) test.asyncOnly = true;\n\n  try {\n    test.on('error', function(err){\n      self.fail(test, err);\n    });\n    test.run(fn);\n  } catch (err) {\n    fn(err);\n  }\n};\n\n/**\n * Run tests in the given `suite` and invoke\n * the callback `fn()` when complete.\n *\n * @param {Suite} suite\n * @param {Function} fn\n * @api private\n */\n\nRunner.prototype.runTests = function(suite, fn){\n  var self = this\n    , tests = suite.tests.slice()\n    , test;\n\n\n  function hookErr(err, errSuite, after) {\n    // before/after Each hook for errSuite failed:\n    var orig = self.suite;\n\n    // for failed 'after each' hook start from errSuite parent,\n    // otherwise start from errSuite itself\n    self.suite = after ? errSuite.parent : errSuite;\n\n    if (self.suite) {\n      // call hookUp afterEach\n      self.hookUp('afterEach', function(err2, errSuite2) {\n        self.suite = orig;\n        // some hooks may fail even now\n        if (err2) return hookErr(err2, errSuite2, true);\n        // report error suite\n        fn(errSuite);\n      });\n    } else {\n      // there is no need calling other 'after each' hooks\n      self.suite = orig;\n      fn(errSuite);\n    }\n  }\n\n  function next(err, errSuite) {\n    // if we bail after first err\n    if (self.failures && suite._bail) return fn();\n\n    if (self._abort) return fn();\n\n    if (err) return hookErr(err, errSuite, true);\n\n    // next test\n    test = tests.shift();\n\n    // all done\n    if (!test) return fn();\n\n    // grep\n    var match = self._grep.test(test.fullTitle());\n    if (self._invert) match = !match;\n    if (!match) return next();\n\n    // pending\n    if (test.pending) {\n      self.emit('pending', test);\n      self.emit('test end', test);\n      return next();\n    }\n\n    // execute test and hook(s)\n    self.emit('test', self.test = test);\n    self.hookDown('beforeEach', function(err, errSuite){\n\n      if (err) return hookErr(err, errSuite, false);\n\n      self.currentRunnable = self.test;\n      self.runTest(function(err){\n        test = self.test;\n\n        if (err) {\n          self.fail(test, err);\n          self.emit('test end', test);\n          return self.hookUp('afterEach', next);\n        }\n\n        test.state = 'passed';\n        self.emit('pass', test);\n        self.emit('test end', test);\n        self.hookUp('afterEach', next);\n      });\n    });\n  }\n\n  this.next = next;\n  next();\n};\n\n/**\n * Run the given `suite` and invoke the\n * callback `fn()` when complete.\n *\n * @param {Suite} suite\n * @param {Function} fn\n * @api private\n */\n\nRunner.prototype.runSuite = function(suite, fn){\n  var total = this.grepTotal(suite)\n    , self = this\n    , i = 0;\n\n  debug('run suite %s', suite.fullTitle());\n\n  if (!total) return fn();\n\n  this.emit('suite', this.suite = suite);\n\n  function next(errSuite) {\n    if (errSuite) {\n      // current suite failed on a hook from errSuite\n      if (errSuite == suite) {\n        // if errSuite is current suite\n        // continue to the next sibling suite\n        return done();\n      } else {\n        // errSuite is among the parents of current suite\n        // stop execution of errSuite and all sub-suites\n        return done(errSuite);\n      }\n    }\n\n    if (self._abort) return done();\n\n    var curr = suite.suites[i++];\n    if (!curr) return done();\n    self.runSuite(curr, next);\n  }\n\n  function done(errSuite) {\n    self.suite = suite;\n    self.hook('afterAll', function(){\n      self.emit('suite end', suite);\n      fn(errSuite);\n    });\n  }\n\n  this.hook('beforeAll', function(err){\n    if (err) return done();\n    self.runTests(suite, next);\n  });\n};\n\n/**\n * Handle uncaught exceptions.\n *\n * @param {Error} err\n * @api private\n */\n\nRunner.prototype.uncaught = function(err){\n  if (err) {\n    debug('uncaught exception %s', err !== function () {\n      return this;\n    }.call(err) ? err : ( err.message || err ));\n  } else {\n    debug('uncaught undefined exception');\n    err = utils.undefinedError();\n  }\n  err.uncaught = true;\n\n  var runnable = this.currentRunnable;\n  if (!runnable) return;\n\n  var wasAlreadyDone = runnable.state;\n  this.fail(runnable, err);\n\n  runnable.clearTimeout();\n\n  if (wasAlreadyDone) return;\n\n  // recover from test\n  if ('test' == runnable.type) {\n    this.emit('test end', runnable);\n    this.hookUp('afterEach', this.next);\n    return;\n  }\n\n  // bail on hooks\n  this.emit('end');\n};\n\n/**\n * Run the root suite and invoke `fn(failures)`\n * on completion.\n *\n * @param {Function} fn\n * @return {Runner} for chaining\n * @api public\n */\n\nRunner.prototype.run = function(fn){\n  var self = this\n    , fn = fn || function(){};\n\n  function uncaught(err){\n    self.uncaught(err);\n  }\n\n  debug('start');\n\n  // callback\n  this.on('end', function(){\n    debug('end');\n    process.removeListener('uncaughtException', uncaught);\n    fn(self.failures);\n  });\n\n  // run suites\n  this.emit('start');\n  this.runSuite(this.suite, function(){\n    debug('finished running');\n    self.emit('end');\n  });\n\n  // uncaught exception\n  process.on('uncaughtException', uncaught);\n\n  return this;\n};\n\n/**\n * Cleanly abort execution\n *\n * @return {Runner} for chaining\n * @api public\n */\nRunner.prototype.abort = function(){\n  debug('aborting');\n  this._abort = true;\n};\n\n/**\n * Filter leaks with the given globals flagged as `ok`.\n *\n * @param {Array} ok\n * @param {Array} globals\n * @return {Array}\n * @api private\n */\n\nfunction filterLeaks(ok, globals) {\n  return filter(globals, function(key){\n    // Firefox and Chrome exposes iframes as index inside the window object\n    if (/^d+/.test(key)) return false;\n\n    // in firefox\n    // if runner runs in an iframe, this iframe's window.getInterface method not init at first\n    // it is assigned in some seconds\n    if (global.navigator && /^getInterface/.test(key)) return false;\n\n    // an iframe could be approached by window[iframeIndex]\n    // in ie6,7,8 and opera, iframeIndex is enumerable, this could cause leak\n    if (global.navigator && /^\\d+/.test(key)) return false;\n\n    // Opera and IE expose global variables for HTML element IDs (issue #243)\n    if (/^mocha-/.test(key)) return false;\n\n    var matched = filter(ok, function(ok){\n      if (~ok.indexOf('*')) return 0 == key.indexOf(ok.split('*')[0]);\n      return key == ok;\n    });\n    return matched.length == 0 && (!global.navigator || 'onerror' !== key);\n  });\n}\n\n/**\n * Array of globals dependent on the environment.\n *\n * @return {Array}\n * @api private\n */\n\n function extraGlobals() {\n  if (typeof(process) === 'object' &&\n      typeof(process.version) === 'string') {\n\n    var nodeVersion = process.version.split('.').reduce(function(a, v) {\n      return a << 8 | v;\n    });\n\n    // 'errno' was renamed to process._errno in v0.9.11.\n\n    if (nodeVersion < 0x00090B) {\n      return ['errno'];\n    }\n  }\n\n  return [];\n }\n\n}); // module: runner.js\n\nrequire.register(\"suite.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar EventEmitter = require('browser/events').EventEmitter\n  , debug = require('browser/debug')('mocha:suite')\n  , milliseconds = require('./ms')\n  , utils = require('./utils')\n  , Hook = require('./hook');\n\n/**\n * Expose `Suite`.\n */\n\nexports = module.exports = Suite;\n\n/**\n * Create a new `Suite` with the given `title`\n * and parent `Suite`. When a suite with the\n * same title is already present, that suite\n * is returned to provide nicer reporter\n * and more flexible meta-testing.\n *\n * @param {Suite} parent\n * @param {String} title\n * @return {Suite}\n * @api public\n */\n\nexports.create = function(parent, title){\n  var suite = new Suite(title, parent.ctx);\n  suite.parent = parent;\n  if (parent.pending) suite.pending = true;\n  title = suite.fullTitle();\n  parent.addSuite(suite);\n  return suite;\n};\n\n/**\n * Initialize a new `Suite` with the given\n * `title` and `ctx`.\n *\n * @param {String} title\n * @param {Context} ctx\n * @api private\n */\n\nfunction Suite(title, parentContext) {\n  this.title = title;\n  var context = function() {};\n  context.prototype = parentContext;\n  this.ctx = new context();\n  this.suites = [];\n  this.tests = [];\n  this.pending = false;\n  this._beforeEach = [];\n  this._beforeAll = [];\n  this._afterEach = [];\n  this._afterAll = [];\n  this.root = !title;\n  this._timeout = 2000;\n  this._enableTimeouts = true;\n  this._slow = 75;\n  this._bail = false;\n}\n\n/**\n * Inherit from `EventEmitter.prototype`.\n */\n\nfunction F(){};\nF.prototype = EventEmitter.prototype;\nSuite.prototype = new F;\nSuite.prototype.constructor = Suite;\n\n\n/**\n * Return a clone of this `Suite`.\n *\n * @return {Suite}\n * @api private\n */\n\nSuite.prototype.clone = function(){\n  var suite = new Suite(this.title);\n  debug('clone');\n  suite.ctx = this.ctx;\n  suite.timeout(this.timeout());\n  suite.enableTimeouts(this.enableTimeouts());\n  suite.slow(this.slow());\n  suite.bail(this.bail());\n  return suite;\n};\n\n/**\n * Set timeout `ms` or short-hand such as \"2s\".\n *\n * @param {Number|String} ms\n * @return {Suite|Number} for chaining\n * @api private\n */\n\nSuite.prototype.timeout = function(ms){\n  if (0 == arguments.length) return this._timeout;\n  if (ms.toString() === '0') this._enableTimeouts = false;\n  if ('string' == typeof ms) ms = milliseconds(ms);\n  debug('timeout %d', ms);\n  this._timeout = parseInt(ms, 10);\n  return this;\n};\n\n/**\n  * Set timeout `enabled`.\n  *\n  * @param {Boolean} enabled\n  * @return {Suite|Boolean} self or enabled\n  * @api private\n  */\n\nSuite.prototype.enableTimeouts = function(enabled){\n  if (arguments.length === 0) return this._enableTimeouts;\n  debug('enableTimeouts %s', enabled);\n  this._enableTimeouts = enabled;\n  return this;\n};\n\n/**\n * Set slow `ms` or short-hand such as \"2s\".\n *\n * @param {Number|String} ms\n * @return {Suite|Number} for chaining\n * @api private\n */\n\nSuite.prototype.slow = function(ms){\n  if (0 === arguments.length) return this._slow;\n  if ('string' == typeof ms) ms = milliseconds(ms);\n  debug('slow %d', ms);\n  this._slow = ms;\n  return this;\n};\n\n/**\n * Sets whether to bail after first error.\n *\n * @param {Boolean} bail\n * @return {Suite|Number} for chaining\n * @api private\n */\n\nSuite.prototype.bail = function(bail){\n  if (0 == arguments.length) return this._bail;\n  debug('bail %s', bail);\n  this._bail = bail;\n  return this;\n};\n\n/**\n * Run `fn(test[, done])` before running tests.\n *\n * @param {Function} fn\n * @return {Suite} for chaining\n * @api private\n */\n\nSuite.prototype.beforeAll = function(title, fn){\n  if (this.pending) return this;\n  if ('function' === typeof title) {\n    fn = title;\n    title = fn.name;\n  }\n  title = '\"before all\" hook' + (title ? ': ' + title : '');\n\n  var hook = new Hook(title, fn);\n  hook.parent = this;\n  hook.timeout(this.timeout());\n  hook.enableTimeouts(this.enableTimeouts());\n  hook.slow(this.slow());\n  hook.ctx = this.ctx;\n  this._beforeAll.push(hook);\n  this.emit('beforeAll', hook);\n  return this;\n};\n\n/**\n * Run `fn(test[, done])` after running tests.\n *\n * @param {Function} fn\n * @return {Suite} for chaining\n * @api private\n */\n\nSuite.prototype.afterAll = function(title, fn){\n  if (this.pending) return this;\n  if ('function' === typeof title) {\n    fn = title;\n    title = fn.name;\n  }\n  title = '\"after all\" hook' + (title ? ': ' + title : '');\n\n  var hook = new Hook(title, fn);\n  hook.parent = this;\n  hook.timeout(this.timeout());\n  hook.enableTimeouts(this.enableTimeouts());\n  hook.slow(this.slow());\n  hook.ctx = this.ctx;\n  this._afterAll.push(hook);\n  this.emit('afterAll', hook);\n  return this;\n};\n\n/**\n * Run `fn(test[, done])` before each test case.\n *\n * @param {Function} fn\n * @return {Suite} for chaining\n * @api private\n */\n\nSuite.prototype.beforeEach = function(title, fn){\n  if (this.pending) return this;\n  if ('function' === typeof title) {\n    fn = title;\n    title = fn.name;\n  }\n  title = '\"before each\" hook' + (title ? ': ' + title : '');\n\n  var hook = new Hook(title, fn);\n  hook.parent = this;\n  hook.timeout(this.timeout());\n  hook.enableTimeouts(this.enableTimeouts());\n  hook.slow(this.slow());\n  hook.ctx = this.ctx;\n  this._beforeEach.push(hook);\n  this.emit('beforeEach', hook);\n  return this;\n};\n\n/**\n * Run `fn(test[, done])` after each test case.\n *\n * @param {Function} fn\n * @return {Suite} for chaining\n * @api private\n */\n\nSuite.prototype.afterEach = function(title, fn){\n  if (this.pending) return this;\n  if ('function' === typeof title) {\n    fn = title;\n    title = fn.name;\n  }\n  title = '\"after each\" hook' + (title ? ': ' + title : '');\n\n  var hook = new Hook(title, fn);\n  hook.parent = this;\n  hook.timeout(this.timeout());\n  hook.enableTimeouts(this.enableTimeouts());\n  hook.slow(this.slow());\n  hook.ctx = this.ctx;\n  this._afterEach.push(hook);\n  this.emit('afterEach', hook);\n  return this;\n};\n\n/**\n * Add a test `suite`.\n *\n * @param {Suite} suite\n * @return {Suite} for chaining\n * @api private\n */\n\nSuite.prototype.addSuite = function(suite){\n  suite.parent = this;\n  suite.timeout(this.timeout());\n  suite.enableTimeouts(this.enableTimeouts());\n  suite.slow(this.slow());\n  suite.bail(this.bail());\n  this.suites.push(suite);\n  this.emit('suite', suite);\n  return this;\n};\n\n/**\n * Add a `test` to this suite.\n *\n * @param {Test} test\n * @return {Suite} for chaining\n * @api private\n */\n\nSuite.prototype.addTest = function(test){\n  test.parent = this;\n  test.timeout(this.timeout());\n  test.enableTimeouts(this.enableTimeouts());\n  test.slow(this.slow());\n  test.ctx = this.ctx;\n  this.tests.push(test);\n  this.emit('test', test);\n  return this;\n};\n\n/**\n * Return the full title generated by recursively\n * concatenating the parent's full title.\n *\n * @return {String}\n * @api public\n */\n\nSuite.prototype.fullTitle = function(){\n  if (this.parent) {\n    var full = this.parent.fullTitle();\n    if (full) return full + ' ' + this.title;\n  }\n  return this.title;\n};\n\n/**\n * Return the total number of tests.\n *\n * @return {Number}\n * @api public\n */\n\nSuite.prototype.total = function(){\n  return utils.reduce(this.suites, function(sum, suite){\n    return sum + suite.total();\n  }, 0) + this.tests.length;\n};\n\n/**\n * Iterates through each suite recursively to find\n * all tests. Applies a function in the format\n * `fn(test)`.\n *\n * @param {Function} fn\n * @return {Suite}\n * @api private\n */\n\nSuite.prototype.eachTest = function(fn){\n  utils.forEach(this.tests, fn);\n  utils.forEach(this.suites, function(suite){\n    suite.eachTest(fn);\n  });\n  return this;\n};\n\n}); // module: suite.js\n\nrequire.register(\"test.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar Runnable = require('./runnable');\n\n/**\n * Expose `Test`.\n */\n\nmodule.exports = Test;\n\n/**\n * Initialize a new `Test` with the given `title` and callback `fn`.\n *\n * @param {String} title\n * @param {Function} fn\n * @api private\n */\n\nfunction Test(title, fn) {\n  Runnable.call(this, title, fn);\n  this.pending = !fn;\n  this.type = 'test';\n}\n\n/**\n * Inherit from `Runnable.prototype`.\n */\n\nfunction F(){};\nF.prototype = Runnable.prototype;\nTest.prototype = new F;\nTest.prototype.constructor = Test;\n\n\n}); // module: test.js\n\nrequire.register(\"utils.js\", function(module, exports, require){\n/**\n * Module dependencies.\n */\n\nvar fs = require('browser/fs')\n  , path = require('browser/path')\n  , basename = path.basename\n  , exists = fs.existsSync || path.existsSync\n  , glob = require('browser/glob')\n  , join = path.join\n  , debug = require('browser/debug')('mocha:watch');\n\n/**\n * Ignored directories.\n */\n\nvar ignore = ['node_modules', '.git'];\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {String} html\n * @return {String}\n * @api private\n */\n\nexports.escape = function(html){\n  return String(html)\n    .replace(/&/g, '&amp;')\n    .replace(/\"/g, '&quot;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;');\n};\n\n/**\n * Array#forEach (<=IE8)\n *\n * @param {Array} array\n * @param {Function} fn\n * @param {Object} scope\n * @api private\n */\n\nexports.forEach = function(arr, fn, scope){\n  for (var i = 0, l = arr.length; i < l; i++)\n    fn.call(scope, arr[i], i);\n};\n\n/**\n * Array#map (<=IE8)\n *\n * @param {Array} array\n * @param {Function} fn\n * @param {Object} scope\n * @api private\n */\n\nexports.map = function(arr, fn, scope){\n  var result = [];\n  for (var i = 0, l = arr.length; i < l; i++)\n    result.push(fn.call(scope, arr[i], i));\n  return result;\n};\n\n/**\n * Array#indexOf (<=IE8)\n *\n * @parma {Array} arr\n * @param {Object} obj to find index of\n * @param {Number} start\n * @api private\n */\n\nexports.indexOf = function(arr, obj, start){\n  for (var i = start || 0, l = arr.length; i < l; i++) {\n    if (arr[i] === obj)\n      return i;\n  }\n  return -1;\n};\n\n/**\n * Array#reduce (<=IE8)\n *\n * @param {Array} array\n * @param {Function} fn\n * @param {Object} initial value\n * @api private\n */\n\nexports.reduce = function(arr, fn, val){\n  var rval = val;\n\n  for (var i = 0, l = arr.length; i < l; i++) {\n    rval = fn(rval, arr[i], i, arr);\n  }\n\n  return rval;\n};\n\n/**\n * Array#filter (<=IE8)\n *\n * @param {Array} array\n * @param {Function} fn\n * @api private\n */\n\nexports.filter = function(arr, fn){\n  var ret = [];\n\n  for (var i = 0, l = arr.length; i < l; i++) {\n    var val = arr[i];\n    if (fn(val, i, arr)) ret.push(val);\n  }\n\n  return ret;\n};\n\n/**\n * Object.keys (<=IE8)\n *\n * @param {Object} obj\n * @return {Array} keys\n * @api private\n */\n\nexports.keys = Object.keys || function(obj) {\n  var keys = []\n    , has = Object.prototype.hasOwnProperty // for `window` on <=IE8\n\n  for (var key in obj) {\n    if (has.call(obj, key)) {\n      keys.push(key);\n    }\n  }\n\n  return keys;\n};\n\n/**\n * Watch the given `files` for changes\n * and invoke `fn(file)` on modification.\n *\n * @param {Array} files\n * @param {Function} fn\n * @api private\n */\n\nexports.watch = function(files, fn){\n  var options = { interval: 100 };\n  files.forEach(function(file){\n    debug('file %s', file);\n    fs.watchFile(file, options, function(curr, prev){\n      if (prev.mtime < curr.mtime) fn(file);\n    });\n  });\n};\n\n/**\n * Ignored files.\n */\n\nfunction ignored(path){\n  return !~ignore.indexOf(path);\n}\n\n/**\n * Lookup files in the given `dir`.\n *\n * @return {Array}\n * @api private\n */\n\nexports.files = function(dir, ext, ret){\n  ret = ret || [];\n  ext = ext || ['js'];\n\n  var re = new RegExp('\\\\.(' + ext.join('|') + ')$');\n\n  fs.readdirSync(dir)\n  .filter(ignored)\n  .forEach(function(path){\n    path = join(dir, path);\n    if (fs.statSync(path).isDirectory()) {\n      exports.files(path, ext, ret);\n    } else if (path.match(re)) {\n      ret.push(path);\n    }\n  });\n\n  return ret;\n};\n\n/**\n * Compute a slug from the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nexports.slug = function(str){\n  return str\n    .toLowerCase()\n    .replace(/ +/g, '-')\n    .replace(/[^-\\w]/g, '');\n};\n\n/**\n * Strip the function definition from `str`,\n * and re-indent for pre whitespace.\n */\n\nexports.clean = function(str) {\n  str = str\n    .replace(/\\r\\n?|[\\n\\u2028\\u2029]/g, \"\\n\").replace(/^\\uFEFF/, '')\n    .replace(/^function *\\(.*\\) *{|\\(.*\\) *=> *{?/, '')\n    .replace(/\\s+\\}$/, '');\n\n  var spaces = str.match(/^\\n?( *)/)[1].length\n    , tabs = str.match(/^\\n?(\\t*)/)[1].length\n    , re = new RegExp('^\\n?' + (tabs ? '\\t' : ' ') + '{' + (tabs ? tabs : spaces) + '}', 'gm');\n\n  str = str.replace(re, '');\n\n  return exports.trim(str);\n};\n\n/**\n * Trim the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nexports.trim = function(str){\n  return str.replace(/^\\s+|\\s+$/g, '');\n};\n\n/**\n * Parse the given `qs`.\n *\n * @param {String} qs\n * @return {Object}\n * @api private\n */\n\nexports.parseQuery = function(qs){\n  return exports.reduce(qs.replace('?', '').split('&'), function(obj, pair){\n    var i = pair.indexOf('=')\n      , key = pair.slice(0, i)\n      , val = pair.slice(++i);\n\n    obj[key] = decodeURIComponent(val);\n    return obj;\n  }, {});\n};\n\n/**\n * Highlight the given string of `js`.\n *\n * @param {String} js\n * @return {String}\n * @api private\n */\n\nfunction highlight(js) {\n  return js\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\\/\\/(.*)/gm, '<span class=\"comment\">//$1</span>')\n    .replace(/('.*?')/gm, '<span class=\"string\">$1</span>')\n    .replace(/(\\d+\\.\\d+)/gm, '<span class=\"number\">$1</span>')\n    .replace(/(\\d+)/gm, '<span class=\"number\">$1</span>')\n    .replace(/\\bnew[ \\t]+(\\w+)/gm, '<span class=\"keyword\">new</span> <span class=\"init\">$1</span>')\n    .replace(/\\b(function|new|throw|return|var|if|else)\\b/gm, '<span class=\"keyword\">$1</span>')\n}\n\n/**\n * Highlight the contents of tag `name`.\n *\n * @param {String} name\n * @api private\n */\n\nexports.highlightTags = function(name) {\n  var code = document.getElementById('mocha').getElementsByTagName(name);\n  for (var i = 0, len = code.length; i < len; ++i) {\n    code[i].innerHTML = highlight(code[i].innerHTML);\n  }\n};\n\n/**\n * If a value could have properties, and has none, this function is called, which returns\n * a string representation of the empty value.\n *\n * Functions w/ no properties return `'[Function]'`\n * Arrays w/ length === 0 return `'[]'`\n * Objects w/ no properties return `'{}'`\n * All else: return result of `value.toString()`\n *\n * @param {*} value Value to inspect\n * @param {string} [type] The type of the value, if known.\n * @returns {string}\n */\nvar emptyRepresentation = function emptyRepresentation(value, type) {\n  type = type || exports.type(value);\n\n  switch(type) {\n    case 'function':\n      return '[Function]';\n    case 'object':\n      return '{}';\n    case 'array':\n      return '[]';\n    default:\n      return value.toString();\n  }\n};\n\n/**\n * Takes some variable and asks `{}.toString()` what it thinks it is.\n * @param {*} value Anything\n * @example\n * type({}) // 'object'\n * type([]) // 'array'\n * type(1) // 'number'\n * type(false) // 'boolean'\n * type(Infinity) // 'number'\n * type(null) // 'null'\n * type(new Date()) // 'date'\n * type(/foo/) // 'regexp'\n * type('type') // 'string'\n * type(global) // 'global'\n * @api private\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/toString\n * @returns {string}\n */\nexports.type = function type(value) {\n  if (typeof Buffer !== 'undefined' && Buffer.isBuffer(value)) {\n    return 'buffer';\n  }\n  return Object.prototype.toString.call(value)\n    .replace(/^\\[.+\\s(.+?)\\]$/, '$1')\n    .toLowerCase();\n};\n\n/**\n * @summary Stringify `value`.\n * @description Different behavior depending on type of value.\n * - If `value` is undefined or null, return `'[undefined]'` or `'[null]'`, respectively.\n * - If `value` is not an object, function or array, return result of `value.toString()` wrapped in double-quotes.\n * - If `value` is an *empty* object, function, or array, return result of function\n *   {@link emptyRepresentation}.\n * - If `value` has properties, call {@link exports.canonicalize} on it, then return result of\n *   JSON.stringify().\n *\n * @see exports.type\n * @param {*} value\n * @return {string}\n * @api private\n */\n\nexports.stringify = function(value) {\n  var prop,\n    type = exports.type(value);\n\n  if (type === 'null' || type === 'undefined') {\n    return '[' + type + ']';\n  }\n\n  if (type === 'date') {\n    return '[Date: ' + value.toISOString() + ']';\n  }\n\n  if (!~exports.indexOf(['object', 'array', 'function'], type)) {\n    return value.toString();\n  }\n\n  for (prop in value) {\n    if (value.hasOwnProperty(prop)) {\n      return JSON.stringify(exports.canonicalize(value), null, 2).replace(/,(\\n|$)/g, '$1');\n    }\n  }\n\n  return emptyRepresentation(value, type);\n};\n\n/**\n * Return if obj is a Buffer\n * @param {Object} arg\n * @return {Boolean}\n * @api private\n */\nexports.isBuffer = function (arg) {\n  return typeof Buffer !== 'undefined' && Buffer.isBuffer(arg);\n};\n\n/**\n * @summary Return a new Thing that has the keys in sorted order.  Recursive.\n * @description If the Thing...\n * - has already been seen, return string `'[Circular]'`\n * - is `undefined`, return string `'[undefined]'`\n * - is `null`, return value `null`\n * - is some other primitive, return the value\n * - is not a primitive or an `Array`, `Object`, or `Function`, return the value of the Thing's `toString()` method\n * - is a non-empty `Array`, `Object`, or `Function`, return the result of calling this function again.\n * - is an empty `Array`, `Object`, or `Function`, return the result of calling `emptyRepresentation()`\n *\n * @param {*} value Thing to inspect.  May or may not have properties.\n * @param {Array} [stack=[]] Stack of seen values\n * @return {(Object|Array|Function|string|undefined)}\n * @see {@link exports.stringify}\n * @api private\n */\n\nexports.canonicalize = function(value, stack) {\n  var canonicalizedObj,\n    type = exports.type(value),\n    prop,\n    withStack = function withStack(value, fn) {\n      stack.push(value);\n      fn();\n      stack.pop();\n    };\n\n  stack = stack || [];\n\n  if (exports.indexOf(stack, value) !== -1) {\n    return '[Circular]';\n  }\n\n  switch(type) {\n    case 'undefined':\n      canonicalizedObj = '[undefined]';\n      break;\n    case 'buffer':\n    case 'null':\n      canonicalizedObj = value;\n      break;\n    case 'array':\n      withStack(value, function () {\n        canonicalizedObj = exports.map(value, function (item) {\n          return exports.canonicalize(item, stack);\n        });\n      });\n      break;\n    case 'date':\n      canonicalizedObj = '[Date: ' + value.toISOString() + ']';\n      break;\n    case 'function':\n      for (prop in value) {\n        canonicalizedObj = {};\n        break;\n      }\n      if (!canonicalizedObj) {\n        canonicalizedObj = emptyRepresentation(value, type);\n        break;\n      }\n    /* falls through */\n    case 'object':\n      canonicalizedObj = canonicalizedObj || {};\n      withStack(value, function () {\n        exports.forEach(exports.keys(value).sort(), function (key) {\n          canonicalizedObj[key] = exports.canonicalize(value[key], stack);\n        });\n      });\n      break;\n    case 'number':\n    case 'boolean':\n      canonicalizedObj = value;\n      break;\n    default:\n      canonicalizedObj = value.toString();\n  }\n\n  return canonicalizedObj;\n};\n\n/**\n * Lookup file names at the given `path`.\n */\nexports.lookupFiles = function lookupFiles(path, extensions, recursive) {\n  var files = [];\n  var re = new RegExp('\\\\.(' + extensions.join('|') + ')$');\n\n  if (!exists(path)) {\n    if (exists(path + '.js')) {\n      path += '.js';\n    } else {\n      files = glob.sync(path);\n      if (!files.length) throw new Error(\"cannot resolve path (or pattern) '\" + path + \"'\");\n      return files;\n    }\n  }\n\n  try {\n    var stat = fs.statSync(path);\n    if (stat.isFile()) return path;\n  }\n  catch (ignored) {\n    return;\n  }\n\n  fs.readdirSync(path).forEach(function(file){\n    file = join(path, file);\n    try {\n      var stat = fs.statSync(file);\n      if (stat.isDirectory()) {\n        if (recursive) {\n          files = files.concat(lookupFiles(file, extensions, recursive));\n        }\n        return;\n      }\n    }\n    catch (ignored) {\n      return;\n    }\n    if (!stat.isFile() || !re.test(file) || basename(file)[0] === '.') return;\n    files.push(file);\n  });\n\n  return files;\n};\n\n/**\n * Generate an undefined error with a message warning the user.\n *\n * @return {Error}\n */\n\nexports.undefinedError = function(){\n  return new Error('Caught undefined error, did you throw without specifying what?');\n};\n\n/**\n * Generate an undefined error if `err` is not defined.\n *\n * @param {Error} err\n * @return {Error}\n */\n\nexports.getError = function(err){\n  return err || exports.undefinedError();\n};\n\n\n}); // module: utils.js\n// The global object is \"self\" in Web Workers.\nvar global = (function() { return this; })();\n\n/**\n * Save timer references to avoid Sinon interfering (see GH-237).\n */\n\nvar Date = global.Date;\nvar setTimeout = global.setTimeout;\nvar setInterval = global.setInterval;\nvar clearTimeout = global.clearTimeout;\nvar clearInterval = global.clearInterval;\n\n/**\n * Node shims.\n *\n * These are meant only to allow\n * mocha.js to run untouched, not\n * to allow running node code in\n * the browser.\n */\n\nvar process = {};\nprocess.exit = function(status){};\nprocess.stdout = {};\n\nvar uncaughtExceptionHandlers = [];\n\nvar originalOnerrorHandler = global.onerror;\n\n/**\n * Remove uncaughtException listener.\n * Revert to original onerror handler if previously defined.\n */\n\nprocess.removeListener = function(e, fn){\n  if ('uncaughtException' == e) {\n    if (originalOnerrorHandler) {\n      global.onerror = originalOnerrorHandler;\n    } else {\n      global.onerror = function() {};\n    }\n    var i = Mocha.utils.indexOf(uncaughtExceptionHandlers, fn);\n    if (i != -1) { uncaughtExceptionHandlers.splice(i, 1); }\n  }\n};\n\n/**\n * Implements uncaughtException listener.\n */\n\nprocess.on = function(e, fn){\n  if ('uncaughtException' == e) {\n    global.onerror = function(err, url, line){\n      fn(new Error(err + ' (' + url + ':' + line + ')'));\n      return true;\n    };\n    uncaughtExceptionHandlers.push(fn);\n  }\n};\n\n/**\n * Expose mocha.\n */\n\nvar Mocha = global.Mocha = require('mocha'),\n    mocha = global.mocha = new Mocha({ reporter: 'html' });\n\n// The BDD UI is registered by default, but no UI will be functional in the\n// browser without an explicit call to the overridden `mocha.ui` (see below).\n// Ensure that this default UI does not expose its methods to the global scope.\nmocha.suite.removeAllListeners('pre-require');\n\nvar immediateQueue = []\n  , immediateTimeout;\n\nfunction timeslice() {\n  var immediateStart = new Date().getTime();\n  while (immediateQueue.length && (new Date().getTime() - immediateStart) < 100) {\n    immediateQueue.shift()();\n  }\n  if (immediateQueue.length) {\n    immediateTimeout = setTimeout(timeslice, 0);\n  } else {\n    immediateTimeout = null;\n  }\n}\n\n/**\n * High-performance override of Runner.immediately.\n */\n\nMocha.Runner.immediately = function(callback) {\n  immediateQueue.push(callback);\n  if (!immediateTimeout) {\n    immediateTimeout = setTimeout(timeslice, 0);\n  }\n};\n\n/**\n * Function to allow assertion libraries to throw errors directly into mocha.\n * This is useful when running tests in a browser because window.onerror will\n * only receive the 'message' attribute of the Error.\n */\nmocha.throwError = function(err) {\n  Mocha.utils.forEach(uncaughtExceptionHandlers, function (fn) {\n    fn(err);\n  });\n  throw err;\n};\n\n/**\n * Override ui to ensure that the ui functions are initialized.\n * Normally this would happen in Mocha.prototype.loadFiles.\n */\n\nmocha.ui = function(ui){\n  Mocha.prototype.ui.call(this, ui);\n  this.suite.emit('pre-require', global, null, this);\n  return this;\n};\n\n/**\n * Setup mocha with the given setting options.\n */\n\nmocha.setup = function(opts){\n  if ('string' == typeof opts) opts = { ui: opts };\n  for (var opt in opts) this[opt](opts[opt]);\n  return this;\n};\n\n/**\n * Run mocha, returning the Runner.\n */\n\nmocha.run = function(fn){\n  var options = mocha.options;\n  mocha.globals('location');\n\n  var query = Mocha.utils.parseQuery(global.location.search || '');\n  if (query.grep) mocha.grep(query.grep);\n  if (query.invert) mocha.invert();\n\n  return Mocha.prototype.run.call(mocha, function(err){\n    // The DOM Document is not available in Web Workers.\n    var document = global.document;\n    if (document && document.getElementById('mocha') && options.noHighlighting !== true) {\n      Mocha.utils.highlightTags('code');\n    }\n    if (fn) fn(err);\n  });\n};\n\n/**\n * Expose the process shim.\n */\n\nMocha.process = process;\n})();\n"
},function(n,e,t){var r=t(70);"string"==typeof r&&(r=[[n.id,r,""]]);t(1)(r,{})},,,,function(n,e,t){var r=t(74);"string"==typeof r&&(r=[[n.id,r,""]]);t(1)(r,{})},function(n,e,t){var r=t(82);"string"==typeof r&&(r=[[n.id,r,""]]);t(1)(r,{})},,function(n,e,t){var r=t(86);"string"==typeof r&&(r=[[n.id,r,""]]);t(1)(r,{})},,,function(n,e,t){t(27),t(28)},function(n,e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(n){"use strict";function e(n){var e=n.charCodeAt(0);return e===s?62:e===a?63:u>e?-1:u+10>e?e-u+26+26:l+26>e?e-l:c+26>e?e-c+26:void 0}function r(n){function t(n){c[f++]=n}var r,i,s,a,u,c;if(n.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=n.length;u="="===n.charAt(l-2)?2:"="===n.charAt(l-1)?1:0,c=new o(3*n.length/4-u),s=u>0?n.length-4:n.length;var f=0;for(r=0,i=0;s>r;r+=4,i+=3)a=e(n.charAt(r))<<18|e(n.charAt(r+1))<<12|e(n.charAt(r+2))<<6|e(n.charAt(r+3)),t((16711680&a)>>16),t((65280&a)>>8),t(255&a);return 2===u?(a=e(n.charAt(r))<<2|e(n.charAt(r+1))>>4,t(255&a)):1===u&&(a=e(n.charAt(r))<<10|e(n.charAt(r+1))<<4|e(n.charAt(r+2))>>2,t(a>>8&255),t(255&a)),c}function i(n){function e(n){return t.charAt(n)}function r(n){return e(n>>18&63)+e(n>>12&63)+e(n>>6&63)+e(63&n)}var i,o,s,a=n.length%3,u="";for(i=0,s=n.length-a;s>i;i+=3)o=(n[i]<<16)+(n[i+1]<<8)+n[i+2],u+=r(o);switch(a){case 1:o=n[n.length-1],u+=e(o>>2),u+=e(o<<4&63),u+="==";break;case 2:o=(n[n.length-2]<<8)+n[n.length-1],u+=e(o>>10),u+=e(o>>4&63),u+=e(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),l="A".charCodeAt(0);n.toByteArray=r,n.fromByteArray=i}(e)},function(n,e){e.read=function(n,e,t,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=t?i-1:0,p=t?-1:1,h=n[e+f];for(f+=p,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+n[e+f],f+=p,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+n[e+f],f+=p,l-=8);if(0===o)o=1-c;else{if(o===u)return s?0/0:1/0*(h?-1:1);s+=Math.pow(2,r),o-=c}return(h?-1:1)*s*Math.pow(2,o-r)},e.write=function(n,e,t,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,d=r?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+f>=1?p/u:p*Math.pow(2,1-f),e*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*u-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;n[t+h]=255&a,h+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;n[t+h]=255&s,h+=d,s/=256,c-=8);n[t+h-d]|=128*g}},function(n){var e=Array.isArray,t=Object.prototype.toString;n.exports=e||function(n){return!!n&&"[object Array]"==t.call(n)}}]);
//# sourceMappingURL=0.0.js.map