webpackJsonp([4,8],[,,function(t){(function(){"use strict";var e={ramda:"placeholder"},n=function(t,e){return t+e},r=function(t,e){for(var n=-1;++n<e.length;)if(!t(e[n]))return!1;return!0},i=function(t,e){for(var n=-1;++n<e.length;)if(t(e[n]))return!0;return!1},o=function(t,e,n){var r={};for(var i in n)r[i]=n[i];return r[t]=e,r},s=function(t){return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""))},a=function(t){return function(){return!t.apply(this,arguments)}},u=function(t,e){return function(){return t.call(this,e.apply(this,arguments))}},c=function(t,e){t=t||[],e=e||[];var n,r=t.length,i=e.length,o=[];for(n=-1;++n<r;)o[o.length]=t[n];for(n=-1;++n<i;)o[o.length]=e[n];return o},l=function(t,e,n){for(var r=-1,i=n.length;++r<i;)if(t(e,n[r]))return!0;return!1},h=function(t,e){var n={};return n[t]=e,n},f=function(t){return function(e,n){if(n&&n.length>0){for(var r,i=0,o=n[i],s=e(o);++i<n.length;)r=e(n[i]),t(r,s)&&(s=r,o=n[i]);return o}}},p=function(t){return function n(r){return 0===arguments.length?n:r===e?n:t(r)}},d=function(t){return function n(r,i){var o=arguments.length;return 0===o?n:1===o&&r===e?n:1===o?p(function(e){return t(r,e)}):2===o&&r===e&&i===e?n:2===o&&r===e?p(function(e){return t(e,i)}):2===o&&i===e?p(function(e){return t(r,e)}):t(r,i)}},v=function(t){return function n(r,i,o){var s=arguments.length;return 0===s?n:1===s&&r===e?n:1===s?d(function(e,n){return t(r,e,n)}):2===s&&r===e&&i===e?n:2===s&&r===e?d(function(e,n){return t(e,i,n)}):2===s&&i===e?d(function(e,n){return t(r,e,n)}):2===s?p(function(e){return t(r,i,e)}):3===s&&r===e&&i===e&&o===e?n:3===s&&r===e&&i===e?d(function(e,n){return t(e,n,o)}):3===s&&r===e&&o===e?d(function(e,n){return t(e,i,n)}):3===s&&i===e&&o===e?d(function(e,n){return t(r,e,n)}):3===s&&r===e?p(function(e){return t(e,i,o)}):3===s&&i===e?p(function(e){return t(r,e,o)}):3===s&&o===e?p(function(e){return t(r,i,e)}):t(r,i,o)}},g=function(t,e){var n={};for(var r in e)r!==t&&(n[r]=e[r]);return n},m=function(t,e){for(var n=-1,r=e.length,i=[];++n<r;)t(e[n])&&(i[i.length]=e[n]);return i},y=function(t,e){for(var n=-1,r=e.length,i=[];++n<r;)t(e[n],n,e)&&(i[i.length]=e[n]);return i},b=function(t,e){for(var n=-1,r=e.length;++n<r;)t(e[n]);return e},w=function(t){return function(e){return m(function(t){return"function"==typeof e[t]},t(e))}},_=function(t,e){return t>e},x=function(t,e){return Object.prototype.hasOwnProperty.call(e,t)},E=function(t){return t},T=function(t,e,n){var r=0,i=t.length;for("number"==typeof n&&(r=0>n?Math.max(0,i+n):n);i>r;){if(t[r]===e)return r;++r}return-1},C=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)},S=Number.isInteger||function(t){return t<<0===t},A=function(t){return null!=t&&t===Object(t)&&"function"==typeof t.then},k=function(t){return"function"==typeof t.step&&"function"==typeof t.result},j=function(t,e,n){var r=t.length;for("number"==typeof n&&(r=0>n?r+n+1:Math.min(r,n+1));--r>=0;)if(t[r]===e)return r;return-1},R=function(t,e){return e>t},O=function(t,e){for(var n=-1,r=e.length,i=[];++n<r;)i[n]=t(e[n]);return i},P=function(t,e){return t*e},M=function(t,e){return 0>t?e[e.length+t]:e[t]},F=function(t,e){if(null!=e&&0!==t.length){for(var n=e,r=0,i=t.length;i>r&&null!=n;r+=1)n=n[t[r]];return n}},L=function(t,e){return c([t],e)},I=function(t){return t&&t.__transducers_reduced__?t:{value:t,__transducers_reduced__:!0}},D=function(t,e,n){if(t===n)return!0;if(null==n)return!1;e.fn=e.fn||[],e.obj=e.obj||[];for(var r,i,o=-1,s=e.fn.length,a=-1,u=e.obj.length;++o<s;){if(r=e.fn[o],i=t[r],!(r in n))return!1;if(!i(n[r],n))return!1}for(;++a<u;)if(r=e.obj[a],t[r]!==n[r])return!1;return!0},N=function fo(t,e,n){switch(arguments.length){case 1:return fo(t,0,t.length);case 2:return fo(t,e,t.length);default:for(var r=Math.max(0,n-e),i=[],o=-1;++o<r;)i[o]=t[e+o];return i}},B=function(){function t(t,e){this.xf=e,this.f=t,this.all=!0}return t.prototype.init=function(){return this.xf.init()},t.prototype.result=function(t){return this.all&&(t=this.xf.step(t,!0)),this.xf.result(t)},t.prototype.step=function(t,e){return this.f(e)||(this.all=!1,t=I(this.xf.step(t,!1))),t},d(function(e,n){return new t(e,n)})}(),U=function(){function t(t,e){this.xf=e,this.f=t,this.any=!1}return t.prototype.init=function(){return this.xf.init()},t.prototype.result=function(t){return this.any||(t=this.xf.step(t,!1)),this.xf.result(t)},t.prototype.step=function(t,e){return this.f(e)&&(this.any=!0,t=I(this.xf.step(t,!0))),t},d(function(e,n){return new t(e,n)})}(),q=function(){function t(t,e){this.xf=e,this.n=t}return t.prototype.init=function(){return this.xf.init()},t.prototype.result=function(t){return this.xf.result(t)},t.prototype.step=function(t,e){return this.n>0?(this.n-=1,t):this.xf.step(t,e)},d(function(e,n){return new t(e,n)})}(),W=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype.init=function(){return this.xf.init()},t.prototype.result=function(t){return this.xf.result(t)},t.prototype.step=function(t,e){if(this.f){if(this.f(e))return t;this.f=null}return this.xf.step(t,e)},d(function(e,n){return new t(e,n)})}(),G=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype.init=function(){return this.xf.init()},t.prototype.result=function(t){return this.xf.result(t)},t.prototype.step=function(t,e){return this.f(e)?this.xf.step(t,e):t},d(function(e,n){return new t(e,n)})}(),H=function(){function t(t,e){this.xf=e,this.f=t,this.found=!1}return t.prototype.init=function(){return this.xf.init()},t.prototype.result=function(t){return this.found||(t=this.xf.step(t,void 0)),this.xf.result(t)},t.prototype.step=function(t,e){return this.f(e)&&(this.found=!0,t=I(this.xf.step(t,e))),t},d(function(e,n){return new t(e,n)})}(),V=function(){function t(t,e){this.xf=e,this.f=t,this.idx=-1,this.found=!1}return t.prototype.init=function(){return this.xf.init()},t.prototype.result=function(t){return this.found||(t=this.xf.step(t,-1)),this.xf.result(t)},t.prototype.step=function(t,e){return this.idx+=1,this.f(e)&&(this.found=!0,t=I(this.xf.step(t,this.idx))),t},d(function(e,n){return new t(e,n)})}(),z=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype.init=function(){return this.xf.init()},t.prototype.result=function(t){return this.xf.result(this.xf.step(t,this.last))},t.prototype.step=function(t,e){return this.f(e)&&(this.last=e),t},d(function(e,n){return new t(e,n)})}(),$=function(){function t(t,e){this.xf=e,this.f=t,this.idx=-1,this.lastIdx=-1}return t.prototype.init=function(){return this.xf.init()},t.prototype.result=function(t){return this.xf.result(this.xf.step(t,this.lastIdx))},t.prototype.step=function(t,e){return this.idx+=1,this.f(e)&&(this.lastIdx=this.idx),t},d(function(e,n){return new t(e,n)})}(),Y=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype.init=function(){return this.xf.init()},t.prototype.result=function(t){return this.xf.result(t)},t.prototype.step=function(t,e){return this.xf.step(t,this.f(e))},d(function(e,n){return new t(e,n)})}(),X=function(){function t(t,e){this.xf=e,this.n=t}return t.prototype.init=function(){return this.xf.init()},t.prototype.result=function(t){return this.xf.result(t)},t.prototype.step=function(t,e){return this.n-=1,0===this.n?I(this.xf.step(t,e)):this.xf.step(t,e)},d(function(e,n){return new t(e,n)})}(),J=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype.init=function(){return this.xf.init()},t.prototype.result=function(t){return this.xf.result(t)},t.prototype.step=function(t,e){return this.f(e)?this.xf.step(t,e):I(t)},d(function(e,n){return new t(e,n)})}(),K=function(){function t(t){this.f=t}return t.prototype.init=function(){throw new Error("init not implemented on XWrap")},t.prototype.result=function(t){return t},t.prototype.step=function(t,e){return this.f(t,e)},function(e){return new t(e)}}(),Q=d(n),Z=p(function(t){return function(){return t}}),te=d(function(t,e){return t&&e}),ee=d(function(t,e){for(var n=-1,r=e.length-(t-1),i=new Array(r>=0?r:0);++n<r;)i[n]=N(e,n,n+t);return i}),ne=d(function(t,e){return t.apply(this,e)}),re=d(function(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,i){return e.apply(this,arguments)};case 5:return function(t,n,r,i,o){return e.apply(this,arguments)};case 6:return function(t,n,r,i,o,s){return e.apply(this,arguments)};case 7:return function(t,n,r,i,o,s,a){return e.apply(this,arguments)};case 8:return function(t,n,r,i,o,s,a,u){return e.apply(this,arguments)};case 9:return function(t,n,r,i,o,s,a,u,c){return e.apply(this,arguments)};case 10:return function(t,n,r,i,o,s,a,u,c,l){return e.apply(this,arguments)};default:throw new Error("First argument to arity must be a non-negative integer no greater than ten")}}),ie=v(o),oe=d(function(t,e){return re(t.length,function(){return t.apply(e,arguments)})}),se=d(function(t,e){return function(){return t.apply(this,arguments)&&e.apply(this,arguments)}}),ae=p(function(t){return function(e,n){return t(e,n)?-1:t(n,e)?1:0}}),ue=p(a),ce=function(){var t=arguments;return function(){for(var e=-1;++e<t.length;)if(t[e][0].apply(this,arguments))return t[e][1].apply(this,arguments)}},le=v(l),he=d(function(t,e){for(var n={},r=e.length,i=-1;++i<r;){var o=t(e[i]);n[o]=(x(o,n)?n[o]:0)+1}return n}),fe=d(h),pe=d(function po(t,n){return re(t,function(){for(var r=arguments.length,i=t-r,o=r;--o>=0;)arguments[o]===e&&(i+=1);if(0>=i)return n.apply(this,arguments);var s=N(arguments);return po(i,function(){for(var t=N(arguments),i=[],o=-1;++o<r;){var a=s[o];i[o]=a===e?t.shift():a}return n.apply(this,i.concat(t))})})}),de=Q(-1),ve=d(function(t,e){return null==e?t:e}),ge=v(function(t,e,n){for(var r=[],i=-1,o=e.length,s=le(t);++i<o;)s(e[i],n)||s(e[i],r)||(r[i]=e[i]);return r}),me=d(g),ye=d(function(t,e){return t/e}),be=d(function(t,e){return function(){return t.apply(this,arguments)||e.apply(this,arguments)}}),we=d(function(t,e){return 0===t?1/t===1/e:t===e||t!==t&&e!==e}),_e=v(function(t,e,n){return e[t]===n[t]}),xe=d(y),Ee=d(b),Te=d(function(t,e){for(var n=-1,r=e.length;++n<r;)t(e[n],n,e);return e}),Ce=p(function(t){for(var e=-1,n=t.length,r={};++e<n;)C(t[e])&&t[e].length&&(r[t[e][0]]=t[e][1]);return r}),Se=d(_),Ae=d(function(t,e){return t>=e}),ke=d(x),je=d(function(t,e){return t in e}),Re=p(E),Oe=v(function(t,e,n){return pe(Math.max(t.length,e.length,n.length),function(){return t.apply(this,arguments)?e.apply(this,arguments):n.apply(this,arguments)})}),Pe=Q(1),Me=d(function(t,e){return T(e,t)}),Fe=v(function(t,e,n){return t=t<n.length&&t>=0?t:n.length,c(c(N(n,0,t),e),N(n,t))}),Le=d(function(t,e){return null!=e&&e.constructor===t||e instanceof t}),Ie=p(function(t){return C(t)?!0:t?"object"!=typeof t?!1:t instanceof String?!1:1===t.nodeType?!!t.length:0===t.length?!0:t.length>0?t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1):!1:!1}),De=p(function(t){return 0===Object(t).length}),Ne=p(function(t){return"number"==typeof t&&t!==t}),Be=p(function(t){return null==t}),Ue=p(function(t){for(var e=t.length,n=-1;++n<e;)if(T(t,t[n],n+1)>=0)return!1;return!0}),qe=p(function(t){var e,n=[];for(e in t)n[n.length]=e;return n}),We=d(function(t,e){return j(e,t)}),Ge=p(function(t){return null!=t&&Le(Number,t.length)?t.length:0/0}),He=d(function(t,e){var n=function(e){return t(e)};return n.set=d(e),n.map=d(function(n,r){return e(n(t(r)),r)}),n}),Ve=v(function(t,e,n){var r=function(){return t(n)};return r.set=e,r.map=function(r){return e(r(t(n)))},r}),ze=d(R),$e=d(function(t,e){return e>=t}),Ye=v(function(t,e,n){for(var r=-1,i=n.length,o=[],s=[e];++r<i;)s=t(s[0],n[r]),o[r]=s[1];return[s[0],o]}),Xe=v(function(t,e,n){for(var r=n.length,i=[],o=[e];--r>=0;)o=t(o[0],n[r]),i[r]=o[1];return[o[0],i]}),Je=d(function(t,e){for(var n=-1,r=e.length,i=[];++n<r;)i[n]=t(e[n],n,e);return i}),Ke=d(function(t,e){return S(t)?!S(e)||1>e?0/0:(t%e+e)%e:0/0}),Qe=d(f(_)),Ze=function(){var t=function(t){return t+"::"+Object.prototype.toString.call(t)},e=function(e){return e.length+":{"+O(t,e).join(",")+"}"};return p(function(t){var n={};return function(){var r=e(arguments);return x(r,n)||(n[r]=t.apply(this,arguments)),n[r]}})}(),tn=d(f(R)),en=d(function(t,e){return t%e}),nn=d(P),rn=d(function(t,e){switch(t){case 0:return function(){return e.call(this)};case 1:return function(t){return e.call(this,t)};case 2:return function(t,n){return e.call(this,t,n)};case 3:return function(t,n,r){return e.call(this,t,n,r)};case 4:return function(t,n,r,i){return e.call(this,t,n,r,i)};case 5:return function(t,n,r,i,o){return e.call(this,t,n,r,i,o)};case 6:return function(t,n,r,i,o,s){return e.call(this,t,n,r,i,o,s)};case 7:return function(t,n,r,i,o,s,a){return e.call(this,t,n,r,i,o,s,a)};case 8:return function(t,n,r,i,o,s,a,u){return e.call(this,t,n,r,i,o,s,a,u)};case 9:return function(t,n,r,i,o,s,a,u,c){return e.call(this,t,n,r,i,o,s,a,u,c)};case 10:return function(t,n,r,i,o,s,a,u,c,l){return e.call(this,t,n,r,i,o,s,a,u,c,l)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}}),on=p(function(t){return-t}),sn=p(function(t){return!t}),an=d(M),un=p(function(t){return function(){return M(t,arguments)}}),cn=d(function(t,e){return e.charAt(0>t?e.length+t:t)}),ln=d(function(t,e){return e.charCodeAt(0>t?e.length+t:t)}),hn=p(function(t){return[t]}),fn=d(function(t,e){var n={};for(var r in e)T(t,r)<0&&(n[r]=e[r]);return n}),pn=p(function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments))}}),dn=d(function(t,e){return t||e}),vn=d(F),gn=v(function(t,e,n){return F(t,n)===e}),mn=d(function(t,e){var n={};for(var r in e)T(t,r)>=0&&(n[r]=e[r]);return n}),yn=d(function(t,e){for(var n={},r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}),bn=d(function(t,e){var n={};for(var r in e)t(e[r],r,e)&&(n[r]=e[r]);return n}),wn=d(L),_n=d(function(t,e){return e[t]}),xn=v(function(t,e,n){return n[t]===e}),En=v(function(t,e,n){return x(e,n)?n[e]:t}),Tn=d(function(t,e){for(var n=t.length,r=[],i=-1;++i<n;)r[i]=e[t[i]];return r}),Cn=d(function(t,e){for(var n=[],r=t;e>r;)n[n.length]=r,r+=1;return n}),Sn=v(function(t,e,n){for(var r=-1,i=n.length;++r<i;)e=t(e,n[r],r,n);return e}),An=v(function(t,e,n){for(var r=n.length;--r>=0;)e=t(e,n[r]);return e}),kn=v(function(t,e,n){for(var r=n.length;--r>=0;)e=t(e,n[r],r,n);return e}),jn=d(function(t,e){return y(a(t),e)}),Rn=v(function(t,e,n){return c(N(n,0,Math.min(t,n.length)),N(n,Math.min(n.length,t+e)))}),On=v(function(t,e,n){return n.replace(t,e)}),Pn=p(function(t){return N(t).reverse()}),Mn=v(function(t,e,n){for(var r=0,i=n.length+1,o=[e];++r<i;)e=t(e,n[r-1]),o[r]=e;return o}),Fn=d(function(t,e){return N(e).sort(function(e,n){var r=t(e),i=t(n);return i>r?-1:r>i?1:0})}),Ln=d(function(t,e){return e.indexOf(t)}),In=d(function(t,e){return e.lastIndexOf(t)}),Dn=d(function(t,e){return t-e}),Nn=d(function(t,e){return t(e),e}),Bn=d(function(t,e){return s(t).test(e)}),Un=d(function(t,e){for(var n=Number(e),r=new Array(n),i=0;n>i;)r[i]=t(i),i+=1;return r}),qn=p(function(t){var e=[];for(var n in t)x(n,t)&&(e[e.length]=[n,t[n]]);return e}),Wn=p(function(t){var e=[];for(var n in t)e[e.length]=[n,t[n]];return e}),Gn=function(){var t="	\n\f\r   ᠎             　\u2028\u2029﻿",e="​",n="function"==typeof String.prototype.trim;return p(n&&!t.trim()&&e.trim()?function(t){return t.trim()}:function(e){var n=new RegExp("^["+t+"]["+t+"]*"),r=new RegExp("["+t+"]["+t+"]*$");return e.replace(n,"").replace(r,"")})}(),Hn=p(function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}),Vn=p(function(t){return function(){return t(N(arguments))}}),zn=p(function(t){return rn(1,t)}),$n=d(function(t,e){for(var n=t(e),r=[];n&&n.length;)r[r.length]=n[0],n=t(n[1]);return r}),Yn=d(function(t,e){for(var n,r=-1,i=e.length,o=[];++r<i;)n=e[r],l(t,n,o)||(o[o.length]=n);return o}),Xn=p(function(t){var e,n=[];for(e in t)n[n.length]=t[e];return n}),Jn=d(function(t,e){return pe(t.length,function(){return e.apply(this,c([t],arguments))})}),Kn=d(function(t,e){for(var n,r=-1,i=t.length,o=e.length,s=[];++r<i;)for(n=-1;++n<o;)s[s.length]=[t[r],e[n]];return s}),Qn=d(function(t,e){for(var n=[],r=-1,i=Math.min(t.length,e.length);++r<i;)n[r]=[t[r],e[r]];return n}),Zn=d(function(t,e){for(var n=-1,r=t.length,i={};++n<r;)i[t[n]]=e[n];return i}),tr=v(function(t,e,n){for(var r=[],i=-1,o=Math.min(e.length,n.length);++i<o;)r[i]=t(e[i],n[i]);return r}),er=Z(!1),nr=Z(!0),rr=function(t,e){return c(e,[t])},ir=function vo(t,e,n){switch(t.length){case 0:return n;case 1:return o(t[0],e,n);default:return o(t[0],vo(N(t,1),e,Object(n[t[0]])),n)}},or=function go(t,e,n){var r=function(r){for(var i=e.length,o=-1;++o<i;)if(t===e[o])return n[o];e[o+1]=t,n[o+1]=r;for(var s in t)r[s]=go(t[s],e,n);return r};switch(Hn(t)){case"Object":return r({});case"Array":return r([]);case"Date":return new Date(t);case"RegExp":return s(t);default:return t}},sr=function(t,e){return function(){var n=arguments.length;if(0===n)return e();var r=arguments[n-1];return C(r)||"function"!=typeof r[t]?e.apply(this,arguments):r[t].apply(r,N(arguments,0,n-1))}},ar=function(t,e){return function(){var n=this,r=e.apply(this,arguments);return A(r)?r.then(function(e){return t.call(n,e)}):t.call(this,r)}},ur=function(t,e){return T(e,t)>=0},cr=function(t){return function(){for(var e=arguments.length-1,n=arguments[e],r=n.length;--e>=0;)n=t(arguments[e],n);return re(r,n)}},lr=function(t,e){return p(function(n){for(var r,i=-1,o=e;++i<n.length;)r=+n[i],t(r,o)&&(o=r);return o})},hr=function(t){return function(e){var n=N(arguments,1);return re(Math.max(0,e.length-n.length),function(){return e.apply(this,t(n,arguments))})}},fr=function(t,e,n){return function(){var r=arguments.length;if(0===r)return n();var i=arguments[r-1];if(!C(i)){var o=N(arguments,0,r-1);if("function"==typeof i[t])return i[t].apply(i,o);if(k(i)){var s=e.apply(null,o);return s(i)}}return n.apply(this,arguments)}},pr=function mo(t,e){switch(t.length){case 0:return e;case 1:return g(t[0],e);default:var n=t[0],r=N(t,1);return null==e[n]?e:o(n,mo(r,e[n]),e)}},dr=function(t,e){return null!=e&&!C(e)&&"function"==typeof e[t]},vr=function(t){return function e(n){for(var r,i,o,s=[],a=-1,u=n.length;++a<u;)if(Ie(n[a]))for(r=t?e(n[a]):n[a],i=-1,o=r.length;++i<o;)s[s.length]=r[i];else s[s.length]=n[a];return s}},gr=function(t,e){return O(_n(t),e)},mr=function(){function t(t,e,n){for(var r=-1,i=n.length;++r<i;)if(e=t.step(e,n[r]),e&&e.__transducers_reduced__){e=e.value;break}return t.result(e)}function e(t,e,n){for(var r=n.next();!r.done;){if(e=t.step(e,r.value),e&&e.__transducers_reduced__){e=e.value;break}r=n.next()}return t.result(e)}function n(t,e,n){return t.result(n.reduce(oe(t.step,t),e))}var r="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";return function(i,o,s){if("function"==typeof i&&(i=K(i)),Ie(s))return t(i,o,s);if("function"==typeof s.reduce)return n(i,o,s);if(null!=s[r])return e(i,o,s[r]());if("function"==typeof s.next)return e(i,o,s);throw new TypeError("reduce: list must be array or iterable")}}(),yr=function(){function t(t,e){this.xf=e,this.f=t,this.inputs={}}return t.prototype.init=function(){return this.xf.init()},t.prototype.result=function(t){var e;for(e in this.inputs)if(x(e,this.inputs)&&(t=this.xf.step(t,this.inputs[e]),t.__transducers_reduced__)){t=t.value;break}return this.xf.result(t)},t.prototype.step=function(t,e){var n=this.f(e);return this.inputs[n]=this.inputs[n]||[n,[]],this.inputs[n][1]=rr(e,this.inputs[n][1]),t},d(function(e,n){return new t(e,n)})}(),br=d(fr("all",B,r)),wr=d(fr("any",U,i)),_r=d(rr),xr=v(ir),Er=p(function(t){return rn(2,t)}),Tr=p(function(t){return or(t,[],[])}),Cr=cr(u),Sr=cr(ar),Ar=d(function(t,e){if(C(e))return c(t,e);if(dr("concat",t))return t.concat(e);throw new TypeError("can't concat "+typeof t)}),kr=d(ur),jr=pe(3,function(t){var e=N(arguments,1);return function(){var n=arguments;return t.apply(this,O(function(t){return t.apply(this,n)},e))}}),Rr=p(function(t){return pe(t.length,t)}),Or=d(function(t,e){for(var n=[],r=-1,i=t.length;++r<i;)ur(t[r],e)||ur(t[r],n)||(n[n.length]=t[r]);return n}),Pr=d(pr),Mr=d(fr("drop",q,function(t,e){return t<e.length?N(e,t):[]})),Fr=d(fr("dropWhile",W,function(t,e){for(var n=-1,r=e.length;++n<r&&t(e[n]););return N(e,n)})),Lr=p(function(t){return dr("empty",t)?t.empty():[]}),Ir=d(fr("filter",G,m)),Dr=d(fr("find",H,function(t,e){for(var n=-1,r=e.length;++n<r;)if(t(e[n]))return e[n]})),Nr=d(fr("findIndex",V,function(t,e){for(var n=-1,r=e.length;++n<r;)if(t(e[n]))return n;return-1})),Br=d(fr("findLast",z,function(t,e){for(var n=e.length;--n>=0;)if(t(e[n]))return e[n]})),Ur=d(fr("findLastIndex",$,function(t,e){for(var n=e.length;--n>=0;)if(t(e[n]))return n;return-1})),qr=p(vr(!0)),Wr=p(function(t){return Rr(function(e,n){var r=N(arguments);return r[0]=n,r[1]=e,t.apply(this,r)})}),Gr=Rr(function(t,e){return e[t].apply(e,N(arguments,2))}),Hr=p(w(qe)),Vr=d(fr("groupBy",yr,function(t,e){return mr(function(e,n){var r=t(n);return e[r]=rr(n,e[r]||(e[r]=[])),e},{},e)})),zr=an(0),$r=v(function(t,e,n){return t=t<n.length&&t>=0?t:n.length,c(rr(e,N(n,0,t)),N(n,t))}),Yr=v(function(t,e,n){for(var r=[],i=-1;++i<e.length;)l(t,e[i],n)&&(r[r.length]=e[i]);return Yn(t,r)}),Xr=Rr(function(t,e,n){return n[t].apply(n,e)}),Jr=Rr(function(t,e){var n=N(arguments,2),r=t-n.length;return pe(r+1,function(){var t=arguments[r],i=n.concat(N(arguments,0,r));return t[e].apply(t,i)})}),Kr=Jr(1,"join"),Qr=function(){var t=!{toString:null}.propertyIsEnumerable("toString"),e=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];return p(function(n){if(Object(n)!==n)return[];if(Object.keys)return Object.keys(n);var r,i,o=[];for(r in n)x(r,n)&&(o[o.length]=r);if(t)for(i=e.length;--i>=0;)r=e[i],x(r,n)&&!ur(r,o)&&(o[o.length]=r);return o})}(),Zr=an(-1),ti=d(fr("map",Y,O)),ei=d(function(t,e){return mr(function(n,r){return n[r]=t(e[r]),n},{},Qr(e))}),ni=d(function(t,e){return mr(function(n,r){return n[r]=t(e[r],r,e),n},{},Qr(e))}),ri=Jr(1,"match"),ii=lr(_,-1/0),oi=lr(R,1/0),si=d(a(fr("any",U,i))),ai=Rr(hr(c)),ui=Rr(hr(Wr(c))),ci=d(function(t,e){return mr(function(e,n){var r=e[t(n)?0:1];return r[r.length]=n,e},[[],[]],e)}),li=function(){return Cr.apply(this,Pn(arguments))},hi=function(){return Sr.apply(this,Pn(arguments))},fi=d(gr),pi=v(mr),di=d(function(t,e){return Ir(a(t),e)}),vi=d(function(t,e){return Un(Z(t),e)}),gi=v(sr("slice",function(t,e,n){return Array.prototype.slice.call(n,t,e)})),mi=d(function(t,e){return Tr(e).sort(t)}),yi=Jr(1,"split"),bi=gi,wi=bi(e,1/0),_i=bi(0),xi=pi(n,0),Ei=sr("tail",function(t){return N(t,1)}),Ti=d(fr("take",X,function(t,e){return N(e,0,Math.min(t,e.length))})),Ci=d(fr("takeWhile",J,function(t,e){for(var n=-1,r=e.length;++n<r&&t(e[n]););return N(e,0,n)})),Si=Jr(0,"toLowerCase"),Ai=Jr(0,"toUpperCase"),ki=pe(4,function(t,e,n,r){return mr(t("function"==typeof e?K(e):e),n,r)}),ji=v(function(t,e,n){return Yn(t,c(e,n))}),Ri=p(function(t){for(var e,n=-1,r=t.length,i=[];++n<r;)e=t[n],ur(e,i)||(i[i.length]=e);return i}),Oi=p(vr(!1)),Pi=Rr(function(t){var e=N(arguments,1),n=e.length;return Rr(re(n,function(){for(var r=[],i=-1;++i<n;)r[i]=e[i](arguments[i]);return t.apply(this,r.concat(N(arguments,n)))}))}),Mi=p(function(t){for(var e=Qr(t),n=e.length,r=[],i=-1;++i<n;)r[i]=t[e[i]];return r}),Fi=d(function(t,e){var n=Vr(function(e){return"function"==typeof t[e]?"fn":"obj"},Qr(t));return D(t,n,e)}),Li=function yo(t,e,n,r){var i=Hn(t);if(i!==Hn(e))return!1;if(we(t,e))return!0;if("RegExp"==i)return t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline&&t.sticky===e.sticky&&t.unicode===e.unicode;if(Object(t)===t){if("Date"===i&&t.getTime()!=e.getTime())return!1;var o=Qr(t);if(o.length!==Qr(e).length)return!1;for(var s=n.length;--s>=0;)if(n[s]===t)return r[s]===e;for(n[n.length]=t,r[r.length]=e,s=o.length;--s>=0;){var a=o[s];if(!x(a,e)||!yo(e[a],t[a],n,r))return!1}return n.pop(),r.pop(),!0}return!1},Ii=function(t,e){for(var n=Qr(e),r=-1,i=n.length;++r<i;)t[n[r]]=e[n[r]];return t},Di=function(t){return function(e){var n=function(){var n=arguments;return t(function(t){return t.apply(null,n)},e)};return arguments.length>1?n.apply(null,N(arguments,1)):re(ii(gr("length",e)),n)}},Ni=Rr(Di(r)),Bi=Rr(Di(i)),Ui=d(function(t,e){return dr("ap",t)?t.ap(e):mr(function(t,n){return c(t,ti(n,e))},[],t)}),qi=Rr(function(t){return t.apply(this,N(arguments,1))}),Wi=d(sr("chain",function(t,e){return Oi(O(t,e))})),Gi=Jr(1,"charAt"),Hi=Jr(1,"charCodeAt"),Vi=v(function(t,e,n){function r(e,n){return Ui(ti(_r,t(n)),e)}return mr(r,e([]),n)}),zi=d(function(t,e){if(t>10)throw new Error("Constructor with greater than ten arguments");return 0===t?function(){return new e}:Rr(rn(t,function(t,n,r,i,o,s,a,u,c,l){switch(arguments.length){case 1:return new e(t);case 2:return new e(t,n);case 3:return new e(t,n,r);case 4:return new e(t,n,r,i);case 5:return new e(t,n,r,i,o);case 6:return new e(t,n,r,i,o,s);case 7:return new e(t,n,r,i,o,s,a);case 8:return new e(t,n,r,i,o,s,a,u);case 9:return new e(t,n,r,i,o,s,a,u,c);case 10:return new e(t,n,r,i,o,s,a,u,c,l)}}))}),$i=d(function(t,e){return Li(t,e,[],[])}),Yi=d(function(t,e){return Ii(Ii({},e),ni(function(t,n){return t(e[n])},t))}),Xi=p(w(Qr)),Ji=gi(0,-1),Ki=d(function(t,e){return Ri(m(Wr(ur)(t),e))}),Qi=p(function(t){for(var e=Qr(t),n=e.length,r=-1,i={};++r<n;){var o=e[r],s=t[o],a=x(s,i)?i[s]:i[s]=[];a[a.length]=o}return i}),Zi=p(function(t){for(var e=Qr(t),n=e.length,r=-1,i={};++r<n;){var o=e[r];i[t[o]]=o}return i}),to=d(function(t,e){var n=pe(t,e);return pe(t,function(){return mr(Ui,ti(n,arguments[0]),N(arguments,1))})}),eo=d(function(t,e){return Ii(Ii({},t),e)}),no=p(function(t){return pi(eo,{},t)}),ro=pi(P,1),io=Pi(O,yn,Re),oo=d(Cr(Ri,c)),so=function(){var t={init:Array,step:function(t,e){return c(t,[e])},result:E},e={init:String,step:n,result:E},r={init:Object,step:function(t,e){return eo(t,Ie(e)?h(e[0],e[1]):e)},result:E};return function(n){if(k(n))return n;if(Ie(n))return t;if("string"==typeof n)return e;if("object"==typeof n)return r;throw new Error("Cannot create transformer for "+n)}}(),ao=Vi(ti(Re)),uo=p(function(t){return zi(t.length,t)}),co=v(function(t,e,n){return k(t)?mr(e(t),t.init(),n):mr(e(so(t)),t,n)}),lo=p(function(t){return to(t.length,t)}),ho={F:er,T:nr,__:e,add:Q,all:br,allPass:Ni,always:Z,and:te,any:wr,anyPass:Bi,ap:Ui,aperture:ee,append:_r,apply:ne,arity:re,assoc:ie,assocPath:xr,binary:Er,bind:oe,both:se,call:qi,chain:Wi,charAt:Gi,charCodeAt:Hi,clone:Tr,commute:ao,commuteMap:Vi,comparator:ae,complement:ue,compose:Cr,composeP:Sr,concat:Ar,cond:ce,construct:uo,constructN:zi,contains:kr,containsWith:le,converge:jr,countBy:he,createMapEntry:fe,curry:Rr,curryN:pe,dec:de,defaultTo:ve,difference:Or,differenceWith:ge,dissoc:me,dissocPath:Pr,divide:ye,drop:Mr,dropWhile:Fr,either:be,empty:Lr,eq:we,eqDeep:$i,eqProps:_e,evolve:Yi,filter:Ir,filterIndexed:xe,find:Dr,findIndex:Nr,findLast:Br,findLastIndex:Ur,flatten:qr,flip:Wr,forEach:Ee,forEachIndexed:Te,fromPairs:Ce,func:Gr,functions:Xi,functionsIn:Hr,groupBy:Vr,gt:Se,gte:Ae,has:ke,hasIn:je,head:zr,identity:Re,ifElse:Oe,inc:Pe,indexOf:Me,init:Ji,insert:$r,insertAll:Fe,intersection:Ki,intersectionWith:Yr,into:co,invert:Qi,invertObj:Zi,invoke:Xr,invoker:Jr,is:Le,isArrayLike:Ie,isEmpty:De,isNaN:Ne,isNil:Be,isSet:Ue,join:Kr,keys:Qr,keysIn:qe,last:Zr,lastIndexOf:We,length:Ge,lens:He,lensOn:Ve,lift:lo,liftN:to,lt:ze,lte:$e,map:ti,mapAccum:Ye,mapAccumRight:Xe,mapIndexed:Je,mapObj:ei,mapObjIndexed:ni,match:ri,mathMod:Ke,max:ii,maxBy:Qe,memoize:Ze,merge:eo,mergeAll:no,min:oi,minBy:tn,modulo:en,multiply:nn,nAry:rn,negate:on,none:si,not:sn,nth:an,nthArg:un,nthChar:cn,nthCharCode:ln,of:hn,omit:fn,once:pn,or:dn,partial:ai,partialRight:ui,partition:ci,path:vn,pathEq:gn,pick:mn,pickAll:yn,pickBy:bn,pipe:li,pipeP:hi,pluck:fi,prepend:wn,product:ro,project:io,prop:_n,propEq:xn,propOr:En,props:Tn,range:Cn,reduce:pi,reduceIndexed:Sn,reduceRight:An,reduceRightIndexed:kn,reject:di,rejectIndexed:jn,remove:Rn,repeat:vi,replace:On,reverse:Pn,scan:Mn,slice:gi,sort:mi,sortBy:Fn,split:yi,strIndexOf:Ln,strLastIndexOf:In,substring:bi,substringFrom:wi,substringTo:_i,subtract:Dn,sum:xi,tail:Ei,take:Ti,takeWhile:Ci,tap:Nn,test:Bn,times:Un,toLower:Si,toPairs:qn,toPairsIn:Wn,toUpper:Ai,transduce:ki,trim:Gn,type:Hn,unapply:Vn,unary:zn,unfold:$n,union:oo,unionWith:ji,uniq:Ri,uniqWith:Yn,unnest:Oi,useWith:Pi,values:Mi,valuesIn:Xn,where:Fi,wrap:Jn,xprod:Kn,zip:Qn,zipObj:Zn,zipWith:tr};t.exports=ho}).call(this)},function(t,e){/**
	 * @license
	 * pixi.js - v2.2.7
	 * Copyright (c) 2012-2014, Mat Groves
	 * http://goodboydigital.com/
	 *
	 * Compiled: 2015-02-25
	 *
	 * pixi.js is licensed under the MIT License.
	 * http://www.opensource.org/licenses/mit-license.php
	 */
(function(){var n=n||{};n.WEBGL_RENDERER=0,n.CANVAS_RENDERER=1,n.VERSION="v2.2.7",n.blendModes={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},n.scaleModes={DEFAULT:0,LINEAR:0,NEAREST:1},n._UID=0,"undefined"!=typeof Float32Array?(n.Float32Array=Float32Array,n.Uint16Array=Uint16Array,n.Uint32Array=Uint32Array,n.ArrayBuffer=ArrayBuffer):(n.Float32Array=Array,n.Uint16Array=Array),n.INTERACTION_FREQUENCY=30,n.AUTO_PREVENT_DEFAULT=!0,n.PI_2=2*Math.PI,n.RAD_TO_DEG=180/Math.PI,n.DEG_TO_RAD=Math.PI/180,n.RETINA_PREFIX="@2x",n.dontSayHello=!1,n.defaultRenderOptions={view:null,transparent:!1,antialias:!1,preserveDrawingBuffer:!1,resolution:1,clearBeforeRender:!0,autoResize:!1},n.sayHello=function(t){if(!n.dontSayHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["%c %c %c Pixi.js "+n.VERSION+" - "+t+"  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ ","background: #ff66a5","background: #ff66a5","color: #ff66a5; background: #030307;","background: #ff66a5","background: #ffc3dc","background: #ff66a5","color: #ff2424; background: #fff","color: #ff2424; background: #fff","color: #ff2424; background: #fff"];console.log.apply(console,e)}else window.console&&console.log("Pixi.js "+n.VERSION+" - http://www.pixijs.com/");n.dontSayHello=!0}},n.Point=function(t,e){this.x=t||0,this.y=e||0},n.Point.prototype.clone=function(){return new n.Point(this.x,this.y)},n.Point.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},n.Point.prototype.constructor=n.Point,n.Rectangle=function(t,e,n,r){this.x=t||0,this.y=e||0,this.width=n||0,this.height=r||0},n.Rectangle.prototype.clone=function(){return new n.Rectangle(this.x,this.y,this.width,this.height)},n.Rectangle.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var n=this.x;if(t>=n&&t<=n+this.width){var r=this.y;if(e>=r&&e<=r+this.height)return!0}return!1},n.Rectangle.prototype.constructor=n.Rectangle,n.EmptyRectangle=new n.Rectangle(0,0,0,0),n.Polygon=function(t){if(t instanceof Array||(t=Array.prototype.slice.call(arguments)),t[0]instanceof n.Point){for(var e=[],r=0,i=t.length;i>r;r++)e.push(t[r].x,t[r].y);t=e}this.closed=!0,this.points=t},n.Polygon.prototype.clone=function(){var t=this.points.slice();return new n.Polygon(t)},n.Polygon.prototype.contains=function(t,e){for(var n=!1,r=this.points.length/2,i=0,o=r-1;r>i;o=i++){var s=this.points[2*i],a=this.points[2*i+1],u=this.points[2*o],c=this.points[2*o+1],l=a>e!=c>e&&(u-s)*(e-a)/(c-a)+s>t;l&&(n=!n)}return n},n.Polygon.prototype.constructor=n.Polygon,n.Circle=function(t,e,n){this.x=t||0,this.y=e||0,this.radius=n||0},n.Circle.prototype.clone=function(){return new n.Circle(this.x,this.y,this.radius)},n.Circle.prototype.contains=function(t,e){if(this.radius<=0)return!1;var n=this.x-t,r=this.y-e,i=this.radius*this.radius;return n*=n,r*=r,i>=n+r},n.Circle.prototype.getBounds=function(){return new n.Rectangle(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},n.Circle.prototype.constructor=n.Circle,n.Ellipse=function(t,e,n,r){this.x=t||0,this.y=e||0,this.width=n||0,this.height=r||0},n.Ellipse.prototype.clone=function(){return new n.Ellipse(this.x,this.y,this.width,this.height)},n.Ellipse.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,r=(e-this.y)/this.height;return n*=n,r*=r,1>=n+r},n.Ellipse.prototype.getBounds=function(){return new n.Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)},n.Ellipse.prototype.constructor=n.Ellipse,n.RoundedRectangle=function(t,e,n,r,i){this.x=t||0,this.y=e||0,this.width=n||0,this.height=r||0,this.radius=i||20},n.RoundedRectangle.prototype.clone=function(){return new n.RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)},n.RoundedRectangle.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var n=this.x;if(t>=n&&t<=n+this.width){var r=this.y;if(e>=r&&e<=r+this.height)return!0}return!1},n.RoundedRectangle.prototype.constructor=n.RoundedRectangle,n.Matrix=function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},n.Matrix.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},n.Matrix.prototype.toArray=function(t){this.array||(this.array=new n.Float32Array(9));var e=this.array;return t?(e[0]=this.a,e[1]=this.b,e[2]=0,e[3]=this.c,e[4]=this.d,e[5]=0,e[6]=this.tx,e[7]=this.ty,e[8]=1):(e[0]=this.a,e[1]=this.c,e[2]=this.tx,e[3]=this.b,e[4]=this.d,e[5]=this.ty,e[6]=0,e[7]=0,e[8]=1),e},n.Matrix.prototype.apply=function(t,e){return e=e||new n.Point,e.x=this.a*t.x+this.c*t.y+this.tx,e.y=this.b*t.x+this.d*t.y+this.ty,e},n.Matrix.prototype.applyInverse=function(t,e){e=e||new n.Point;var r=1/(this.a*this.d+this.c*-this.b);return e.x=this.d*r*t.x+-this.c*r*t.y+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*t.y+-this.b*r*t.x+(-this.ty*this.a+this.tx*this.b)*r,e},n.Matrix.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},n.Matrix.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},n.Matrix.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.a,i=this.c,o=this.tx;return this.a=r*e-this.b*n,this.b=r*n+this.b*e,this.c=i*e-this.d*n,this.d=i*n+this.d*e,this.tx=o*e-this.ty*n,this.ty=o*n+this.ty*e,this},n.Matrix.prototype.append=function(t){var e=this.a,n=this.b,r=this.c,i=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*n+t.b*i,this.c=t.c*e+t.d*r,this.d=t.c*n+t.d*i,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*n+t.ty*i+this.ty,this},n.Matrix.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},n.identityMatrix=new n.Matrix,n.DisplayObject=function(){this.position=new n.Point,this.scale=new n.Point(1,1),this.pivot=new n.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.hitArea=null,this.buttonMode=!1,this.renderable=!1,this.parent=null,this.stage=null,this.worldAlpha=1,this._interactive=!1,this.defaultCursor="pointer",this.worldTransform=new n.Matrix,this._sr=0,this._cr=1,this.filterArea=null,this._bounds=new n.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null,this._cacheAsBitmap=!1,this._cacheIsDirty=!1},n.DisplayObject.prototype.constructor=n.DisplayObject,Object.defineProperty(n.DisplayObject.prototype,"interactive",{get:function(){return this._interactive},set:function(t){this._interactive=t,this.stage&&(this.stage.dirty=!0)}}),Object.defineProperty(n.DisplayObject.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}}),Object.defineProperty(n.DisplayObject.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask&&(this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.isMask=!0)}}),Object.defineProperty(n.DisplayObject.prototype,"filters",{get:function(){return this._filters},set:function(t){if(t){for(var e=[],n=0;n<t.length;n++)for(var r=t[n].passes,i=0;i<r.length;i++)e.push(r[i]);this._filterBlock={target:this,filterPasses:e}}this._filters=t}}),Object.defineProperty(n.DisplayObject.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap!==t&&(t?this._generateCachedSprite():this._destroyCachedSprite(),this._cacheAsBitmap=t)}}),n.DisplayObject.prototype.updateTransform=function(){var t,e,r,i,o,s,a=this.parent.worldTransform,u=this.worldTransform;this.rotation%n.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),t=this._cr*this.scale.x,e=this._sr*this.scale.x,r=-this._sr*this.scale.y,i=this._cr*this.scale.y,o=this.position.x,s=this.position.y,(this.pivot.x||this.pivot.y)&&(o-=this.pivot.x*t+this.pivot.y*r,s-=this.pivot.x*e+this.pivot.y*i),u.a=t*a.a+e*a.c,u.b=t*a.b+e*a.d,u.c=r*a.a+i*a.c,u.d=r*a.b+i*a.d,u.tx=o*a.a+s*a.c+a.tx,u.ty=o*a.b+s*a.d+a.ty):(t=this.scale.x,i=this.scale.y,o=this.position.x-this.pivot.x*t,s=this.position.y-this.pivot.y*i,u.a=t*a.a,u.b=t*a.b,u.c=i*a.c,u.d=i*a.d,u.tx=o*a.a+s*a.c+a.tx,u.ty=o*a.b+s*a.d+a.ty),this.worldAlpha=this.alpha*this.parent.worldAlpha},n.DisplayObject.prototype.displayObjectUpdateTransform=n.DisplayObject.prototype.updateTransform,n.DisplayObject.prototype.getBounds=function(t){return t=t,n.EmptyRectangle},n.DisplayObject.prototype.getLocalBounds=function(){return this.getBounds(n.identityMatrix)},n.DisplayObject.prototype.setStageReference=function(t){this.stage=t,this._interactive&&(this.stage.dirty=!0)},n.DisplayObject.prototype.generateTexture=function(t,e,r){var i=this.getLocalBounds(),o=new n.RenderTexture(0|i.width,0|i.height,r,e,t);return n.DisplayObject._tempMatrix.tx=-i.x,n.DisplayObject._tempMatrix.ty=-i.y,o.render(this,n.DisplayObject._tempMatrix),o},n.DisplayObject.prototype.updateCache=function(){this._generateCachedSprite()},n.DisplayObject.prototype.toGlobal=function(t){return this.displayObjectUpdateTransform(),this.worldTransform.apply(t)},n.DisplayObject.prototype.toLocal=function(t,e){return e&&(t=e.toGlobal(t)),this.displayObjectUpdateTransform(),this.worldTransform.applyInverse(t)},n.DisplayObject.prototype._renderCachedSprite=function(t){this._cachedSprite.worldAlpha=this.worldAlpha,t.gl?n.Sprite.prototype._renderWebGL.call(this._cachedSprite,t):n.Sprite.prototype._renderCanvas.call(this._cachedSprite,t)},n.DisplayObject.prototype._generateCachedSprite=function(){this._cacheAsBitmap=!1;var t=this.getLocalBounds();if(this._cachedSprite)this._cachedSprite.texture.resize(0|t.width,0|t.height);else{var e=new n.RenderTexture(0|t.width,0|t.height);this._cachedSprite=new n.Sprite(e),this._cachedSprite.worldTransform=this.worldTransform}var r=this._filters;this._filters=null,this._cachedSprite.filters=r,n.DisplayObject._tempMatrix.tx=-t.x,n.DisplayObject._tempMatrix.ty=-t.y,this._cachedSprite.texture.render(this,n.DisplayObject._tempMatrix,!0),this._cachedSprite.anchor.x=-(t.x/t.width),this._cachedSprite.anchor.y=-(t.y/t.height),this._filters=r,this._cacheAsBitmap=!0},n.DisplayObject.prototype._destroyCachedSprite=function(){this._cachedSprite&&(this._cachedSprite.texture.destroy(!0),this._cachedSprite=null)},n.DisplayObject.prototype._renderWebGL=function(t){t=t},n.DisplayObject.prototype._renderCanvas=function(t){t=t},n.DisplayObject._tempMatrix=new n.Matrix,Object.defineProperty(n.DisplayObject.prototype,"x",{get:function(){return this.position.x},set:function(t){this.position.x=t}}),Object.defineProperty(n.DisplayObject.prototype,"y",{get:function(){return this.position.y},set:function(t){this.position.y=t}}),n.DisplayObjectContainer=function(){n.DisplayObject.call(this),this.children=[]},n.DisplayObjectContainer.prototype=Object.create(n.DisplayObject.prototype),n.DisplayObjectContainer.prototype.constructor=n.DisplayObjectContainer,Object.defineProperty(n.DisplayObjectContainer.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}}),Object.defineProperty(n.DisplayObjectContainer.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}),n.DisplayObjectContainer.prototype.addChild=function(t){return this.addChildAt(t,this.children.length)},n.DisplayObjectContainer.prototype.addChildAt=function(t,e){if(e>=0&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),this.stage&&t.setStageReference(this.stage),t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},n.DisplayObjectContainer.prototype.swapChildren=function(t,e){if(t!==e){var n=this.getChildIndex(t),r=this.getChildIndex(e);if(0>n||0>r)throw new Error("swapChildren: Both the supplied DisplayObjects must be a child of the caller.");this.children[n]=e,this.children[r]=t}},n.DisplayObjectContainer.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},n.DisplayObjectContainer.prototype.setChildIndex=function(t,e){if(0>e||e>=this.children.length)throw new Error("The supplied index is out of bounds");var n=this.getChildIndex(t);this.children.splice(n,1),this.children.splice(e,0,t)},n.DisplayObjectContainer.prototype.getChildAt=function(t){if(0>t||t>=this.children.length)throw new Error("getChildAt: Supplied index "+t+" does not exist in the child list, or the supplied DisplayObject must be a child of the caller");return this.children[t]},n.DisplayObjectContainer.prototype.removeChild=function(t){var e=this.children.indexOf(t);if(-1!==e)return this.removeChildAt(e)},n.DisplayObjectContainer.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return this.stage&&e.removeStageReference(),e.parent=void 0,this.children.splice(t,1),e},n.DisplayObjectContainer.prototype.removeChildren=function(t,e){var n=t||0,r="number"==typeof e?e:this.children.length,i=r-n;if(i>0&&r>=i){for(var o=this.children.splice(n,i),s=0;s<o.length;s++){var a=o[s];this.stage&&a.removeStageReference(),a.parent=void 0}return o}if(0===i&&0===this.children.length)return[];throw new Error("removeChildren: Range Error, numeric values are outside the acceptable range")},n.DisplayObjectContainer.prototype.updateTransform=function(){if(this.visible&&(this.displayObjectUpdateTransform(),!this._cacheAsBitmap))for(var t=0,e=this.children.length;e>t;t++)this.children[t].updateTransform()},n.DisplayObjectContainer.prototype.displayObjectContainerUpdateTransform=n.DisplayObjectContainer.prototype.updateTransform,n.DisplayObjectContainer.prototype.getBounds=function(){if(0===this.children.length)return n.EmptyRectangle;for(var t,e,r,i=1/0,o=1/0,s=-1/0,a=-1/0,u=!1,c=0,l=this.children.length;l>c;c++){var h=this.children[c];h.visible&&(u=!0,t=this.children[c].getBounds(),i=i<t.x?i:t.x,o=o<t.y?o:t.y,e=t.width+t.x,r=t.height+t.y,s=s>e?s:e,a=a>r?a:r)}if(!u)return n.EmptyRectangle;var f=this._bounds;return f.x=i,f.y=o,f.width=s-i,f.height=a-o,f},n.DisplayObjectContainer.prototype.getLocalBounds=function(){var t=this.worldTransform;this.worldTransform=n.identityMatrix;for(var e=0,r=this.children.length;r>e;e++)this.children[e].updateTransform();var i=this.getBounds();return this.worldTransform=t,i},n.DisplayObjectContainer.prototype.setStageReference=function(t){this.stage=t,this._interactive&&(this.stage.dirty=!0);for(var e=0,n=this.children.length;n>e;e++){var r=this.children[e];r.setStageReference(t)}},n.DisplayObjectContainer.prototype.removeStageReference=function(){for(var t=0,e=this.children.length;e>t;t++){var n=this.children[t];n.removeStageReference()}this._interactive&&(this.stage.dirty=!0),this.stage=null},n.DisplayObjectContainer.prototype._renderWebGL=function(t){if(this.visible&&!(this.alpha<=0)){if(this._cacheAsBitmap)return void this._renderCachedSprite(t);var e,n;if(this._mask||this._filters){for(this._filters&&(t.spriteBatch.flush(),t.filterManager.pushFilter(this._filterBlock)),this._mask&&(t.spriteBatch.stop(),t.maskManager.pushMask(this.mask,t),t.spriteBatch.start()),e=0,n=this.children.length;n>e;e++)this.children[e]._renderWebGL(t);t.spriteBatch.stop(),this._mask&&t.maskManager.popMask(this._mask,t),this._filters&&t.filterManager.popFilter(),t.spriteBatch.start()}else for(e=0,n=this.children.length;n>e;e++)this.children[e]._renderWebGL(t)}},n.DisplayObjectContainer.prototype._renderCanvas=function(t){if(this.visible!==!1&&0!==this.alpha){if(this._cacheAsBitmap)return void this._renderCachedSprite(t);this._mask&&t.maskManager.pushMask(this._mask,t);for(var e=0,n=this.children.length;n>e;e++){var r=this.children[e];r._renderCanvas(t)}this._mask&&t.maskManager.popMask(t)}},n.Sprite=function(t){n.DisplayObjectContainer.call(this),this.anchor=new n.Point,this.texture=t||n.Texture.emptyTexture,this._width=0,this._height=0,this.tint=16777215,this.blendMode=n.blendModes.NORMAL,this.shader=null,this.texture.baseTexture.hasLoaded?this.onTextureUpdate():this.texture.on("update",this.onTextureUpdate.bind(this)),this.renderable=!0},n.Sprite.prototype=Object.create(n.DisplayObjectContainer.prototype),n.Sprite.prototype.constructor=n.Sprite,Object.defineProperty(n.Sprite.prototype,"width",{get:function(){return this.scale.x*this.texture.frame.width},set:function(t){this.scale.x=t/this.texture.frame.width,this._width=t}}),Object.defineProperty(n.Sprite.prototype,"height",{get:function(){return this.scale.y*this.texture.frame.height},set:function(t){this.scale.y=t/this.texture.frame.height,this._height=t}}),n.Sprite.prototype.setTexture=function(t){this.texture=t,this.cachedTint=16777215},n.Sprite.prototype.onTextureUpdate=function(){this._width&&(this.scale.x=this._width/this.texture.frame.width),this._height&&(this.scale.y=this._height/this.texture.frame.height)},n.Sprite.prototype.getBounds=function(t){var e=this.texture.frame.width,n=this.texture.frame.height,r=e*(1-this.anchor.x),i=e*-this.anchor.x,o=n*(1-this.anchor.y),s=n*-this.anchor.y,a=t||this.worldTransform,u=a.a,c=a.b,l=a.c,h=a.d,f=a.tx,p=a.ty,d=-1/0,v=-1/0,g=1/0,m=1/0;if(0===c&&0===l)0>u&&(u*=-1),0>h&&(h*=-1),g=u*i+f,d=u*r+f,m=h*s+p,v=h*o+p;else{var y=u*i+l*s+f,b=h*s+c*i+p,w=u*r+l*s+f,_=h*s+c*r+p,x=u*r+l*o+f,E=h*o+c*r+p,T=u*i+l*o+f,C=h*o+c*i+p;g=g>y?y:g,g=g>w?w:g,g=g>x?x:g,g=g>T?T:g,m=m>b?b:m,m=m>_?_:m,m=m>E?E:m,m=m>C?C:m,d=y>d?y:d,d=w>d?w:d,d=x>d?x:d,d=T>d?T:d,v=b>v?b:v,v=_>v?_:v,v=E>v?E:v,v=C>v?C:v}var S=this._bounds;return S.x=g,S.width=d-g,S.y=m,S.height=v-m,this._currentBounds=S,S},n.Sprite.prototype._renderWebGL=function(t){if(this.visible&&!(this.alpha<=0)){var e,n;if(this._mask||this._filters){var r=t.spriteBatch;for(this._filters&&(r.flush(),t.filterManager.pushFilter(this._filterBlock)),this._mask&&(r.stop(),t.maskManager.pushMask(this.mask,t),r.start()),r.render(this),e=0,n=this.children.length;n>e;e++)this.children[e]._renderWebGL(t);r.stop(),this._mask&&t.maskManager.popMask(this._mask,t),this._filters&&t.filterManager.popFilter(),r.start()}else for(t.spriteBatch.render(this),e=0,n=this.children.length;n>e;e++)this.children[e]._renderWebGL(t)}},n.Sprite.prototype._renderCanvas=function(t){if(!(this.visible===!1||0===this.alpha||this.texture.crop.width<=0||this.texture.crop.height<=0)){if(this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,t.context.globalCompositeOperation=n.blendModesCanvas[t.currentBlendMode]),this._mask&&t.maskManager.pushMask(this._mask,t),this.texture.valid){var e=this.texture.baseTexture.resolution/t.resolution;t.context.globalAlpha=this.worldAlpha,t.smoothProperty&&t.scaleMode!==this.texture.baseTexture.scaleMode&&(t.scaleMode=this.texture.baseTexture.scaleMode,t.context[t.smoothProperty]=t.scaleMode===n.scaleModes.LINEAR);var r=this.texture.trim?this.texture.trim.x-this.anchor.x*this.texture.trim.width:this.anchor.x*-this.texture.frame.width,i=this.texture.trim?this.texture.trim.y-this.anchor.y*this.texture.trim.height:this.anchor.y*-this.texture.frame.height;t.roundPixels?(t.context.setTransform(this.worldTransform.a,this.worldTransform.b,this.worldTransform.c,this.worldTransform.d,this.worldTransform.tx*t.resolution|0,this.worldTransform.ty*t.resolution|0),r=0|r,i=0|i):t.context.setTransform(this.worldTransform.a,this.worldTransform.b,this.worldTransform.c,this.worldTransform.d,this.worldTransform.tx*t.resolution,this.worldTransform.ty*t.resolution),16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=n.CanvasTinter.getTintedTexture(this,this.tint)),t.context.drawImage(this.tintedTexture,0,0,this.texture.crop.width,this.texture.crop.height,r/e,i/e,this.texture.crop.width/e,this.texture.crop.height/e)):t.context.drawImage(this.texture.baseTexture.source,this.texture.crop.x,this.texture.crop.y,this.texture.crop.width,this.texture.crop.height,r/e,i/e,this.texture.crop.width/e,this.texture.crop.height/e)}for(var o=0,s=this.children.length;s>o;o++)this.children[o]._renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},n.Sprite.fromFrame=function(t){var e=n.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache'+this);return new n.Sprite(e)},n.Sprite.fromImage=function(t,e,r){var i=n.Texture.fromImage(t,e,r);return new n.Sprite(i)},n.SpriteBatch=function(t){n.DisplayObjectContainer.call(this),this.textureThing=t,this.ready=!1},n.SpriteBatch.prototype=Object.create(n.DisplayObjectContainer.prototype),n.SpriteBatch.prototype.constructor=n.SpriteBatch,n.SpriteBatch.prototype.initWebGL=function(t){this.fastSpriteBatch=new n.WebGLFastSpriteBatch(t),this.ready=!0},n.SpriteBatch.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},n.SpriteBatch.prototype._renderWebGL=function(t){!this.visible||this.alpha<=0||!this.children.length||(this.ready||this.initWebGL(t.gl),this.fastSpriteBatch.gl!==t.gl&&this.fastSpriteBatch.setContext(t.gl),t.spriteBatch.stop(),t.shaderManager.setShader(t.shaderManager.fastShader),this.fastSpriteBatch.begin(this,t),this.fastSpriteBatch.render(this),t.spriteBatch.start())},n.SpriteBatch.prototype._renderCanvas=function(t){if(this.visible&&!(this.alpha<=0)&&this.children.length){var e=t.context;e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var n=this.worldTransform,r=!0,i=0;i<this.children.length;i++){var o=this.children[i];if(o.visible){var s=o.texture,a=s.frame;if(e.globalAlpha=this.worldAlpha*o.alpha,o.rotation%(2*Math.PI)===0)r&&(e.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),r=!1),e.drawImage(s.baseTexture.source,a.x,a.y,a.width,a.height,o.anchor.x*-a.width*o.scale.x+o.position.x+.5|0,o.anchor.y*-a.height*o.scale.y+o.position.y+.5|0,a.width*o.scale.x,a.height*o.scale.y);else{r||(r=!0),o.displayObjectUpdateTransform();var u=o.worldTransform;t.roundPixels?e.setTransform(u.a,u.b,u.c,u.d,0|u.tx,0|u.ty):e.setTransform(u.a,u.b,u.c,u.d,u.tx,u.ty),e.drawImage(s.baseTexture.source,a.x,a.y,a.width,a.height,o.anchor.x*-a.width+.5|0,o.anchor.y*-a.height+.5|0,a.width,a.height)}}}}},n.MovieClip=function(t){n.Sprite.call(this,t[0]),this.textures=t,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this.currentFrame=0,this.playing=!1},n.MovieClip.prototype=Object.create(n.Sprite.prototype),n.MovieClip.prototype.constructor=n.MovieClip,Object.defineProperty(n.MovieClip.prototype,"totalFrames",{get:function(){return this.textures.length}}),n.MovieClip.prototype.stop=function(){this.playing=!1},n.MovieClip.prototype.play=function(){this.playing=!0},n.MovieClip.prototype.gotoAndStop=function(t){this.playing=!1,this.currentFrame=t;var e=this.currentFrame+.5|0;this.setTexture(this.textures[e%this.textures.length])},n.MovieClip.prototype.gotoAndPlay=function(t){this.currentFrame=t,this.playing=!0},n.MovieClip.prototype.updateTransform=function(){if(this.displayObjectContainerUpdateTransform(),this.playing){this.currentFrame+=this.animationSpeed;var t=this.currentFrame+.5|0;this.currentFrame=this.currentFrame%this.textures.length,this.loop||t<this.textures.length?this.setTexture(this.textures[t%this.textures.length]):t>=this.textures.length&&(this.gotoAndStop(this.textures.length-1),this.onComplete&&this.onComplete())}},n.MovieClip.fromFrames=function(t){for(var e=[],r=0;r<t.length;r++)e.push(new n.Texture.fromFrame(t[r]));return new n.MovieClip(e)},n.MovieClip.fromImages=function(t){for(var e=[],r=0;r<t.length;r++)e.push(new n.Texture.fromImage(t[r]));return new n.MovieClip(e)},n.FilterBlock=function(){this.visible=!0,this.renderable=!0},n.FilterBlock.prototype.constructor=n.FilterBlock,n.Text=function(t,e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=1,n.Sprite.call(this,n.Texture.fromCanvas(this.canvas)),this.setText(t),this.setStyle(e)},n.Text.prototype=Object.create(n.Sprite.prototype),n.Text.prototype.constructor=n.Text,Object.defineProperty(n.Text.prototype,"width",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.x*this.texture.frame.width},set:function(t){this.scale.x=t/this.texture.frame.width,this._width=t}}),Object.defineProperty(n.Text.prototype,"height",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.y*this.texture.frame.height},set:function(t){this.scale.y=t/this.texture.frame.height,this._height=t}}),n.Text.prototype.setStyle=function(t){t=t||{},t.font=t.font||"bold 20pt Arial",t.fill=t.fill||"black",t.align=t.align||"left",t.stroke=t.stroke||"black",t.strokeThickness=t.strokeThickness||0,t.wordWrap=t.wordWrap||!1,t.wordWrapWidth=t.wordWrapWidth||100,t.dropShadow=t.dropShadow||!1,t.dropShadowAngle=t.dropShadowAngle||Math.PI/6,t.dropShadowDistance=t.dropShadowDistance||4,t.dropShadowColor=t.dropShadowColor||"black",this.style=t,this.dirty=!0},n.Text.prototype.setText=function(t){this.text=t.toString()||" ",this.dirty=!0},n.Text.prototype.updateText=function(){this.texture.baseTexture.resolution=this.resolution,this.context.font=this.style.font;var t=this.text;this.style.wordWrap&&(t=this.wordWrap(this.text));for(var e=t.split(/(?:\r\n|\r|\n)/),n=[],r=0,i=this.determineFontProperties(this.style.font),o=0;o<e.length;o++){var s=this.context.measureText(e[o]).width;n[o]=s,r=Math.max(r,s)}var a=r+this.style.strokeThickness;this.style.dropShadow&&(a+=this.style.dropShadowDistance),this.canvas.width=(a+this.context.lineWidth)*this.resolution;var u=i.fontSize+this.style.strokeThickness,c=u*e.length;this.style.dropShadow&&(c+=this.style.dropShadowDistance),this.canvas.height=c*this.resolution,this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=this.style.font,this.context.strokeStyle=this.style.stroke,this.context.lineWidth=this.style.strokeThickness,this.context.textBaseline="alphabetic";var l,h;if(this.style.dropShadow){this.context.fillStyle=this.style.dropShadowColor;var f=Math.sin(this.style.dropShadowAngle)*this.style.dropShadowDistance,p=Math.cos(this.style.dropShadowAngle)*this.style.dropShadowDistance;for(o=0;o<e.length;o++)l=this.style.strokeThickness/2,h=this.style.strokeThickness/2+o*u+i.ascent,"right"===this.style.align?l+=r-n[o]:"center"===this.style.align&&(l+=(r-n[o])/2),this.style.fill&&this.context.fillText(e[o],l+f,h+p)}for(this.context.fillStyle=this.style.fill,o=0;o<e.length;o++)l=this.style.strokeThickness/2,h=this.style.strokeThickness/2+o*u+i.ascent,"right"===this.style.align?l+=r-n[o]:"center"===this.style.align&&(l+=(r-n[o])/2),this.style.stroke&&this.style.strokeThickness&&this.context.strokeText(e[o],l,h),this.style.fill&&this.context.fillText(e[o],l,h);this.updateTexture()},n.Text.prototype.updateTexture=function(){this.texture.baseTexture.width=this.canvas.width,this.texture.baseTexture.height=this.canvas.height,this.texture.crop.width=this.texture.frame.width=this.canvas.width,this.texture.crop.height=this.texture.frame.height=this.canvas.height,this._width=this.canvas.width,this._height=this.canvas.height,this.texture.baseTexture.dirty()},n.Text.prototype._renderWebGL=function(t){this.dirty&&(this.resolution=t.resolution,this.updateText(),this.dirty=!1),n.Sprite.prototype._renderWebGL.call(this,t)},n.Text.prototype._renderCanvas=function(t){this.dirty&&(this.resolution=t.resolution,this.updateText(),this.dirty=!1),n.Sprite.prototype._renderCanvas.call(this,t)},n.Text.prototype.determineFontProperties=function(t){var e=n.Text.fontPropertiesCache[t];if(!e){e={};var r=n.Text.fontPropertiesCanvas,i=n.Text.fontPropertiesContext;i.font=t;var o=Math.ceil(i.measureText("|Mq").width),s=Math.ceil(i.measureText("M").width),a=2*s;s=1.4*s|0,r.width=o,r.height=a,i.fillStyle="#f00",i.fillRect(0,0,o,a),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText("|MÉq",0,s);var u,c,l=i.getImageData(0,0,o,a).data,h=l.length,f=4*o,p=0,d=!1;for(u=0;s>u;u++){for(c=0;f>c;c+=4)if(255!==l[p+c]){d=!0;break}if(d)break;p+=f}for(e.ascent=s-u,p=h-f,d=!1,u=a;u>s;u--){for(c=0;f>c;c+=4)if(255!==l[p+c]){d=!0;break}if(d)break;p-=f}e.descent=u-s,e.descent+=6,e.fontSize=e.ascent+e.descent,n.Text.fontPropertiesCache[t]=e}return e},n.Text.prototype.wordWrap=function(t){for(var e="",n=t.split("\n"),r=0;r<n.length;r++){for(var i=this.style.wordWrapWidth,o=n[r].split(" "),s=0;s<o.length;s++){var a=this.context.measureText(o[s]).width,u=a+this.context.measureText(" ").width;0===s||u>i?(s>0&&(e+="\n"),e+=o[s],i=this.style.wordWrapWidth-a):(i-=u,e+=" "+o[s])}r<n.length-1&&(e+="\n")}return e},n.Text.prototype.getBounds=function(t){return this.dirty&&(this.updateText(),this.dirty=!1),n.Sprite.prototype.getBounds.call(this,t)},n.Text.prototype.destroy=function(t){this.context=null,this.canvas=null,this.texture.destroy(void 0===t?!0:t)},n.Text.fontPropertiesCache={},n.Text.fontPropertiesCanvas=document.createElement("canvas"),n.Text.fontPropertiesContext=n.Text.fontPropertiesCanvas.getContext("2d"),n.BitmapText=function(t,e){n.DisplayObjectContainer.call(this),this.textWidth=0,this.textHeight=0,this._pool=[],this.setText(t),this.setStyle(e),this.updateText(),this.dirty=!1},n.BitmapText.prototype=Object.create(n.DisplayObjectContainer.prototype),n.BitmapText.prototype.constructor=n.BitmapText,n.BitmapText.prototype.setText=function(t){this.text=t||" ",this.dirty=!0},n.BitmapText.prototype.setStyle=function(t){t=t||{},t.align=t.align||"left",this.style=t;var e=t.font.split(" ");this.fontName=e[e.length-1],this.fontSize=e.length>=2?parseInt(e[e.length-2],10):n.BitmapText.fonts[this.fontName].size,this.dirty=!0,this.tint=t.tint},n.BitmapText.prototype.updateText=function(){for(var t=n.BitmapText.fonts[this.fontName],e=new n.Point,r=null,i=[],o=0,s=[],a=0,u=this.fontSize/t.size,c=0;c<this.text.length;c++){var l=this.text.charCodeAt(c);if(/(?:\r\n|\r|\n)/.test(this.text.charAt(c)))s.push(e.x),o=Math.max(o,e.x),a++,e.x=0,e.y+=t.lineHeight,r=null;else{var h=t.chars[l];h&&(r&&h.kerning[r]&&(e.x+=h.kerning[r]),i.push({texture:h.texture,line:a,charCode:l,position:new n.Point(e.x+h.xOffset,e.y+h.yOffset)}),e.x+=h.xAdvance,r=l)}}s.push(e.x),o=Math.max(o,e.x);var f=[];for(c=0;a>=c;c++){var p=0;"right"===this.style.align?p=o-s[c]:"center"===this.style.align&&(p=(o-s[c])/2),f.push(p)}var d=this.children.length,v=i.length,g=this.tint||16777215;for(c=0;v>c;c++){var m=d>c?this.children[c]:this._pool.pop();m?m.setTexture(i[c].texture):m=new n.Sprite(i[c].texture),m.position.x=(i[c].position.x+f[i[c].line])*u,m.position.y=i[c].position.y*u,m.scale.x=m.scale.y=u,m.tint=g,m.parent||this.addChild(m)}for(;this.children.length>v;){var y=this.getChildAt(this.children.length-1);this._pool.push(y),this.removeChild(y)}this.textWidth=o*u,this.textHeight=(e.y+t.lineHeight)*u},n.BitmapText.prototype.updateTransform=function(){this.dirty&&(this.updateText(),this.dirty=!1),n.DisplayObjectContainer.prototype.updateTransform.call(this)},n.BitmapText.fonts={},n.InteractionData=function(){this.global=new n.Point,this.target=null,this.originalEvent=null},n.InteractionData.prototype.getLocalPosition=function(t,e){var r=t.worldTransform,i=this.global,o=r.a,s=r.c,a=r.tx,u=r.b,c=r.d,l=r.ty,h=1/(o*c+s*-u);return e=e||new n.Point,e.x=c*h*i.x+-s*h*i.y+(l*s-a*c)*h,e.y=o*h*i.y+-u*h*i.x+(-l*o+a*u)*h,e},n.InteractionData.prototype.constructor=n.InteractionData,n.InteractionManager=function(t){this.stage=t,this.mouse=new n.InteractionData,this.touches={},this.tempPoint=new n.Point,this.mouseoverEnabled=!0,this.pool=[],this.interactiveItems=[],this.interactionDOMElement=null,this.onMouseMove=this.onMouseMove.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onTouchCancel=this.onTouchCancel.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.last=0,this.currentCursorStyle="inherit",this.mouseOut=!1,this.resolution=1,this._tempPoint=new n.Point
},n.InteractionManager.prototype.constructor=n.InteractionManager,n.InteractionManager.prototype.collectInteractiveSprite=function(t,e){for(var n=t.children,r=n.length,i=r-1;i>=0;i--){var o=n[i];o._interactive?(e.interactiveChildren=!0,this.interactiveItems.push(o),o.children.length>0&&this.collectInteractiveSprite(o,o)):(o.__iParent=null,o.children.length>0&&this.collectInteractiveSprite(o,e))}},n.InteractionManager.prototype.setTarget=function(t){this.target=t,this.resolution=t.resolution,null===this.interactionDOMElement&&this.setTargetDomElement(t.view)},n.InteractionManager.prototype.setTargetDomElement=function(t){this.removeEvents(),window.navigator.msPointerEnabled&&(t.style["-ms-content-zooming"]="none",t.style["-ms-touch-action"]="none"),this.interactionDOMElement=t,t.addEventListener("mousemove",this.onMouseMove,!0),t.addEventListener("mousedown",this.onMouseDown,!0),t.addEventListener("mouseout",this.onMouseOut,!0),t.addEventListener("touchstart",this.onTouchStart,!0),t.addEventListener("touchend",this.onTouchEnd,!0),t.addEventListener("touchleave",this.onTouchCancel,!0),t.addEventListener("touchcancel",this.onTouchCancel,!0),t.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0)},n.InteractionManager.prototype.removeEvents=function(){this.interactionDOMElement&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]="",this.interactionDOMElement.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchleave",this.onTouchCancel,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onTouchCancel,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0))},n.InteractionManager.prototype.update=function(){if(this.target){var t=Date.now(),e=t-this.last;if(e=e*n.INTERACTION_FREQUENCY/1e3,!(1>e)){this.last=t;var r=0;this.dirty&&this.rebuildInteractiveGraph();var i=this.interactiveItems.length,o="inherit",s=!1;for(r=0;i>r;r++){var a=this.interactiveItems[r];a.__hit=this.hitTest(a,this.mouse),this.mouse.target=a,a.__hit&&!s?(a.buttonMode&&(o=a.defaultCursor),a.interactiveChildren||(s=!0),a.__isOver||(a.mouseover&&a.mouseover(this.mouse),a.__isOver=!0)):a.__isOver&&(a.mouseout&&a.mouseout(this.mouse),a.__isOver=!1)}this.currentCursorStyle!==o&&(this.currentCursorStyle=o,this.interactionDOMElement.style.cursor=o)}}},n.InteractionManager.prototype.rebuildInteractiveGraph=function(){this.dirty=!1;for(var t=this.interactiveItems.length,e=0;t>e;e++)this.interactiveItems[e].interactiveChildren=!1;this.interactiveItems=[],this.stage.interactive&&this.interactiveItems.push(this.stage),this.collectInteractiveSprite(this.stage,this.stage)},n.InteractionManager.prototype.onMouseMove=function(t){this.dirty&&this.rebuildInteractiveGraph(),this.mouse.originalEvent=t;var e=this.interactionDOMElement.getBoundingClientRect();this.mouse.global.x=(t.clientX-e.left)*(this.target.width/e.width)/this.resolution,this.mouse.global.y=(t.clientY-e.top)*(this.target.height/e.height)/this.resolution;for(var n=this.interactiveItems.length,r=0;n>r;r++){var i=this.interactiveItems[r];i.mousemove&&i.mousemove(this.mouse)}},n.InteractionManager.prototype.onMouseDown=function(t){this.dirty&&this.rebuildInteractiveGraph(),this.mouse.originalEvent=t,n.AUTO_PREVENT_DEFAULT&&this.mouse.originalEvent.preventDefault();for(var e=this.interactiveItems.length,r=this.mouse.originalEvent,i=2===r.button||3===r.which,o=i?"rightdown":"mousedown",s=i?"rightclick":"click",a=i?"__rightIsDown":"__mouseIsDown",u=i?"__isRightDown":"__isDown",c=0;e>c;c++){var l=this.interactiveItems[c];if((l[o]||l[s])&&(l[a]=!0,l.__hit=this.hitTest(l,this.mouse),l.__hit&&(l[o]&&l[o](this.mouse),l[u]=!0,!l.interactiveChildren)))break}},n.InteractionManager.prototype.onMouseOut=function(t){this.dirty&&this.rebuildInteractiveGraph(),this.mouse.originalEvent=t;var e=this.interactiveItems.length;this.interactionDOMElement.style.cursor="inherit";for(var n=0;e>n;n++){var r=this.interactiveItems[n];r.__isOver&&(this.mouse.target=r,r.mouseout&&r.mouseout(this.mouse),r.__isOver=!1)}this.mouseOut=!0,this.mouse.global.x=-1e4,this.mouse.global.y=-1e4},n.InteractionManager.prototype.onMouseUp=function(t){this.dirty&&this.rebuildInteractiveGraph(),this.mouse.originalEvent=t;for(var e=this.interactiveItems.length,n=!1,r=this.mouse.originalEvent,i=2===r.button||3===r.which,o=i?"rightup":"mouseup",s=i?"rightclick":"click",a=i?"rightupoutside":"mouseupoutside",u=i?"__isRightDown":"__isDown",c=0;e>c;c++){var l=this.interactiveItems[c];(l[s]||l[o]||l[a])&&(l.__hit=this.hitTest(l,this.mouse),l.__hit&&!n?(l[o]&&l[o](this.mouse),l[u]&&l[s]&&l[s](this.mouse),l.interactiveChildren||(n=!0)):l[u]&&l[a]&&l[a](this.mouse),l[u]=!1)}},n.InteractionManager.prototype.hitTest=function(t,e){var r=e.global;if(!t.worldVisible)return!1;t.worldTransform.applyInverse(r,this._tempPoint);var i,o=this._tempPoint.x,s=this._tempPoint.y;if(e.target=t,t.hitArea&&t.hitArea.contains)return t.hitArea.contains(o,s);if(t instanceof n.Sprite){var a,u=t.texture.frame.width,c=t.texture.frame.height,l=-u*t.anchor.x;if(o>l&&l+u>o&&(a=-c*t.anchor.y,s>a&&a+c>s))return!0}else if(t instanceof n.Graphics){var h=t.graphicsData;for(i=0;i<h.length;i++){var f=h[i];if(f.fill&&f.shape&&f.shape.contains(o,s))return!0}}var p=t.children.length;for(i=0;p>i;i++){var d=t.children[i],v=this.hitTest(d,e);if(v)return e.target=t,!0}return!1},n.InteractionManager.prototype.onTouchMove=function(t){this.dirty&&this.rebuildInteractiveGraph();var e,n=this.interactionDOMElement.getBoundingClientRect(),r=t.changedTouches,i=0;for(i=0;i<r.length;i++){var o=r[i];e=this.touches[o.identifier],e.originalEvent=t,e.global.x=(o.clientX-n.left)*(this.target.width/n.width)/this.resolution,e.global.y=(o.clientY-n.top)*(this.target.height/n.height)/this.resolution,!navigator.isCocoonJS||n.left||n.top||t.target.style.width||t.target.style.height||(e.global.x=o.clientX,e.global.y=o.clientY);for(var s=0;s<this.interactiveItems.length;s++){var a=this.interactiveItems[s];a.touchmove&&a.__touchData&&a.__touchData[o.identifier]&&a.touchmove(e)}}},n.InteractionManager.prototype.onTouchStart=function(t){this.dirty&&this.rebuildInteractiveGraph();var e=this.interactionDOMElement.getBoundingClientRect();n.AUTO_PREVENT_DEFAULT&&t.preventDefault();for(var r=t.changedTouches,i=0;i<r.length;i++){var o=r[i],s=this.pool.pop();s||(s=new n.InteractionData),s.originalEvent=t,this.touches[o.identifier]=s,s.global.x=(o.clientX-e.left)*(this.target.width/e.width)/this.resolution,s.global.y=(o.clientY-e.top)*(this.target.height/e.height)/this.resolution,!navigator.isCocoonJS||e.left||e.top||t.target.style.width||t.target.style.height||(s.global.x=o.clientX,s.global.y=o.clientY);for(var a=this.interactiveItems.length,u=0;a>u;u++){var c=this.interactiveItems[u];if((c.touchstart||c.tap)&&(c.__hit=this.hitTest(c,s),c.__hit&&(c.touchstart&&c.touchstart(s),c.__isDown=!0,c.__touchData=c.__touchData||{},c.__touchData[o.identifier]=s,!c.interactiveChildren)))break}}},n.InteractionManager.prototype.onTouchEnd=function(t){this.dirty&&this.rebuildInteractiveGraph();for(var e=this.interactionDOMElement.getBoundingClientRect(),n=t.changedTouches,r=0;r<n.length;r++){var i=n[r],o=this.touches[i.identifier],s=!1;o.global.x=(i.clientX-e.left)*(this.target.width/e.width)/this.resolution,o.global.y=(i.clientY-e.top)*(this.target.height/e.height)/this.resolution,!navigator.isCocoonJS||e.left||e.top||t.target.style.width||t.target.style.height||(o.global.x=i.clientX,o.global.y=i.clientY);for(var a=this.interactiveItems.length,u=0;a>u;u++){var c=this.interactiveItems[u];c.__touchData&&c.__touchData[i.identifier]&&(c.__hit=this.hitTest(c,c.__touchData[i.identifier]),o.originalEvent=t,(c.touchend||c.tap)&&(c.__hit&&!s?(c.touchend&&c.touchend(o),c.__isDown&&c.tap&&c.tap(o),c.interactiveChildren||(s=!0)):c.__isDown&&c.touchendoutside&&c.touchendoutside(o),c.__isDown=!1),c.__touchData[i.identifier]=null)}this.pool.push(o),this.touches[i.identifier]=null}},n.InteractionManager.prototype.onTouchCancel=function(t){this.dirty&&this.rebuildInteractiveGraph();for(var e=this.interactionDOMElement.getBoundingClientRect(),n=t.changedTouches,r=0;r<n.length;r++){var i=n[r],o=this.touches[i.identifier],s=!1;o.global.x=(i.clientX-e.left)*(this.target.width/e.width)/this.resolution,o.global.y=(i.clientY-e.top)*(this.target.height/e.height)/this.resolution,!navigator.isCocoonJS||e.left||e.top||t.target.style.width||t.target.style.height||(o.global.x=i.clientX,o.global.y=i.clientY);for(var a=this.interactiveItems.length,u=0;a>u;u++){var c=this.interactiveItems[u];c.__touchData&&c.__touchData[i.identifier]&&(c.__hit=this.hitTest(c,c.__touchData[i.identifier]),o.originalEvent=t,c.touchcancel&&!s&&(c.touchcancel(o),c.interactiveChildren||(s=!0)),c.__isDown=!1,c.__touchData[i.identifier]=null)}this.pool.push(o),this.touches[i.identifier]=null}},n.Stage=function(t){n.DisplayObjectContainer.call(this),this.worldTransform=new n.Matrix,this.interactive=!0,this.interactionManager=new n.InteractionManager(this),this.dirty=!0,this.stage=this,this.stage.hitArea=new n.Rectangle(0,0,1e5,1e5),this.setBackgroundColor(t)},n.Stage.prototype=Object.create(n.DisplayObjectContainer.prototype),n.Stage.prototype.constructor=n.Stage,n.Stage.prototype.setInteractionDelegate=function(t){this.interactionManager.setTargetDomElement(t)},n.Stage.prototype.updateTransform=function(){this.worldAlpha=1;for(var t=0,e=this.children.length;e>t;t++)this.children[t].updateTransform();this.dirty&&(this.dirty=!1,this.interactionManager.dirty=!0),this.interactive&&this.interactionManager.update()},n.Stage.prototype.setBackgroundColor=function(t){this.backgroundColor=t||0,this.backgroundColorSplit=n.hex2rgb(this.backgroundColor);var e=this.backgroundColor.toString(16);e="000000".substr(0,6-e.length)+e,this.backgroundColorString="#"+e},n.Stage.prototype.getMousePosition=function(){return this.interactionManager.mouse.global},function(t){for(var e=0,n=["ms","moz","webkit","o"],r=0;r<n.length&&!t.requestAnimationFrame;++r)t.requestAnimationFrame=t[n[r]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[n[r]+"CancelAnimationFrame"]||t[n[r]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(n){var r=(new Date).getTime(),i=Math.max(0,16-(r-e)),o=t.setTimeout(function(){n(r+i)},i);return e=r+i,o}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)}),t.requestAnimFrame=t.requestAnimationFrame}(this),n.hex2rgb=function(t){return[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]},n.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(){return function(t){function e(){for(var r=arguments.length,o=new Array(r);r--;)o[r]=arguments[r];return o=i.concat(o),n.apply(this instanceof e?this:t,o)}var n=this,r=arguments.length-1,i=[];if(r>0)for(i.length=r;r--;)i[r]=arguments[r+1];if("function"!=typeof n)throw new TypeError;return e.prototype=function o(t){return t&&(o.prototype=t),this instanceof o?void 0:new o}(n.prototype),e}}()),n.AjaxRequest=function(){var t=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"];if(!window.ActiveXObject)return window.XMLHttpRequest?new window.XMLHttpRequest:!1;for(var e=0;e<t.length;e++)try{return new window.ActiveXObject(t[e])}catch(n){}},n.canUseNewCanvasBlendModes=function(){if("undefined"==typeof document)return!1;var t=document.createElement("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="#000",e.fillRect(0,0,1,1),e.globalCompositeOperation="multiply",e.fillStyle="#fff",e.fillRect(0,0,1,1),0===e.getImageData(0,0,1,1).data[0]},n.getNextPowerOfTwo=function(t){if(t>0&&0===(t&t-1))return t;for(var e=1;t>e;)e<<=1;return e},n.isPowerOfTwo=function(t,e){return t>0&&0===(t&t-1)&&e>0&&0===(e&e-1)},n.EventTarget={call:function(t){t&&(t=t.prototype||t,n.EventTarget.mixin(t))},mixin:function(t){t.listeners=function(t){return this._listeners=this._listeners||{},this._listeners[t]?this._listeners[t].slice():[]},t.emit=t.dispatchEvent=function(t,e){if(this._listeners=this._listeners||{},"object"==typeof t&&(e=t,t=t.type),e&&e.__isEventObject===!0||(e=new n.Event(this,t,e)),this._listeners&&this._listeners[t]){var r,i=this._listeners[t].slice(0),o=i.length,s=i[0];for(r=0;o>r;s=i[++r])if(s.call(this,e),e.stoppedImmediate)return this;if(e.stopped)return this}return this.parent&&this.parent.emit&&this.parent.emit.call(this.parent,t,e),this},t.on=t.addEventListener=function(t,e){return this._listeners=this._listeners||{},(this._listeners[t]=this._listeners[t]||[]).push(e),this},t.once=function(t,e){function n(){e.apply(r.off(t,n),arguments)}this._listeners=this._listeners||{};var r=this;return n._originalHandler=e,this.on(t,n)},t.off=t.removeEventListener=function(t,e){if(this._listeners=this._listeners||{},!this._listeners[t])return this;for(var n=this._listeners[t],r=e?n.length:0;r-->0;)(n[r]===e||n[r]._originalHandler===e)&&n.splice(r,1);return 0===n.length&&delete this._listeners[t],this},t.removeAllListeners=function(t){return this._listeners=this._listeners||{},this._listeners[t]?(delete this._listeners[t],this):this}}},n.Event=function(t,e,n){this.__isEventObject=!0,this.stopped=!1,this.stoppedImmediate=!1,this.target=t,this.type=e,this.data=n,this.content=n,this.timeStamp=Date.now()},n.Event.prototype.stopPropagation=function(){this.stopped=!0},n.Event.prototype.stopImmediatePropagation=function(){this.stoppedImmediate=!0},n.autoDetectRenderer=function(t,e,r){t||(t=800),e||(e=600);var i=function(){try{var t=document.createElement("canvas");return!!window.WebGLRenderingContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(e){return!1}}();return i?new n.WebGLRenderer(t,e,r):new n.CanvasRenderer(t,e,r)},n.autoDetectRecommendedRenderer=function(t,e,r){t||(t=800),e||(e=600);var i=function(){try{var t=document.createElement("canvas");return!!window.WebGLRenderingContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(e){return!1}}(),o=/Android/i.test(navigator.userAgent);return i&&!o?new n.WebGLRenderer(t,e,r):new n.CanvasRenderer(t,e,r)},n.PolyK={},n.PolyK.Triangulate=function(t){var e=!0,r=t.length>>1;if(3>r)return[];for(var i=[],o=[],s=0;r>s;s++)o.push(s);s=0;for(var a=r;a>3;){var u=o[(s+0)%a],c=o[(s+1)%a],l=o[(s+2)%a],h=t[2*u],f=t[2*u+1],p=t[2*c],d=t[2*c+1],v=t[2*l],g=t[2*l+1],m=!1;if(n.PolyK._convex(h,f,p,d,v,g,e)){m=!0;for(var y=0;a>y;y++){var b=o[y];if(b!==u&&b!==c&&b!==l&&n.PolyK._PointInTriangle(t[2*b],t[2*b+1],h,f,p,d,v,g)){m=!1;break}}}if(m)i.push(u,c,l),o.splice((s+1)%a,1),a--,s=0;else if(s++>3*a){if(!e)return null;for(i=[],o=[],s=0;r>s;s++)o.push(s);s=0,a=r,e=!1}}return i.push(o[0],o[1],o[2]),i},n.PolyK._PointInTriangle=function(t,e,n,r,i,o,s,a){var u=s-n,c=a-r,l=i-n,h=o-r,f=t-n,p=e-r,d=u*u+c*c,v=u*l+c*h,g=u*f+c*p,m=l*l+h*h,y=l*f+h*p,b=1/(d*m-v*v),w=(m*g-v*y)*b,_=(d*y-v*g)*b;return w>=0&&_>=0&&1>w+_},n.PolyK._convex=function(t,e,n,r,i,o,s){return(e-r)*(i-n)+(n-t)*(o-r)>=0===s},n.initDefaultShaders=function(){},n.CompileVertexShader=function(t,e){return n._CompileShader(t,e,t.VERTEX_SHADER)},n.CompileFragmentShader=function(t,e){return n._CompileShader(t,e,t.FRAGMENT_SHADER)},n._CompileShader=function(t,e,n){var r=e.join("\n"),i=t.createShader(n);return t.shaderSource(i,r),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:(window.console.log(t.getShaderInfoLog(i)),null)},n.compileProgram=function(t,e,r){var i=n.CompileFragmentShader(t,r),o=n.CompileVertexShader(t,e),s=t.createProgram();return t.attachShader(s,o),t.attachShader(s,i),t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||window.console.log("Could not initialise shaders"),s},n.PixiShader=function(t){this._UID=n._UID++,this.gl=t,this.program=null,this.fragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"],this.textureCount=0,this.firstRun=!0,this.dirty=!0,this.attributes=[],this.init()},n.PixiShader.prototype.constructor=n.PixiShader,n.PixiShader.prototype.init=function(){var t=this.gl,e=n.compileProgram(t,this.vertexSrc||n.PixiShader.defaultVertexSrc,this.fragmentSrc);t.useProgram(e),this.uSampler=t.getUniformLocation(e,"uSampler"),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.dimensions=t.getUniformLocation(e,"dimensions"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.aTextureCoord=t.getAttribLocation(e,"aTextureCoord"),this.colorAttribute=t.getAttribLocation(e,"aColor"),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aTextureCoord,this.colorAttribute];for(var r in this.uniforms)this.uniforms[r].uniformLocation=t.getUniformLocation(e,r);this.initUniforms(),this.program=e},n.PixiShader.prototype.initUniforms=function(){this.textureCount=1;var t,e=this.gl;for(var n in this.uniforms){t=this.uniforms[n];var r=t.type;"sampler2D"===r?(t._init=!1,null!==t.value&&this.initSampler2D(t)):"mat2"===r||"mat3"===r||"mat4"===r?(t.glMatrix=!0,t.glValueLength=1,"mat2"===r?t.glFunc=e.uniformMatrix2fv:"mat3"===r?t.glFunc=e.uniformMatrix3fv:"mat4"===r&&(t.glFunc=e.uniformMatrix4fv)):(t.glFunc=e["uniform"+r],t.glValueLength="2f"===r||"2i"===r?2:"3f"===r||"3i"===r?3:"4f"===r||"4i"===r?4:1)}},n.PixiShader.prototype.initSampler2D=function(t){if(t.value&&t.value.baseTexture&&t.value.baseTexture.hasLoaded){var e=this.gl;if(e.activeTexture(e["TEXTURE"+this.textureCount]),e.bindTexture(e.TEXTURE_2D,t.value.baseTexture._glTextures[e.id]),t.textureData){var n=t.textureData,r=n.magFilter?n.magFilter:e.LINEAR,i=n.minFilter?n.minFilter:e.LINEAR,o=n.wrapS?n.wrapS:e.CLAMP_TO_EDGE,s=n.wrapT?n.wrapT:e.CLAMP_TO_EDGE,a=n.luminance?e.LUMINANCE:e.RGBA;if(n.repeat&&(o=e.REPEAT,s=e.REPEAT),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!!n.flipY),n.width){var u=n.width?n.width:512,c=n.height?n.height:2,l=n.border?n.border:0;e.texImage2D(e.TEXTURE_2D,0,a,u,c,l,a,e.UNSIGNED_BYTE,null)}else e.texImage2D(e.TEXTURE_2D,0,a,e.RGBA,e.UNSIGNED_BYTE,t.value.baseTexture.source);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,s)}e.uniform1i(t.uniformLocation,this.textureCount),t._init=!0,this.textureCount++}},n.PixiShader.prototype.syncUniforms=function(){this.textureCount=1;var t,e=this.gl;for(var r in this.uniforms)t=this.uniforms[r],1===t.glValueLength?t.glMatrix===!0?t.glFunc.call(e,t.uniformLocation,t.transpose,t.value):t.glFunc.call(e,t.uniformLocation,t.value):2===t.glValueLength?t.glFunc.call(e,t.uniformLocation,t.value.x,t.value.y):3===t.glValueLength?t.glFunc.call(e,t.uniformLocation,t.value.x,t.value.y,t.value.z):4===t.glValueLength?t.glFunc.call(e,t.uniformLocation,t.value.x,t.value.y,t.value.z,t.value.w):"sampler2D"===t.type&&(t._init?(e.activeTexture(e["TEXTURE"+this.textureCount]),t.value.baseTexture._dirty[e.id]?n.instances[e.id].updateTexture(t.value.baseTexture):e.bindTexture(e.TEXTURE_2D,t.value.baseTexture._glTextures[e.id]),e.uniform1i(t.uniformLocation,this.textureCount),this.textureCount++):this.initSampler2D(t))},n.PixiShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},n.PixiShader.defaultVertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","varying vec4 vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"],n.PixiFastShader=function(t){this._UID=n._UID++,this.gl=t,this.program=null,this.fragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","attribute vec2 aTextureCoord;","attribute float aColor;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform mat3 uMatrix;","varying vec2 vTextureCoord;","varying float vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   vec2 v;","   vec2 sv = aVertexPosition * aScale;","   v.x = (sv.x) * cos(aRotation) - (sv.y) * sin(aRotation);","   v.y = (sv.x) * sin(aRotation) + (sv.y) * cos(aRotation);","   v = ( uMatrix * vec3(v + aPositionCoord , 1.0) ).xy ;","   gl_Position = vec4( ( v / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"],this.textureCount=0,this.init()},n.PixiFastShader.prototype.constructor=n.PixiFastShader,n.PixiFastShader.prototype.init=function(){var t=this.gl,e=n.compileProgram(t,this.vertexSrc,this.fragmentSrc);t.useProgram(e),this.uSampler=t.getUniformLocation(e,"uSampler"),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.dimensions=t.getUniformLocation(e,"dimensions"),this.uMatrix=t.getUniformLocation(e,"uMatrix"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.aPositionCoord=t.getAttribLocation(e,"aPositionCoord"),this.aScale=t.getAttribLocation(e,"aScale"),this.aRotation=t.getAttribLocation(e,"aRotation"),this.aTextureCoord=t.getAttribLocation(e,"aTextureCoord"),this.colorAttribute=t.getAttribLocation(e,"aColor"),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aPositionCoord,this.aScale,this.aRotation,this.aTextureCoord,this.colorAttribute],this.program=e},n.PixiFastShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},n.StripShader=function(t){this._UID=n._UID++,this.gl=t,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * alpha;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"],this.init()},n.StripShader.prototype.constructor=n.StripShader,n.StripShader.prototype.init=function(){var t=this.gl,e=n.compileProgram(t,this.vertexSrc,this.fragmentSrc);t.useProgram(e),this.uSampler=t.getUniformLocation(e,"uSampler"),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.colorAttribute=t.getAttribLocation(e,"aColor"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.aTextureCoord=t.getAttribLocation(e,"aTextureCoord"),this.attributes=[this.aVertexPosition,this.aTextureCoord],this.translationMatrix=t.getUniformLocation(e,"translationMatrix"),this.alpha=t.getUniformLocation(e,"alpha"),this.program=e},n.StripShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attribute=null},n.PrimitiveShader=function(t){this._UID=n._UID++,this.gl=t,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, (v.y / projectionVector.y * -flipY) + flipY , 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"],this.init()},n.PrimitiveShader.prototype.constructor=n.PrimitiveShader,n.PrimitiveShader.prototype.init=function(){var t=this.gl,e=n.compileProgram(t,this.vertexSrc,this.fragmentSrc);t.useProgram(e),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.tintColor=t.getUniformLocation(e,"tint"),this.flipY=t.getUniformLocation(e,"flipY"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.colorAttribute=t.getAttribLocation(e,"aColor"),this.attributes=[this.aVertexPosition,this.colorAttribute],this.translationMatrix=t.getUniformLocation(e,"translationMatrix"),this.alpha=t.getUniformLocation(e,"alpha"),this.program=e},n.PrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},n.ComplexPrimitiveShader=function(t){this._UID=n._UID++,this.gl=t,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","uniform float flipY;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, (v.y / projectionVector.y * -flipY) + flipY , 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"],this.init()},n.ComplexPrimitiveShader.prototype.constructor=n.ComplexPrimitiveShader,n.ComplexPrimitiveShader.prototype.init=function(){var t=this.gl,e=n.compileProgram(t,this.vertexSrc,this.fragmentSrc);t.useProgram(e),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.tintColor=t.getUniformLocation(e,"tint"),this.color=t.getUniformLocation(e,"color"),this.flipY=t.getUniformLocation(e,"flipY"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.attributes=[this.aVertexPosition,this.colorAttribute],this.translationMatrix=t.getUniformLocation(e,"translationMatrix"),this.alpha=t.getUniformLocation(e,"alpha"),this.program=e},n.ComplexPrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attribute=null},n.WebGLGraphics=function(){},n.WebGLGraphics.renderGraphics=function(t,e){var r,i=e.gl,o=e.projection,s=e.offset,a=e.shaderManager.primitiveShader;t.dirty&&n.WebGLGraphics.updateGraphics(t,i);for(var u=t._webGL[i.id],c=0;c<u.data.length;c++)1===u.data[c].mode?(r=u.data[c],e.stencilManager.pushStencil(t,r,e),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(r.indices.length-4)),e.stencilManager.popStencil(t,r,e)):(r=u.data[c],e.shaderManager.setShader(a),a=e.shaderManager.primitiveShader,i.uniformMatrix3fv(a.translationMatrix,!1,t.worldTransform.toArray(!0)),i.uniform1f(a.flipY,1),i.uniform2f(a.projectionVector,o.x,-o.y),i.uniform2f(a.offsetVector,-s.x,-s.y),i.uniform3fv(a.tintColor,n.hex2rgb(t.tint)),i.uniform1f(a.alpha,t.worldAlpha),i.bindBuffer(i.ARRAY_BUFFER,r.buffer),i.vertexAttribPointer(a.aVertexPosition,2,i.FLOAT,!1,24,0),i.vertexAttribPointer(a.colorAttribute,4,i.FLOAT,!1,24,8),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,r.indexBuffer),i.drawElements(i.TRIANGLE_STRIP,r.indices.length,i.UNSIGNED_SHORT,0))},n.WebGLGraphics.updateGraphics=function(t,e){var r=t._webGL[e.id];r||(r=t._webGL[e.id]={lastIndex:0,data:[],gl:e}),t.dirty=!1;var i;if(t.clearDirty){for(t.clearDirty=!1,i=0;i<r.data.length;i++){var o=r.data[i];o.reset(),n.WebGLGraphics.graphicsDataPool.push(o)}r.data=[],r.lastIndex=0}var s;for(i=r.lastIndex;i<t.graphicsData.length;i++){var a=t.graphicsData[i];if(a.type===n.Graphics.POLY){if(a.points=a.shape.points.slice(),a.shape.closed&&(a.points[0]!==a.points[a.points.length-2]||a.points[1]!==a.points[a.points.length-1])&&a.points.push(a.points[0],a.points[1]),a.fill&&a.points.length>=6)if(a.points.length<12){s=n.WebGLGraphics.switchMode(r,0);var u=n.WebGLGraphics.buildPoly(a,s);u||(s=n.WebGLGraphics.switchMode(r,1),n.WebGLGraphics.buildComplexPoly(a,s))}else s=n.WebGLGraphics.switchMode(r,1),n.WebGLGraphics.buildComplexPoly(a,s);a.lineWidth>0&&(s=n.WebGLGraphics.switchMode(r,0),n.WebGLGraphics.buildLine(a,s))}else s=n.WebGLGraphics.switchMode(r,0),a.type===n.Graphics.RECT?n.WebGLGraphics.buildRectangle(a,s):a.type===n.Graphics.CIRC||a.type===n.Graphics.ELIP?n.WebGLGraphics.buildCircle(a,s):a.type===n.Graphics.RREC&&n.WebGLGraphics.buildRoundedRectangle(a,s);r.lastIndex++}for(i=0;i<r.data.length;i++)s=r.data[i],s.dirty&&s.upload()},n.WebGLGraphics.switchMode=function(t,e){var r;return t.data.length?(r=t.data[t.data.length-1],(r.mode!==e||1===e)&&(r=n.WebGLGraphics.graphicsDataPool.pop()||new n.WebGLGraphicsData(t.gl),r.mode=e,t.data.push(r))):(r=n.WebGLGraphics.graphicsDataPool.pop()||new n.WebGLGraphicsData(t.gl),r.mode=e,t.data.push(r)),r.dirty=!0,r},n.WebGLGraphics.buildRectangle=function(t,e){var r=t.shape,i=r.x,o=r.y,s=r.width,a=r.height;if(t.fill){var u=n.hex2rgb(t.fillColor),c=t.fillAlpha,l=u[0]*c,h=u[1]*c,f=u[2]*c,p=e.points,d=e.indices,v=p.length/6;p.push(i,o),p.push(l,h,f,c),p.push(i+s,o),p.push(l,h,f,c),p.push(i,o+a),p.push(l,h,f,c),p.push(i+s,o+a),p.push(l,h,f,c),d.push(v,v,v+1,v+2,v+3,v+3)}if(t.lineWidth){var g=t.points;t.points=[i,o,i+s,o,i+s,o+a,i,o+a,i,o],n.WebGLGraphics.buildLine(t,e),t.points=g}},n.WebGLGraphics.buildRoundedRectangle=function(t,e){var r=t.shape,i=r.x,o=r.y,s=r.width,a=r.height,u=r.radius,c=[];if(c.push(i,o+u),c=c.concat(n.WebGLGraphics.quadraticBezierCurve(i,o+a-u,i,o+a,i+u,o+a)),c=c.concat(n.WebGLGraphics.quadraticBezierCurve(i+s-u,o+a,i+s,o+a,i+s,o+a-u)),c=c.concat(n.WebGLGraphics.quadraticBezierCurve(i+s,o+u,i+s,o,i+s-u,o)),c=c.concat(n.WebGLGraphics.quadraticBezierCurve(i+u,o,i,o,i,o+u)),t.fill){var l=n.hex2rgb(t.fillColor),h=t.fillAlpha,f=l[0]*h,p=l[1]*h,d=l[2]*h,v=e.points,g=e.indices,m=v.length/6,y=n.PolyK.Triangulate(c),b=0;for(b=0;b<y.length;b+=3)g.push(y[b]+m),g.push(y[b]+m),g.push(y[b+1]+m),g.push(y[b+2]+m),g.push(y[b+2]+m);for(b=0;b<c.length;b++)v.push(c[b],c[++b],f,p,d,h)}if(t.lineWidth){var w=t.points;t.points=c,n.WebGLGraphics.buildLine(t,e),t.points=w}},n.WebGLGraphics.quadraticBezierCurve=function(t,e,n,r,i,o){function s(t,e,n){var r=e-t;return t+r*n}for(var a,u,c,l,h,f,p=20,d=[],v=0,g=0;p>=g;g++)v=g/p,a=s(t,n,v),u=s(e,r,v),c=s(n,i,v),l=s(r,o,v),h=s(a,c,v),f=s(u,l,v),d.push(h,f);return d},n.WebGLGraphics.buildCircle=function(t,e){var r,i,o=t.shape,s=o.x,a=o.y;t.type===n.Graphics.CIRC?(r=o.radius,i=o.radius):(r=o.width,i=o.height);var u=40,c=2*Math.PI/u,l=0;if(t.fill){var h=n.hex2rgb(t.fillColor),f=t.fillAlpha,p=h[0]*f,d=h[1]*f,v=h[2]*f,g=e.points,m=e.indices,y=g.length/6;for(m.push(y),l=0;u+1>l;l++)g.push(s,a,p,d,v,f),g.push(s+Math.sin(c*l)*r,a+Math.cos(c*l)*i,p,d,v,f),m.push(y++,y++);m.push(y-1)
}if(t.lineWidth){var b=t.points;for(t.points=[],l=0;u+1>l;l++)t.points.push(s+Math.sin(c*l)*r,a+Math.cos(c*l)*i);n.WebGLGraphics.buildLine(t,e),t.points=b}},n.WebGLGraphics.buildLine=function(t,e){var r=0,i=t.points;if(0!==i.length){if(t.lineWidth%2)for(r=0;r<i.length;r++)i[r]+=.5;var o=new n.Point(i[0],i[1]),s=new n.Point(i[i.length-2],i[i.length-1]);if(o.x===s.x&&o.y===s.y){i=i.slice(),i.pop(),i.pop(),s=new n.Point(i[i.length-2],i[i.length-1]);var a=s.x+.5*(o.x-s.x),u=s.y+.5*(o.y-s.y);i.unshift(a,u),i.push(a,u)}var c,l,h,f,p,d,v,g,m,y,b,w,_,x,E,T,C,S,A,k,j,R,O,P=e.points,M=e.indices,F=i.length/2,L=i.length,I=P.length/6,D=t.lineWidth/2,N=n.hex2rgb(t.lineColor),B=t.lineAlpha,U=N[0]*B,q=N[1]*B,W=N[2]*B;for(h=i[0],f=i[1],p=i[2],d=i[3],m=-(f-d),y=h-p,O=Math.sqrt(m*m+y*y),m/=O,y/=O,m*=D,y*=D,P.push(h-m,f-y,U,q,W,B),P.push(h+m,f+y,U,q,W,B),r=1;F-1>r;r++)h=i[2*(r-1)],f=i[2*(r-1)+1],p=i[2*r],d=i[2*r+1],v=i[2*(r+1)],g=i[2*(r+1)+1],m=-(f-d),y=h-p,O=Math.sqrt(m*m+y*y),m/=O,y/=O,m*=D,y*=D,b=-(d-g),w=p-v,O=Math.sqrt(b*b+w*w),b/=O,w/=O,b*=D,w*=D,E=-y+f-(-y+d),T=-m+p-(-m+h),C=(-m+h)*(-y+d)-(-m+p)*(-y+f),S=-w+g-(-w+d),A=-b+p-(-b+v),k=(-b+v)*(-w+d)-(-b+p)*(-w+g),j=E*A-S*T,Math.abs(j)<.1?(j+=10.1,P.push(p-m,d-y,U,q,W,B),P.push(p+m,d+y,U,q,W,B)):(c=(T*k-A*C)/j,l=(S*C-E*k)/j,R=(c-p)*(c-p)+(l-d)+(l-d),R>19600?(_=m-b,x=y-w,O=Math.sqrt(_*_+x*x),_/=O,x/=O,_*=D,x*=D,P.push(p-_,d-x),P.push(U,q,W,B),P.push(p+_,d+x),P.push(U,q,W,B),P.push(p-_,d-x),P.push(U,q,W,B),L++):(P.push(c,l),P.push(U,q,W,B),P.push(p-(c-p),d-(l-d)),P.push(U,q,W,B)));for(h=i[2*(F-2)],f=i[2*(F-2)+1],p=i[2*(F-1)],d=i[2*(F-1)+1],m=-(f-d),y=h-p,O=Math.sqrt(m*m+y*y),m/=O,y/=O,m*=D,y*=D,P.push(p-m,d-y),P.push(U,q,W,B),P.push(p+m,d+y),P.push(U,q,W,B),M.push(I),r=0;L>r;r++)M.push(I++);M.push(I-1)}},n.WebGLGraphics.buildComplexPoly=function(t,e){var r=t.points.slice();if(!(r.length<6)){var i=e.indices;e.points=r,e.alpha=t.fillAlpha,e.color=n.hex2rgb(t.fillColor);for(var o,s,a=1/0,u=-1/0,c=1/0,l=-1/0,h=0;h<r.length;h+=2)o=r[h],s=r[h+1],a=a>o?o:a,u=o>u?o:u,c=c>s?s:c,l=s>l?s:l;r.push(a,c,u,c,u,l,a,l);var f=r.length/2;for(h=0;f>h;h++)i.push(h)}},n.WebGLGraphics.buildPoly=function(t,e){var r=t.points;if(!(r.length<6)){var i=e.points,o=e.indices,s=r.length/2,a=n.hex2rgb(t.fillColor),u=t.fillAlpha,c=a[0]*u,l=a[1]*u,h=a[2]*u,f=n.PolyK.Triangulate(r);if(!f)return!1;var p=i.length/6,d=0;for(d=0;d<f.length;d+=3)o.push(f[d]+p),o.push(f[d]+p),o.push(f[d+1]+p),o.push(f[d+2]+p),o.push(f[d+2]+p);for(d=0;s>d;d++)i.push(r[2*d],r[2*d+1],c,l,h,u);return!0}},n.WebGLGraphics.graphicsDataPool=[],n.WebGLGraphicsData=function(t){this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0},n.WebGLGraphicsData.prototype.reset=function(){this.points=[],this.indices=[]},n.WebGLGraphicsData.prototype.upload=function(){var t=this.gl;this.glPoints=new n.Float32Array(this.points),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,this.glPoints,t.STATIC_DRAW),this.glIndicies=new n.Uint16Array(this.indices),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.glIndicies,t.STATIC_DRAW),this.dirty=!1},n.glContexts=[],n.instances=[],n.WebGLRenderer=function(t,e,r){if(r)for(var i in n.defaultRenderOptions)"undefined"==typeof r[i]&&(r[i]=n.defaultRenderOptions[i]);else r=n.defaultRenderOptions;n.defaultRenderer||(n.sayHello("webGL"),n.defaultRenderer=this),this.type=n.WEBGL_RENDERER,this.resolution=r.resolution,this.transparent=r.transparent,this.autoResize=r.autoResize||!1,this.preserveDrawingBuffer=r.preserveDrawingBuffer,this.clearBeforeRender=r.clearBeforeRender,this.width=t||800,this.height=e||600,this.view=r.view||document.createElement("canvas"),this.contextLostBound=this.handleContextLost.bind(this),this.contextRestoredBound=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.contextLostBound,!1),this.view.addEventListener("webglcontextrestored",this.contextRestoredBound,!1),this._contextOptions={alpha:this.transparent,antialias:r.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer},this.projection=new n.Point,this.offset=new n.Point(0,0),this.shaderManager=new n.WebGLShaderManager,this.spriteBatch=new n.WebGLSpriteBatch,this.maskManager=new n.WebGLMaskManager,this.filterManager=new n.WebGLFilterManager,this.stencilManager=new n.WebGLStencilManager,this.blendModeManager=new n.WebGLBlendModeManager,this.renderSession={},this.renderSession.gl=this.gl,this.renderSession.drawCount=0,this.renderSession.shaderManager=this.shaderManager,this.renderSession.maskManager=this.maskManager,this.renderSession.filterManager=this.filterManager,this.renderSession.blendModeManager=this.blendModeManager,this.renderSession.spriteBatch=this.spriteBatch,this.renderSession.stencilManager=this.stencilManager,this.renderSession.renderer=this,this.renderSession.resolution=this.resolution,this.initContext(),this.mapBlendModes()},n.WebGLRenderer.prototype.constructor=n.WebGLRenderer,n.WebGLRenderer.prototype.initContext=function(){var t=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(this.gl=t,!t)throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=t.id=n.WebGLRenderer.glContextId++,n.glContexts[this.glContextId]=t,n.instances[this.glContextId]=this,t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),this.shaderManager.setContext(t),this.spriteBatch.setContext(t),this.maskManager.setContext(t),this.filterManager.setContext(t),this.blendModeManager.setContext(t),this.stencilManager.setContext(t),this.renderSession.gl=this.gl,this.resize(this.width,this.height)},n.WebGLRenderer.prototype.render=function(t){if(!this.contextLost){this.__stage!==t&&(t.interactive&&t.interactionManager.removeEvents(),this.__stage=t),t.updateTransform();var e=this.gl;t._interactive?t._interactiveEventsAdded||(t._interactiveEventsAdded=!0,t.interactionManager.setTarget(this)):t._interactiveEventsAdded&&(t._interactiveEventsAdded=!1,t.interactionManager.setTarget(this)),e.viewport(0,0,this.width,this.height),e.bindFramebuffer(e.FRAMEBUFFER,null),this.clearBeforeRender&&(this.transparent?e.clearColor(0,0,0,0):e.clearColor(t.backgroundColorSplit[0],t.backgroundColorSplit[1],t.backgroundColorSplit[2],1),e.clear(e.COLOR_BUFFER_BIT)),this.renderDisplayObject(t,this.projection)}},n.WebGLRenderer.prototype.renderDisplayObject=function(t,e,r){this.renderSession.blendModeManager.setBlendMode(n.blendModes.NORMAL),this.renderSession.drawCount=0,this.renderSession.flipY=r?-1:1,this.renderSession.projection=e,this.renderSession.offset=this.offset,this.spriteBatch.begin(this.renderSession),this.filterManager.begin(this.renderSession,r),t._renderWebGL(this.renderSession),this.spriteBatch.end()},n.WebGLRenderer.prototype.resize=function(t,e){this.width=t*this.resolution,this.height=e*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px"),this.gl.viewport(0,0,this.width,this.height),this.projection.x=this.width/2/this.resolution,this.projection.y=-this.height/2/this.resolution},n.WebGLRenderer.prototype.updateTexture=function(t){if(t.hasLoaded){var e=this.gl;return t._glTextures[e.id]||(t._glTextures[e.id]=e.createTexture()),e.bindTexture(e.TEXTURE_2D,t._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t.scaleMode===n.scaleModes.LINEAR?e.LINEAR:e.NEAREST),t.mipmap&&n.isPowerOfTwo(t.width,t.height)?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===n.scaleModes.LINEAR?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===n.scaleModes.LINEAR?e.LINEAR:e.NEAREST),t._powerOf2?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),t._dirty[e.id]=!1,t._glTextures[e.id]}},n.WebGLRenderer.prototype.handleContextLost=function(t){t.preventDefault(),this.contextLost=!0},n.WebGLRenderer.prototype.handleContextRestored=function(){this.initContext();for(var t in n.TextureCache){var e=n.TextureCache[t].baseTexture;e._glTextures=[]}this.contextLost=!1},n.WebGLRenderer.prototype.destroy=function(){this.view.removeEventListener("webglcontextlost",this.contextLostBound),this.view.removeEventListener("webglcontextrestored",this.contextRestoredBound),n.glContexts[this.glContextId]=null,this.projection=null,this.offset=null,this.shaderManager.destroy(),this.spriteBatch.destroy(),this.maskManager.destroy(),this.filterManager.destroy(),this.shaderManager=null,this.spriteBatch=null,this.maskManager=null,this.filterManager=null,this.gl=null,this.renderSession=null},n.WebGLRenderer.prototype.mapBlendModes=function(){var t=this.gl;n.blendModesWebGL||(n.blendModesWebGL=[],n.blendModesWebGL[n.blendModes.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n.blendModesWebGL[n.blendModes.ADD]=[t.SRC_ALPHA,t.DST_ALPHA],n.blendModesWebGL[n.blendModes.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],n.blendModesWebGL[n.blendModes.SCREEN]=[t.SRC_ALPHA,t.ONE],n.blendModesWebGL[n.blendModes.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n.blendModesWebGL[n.blendModes.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n.blendModesWebGL[n.blendModes.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n.blendModesWebGL[n.blendModes.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n.blendModesWebGL[n.blendModes.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n.blendModesWebGL[n.blendModes.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n.blendModesWebGL[n.blendModes.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n.blendModesWebGL[n.blendModes.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n.blendModesWebGL[n.blendModes.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n.blendModesWebGL[n.blendModes.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n.blendModesWebGL[n.blendModes.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n.blendModesWebGL[n.blendModes.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],n.blendModesWebGL[n.blendModes.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA])},n.WebGLRenderer.glContextId=0,n.WebGLBlendModeManager=function(){this.currentBlendMode=99999},n.WebGLBlendModeManager.prototype.constructor=n.WebGLBlendModeManager,n.WebGLBlendModeManager.prototype.setContext=function(t){this.gl=t},n.WebGLBlendModeManager.prototype.setBlendMode=function(t){if(this.currentBlendMode===t)return!1;this.currentBlendMode=t;var e=n.blendModesWebGL[this.currentBlendMode];return this.gl.blendFunc(e[0],e[1]),!0},n.WebGLBlendModeManager.prototype.destroy=function(){this.gl=null},n.WebGLMaskManager=function(){},n.WebGLMaskManager.prototype.constructor=n.WebGLMaskManager,n.WebGLMaskManager.prototype.setContext=function(t){this.gl=t},n.WebGLMaskManager.prototype.pushMask=function(t,e){var r=e.gl;t.dirty&&n.WebGLGraphics.updateGraphics(t,r),t._webGL[r.id].data.length&&e.stencilManager.pushStencil(t,t._webGL[r.id].data[0],e)},n.WebGLMaskManager.prototype.popMask=function(t,e){var n=this.gl;e.stencilManager.popStencil(t,t._webGL[n.id].data[0],e)},n.WebGLMaskManager.prototype.destroy=function(){this.gl=null},n.WebGLStencilManager=function(){this.stencilStack=[],this.reverse=!0,this.count=0},n.WebGLStencilManager.prototype.setContext=function(t){this.gl=t},n.WebGLStencilManager.prototype.pushStencil=function(t,e,n){var r=this.gl;this.bindGraphics(t,e,n),0===this.stencilStack.length&&(r.enable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),this.reverse=!0,this.count=0),this.stencilStack.push(e);var i=this.count;r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.ALWAYS,0,255),r.stencilOp(r.KEEP,r.KEEP,r.INVERT),1===e.mode?(r.drawElements(r.TRIANGLE_FAN,e.indices.length-4,r.UNSIGNED_SHORT,0),this.reverse?(r.stencilFunc(r.EQUAL,255-i,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)):(r.stencilFunc(r.EQUAL,i,255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)),r.drawElements(r.TRIANGLE_FAN,4,r.UNSIGNED_SHORT,2*(e.indices.length-4)),this.reverse?r.stencilFunc(r.EQUAL,255-(i+1),255):r.stencilFunc(r.EQUAL,i+1,255),this.reverse=!this.reverse):(this.reverse?(r.stencilFunc(r.EQUAL,i,255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)):(r.stencilFunc(r.EQUAL,255-i,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),r.drawElements(r.TRIANGLE_STRIP,e.indices.length,r.UNSIGNED_SHORT,0),this.reverse?r.stencilFunc(r.EQUAL,i+1,255):r.stencilFunc(r.EQUAL,255-(i+1),255)),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),this.count++},n.WebGLStencilManager.prototype.bindGraphics=function(t,e,r){this._currentGraphics=t;var i,o=this.gl,s=r.projection,a=r.offset;1===e.mode?(i=r.shaderManager.complexPrimitiveShader,r.shaderManager.setShader(i),o.uniform1f(i.flipY,r.flipY),o.uniformMatrix3fv(i.translationMatrix,!1,t.worldTransform.toArray(!0)),o.uniform2f(i.projectionVector,s.x,-s.y),o.uniform2f(i.offsetVector,-a.x,-a.y),o.uniform3fv(i.tintColor,n.hex2rgb(t.tint)),o.uniform3fv(i.color,e.color),o.uniform1f(i.alpha,t.worldAlpha*e.alpha),o.bindBuffer(o.ARRAY_BUFFER,e.buffer),o.vertexAttribPointer(i.aVertexPosition,2,o.FLOAT,!1,8,0),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,e.indexBuffer)):(i=r.shaderManager.primitiveShader,r.shaderManager.setShader(i),o.uniformMatrix3fv(i.translationMatrix,!1,t.worldTransform.toArray(!0)),o.uniform1f(i.flipY,r.flipY),o.uniform2f(i.projectionVector,s.x,-s.y),o.uniform2f(i.offsetVector,-a.x,-a.y),o.uniform3fv(i.tintColor,n.hex2rgb(t.tint)),o.uniform1f(i.alpha,t.worldAlpha),o.bindBuffer(o.ARRAY_BUFFER,e.buffer),o.vertexAttribPointer(i.aVertexPosition,2,o.FLOAT,!1,24,0),o.vertexAttribPointer(i.colorAttribute,4,o.FLOAT,!1,24,8),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,e.indexBuffer))},n.WebGLStencilManager.prototype.popStencil=function(t,e,n){var r=this.gl;if(this.stencilStack.pop(),this.count--,0===this.stencilStack.length)r.disable(r.STENCIL_TEST);else{var i=this.count;this.bindGraphics(t,e,n),r.colorMask(!1,!1,!1,!1),1===e.mode?(this.reverse=!this.reverse,this.reverse?(r.stencilFunc(r.EQUAL,255-(i+1),255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)):(r.stencilFunc(r.EQUAL,i+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),r.drawElements(r.TRIANGLE_FAN,4,r.UNSIGNED_SHORT,2*(e.indices.length-4)),r.stencilFunc(r.ALWAYS,0,255),r.stencilOp(r.KEEP,r.KEEP,r.INVERT),r.drawElements(r.TRIANGLE_FAN,e.indices.length-4,r.UNSIGNED_SHORT,0),this.reverse?r.stencilFunc(r.EQUAL,i,255):r.stencilFunc(r.EQUAL,255-i,255)):(this.reverse?(r.stencilFunc(r.EQUAL,i+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)):(r.stencilFunc(r.EQUAL,255-(i+1),255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)),r.drawElements(r.TRIANGLE_STRIP,e.indices.length,r.UNSIGNED_SHORT,0),this.reverse?r.stencilFunc(r.EQUAL,i,255):r.stencilFunc(r.EQUAL,255-i,255)),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)}},n.WebGLStencilManager.prototype.destroy=function(){this.stencilStack=null,this.gl=null},n.WebGLShaderManager=function(){this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var t=0;t<this.maxAttibs;t++)this.attribState[t]=!1;this.stack=[]},n.WebGLShaderManager.prototype.constructor=n.WebGLShaderManager,n.WebGLShaderManager.prototype.setContext=function(t){this.gl=t,this.primitiveShader=new n.PrimitiveShader(t),this.complexPrimitiveShader=new n.ComplexPrimitiveShader(t),this.defaultShader=new n.PixiShader(t),this.fastShader=new n.PixiFastShader(t),this.stripShader=new n.StripShader(t),this.setShader(this.defaultShader)},n.WebGLShaderManager.prototype.setAttribs=function(t){var e;for(e=0;e<this.tempAttribState.length;e++)this.tempAttribState[e]=!1;for(e=0;e<t.length;e++){var n=t[e];this.tempAttribState[n]=!0}var r=this.gl;for(e=0;e<this.attribState.length;e++)this.attribState[e]!==this.tempAttribState[e]&&(this.attribState[e]=this.tempAttribState[e],this.tempAttribState[e]?r.enableVertexAttribArray(e):r.disableVertexAttribArray(e))},n.WebGLShaderManager.prototype.setShader=function(t){return this._currentId===t._UID?!1:(this._currentId=t._UID,this.currentShader=t,this.gl.useProgram(t.program),this.setAttribs(t.attributes),!0)},n.WebGLShaderManager.prototype.destroy=function(){this.attribState=null,this.tempAttribState=null,this.primitiveShader.destroy(),this.complexPrimitiveShader.destroy(),this.defaultShader.destroy(),this.fastShader.destroy(),this.stripShader.destroy(),this.gl=null},n.WebGLSpriteBatch=function(){this.vertSize=5,this.size=2e3;var t=4*this.size*4*this.vertSize,e=6*this.size;this.vertices=new n.ArrayBuffer(t),this.positions=new n.Float32Array(this.vertices),this.colors=new n.Uint32Array(this.vertices),this.indices=new n.Uint16Array(e),this.lastIndexCount=0;for(var r=0,i=0;e>r;r+=6,i+=4)this.indices[r+0]=i+0,this.indices[r+1]=i+1,this.indices[r+2]=i+2,this.indices[r+3]=i+0,this.indices[r+4]=i+2,this.indices[r+5]=i+3;this.drawing=!1,this.currentBatchSize=0,this.currentBaseTexture=null,this.dirty=!0,this.textures=[],this.blendModes=[],this.shaders=[],this.sprites=[],this.defaultShader=new n.AbstractFilter(["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"])},n.WebGLSpriteBatch.prototype.setContext=function(t){this.gl=t,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW),this.currentBlendMode=99999;var e=new n.PixiShader(t);e.fragmentSrc=this.defaultShader.fragmentSrc,e.uniforms={},e.init(),this.defaultShader.shaders[t.id]=e},n.WebGLSpriteBatch.prototype.begin=function(t){this.renderSession=t,this.shader=this.renderSession.shaderManager.defaultShader,this.start()},n.WebGLSpriteBatch.prototype.end=function(){this.flush()},n.WebGLSpriteBatch.prototype.render=function(t){var e=t.texture;this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=e.baseTexture);var n=e._uvs;if(n){var r,i,o,s,a=t.anchor.x,u=t.anchor.y;if(e.trim){var c=e.trim;i=c.x-a*c.width,r=i+e.crop.width,s=c.y-u*c.height,o=s+e.crop.height}else r=e.frame.width*(1-a),i=e.frame.width*-a,o=e.frame.height*(1-u),s=e.frame.height*-u;var l=4*this.currentBatchSize*this.vertSize,h=e.baseTexture.resolution,f=t.worldTransform,p=f.a/h,d=f.b/h,v=f.c/h,g=f.d/h,m=f.tx,y=f.ty,b=this.colors,w=this.positions;this.renderSession.roundPixels?(w[l]=p*i+v*s+m|0,w[l+1]=g*s+d*i+y|0,w[l+5]=p*r+v*s+m|0,w[l+6]=g*s+d*r+y|0,w[l+10]=p*r+v*o+m|0,w[l+11]=g*o+d*r+y|0,w[l+15]=p*i+v*o+m|0,w[l+16]=g*o+d*i+y|0):(w[l]=p*i+v*s+m,w[l+1]=g*s+d*i+y,w[l+5]=p*r+v*s+m,w[l+6]=g*s+d*r+y,w[l+10]=p*r+v*o+m,w[l+11]=g*o+d*r+y,w[l+15]=p*i+v*o+m,w[l+16]=g*o+d*i+y),w[l+2]=n.x0,w[l+3]=n.y0,w[l+7]=n.x1,w[l+8]=n.y1,w[l+12]=n.x2,w[l+13]=n.y2,w[l+17]=n.x3,w[l+18]=n.y3;var _=t.tint;b[l+4]=b[l+9]=b[l+14]=b[l+19]=(_>>16)+(65280&_)+((255&_)<<16)+(255*t.worldAlpha<<24),this.sprites[this.currentBatchSize++]=t}},n.WebGLSpriteBatch.prototype.renderTilingSprite=function(t){var e=t.tilingTexture;this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=e.baseTexture),t._uvs||(t._uvs=new n.TextureUvs);var r=t._uvs;t.tilePosition.x%=e.baseTexture.width*t.tileScaleOffset.x,t.tilePosition.y%=e.baseTexture.height*t.tileScaleOffset.y;var i=t.tilePosition.x/(e.baseTexture.width*t.tileScaleOffset.x),o=t.tilePosition.y/(e.baseTexture.height*t.tileScaleOffset.y),s=t.width/e.baseTexture.width/(t.tileScale.x*t.tileScaleOffset.x),a=t.height/e.baseTexture.height/(t.tileScale.y*t.tileScaleOffset.y);r.x0=0-i,r.y0=0-o,r.x1=1*s-i,r.y1=0-o,r.x2=1*s-i,r.y2=1*a-o,r.x3=0-i,r.y3=1*a-o;var u=t.tint,c=(u>>16)+(65280&u)+((255&u)<<16)+(255*t.alpha<<24),l=this.positions,h=this.colors,f=t.width,p=t.height,d=t.anchor.x,v=t.anchor.y,g=f*(1-d),m=f*-d,y=p*(1-v),b=p*-v,w=4*this.currentBatchSize*this.vertSize,_=e.baseTexture.resolution,x=t.worldTransform,E=x.a/_,T=x.b/_,C=x.c/_,S=x.d/_,A=x.tx,k=x.ty;l[w++]=E*m+C*b+A,l[w++]=S*b+T*m+k,l[w++]=r.x0,l[w++]=r.y0,h[w++]=c,l[w++]=E*g+C*b+A,l[w++]=S*b+T*g+k,l[w++]=r.x1,l[w++]=r.y1,h[w++]=c,l[w++]=E*g+C*y+A,l[w++]=S*y+T*g+k,l[w++]=r.x2,l[w++]=r.y2,h[w++]=c,l[w++]=E*m+C*y+A,l[w++]=S*y+T*m+k,l[w++]=r.x3,l[w++]=r.y3,h[w++]=c,this.sprites[this.currentBatchSize++]=t},n.WebGLSpriteBatch.prototype.flush=function(){if(0!==this.currentBatchSize){var t,e=this.gl;if(this.dirty){this.dirty=!1,e.activeTexture(e.TEXTURE0),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t=this.defaultShader.shaders[e.id];var r=4*this.vertSize;e.vertexAttribPointer(t.aVertexPosition,2,e.FLOAT,!1,r,0),e.vertexAttribPointer(t.aTextureCoord,2,e.FLOAT,!1,r,8),e.vertexAttribPointer(t.colorAttribute,4,e.UNSIGNED_BYTE,!0,r,16)}if(this.currentBatchSize>.5*this.size)e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices);else{var i=this.positions.subarray(0,4*this.currentBatchSize*this.vertSize);e.bufferSubData(e.ARRAY_BUFFER,0,i)}for(var o,s,a,u,c=0,l=0,h=null,f=this.renderSession.blendModeManager.currentBlendMode,p=null,d=!1,v=!1,g=0,m=this.currentBatchSize;m>g;g++){if(u=this.sprites[g],o=u.texture.baseTexture,s=u.blendMode,a=u.shader||this.defaultShader,d=f!==s,v=p!==a,(h!==o||d||v)&&(this.renderBatch(h,c,l),l=g,c=0,h=o,d&&(f=s,this.renderSession.blendModeManager.setBlendMode(f)),v)){p=a,t=p.shaders[e.id],t||(t=new n.PixiShader(e),t.fragmentSrc=p.fragmentSrc,t.uniforms=p.uniforms,t.init(),p.shaders[e.id]=t),this.renderSession.shaderManager.setShader(t),t.dirty&&t.syncUniforms();var y=this.renderSession.projection;e.uniform2f(t.projectionVector,y.x,y.y);var b=this.renderSession.offset;e.uniform2f(t.offsetVector,b.x,b.y)}c++}this.renderBatch(h,c,l),this.currentBatchSize=0}},n.WebGLSpriteBatch.prototype.renderBatch=function(t,e,n){if(0!==e){var r=this.gl;t._dirty[r.id]?this.renderSession.renderer.updateTexture(t):r.bindTexture(r.TEXTURE_2D,t._glTextures[r.id]),r.drawElements(r.TRIANGLES,6*e,r.UNSIGNED_SHORT,6*n*2),this.renderSession.drawCount++}},n.WebGLSpriteBatch.prototype.stop=function(){this.flush(),this.dirty=!0},n.WebGLSpriteBatch.prototype.start=function(){this.dirty=!0},n.WebGLSpriteBatch.prototype.destroy=function(){this.vertices=null,this.indices=null,this.gl.deleteBuffer(this.vertexBuffer),this.gl.deleteBuffer(this.indexBuffer),this.currentBaseTexture=null,this.gl=null},n.WebGLFastSpriteBatch=function(t){this.vertSize=10,this.maxSize=6e3,this.size=this.maxSize;var e=4*this.size*this.vertSize,r=6*this.maxSize;this.vertices=new n.Float32Array(e),this.indices=new n.Uint16Array(r),this.vertexBuffer=null,this.indexBuffer=null,this.lastIndexCount=0;for(var i=0,o=0;r>i;i+=6,o+=4)this.indices[i+0]=o+0,this.indices[i+1]=o+1,this.indices[i+2]=o+2,this.indices[i+3]=o+0,this.indices[i+4]=o+2,this.indices[i+5]=o+3;this.drawing=!1,this.currentBatchSize=0,this.currentBaseTexture=null,this.currentBlendMode=0,this.renderSession=null,this.shader=null,this.matrix=null,this.setContext(t)},n.WebGLFastSpriteBatch.prototype.constructor=n.WebGLFastSpriteBatch,n.WebGLFastSpriteBatch.prototype.setContext=function(t){this.gl=t,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW)},n.WebGLFastSpriteBatch.prototype.begin=function(t,e){this.renderSession=e,this.shader=this.renderSession.shaderManager.fastShader,this.matrix=t.worldTransform.toArray(!0),this.start()},n.WebGLFastSpriteBatch.prototype.end=function(){this.flush()},n.WebGLFastSpriteBatch.prototype.render=function(t){var e=t.children,n=e[0];if(n.texture._uvs){this.currentBaseTexture=n.texture.baseTexture,n.blendMode!==this.renderSession.blendModeManager.currentBlendMode&&(this.flush(),this.renderSession.blendModeManager.setBlendMode(n.blendMode));for(var r=0,i=e.length;i>r;r++)this.renderSprite(e[r]);this.flush()}},n.WebGLFastSpriteBatch.prototype.renderSprite=function(t){if(t.visible&&(t.texture.baseTexture===this.currentBaseTexture||(this.flush(),this.currentBaseTexture=t.texture.baseTexture,t.texture._uvs))){var e,n,r,i,o,s,a,u,c=this.vertices;if(e=t.texture._uvs,n=t.texture.frame.width,r=t.texture.frame.height,t.texture.trim){var l=t.texture.trim;o=l.x-t.anchor.x*l.width,i=o+t.texture.crop.width,a=l.y-t.anchor.y*l.height,s=a+t.texture.crop.height}else i=t.texture.frame.width*(1-t.anchor.x),o=t.texture.frame.width*-t.anchor.x,s=t.texture.frame.height*(1-t.anchor.y),a=t.texture.frame.height*-t.anchor.y;u=4*this.currentBatchSize*this.vertSize,c[u++]=o,c[u++]=a,c[u++]=t.position.x,c[u++]=t.position.y,c[u++]=t.scale.x,c[u++]=t.scale.y,c[u++]=t.rotation,c[u++]=e.x0,c[u++]=e.y1,c[u++]=t.alpha,c[u++]=i,c[u++]=a,c[u++]=t.position.x,c[u++]=t.position.y,c[u++]=t.scale.x,c[u++]=t.scale.y,c[u++]=t.rotation,c[u++]=e.x1,c[u++]=e.y1,c[u++]=t.alpha,c[u++]=i,c[u++]=s,c[u++]=t.position.x,c[u++]=t.position.y,c[u++]=t.scale.x,c[u++]=t.scale.y,c[u++]=t.rotation,c[u++]=e.x2,c[u++]=e.y2,c[u++]=t.alpha,c[u++]=o,c[u++]=s,c[u++]=t.position.x,c[u++]=t.position.y,c[u++]=t.scale.x,c[u++]=t.scale.y,c[u++]=t.rotation,c[u++]=e.x3,c[u++]=e.y3,c[u++]=t.alpha,this.currentBatchSize++,this.currentBatchSize>=this.size&&this.flush()}},n.WebGLFastSpriteBatch.prototype.flush=function(){if(0!==this.currentBatchSize){var t=this.gl;if(this.currentBaseTexture._glTextures[t.id]||this.renderSession.renderer.updateTexture(this.currentBaseTexture,t),t.bindTexture(t.TEXTURE_2D,this.currentBaseTexture._glTextures[t.id]),this.currentBatchSize>.5*this.size)t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices);else{var e=this.vertices.subarray(0,4*this.currentBatchSize*this.vertSize);t.bufferSubData(t.ARRAY_BUFFER,0,e)}t.drawElements(t.TRIANGLES,6*this.currentBatchSize,t.UNSIGNED_SHORT,0),this.currentBatchSize=0,this.renderSession.drawCount++}},n.WebGLFastSpriteBatch.prototype.stop=function(){this.flush()},n.WebGLFastSpriteBatch.prototype.start=function(){var t=this.gl;t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.renderSession.projection;t.uniform2f(this.shader.projectionVector,e.x,e.y),t.uniformMatrix3fv(this.shader.uMatrix,!1,this.matrix);var n=4*this.vertSize;t.vertexAttribPointer(this.shader.aVertexPosition,2,t.FLOAT,!1,n,0),t.vertexAttribPointer(this.shader.aPositionCoord,2,t.FLOAT,!1,n,8),t.vertexAttribPointer(this.shader.aScale,2,t.FLOAT,!1,n,16),t.vertexAttribPointer(this.shader.aRotation,1,t.FLOAT,!1,n,24),t.vertexAttribPointer(this.shader.aTextureCoord,2,t.FLOAT,!1,n,28),t.vertexAttribPointer(this.shader.colorAttribute,1,t.FLOAT,!1,n,36)},n.WebGLFilterManager=function(){this.filterStack=[],this.offsetX=0,this.offsetY=0},n.WebGLFilterManager.prototype.constructor=n.WebGLFilterManager,n.WebGLFilterManager.prototype.setContext=function(t){this.gl=t,this.texturePool=[],this.initShaderBuffers()},n.WebGLFilterManager.prototype.begin=function(t,e){this.renderSession=t,this.defaultShader=t.shaderManager.defaultShader;var n=this.renderSession.projection;this.width=2*n.x,this.height=2*-n.y,this.buffer=e},n.WebGLFilterManager.prototype.pushFilter=function(t){var e=this.gl,r=this.renderSession.projection,i=this.renderSession.offset;t._filterArea=t.target.filterArea||t.target.getBounds(),this.filterStack.push(t);var o=t.filterPasses[0];this.offsetX+=t._filterArea.x,this.offsetY+=t._filterArea.y;var s=this.texturePool.pop();s?s.resize(this.width,this.height):s=new n.FilterTexture(this.gl,this.width,this.height),e.bindTexture(e.TEXTURE_2D,s.texture);var a=t._filterArea,u=o.padding;a.x-=u,a.y-=u,a.width+=2*u,a.height+=2*u,a.x<0&&(a.x=0),a.width>this.width&&(a.width=this.width),a.y<0&&(a.y=0),a.height>this.height&&(a.height=this.height),e.bindFramebuffer(e.FRAMEBUFFER,s.frameBuffer),e.viewport(0,0,a.width,a.height),r.x=a.width/2,r.y=-a.height/2,i.x=-a.x,i.y=-a.y,e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),t._glFilterTexture=s},n.WebGLFilterManager.prototype.popFilter=function(){var t=this.gl,e=this.filterStack.pop(),r=e._filterArea,i=e._glFilterTexture,o=this.renderSession.projection,s=this.renderSession.offset;if(e.filterPasses.length>1){t.viewport(0,0,r.width,r.height),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=0,this.vertexArray[1]=r.height,this.vertexArray[2]=r.width,this.vertexArray[3]=r.height,this.vertexArray[4]=0,this.vertexArray[5]=0,this.vertexArray[6]=r.width,this.vertexArray[7]=0,t.bufferSubData(t.ARRAY_BUFFER,0,this.vertexArray),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=r.width/this.width,this.uvArray[5]=r.height/this.height,this.uvArray[6]=r.width/this.width,this.uvArray[7]=r.height/this.height,t.bufferSubData(t.ARRAY_BUFFER,0,this.uvArray);var a=i,u=this.texturePool.pop();u||(u=new n.FilterTexture(this.gl,this.width,this.height)),u.resize(this.width,this.height),t.bindFramebuffer(t.FRAMEBUFFER,u.frameBuffer),t.clear(t.COLOR_BUFFER_BIT),t.disable(t.BLEND);for(var c=0;c<e.filterPasses.length-1;c++){var l=e.filterPasses[c];t.bindFramebuffer(t.FRAMEBUFFER,u.frameBuffer),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,a.texture),this.applyFilterPass(l,r,r.width,r.height);var h=a;a=u,u=h}t.enable(t.BLEND),i=a,this.texturePool.push(u)}var f=e.filterPasses[e.filterPasses.length-1];this.offsetX-=r.x,this.offsetY-=r.y;var p=this.width,d=this.height,v=0,g=0,m=this.buffer;if(0===this.filterStack.length)t.colorMask(!0,!0,!0,!0);else{var y=this.filterStack[this.filterStack.length-1];r=y._filterArea,p=r.width,d=r.height,v=r.x,g=r.y,m=y._glFilterTexture.frameBuffer}o.x=p/2,o.y=-d/2,s.x=v,s.y=g,r=e._filterArea;var b=r.x-v,w=r.y-g;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=b,this.vertexArray[1]=w+r.height,this.vertexArray[2]=b+r.width,this.vertexArray[3]=w+r.height,this.vertexArray[4]=b,this.vertexArray[5]=w,this.vertexArray[6]=b+r.width,this.vertexArray[7]=w,t.bufferSubData(t.ARRAY_BUFFER,0,this.vertexArray),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=r.width/this.width,this.uvArray[5]=r.height/this.height,this.uvArray[6]=r.width/this.width,this.uvArray[7]=r.height/this.height,t.bufferSubData(t.ARRAY_BUFFER,0,this.uvArray),t.viewport(0,0,p*this.renderSession.resolution,d*this.renderSession.resolution),t.bindFramebuffer(t.FRAMEBUFFER,m),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,i.texture),this.applyFilterPass(f,r,p,d),this.texturePool.push(i),e._glFilterTexture=null},n.WebGLFilterManager.prototype.applyFilterPass=function(t,e,r,i){var o=this.gl,s=t.shaders[o.id];s||(s=new n.PixiShader(o),s.fragmentSrc=t.fragmentSrc,s.uniforms=t.uniforms,s.init(),t.shaders[o.id]=s),this.renderSession.shaderManager.setShader(s),o.uniform2f(s.projectionVector,r/2,-i/2),o.uniform2f(s.offsetVector,0,0),t.uniforms.dimensions&&(t.uniforms.dimensions.value[0]=this.width,t.uniforms.dimensions.value[1]=this.height,t.uniforms.dimensions.value[2]=this.vertexArray[0],t.uniforms.dimensions.value[3]=this.vertexArray[5]),s.syncUniforms(),o.bindBuffer(o.ARRAY_BUFFER,this.vertexBuffer),o.vertexAttribPointer(s.aVertexPosition,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,this.uvBuffer),o.vertexAttribPointer(s.aTextureCoord,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,this.colorBuffer),o.vertexAttribPointer(s.colorAttribute,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,this.indexBuffer),o.drawElements(o.TRIANGLES,6,o.UNSIGNED_SHORT,0),this.renderSession.drawCount++},n.WebGLFilterManager.prototype.initShaderBuffers=function(){var t=this.gl;this.vertexBuffer=t.createBuffer(),this.uvBuffer=t.createBuffer(),this.colorBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.vertexArray=new n.Float32Array([0,0,1,0,0,1,1,1]),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertexArray,t.STATIC_DRAW),this.uvArray=new n.Float32Array([0,0,1,0,0,1,1,1]),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),t.bufferData(t.ARRAY_BUFFER,this.uvArray,t.STATIC_DRAW),this.colorArray=new n.Float32Array([1,16777215,1,16777215,1,16777215,1,16777215]),t.bindBuffer(t.ARRAY_BUFFER,this.colorBuffer),t.bufferData(t.ARRAY_BUFFER,this.colorArray,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,1,3,2]),t.STATIC_DRAW)
},n.WebGLFilterManager.prototype.destroy=function(){var t=this.gl;this.filterStack=null,this.offsetX=0,this.offsetY=0;for(var e=0;e<this.texturePool.length;e++)this.texturePool[e].destroy();this.texturePool=null,t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.uvBuffer),t.deleteBuffer(this.colorBuffer),t.deleteBuffer(this.indexBuffer)},n.FilterTexture=function(t,e,r,i){this.gl=t,this.frameBuffer=t.createFramebuffer(),this.texture=t.createTexture(),i=i||n.scaleModes.DEFAULT,t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,i===n.scaleModes.LINEAR?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,i===n.scaleModes.LINEAR?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0),this.renderBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.renderBuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.renderBuffer),this.resize(e,r)},n.FilterTexture.prototype.constructor=n.FilterTexture,n.FilterTexture.prototype.clear=function(){var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},n.FilterTexture.prototype.resize=function(t,e){if(this.width!==t||this.height!==e){this.width=t,this.height=e;var n=this.gl;n.bindTexture(n.TEXTURE_2D,this.texture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,t,e,0,n.RGBA,n.UNSIGNED_BYTE,null),n.bindRenderbuffer(n.RENDERBUFFER,this.renderBuffer),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t,e)}},n.FilterTexture.prototype.destroy=function(){var t=this.gl;t.deleteFramebuffer(this.frameBuffer),t.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null},n.CanvasBuffer=function(t,e){this.width=t,this.height=e,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=t,this.canvas.height=e},n.CanvasBuffer.prototype.constructor=n.CanvasBuffer,n.CanvasBuffer.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.width,this.height)},n.CanvasBuffer.prototype.resize=function(t,e){this.width=this.canvas.width=t,this.height=this.canvas.height=e},n.CanvasMaskManager=function(){},n.CanvasMaskManager.prototype.constructor=n.CanvasMaskManager,n.CanvasMaskManager.prototype.pushMask=function(t,e){var r=e.context;r.save();var i=t.alpha,o=t.worldTransform,s=e.resolution;r.setTransform(o.a*s,o.b*s,o.c*s,o.d*s,o.tx*s,o.ty*s),n.CanvasGraphics.renderGraphicsMask(t,r),r.clip(),t.worldAlpha=i},n.CanvasMaskManager.prototype.popMask=function(t){t.context.restore()},n.CanvasTinter=function(){},n.CanvasTinter.getTintedTexture=function(t,e){var r=t.texture;e=n.CanvasTinter.roundColor(e);var i="#"+("00000"+(0|e).toString(16)).substr(-6);if(r.tintCache=r.tintCache||{},r.tintCache[i])return r.tintCache[i];var o=n.CanvasTinter.canvas||document.createElement("canvas");if(n.CanvasTinter.tintMethod(r,e,o),n.CanvasTinter.convertTintToImage){var s=new Image;s.src=o.toDataURL(),r.tintCache[i]=s}else r.tintCache[i]=o,n.CanvasTinter.canvas=null;return o},n.CanvasTinter.tintWithMultiply=function(t,e,n){var r=n.getContext("2d"),i=t.crop;n.width=i.width,n.height=i.height,r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="multiply",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height)},n.CanvasTinter.tintWithOverlay=function(t,e,n){var r=n.getContext("2d"),i=t.crop;n.width=i.width,n.height=i.height,r.globalCompositeOperation="copy",r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height)},n.CanvasTinter.tintWithPerPixel=function(t,e,r){var i=r.getContext("2d"),o=t.crop;r.width=o.width,r.height=o.height,i.globalCompositeOperation="copy",i.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height);for(var s=n.hex2rgb(e),a=s[0],u=s[1],c=s[2],l=i.getImageData(0,0,o.width,o.height),h=l.data,f=0;f<h.length;f+=4)h[f+0]*=a,h[f+1]*=u,h[f+2]*=c;i.putImageData(l,0,0)},n.CanvasTinter.roundColor=function(t){var e=n.CanvasTinter.cacheStepsPerColorChannel,r=n.hex2rgb(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),n.rgb2hex(r)},n.CanvasTinter.cacheStepsPerColorChannel=8,n.CanvasTinter.convertTintToImage=!1,n.CanvasTinter.canUseMultiply=n.canUseNewCanvasBlendModes(),n.CanvasTinter.tintMethod=n.CanvasTinter.canUseMultiply?n.CanvasTinter.tintWithMultiply:n.CanvasTinter.tintWithPerPixel,n.CanvasRenderer=function(t,e,r){if(r)for(var i in n.defaultRenderOptions)"undefined"==typeof r[i]&&(r[i]=n.defaultRenderOptions[i]);else r=n.defaultRenderOptions;n.defaultRenderer||(n.sayHello("Canvas"),n.defaultRenderer=this),this.type=n.CANVAS_RENDERER,this.resolution=r.resolution,this.clearBeforeRender=r.clearBeforeRender,this.transparent=r.transparent,this.autoResize=r.autoResize||!1,this.width=t||800,this.height=e||600,this.width*=this.resolution,this.height*=this.resolution,this.view=r.view||document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.view.width=this.width*this.resolution,this.view.height=this.height*this.resolution,this.count=0,this.maskManager=new n.CanvasMaskManager,this.renderSession={context:this.context,maskManager:this.maskManager,scaleMode:null,smoothProperty:null,roundPixels:!1},this.mapBlendModes(),this.resize(t,e),"imageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="imageSmoothingEnabled":"webkitImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="webkitImageSmoothingEnabled":"mozImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="mozImageSmoothingEnabled":"oImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="oImageSmoothingEnabled":"msImageSmoothingEnabled"in this.context&&(this.renderSession.smoothProperty="msImageSmoothingEnabled")},n.CanvasRenderer.prototype.constructor=n.CanvasRenderer,n.CanvasRenderer.prototype.render=function(t){t.updateTransform(),this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.renderSession.currentBlendMode=n.blendModes.NORMAL,this.context.globalCompositeOperation=n.blendModesCanvas[n.blendModes.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=t.backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(t),t.interactive&&(t._interactiveEventsAdded||(t._interactiveEventsAdded=!0,t.interactionManager.setTarget(this)))},n.CanvasRenderer.prototype.destroy=function(t){"undefined"==typeof t&&(t=!0),t&&this.view.parent&&this.view.parent.removeChild(this.view),this.view=null,this.context=null,this.maskManager=null,this.renderSession=null},n.CanvasRenderer.prototype.resize=function(t,e){this.width=t*this.resolution,this.height=e*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},n.CanvasRenderer.prototype.renderDisplayObject=function(t,e){this.renderSession.context=e||this.context,this.renderSession.resolution=this.resolution,t._renderCanvas(this.renderSession)},n.CanvasRenderer.prototype.mapBlendModes=function(){n.blendModesCanvas||(n.blendModesCanvas=[],n.canUseNewCanvasBlendModes()?(n.blendModesCanvas[n.blendModes.NORMAL]="source-over",n.blendModesCanvas[n.blendModes.ADD]="lighter",n.blendModesCanvas[n.blendModes.MULTIPLY]="multiply",n.blendModesCanvas[n.blendModes.SCREEN]="screen",n.blendModesCanvas[n.blendModes.OVERLAY]="overlay",n.blendModesCanvas[n.blendModes.DARKEN]="darken",n.blendModesCanvas[n.blendModes.LIGHTEN]="lighten",n.blendModesCanvas[n.blendModes.COLOR_DODGE]="color-dodge",n.blendModesCanvas[n.blendModes.COLOR_BURN]="color-burn",n.blendModesCanvas[n.blendModes.HARD_LIGHT]="hard-light",n.blendModesCanvas[n.blendModes.SOFT_LIGHT]="soft-light",n.blendModesCanvas[n.blendModes.DIFFERENCE]="difference",n.blendModesCanvas[n.blendModes.EXCLUSION]="exclusion",n.blendModesCanvas[n.blendModes.HUE]="hue",n.blendModesCanvas[n.blendModes.SATURATION]="saturation",n.blendModesCanvas[n.blendModes.COLOR]="color",n.blendModesCanvas[n.blendModes.LUMINOSITY]="luminosity"):(n.blendModesCanvas[n.blendModes.NORMAL]="source-over",n.blendModesCanvas[n.blendModes.ADD]="lighter",n.blendModesCanvas[n.blendModes.MULTIPLY]="source-over",n.blendModesCanvas[n.blendModes.SCREEN]="source-over",n.blendModesCanvas[n.blendModes.OVERLAY]="source-over",n.blendModesCanvas[n.blendModes.DARKEN]="source-over",n.blendModesCanvas[n.blendModes.LIGHTEN]="source-over",n.blendModesCanvas[n.blendModes.COLOR_DODGE]="source-over",n.blendModesCanvas[n.blendModes.COLOR_BURN]="source-over",n.blendModesCanvas[n.blendModes.HARD_LIGHT]="source-over",n.blendModesCanvas[n.blendModes.SOFT_LIGHT]="source-over",n.blendModesCanvas[n.blendModes.DIFFERENCE]="source-over",n.blendModesCanvas[n.blendModes.EXCLUSION]="source-over",n.blendModesCanvas[n.blendModes.HUE]="source-over",n.blendModesCanvas[n.blendModes.SATURATION]="source-over",n.blendModesCanvas[n.blendModes.COLOR]="source-over",n.blendModesCanvas[n.blendModes.LUMINOSITY]="source-over"))},n.CanvasGraphics=function(){},n.CanvasGraphics.renderGraphics=function(t,e){var r=t.worldAlpha;t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1);for(var i=0;i<t.graphicsData.length;i++){var o=t.graphicsData[i],s=o.shape,a=o._fillTint,u=o._lineTint;if(e.lineWidth=o.lineWidth,o.type===n.Graphics.POLY){e.beginPath();var c=s.points;e.moveTo(c[0],c[1]);for(var l=1;l<c.length/2;l++)e.lineTo(c[2*l],c[2*l+1]);s.closed&&e.lineTo(c[0],c[1]),c[0]===c[c.length-2]&&c[1]===c[c.length-1]&&e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke())}else if(o.type===n.Graphics.RECT)(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fillRect(s.x,s.y,s.width,s.height)),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.strokeRect(s.x,s.y,s.width,s.height));else if(o.type===n.Graphics.CIRC)e.beginPath(),e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke());else if(o.type===n.Graphics.ELIP){var h=2*s.width,f=2*s.height,p=s.x-h/2,d=s.y-f/2;e.beginPath();var v=.5522848,g=h/2*v,m=f/2*v,y=p+h,b=d+f,w=p+h/2,_=d+f/2;e.moveTo(p,_),e.bezierCurveTo(p,_-m,w-g,d,w,d),e.bezierCurveTo(w+g,d,y,_-m,y,_),e.bezierCurveTo(y,_+m,w+g,b,w,b),e.bezierCurveTo(w-g,b,p,_+m,p,_),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke())}else if(o.type===n.Graphics.RREC){var x=s.x,E=s.y,T=s.width,C=s.height,S=s.radius,A=Math.min(T,C)/2|0;S=S>A?A:S,e.beginPath(),e.moveTo(x,E+S),e.lineTo(x,E+C-S),e.quadraticCurveTo(x,E+C,x+S,E+C),e.lineTo(x+T-S,E+C),e.quadraticCurveTo(x+T,E+C,x+T,E+C-S),e.lineTo(x+T,E+S),e.quadraticCurveTo(x+T,E,x+T-S,E),e.lineTo(x+S,E),e.quadraticCurveTo(x,E,x,E+S),e.closePath(),(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke())}}},n.CanvasGraphics.renderGraphicsMask=function(t,e){var r=t.graphicsData.length;if(0!==r){r>1&&(r=1,window.console.log("Pixi.js warning: masks in canvas can only mask using the first path in the graphics object"));for(var i=0;1>i;i++){var o=t.graphicsData[i],s=o.shape;if(o.type===n.Graphics.POLY){e.beginPath();var a=s.points;e.moveTo(a[0],a[1]);for(var u=1;u<a.length/2;u++)e.lineTo(a[2*u],a[2*u+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===n.Graphics.RECT)e.beginPath(),e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===n.Graphics.CIRC)e.beginPath(),e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===n.Graphics.ELIP){var c=2*s.width,l=2*s.height,h=s.x-c/2,f=s.y-l/2;e.beginPath();var p=.5522848,d=c/2*p,v=l/2*p,g=h+c,m=f+l,y=h+c/2,b=f+l/2;e.moveTo(h,b),e.bezierCurveTo(h,b-v,y-d,f,y,f),e.bezierCurveTo(y+d,f,g,b-v,g,b),e.bezierCurveTo(g,b+v,y+d,m,y,m),e.bezierCurveTo(y-d,m,h,b+v,h,b),e.closePath()}else if(o.type===n.Graphics.RREC){var w=s.points,_=w[0],x=w[1],E=w[2],T=w[3],C=w[4],S=Math.min(E,T)/2|0;C=C>S?S:C,e.beginPath(),e.moveTo(_,x+C),e.lineTo(_,x+T-C),e.quadraticCurveTo(_,x+T,_+C,x+T),e.lineTo(_+E-C,x+T),e.quadraticCurveTo(_+E,x+T,_+E,x+T-C),e.lineTo(_+E,x+C),e.quadraticCurveTo(_+E,x,_+E-C,x),e.lineTo(_+C,x),e.quadraticCurveTo(_,x,_,x+C),e.closePath()}}}},n.CanvasGraphics.updateGraphicsTint=function(t){if(16777215!==t.tint)for(var e=(t.tint>>16&255)/255,n=(t.tint>>8&255)/255,r=(255&t.tint)/255,i=0;i<t.graphicsData.length;i++){var o=t.graphicsData[i],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*n*255<<8)+(255&s)/255*r*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*n*255<<8)+(255&a)/255*r*255}},n.Graphics=function(){n.DisplayObjectContainer.call(this),this.renderable=!0,this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this.blendMode=n.blendModes.NORMAL,this.currentPath=null,this._webGL=[],this.isMask=!1,this.boundsPadding=0,this._localBounds=new n.Rectangle(0,0,1,1),this.dirty=!0,this.webGLDirty=!1,this.cachedSpriteDirty=!1},n.Graphics.prototype=Object.create(n.DisplayObjectContainer.prototype),n.Graphics.prototype.constructor=n.Graphics,Object.defineProperty(n.Graphics.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap=t,this._cacheAsBitmap?this._generateCachedSprite():(this.destroyCachedSprite(),this.dirty=!0)}}),n.Graphics.prototype.lineStyle=function(t,e,r){if(this.lineWidth=t||0,this.lineColor=e||0,this.lineAlpha=arguments.length<3?1:r,this.currentPath){if(this.currentPath.shape.points.length)return this.drawShape(new n.Polygon(this.currentPath.shape.points.slice(-2))),this;this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha}return this},n.Graphics.prototype.moveTo=function(t,e){return this.drawShape(new n.Polygon([t,e])),this},n.Graphics.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty=!0,this},n.Graphics.prototype.quadraticCurveTo=function(t,e,n,r){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var i,o,s=20,a=this.currentPath.shape.points;0===a.length&&this.moveTo(0,0);for(var u=a[a.length-2],c=a[a.length-1],l=0,h=1;s>=h;h++)l=h/s,i=u+(t-u)*l,o=c+(e-c)*l,a.push(i+(t+(n-t)*l-i)*l,o+(e+(r-e)*l-o)*l);return this.dirty=!0,this},n.Graphics.prototype.bezierCurveTo=function(t,e,n,r,i,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var s,a,u,c,l,h=20,f=this.currentPath.shape.points,p=f[f.length-2],d=f[f.length-1],v=0,g=1;h>=g;g++)v=g/h,s=1-v,a=s*s,u=a*s,c=v*v,l=c*v,f.push(u*p+3*a*v*t+3*s*c*n+l*i,u*d+3*a*v*e+3*s*c*r+l*o);return this.dirty=!0,this},n.Graphics.prototype.arcTo=function(t,e,n,r,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1],u=a-e,c=s-t,l=r-e,h=n-t,f=Math.abs(u*h-c*l);if(1e-8>f||0===i)(o[o.length-2]!==t||o[o.length-1]!==e)&&o.push(t,e);else{var p=u*u+c*c,d=l*l+h*h,v=u*l+c*h,g=i*Math.sqrt(p)/f,m=i*Math.sqrt(d)/f,y=g*v/p,b=m*v/d,w=g*h+m*c,_=g*l+m*u,x=c*(m+y),E=u*(m+y),T=h*(g+b),C=l*(g+b),S=Math.atan2(E-_,x-w),A=Math.atan2(C-_,T-w);this.arc(w+t,_+e,i,S,A,c*l>h*u)}return this.dirty=!0,this},n.Graphics.prototype.arc=function(t,e,n,r,i,o){var s,a=t+Math.cos(r)*n,u=e+Math.sin(r)*n;if(this.currentPath?(s=this.currentPath.shape.points,0===s.length?s.push(a,u):(s[s.length-2]!==a||s[s.length-1]!==u)&&s.push(a,u)):(this.moveTo(a,u),s=this.currentPath.shape.points),r===i)return this;!o&&r>=i?i+=2*Math.PI:o&&i>=r&&(r+=2*Math.PI);var c=o?-1*(r-i):i-r,l=Math.abs(c)/(2*Math.PI)*40;if(0===c)return this;for(var h=c/(2*l),f=2*h,p=Math.cos(h),d=Math.sin(h),v=l-1,g=v%1/v,m=0;v>=m;m++){var y=m+g*m,b=h+r+f*y,w=Math.cos(b),_=-Math.sin(b);s.push((p*w+d*_)*n+t,(p*-_+d*w)*n+e)}return this.dirty=!0,this},n.Graphics.prototype.beginFill=function(t,e){return this.filling=!0,this.fillColor=t||0,this.fillAlpha=void 0===e?1:e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},n.Graphics.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},n.Graphics.prototype.drawRect=function(t,e,r,i){return this.drawShape(new n.Rectangle(t,e,r,i)),this},n.Graphics.prototype.drawRoundedRect=function(t,e,r,i,o){return this.drawShape(new n.RoundedRectangle(t,e,r,i,o)),this},n.Graphics.prototype.drawCircle=function(t,e,r){return this.drawShape(new n.Circle(t,e,r)),this},n.Graphics.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new n.Ellipse(t,e,r,i)),this},n.Graphics.prototype.drawPolygon=function(t){return t instanceof Array||(t=Array.prototype.slice.call(arguments)),this.drawShape(new n.Polygon(t)),this},n.Graphics.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this},n.Graphics.prototype.generateTexture=function(t,e){t=t||1;var r=this.getBounds(),i=new n.CanvasBuffer(r.width*t,r.height*t),o=n.Texture.fromCanvas(i.canvas,e);return o.baseTexture.resolution=t,i.context.scale(t,t),i.context.translate(-r.x,-r.y),n.CanvasGraphics.renderGraphics(this,i.context),o},n.Graphics.prototype._renderWebGL=function(t){if(this.visible!==!1&&0!==this.alpha&&this.isMask!==!0){if(this._cacheAsBitmap)return(this.dirty||this.cachedSpriteDirty)&&(this._generateCachedSprite(),this.updateCachedSpriteTexture(),this.cachedSpriteDirty=!1,this.dirty=!1),this._cachedSprite.worldAlpha=this.worldAlpha,void n.Sprite.prototype._renderWebGL.call(this._cachedSprite,t);if(t.spriteBatch.stop(),t.blendModeManager.setBlendMode(this.blendMode),this._mask&&t.maskManager.pushMask(this._mask,t),this._filters&&t.filterManager.pushFilter(this._filterBlock),this.blendMode!==t.spriteBatch.currentBlendMode){t.spriteBatch.currentBlendMode=this.blendMode;var e=n.blendModesWebGL[t.spriteBatch.currentBlendMode];t.spriteBatch.gl.blendFunc(e[0],e[1])}if(this.webGLDirty&&(this.dirty=!0,this.webGLDirty=!1),n.WebGLGraphics.renderGraphics(this,t),this.children.length){t.spriteBatch.start();for(var r=0,i=this.children.length;i>r;r++)this.children[r]._renderWebGL(t);t.spriteBatch.stop()}this._filters&&t.filterManager.popFilter(),this._mask&&t.maskManager.popMask(this.mask,t),t.drawCount++,t.spriteBatch.start()}},n.Graphics.prototype._renderCanvas=function(t){if(this.visible!==!1&&0!==this.alpha&&this.isMask!==!0){if(this._cacheAsBitmap)return(this.dirty||this.cachedSpriteDirty)&&(this._generateCachedSprite(),this.updateCachedSpriteTexture(),this.cachedSpriteDirty=!1,this.dirty=!1),this._cachedSprite.alpha=this.alpha,void n.Sprite.prototype._renderCanvas.call(this._cachedSprite,t);var e=t.context,r=this.worldTransform;this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,e.globalCompositeOperation=n.blendModesCanvas[t.currentBlendMode]),this._mask&&t.maskManager.pushMask(this._mask,t);var i=t.resolution;e.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),n.CanvasGraphics.renderGraphics(this,e);for(var o=0,s=this.children.length;s>o;o++)this.children[o]._renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},n.Graphics.prototype.getBounds=function(t){if(this.isMask)return n.EmptyRectangle;this.dirty&&(this.updateLocalBounds(),this.webGLDirty=!0,this.cachedSpriteDirty=!0,this.dirty=!1);var e=this._localBounds,r=e.x,i=e.width+e.x,o=e.y,s=e.height+e.y,a=t||this.worldTransform,u=a.a,c=a.b,l=a.c,h=a.d,f=a.tx,p=a.ty,d=u*i+l*s+f,v=h*s+c*i+p,g=u*r+l*s+f,m=h*s+c*r+p,y=u*r+l*o+f,b=h*o+c*r+p,w=u*i+l*o+f,_=h*o+c*i+p,x=d,E=v,T=d,C=v;return T=T>g?g:T,T=T>y?y:T,T=T>w?w:T,C=C>m?m:C,C=C>b?b:C,C=C>_?_:C,x=g>x?g:x,x=y>x?y:x,x=w>x?w:x,E=m>E?m:E,E=b>E?b:E,E=_>E?_:E,this._bounds.x=T,this._bounds.width=x-T,this._bounds.y=C,this._bounds.height=E-C,this._bounds},n.Graphics.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,r=1/0,i=-1/0;if(this.graphicsData.length)for(var o,s,a,u,c,l,h=0;h<this.graphicsData.length;h++){var f=this.graphicsData[h],p=f.type,d=f.lineWidth;if(o=f.shape,p===n.Graphics.RECT||p===n.Graphics.RREC)a=o.x-d/2,u=o.y-d/2,c=o.width+d,l=o.height+d,t=t>a?a:t,e=a+c>e?a+c:e,r=r>u?u:r,i=u+l>i?u+l:i;else if(p===n.Graphics.CIRC)a=o.x,u=o.y,c=o.radius+d/2,l=o.radius+d/2,t=t>a-c?a-c:t,e=a+c>e?a+c:e,r=r>u-l?u-l:r,i=u+l>i?u+l:i;else if(p===n.Graphics.ELIP)a=o.x,u=o.y,c=o.width+d/2,l=o.height+d/2,t=t>a-c?a-c:t,e=a+c>e?a+c:e,r=r>u-l?u-l:r,i=u+l>i?u+l:i;else{s=o.points;for(var v=0;v<s.length;v+=2)a=s[v],u=s[v+1],t=t>a-d?a-d:t,e=a+d>e?a+d:e,r=r>u-d?u-d:r,i=u+d>i?u+d:i}}else t=0,e=0,r=0,i=0;var g=this.boundsPadding;this._localBounds.x=t-g,this._localBounds.width=e-t+2*g,this._localBounds.y=r-g,this._localBounds.height=i-r+2*g},n.Graphics.prototype._generateCachedSprite=function(){var t=this.getLocalBounds();if(this._cachedSprite)this._cachedSprite.buffer.resize(t.width,t.height);else{var e=new n.CanvasBuffer(t.width,t.height),r=n.Texture.fromCanvas(e.canvas);this._cachedSprite=new n.Sprite(r),this._cachedSprite.buffer=e,this._cachedSprite.worldTransform=this.worldTransform}this._cachedSprite.anchor.x=-(t.x/t.width),this._cachedSprite.anchor.y=-(t.y/t.height),this._cachedSprite.buffer.context.translate(-t.x,-t.y),this.worldAlpha=1,n.CanvasGraphics.renderGraphics(this,this._cachedSprite.buffer.context),this._cachedSprite.alpha=this.alpha},n.Graphics.prototype.updateCachedSpriteTexture=function(){var t=this._cachedSprite,e=t.texture,n=t.buffer.canvas;e.baseTexture.width=n.width,e.baseTexture.height=n.height,e.crop.width=e.frame.width=n.width,e.crop.height=e.frame.height=n.height,t._width=n.width,t._height=n.height,e.baseTexture.dirty()},n.Graphics.prototype.destroyCachedSprite=function(){this._cachedSprite.texture.destroy(!0),this._cachedSprite=null},n.Graphics.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new n.GraphicsData(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,t);return this.graphicsData.push(e),e.type===n.Graphics.POLY&&(e.shape.closed=this.filling,this.currentPath=e),this.dirty=!0,e},n.GraphicsData=function(t,e,n,r,i,o,s){this.lineWidth=t,this.lineColor=e,this.lineAlpha=n,this._lineTint=e,this.fillColor=r,this.fillAlpha=i,this._fillTint=r,this.fill=o,this.shape=s,this.type=s.type},n.Graphics.POLY=0,n.Graphics.RECT=1,n.Graphics.CIRC=2,n.Graphics.ELIP=3,n.Graphics.RREC=4,n.Polygon.prototype.type=n.Graphics.POLY,n.Rectangle.prototype.type=n.Graphics.RECT,n.Circle.prototype.type=n.Graphics.CIRC,n.Ellipse.prototype.type=n.Graphics.ELIP,n.RoundedRectangle.prototype.type=n.Graphics.RREC,n.Strip=function(t){n.DisplayObjectContainer.call(this),this.texture=t,this.uvs=new n.Float32Array([0,1,1,1,1,0,0,1]),this.vertices=new n.Float32Array([0,0,100,0,100,100,0,100]),this.colors=new n.Float32Array([1,1,1,1]),this.indices=new n.Uint16Array([0,1,2,3]),this.dirty=!0,this.blendMode=n.blendModes.NORMAL,this.canvasPadding=0,this.drawMode=n.Strip.DrawModes.TRIANGLE_STRIP},n.Strip.prototype=Object.create(n.DisplayObjectContainer.prototype),n.Strip.prototype.constructor=n.Strip,n.Strip.prototype._renderWebGL=function(t){!this.visible||this.alpha<=0||(t.spriteBatch.stop(),this._vertexBuffer||this._initWebGL(t),t.shaderManager.setShader(t.shaderManager.stripShader),this._renderStrip(t),t.spriteBatch.start())},n.Strip.prototype._initWebGL=function(t){var e=t.gl;this._vertexBuffer=e.createBuffer(),this._indexBuffer=e.createBuffer(),this._uvBuffer=e.createBuffer(),this._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this._uvBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvs,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this._colorBuffer),e.bufferData(e.ARRAY_BUFFER,this.colors,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW)},n.Strip.prototype._renderStrip=function(t){var e=t.gl,r=t.projection,i=t.offset,o=t.shaderManager.stripShader,s=this.drawMode===n.Strip.DrawModes.TRIANGLE_STRIP?e.TRIANGLE_STRIP:e.TRIANGLES;t.blendModeManager.setBlendMode(this.blendMode),e.uniformMatrix3fv(o.translationMatrix,!1,this.worldTransform.toArray(!0)),e.uniform2f(o.projectionVector,r.x,-r.y),e.uniform2f(o.offsetVector,-i.x,-i.y),e.uniform1f(o.alpha,this.worldAlpha),this.dirty?(this.dirty=!1,e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.STATIC_DRAW),e.vertexAttribPointer(o.aVertexPosition,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._uvBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvs,e.STATIC_DRAW),e.vertexAttribPointer(o.aTextureCoord,2,e.FLOAT,!1,0,0),e.activeTexture(e.TEXTURE0),this.texture.baseTexture._dirty[e.id]?t.renderer.updateTexture(this.texture.baseTexture):e.bindTexture(e.TEXTURE_2D,this.texture.baseTexture._glTextures[e.id]),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW)):(e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices),e.vertexAttribPointer(o.aVertexPosition,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._uvBuffer),e.vertexAttribPointer(o.aTextureCoord,2,e.FLOAT,!1,0,0),e.activeTexture(e.TEXTURE0),this.texture.baseTexture._dirty[e.id]?t.renderer.updateTexture(this.texture.baseTexture):e.bindTexture(e.TEXTURE_2D,this.texture.baseTexture._glTextures[e.id]),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer)),e.drawElements(s,this.indices.length,e.UNSIGNED_SHORT,0)},n.Strip.prototype._renderCanvas=function(t){var e=t.context,r=this.worldTransform;t.roundPixels?e.setTransform(r.a,r.b,r.c,r.d,0|r.tx,0|r.ty):e.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),this.drawMode===n.Strip.DrawModes.TRIANGLE_STRIP?this._renderCanvasTriangleStrip(e):this._renderCanvasTriangles(e)},n.Strip.prototype._renderCanvasTriangleStrip=function(t){var e=this.vertices,n=this.uvs,r=e.length/2;this.count++;for(var i=0;r-2>i;i++){var o=2*i;this._renderCanvasDrawTriangle(t,e,n,o,o+2,o+4)}},n.Strip.prototype._renderCanvasTriangles=function(t){var e=this.vertices,n=this.uvs,r=this.indices,i=r.length;this.count++;for(var o=0;i>o;o+=3){var s=2*r[o],a=2*r[o+1],u=2*r[o+2];this._renderCanvasDrawTriangle(t,e,n,s,a,u)}},n.Strip.prototype._renderCanvasDrawTriangle=function(t,e,n,r,i,o){var s=this.texture.baseTexture.source,a=this.texture.width,u=this.texture.height,c=e[r],l=e[i],h=e[o],f=e[r+1],p=e[i+1],d=e[o+1],v=n[r]*a,g=n[i]*a,m=n[o]*a,y=n[r+1]*u,b=n[i+1]*u,w=n[o+1]*u;if(this.canvasPadding>0){var _=this.canvasPadding/this.worldTransform.a,x=this.canvasPadding/this.worldTransform.d,E=(c+l+h)/3,T=(f+p+d)/3,C=c-E,S=f-T,A=Math.sqrt(C*C+S*S);c=E+C/A*(A+_),f=T+S/A*(A+x),C=l-E,S=p-T,A=Math.sqrt(C*C+S*S),l=E+C/A*(A+_),p=T+S/A*(A+x),C=h-E,S=d-T,A=Math.sqrt(C*C+S*S),h=E+C/A*(A+_),d=T+S/A*(A+x)}t.save(),t.beginPath(),t.moveTo(c,f),t.lineTo(l,p),t.lineTo(h,d),t.closePath(),t.clip();var k=v*b+y*m+g*w-b*m-y*g-v*w,j=c*b+y*h+l*w-b*h-y*l-c*w,R=v*l+c*m+g*h-l*m-c*g-v*h,O=v*b*h+y*l*m+c*g*w-c*b*m-y*g*h-v*l*w,P=f*b+y*d+p*w-b*d-y*p-f*w,M=v*p+f*m+g*d-p*m-f*g-v*d,F=v*b*d+y*p*m+f*g*w-f*b*m-y*g*d-v*p*w;t.transform(j/k,P/k,R/k,M/k,O/k,F/k),t.drawImage(s,0,0),t.restore()},n.Strip.prototype.renderStripFlat=function(t){var e=this.context,n=t.vertices,r=n.length/2;this.count++,e.beginPath();for(var i=1;r-2>i;i++){var o=2*i,s=n[o],a=n[o+2],u=n[o+4],c=n[o+1],l=n[o+3],h=n[o+5];e.moveTo(s,c),e.lineTo(a,l),e.lineTo(u,h)}e.fillStyle="#FF0000",e.fill(),e.closePath()},n.Strip.prototype.onTextureUpdate=function(){this.updateFrame=!0},n.Strip.prototype.getBounds=function(t){for(var e=t||this.worldTransform,r=e.a,i=e.b,o=e.c,s=e.d,a=e.tx,u=e.ty,c=-1/0,l=-1/0,h=1/0,f=1/0,p=this.vertices,d=0,v=p.length;v>d;d+=2){var g=p[d],m=p[d+1],y=r*g+o*m+a,b=s*m+i*g+u;h=h>y?y:h,f=f>b?b:f,c=y>c?y:c,l=b>l?b:l}if(h===-1/0||1/0===l)return n.EmptyRectangle;var w=this._bounds;return w.x=h,w.width=c-h,w.y=f,w.height=l-f,this._currentBounds=w,w},n.Strip.DrawModes={TRIANGLE_STRIP:0,TRIANGLES:1},n.Rope=function(t,e){n.Strip.call(this,t),this.points=e,this.vertices=new n.Float32Array(4*e.length),this.uvs=new n.Float32Array(4*e.length),this.colors=new n.Float32Array(2*e.length),this.indices=new n.Uint16Array(2*e.length),this.refresh()},n.Rope.prototype=Object.create(n.Strip.prototype),n.Rope.prototype.constructor=n.Rope,n.Rope.prototype.refresh=function(){var t=this.points;if(!(t.length<1)){var e=this.uvs,n=t[0],r=this.indices,i=this.colors;this.count-=.2,e[0]=0,e[1]=0,e[2]=0,e[3]=1,i[0]=1,i[1]=1,r[0]=0,r[1]=1;for(var o,s,a,u=t.length,c=1;u>c;c++)o=t[c],s=4*c,a=c/(u-1),c%2?(e[s]=a,e[s+1]=0,e[s+2]=a,e[s+3]=1):(e[s]=a,e[s+1]=0,e[s+2]=a,e[s+3]=1),s=2*c,i[s]=1,i[s+1]=1,s=2*c,r[s]=s,r[s+1]=s+1,n=o}},n.Rope.prototype.updateTransform=function(){var t=this.points;if(!(t.length<1)){var e,r=t[0],i={x:0,y:0};this.count-=.2;for(var o,s,a,u,c,l=this.vertices,h=t.length,f=0;h>f;f++)o=t[f],s=4*f,e=f<t.length-1?t[f+1]:o,i.y=-(e.x-r.x),i.x=e.y-r.y,a=10*(1-f/(h-1)),a>1&&(a=1),u=Math.sqrt(i.x*i.x+i.y*i.y),c=this.texture.height/2,i.x/=u,i.y/=u,i.x*=c,i.y*=c,l[s]=o.x+i.x,l[s+1]=o.y+i.y,l[s+2]=o.x-i.x,l[s+3]=o.y-i.y,r=o;n.DisplayObjectContainer.prototype.updateTransform.call(this)}},n.Rope.prototype.setTexture=function(t){this.texture=t},n.TilingSprite=function(t,e,r){n.Sprite.call(this,t),this._width=e||100,this._height=r||100,this.tileScale=new n.Point(1,1),this.tileScaleOffset=new n.Point(1,1),this.tilePosition=new n.Point(0,0),this.renderable=!0,this.tint=16777215,this.blendMode=n.blendModes.NORMAL},n.TilingSprite.prototype=Object.create(n.Sprite.prototype),n.TilingSprite.prototype.constructor=n.TilingSprite,Object.defineProperty(n.TilingSprite.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t}}),Object.defineProperty(n.TilingSprite.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t}}),n.TilingSprite.prototype.setTexture=function(t){this.texture!==t&&(this.texture=t,this.refreshTexture=!0,this.cachedTint=16777215)},n.TilingSprite.prototype._renderWebGL=function(t){if(this.visible!==!1&&0!==this.alpha){var e,n;for(this._mask&&(t.spriteBatch.stop(),t.maskManager.pushMask(this.mask,t),t.spriteBatch.start()),this._filters&&(t.spriteBatch.flush(),t.filterManager.pushFilter(this._filterBlock)),!this.tilingTexture||this.refreshTexture?(this.generateTilingTexture(!0),this.tilingTexture&&this.tilingTexture.needsUpdate&&(t.renderer.updateTexture(this.tilingTexture.baseTexture),this.tilingTexture.needsUpdate=!1)):t.spriteBatch.renderTilingSprite(this),e=0,n=this.children.length;n>e;e++)this.children[e]._renderWebGL(t);
t.spriteBatch.stop(),this._filters&&t.filterManager.popFilter(),this._mask&&t.maskManager.popMask(this._mask,t),t.spriteBatch.start()}},n.TilingSprite.prototype._renderCanvas=function(t){if(this.visible!==!1&&0!==this.alpha){var e=t.context;this._mask&&t.maskManager.pushMask(this._mask,t),e.globalAlpha=this.worldAlpha;var r,i,o=this.worldTransform,s=t.resolution;if(e.setTransform(o.a*s,o.b*s,o.c*s,o.d*s,o.tx*s,o.ty*s),!this.__tilePattern||this.refreshTexture){if(this.generateTilingTexture(!1),!this.tilingTexture)return;this.__tilePattern=e.createPattern(this.tilingTexture.baseTexture.source,"repeat")}this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,e.globalCompositeOperation=n.blendModesCanvas[t.currentBlendMode]);var a=this.tilePosition,u=this.tileScale;for(a.x%=this.tilingTexture.baseTexture.width,a.y%=this.tilingTexture.baseTexture.height,e.scale(u.x,u.y),e.translate(a.x+this.anchor.x*-this._width,a.y+this.anchor.y*-this._height),e.fillStyle=this.__tilePattern,e.fillRect(-a.x,-a.y,this._width/u.x,this._height/u.y),e.scale(1/u.x,1/u.y),e.translate(-a.x+this.anchor.x*this._width,-a.y+this.anchor.y*this._height),this._mask&&t.maskManager.popMask(t),r=0,i=this.children.length;i>r;r++)this.children[r]._renderCanvas(t)}},n.TilingSprite.prototype.getBounds=function(){var t=this._width,e=this._height,n=t*(1-this.anchor.x),r=t*-this.anchor.x,i=e*(1-this.anchor.y),o=e*-this.anchor.y,s=this.worldTransform,a=s.a,u=s.b,c=s.c,l=s.d,h=s.tx,f=s.ty,p=a*r+c*o+h,d=l*o+u*r+f,v=a*n+c*o+h,g=l*o+u*n+f,m=a*n+c*i+h,y=l*i+u*n+f,b=a*r+c*i+h,w=l*i+u*r+f,_=-1/0,x=-1/0,E=1/0,T=1/0;E=E>p?p:E,E=E>v?v:E,E=E>m?m:E,E=E>b?b:E,T=T>d?d:T,T=T>g?g:T,T=T>y?y:T,T=T>w?w:T,_=p>_?p:_,_=v>_?v:_,_=m>_?m:_,_=b>_?b:_,x=d>x?d:x,x=g>x?g:x,x=y>x?y:x,x=w>x?w:x;var C=this._bounds;return C.x=E,C.width=_-E,C.y=T,C.height=x-T,this._currentBounds=C,C},n.TilingSprite.prototype.onTextureUpdate=function(){},n.TilingSprite.prototype.generateTilingTexture=function(t){if(this.texture.baseTexture.hasLoaded){var e,r,i=this.originalTexture||this.texture,o=i.frame,s=o.width!==i.baseTexture.width||o.height!==i.baseTexture.height,a=!1;if(t?(e=n.getNextPowerOfTwo(o.width),r=n.getNextPowerOfTwo(o.height),(o.width!==e||o.height!==r||i.baseTexture.width!==e||i.baseTexture.height||r)&&(a=!0)):s&&(i.trim?(e=i.trim.width,r=i.trim.height):(e=o.width,r=o.height),a=!0),a){var u;this.tilingTexture&&this.tilingTexture.isTiling?(u=this.tilingTexture.canvasBuffer,u.resize(e,r),this.tilingTexture.baseTexture.width=e,this.tilingTexture.baseTexture.height=r,this.tilingTexture.needsUpdate=!0):(u=new n.CanvasBuffer(e,r),this.tilingTexture=n.Texture.fromCanvas(u.canvas),this.tilingTexture.canvasBuffer=u,this.tilingTexture.isTiling=!0),u.context.drawImage(i.baseTexture.source,i.crop.x,i.crop.y,i.crop.width,i.crop.height,0,0,e,r),this.tileScaleOffset.x=o.width/e,this.tileScaleOffset.y=o.height/r}else this.tilingTexture&&this.tilingTexture.isTiling&&this.tilingTexture.destroy(!0),this.tileScaleOffset.x=1,this.tileScaleOffset.y=1,this.tilingTexture=i;this.refreshTexture=!1,this.originalTexture=this.texture,this.texture=this.tilingTexture,this.tilingTexture.baseTexture._powerOf2=!0}},n.TilingSprite.prototype.destroy=function(){n.Sprite.prototype.destroy.call(this),this.tileScale=null,this.tileScaleOffset=null,this.tilePosition=null,this.tilingTexture.destroy(!0),this.tilingTexture=null};var r={radDeg:180/Math.PI,degRad:Math.PI/180,temp:[],Float32Array:"undefined"==typeof Float32Array?Array:Float32Array,Uint16Array:"undefined"==typeof Uint16Array?Array:Uint16Array};r.BoneData=function(t,e){this.name=t,this.parent=e},r.BoneData.prototype={length:0,x:0,y:0,rotation:0,scaleX:1,scaleY:1,inheritScale:!0,inheritRotation:!0,flipX:!1,flipY:!1},r.SlotData=function(t,e){this.name=t,this.boneData=e},r.SlotData.prototype={r:1,g:1,b:1,a:1,attachmentName:null,additiveBlending:!1},r.IkConstraintData=function(t){this.name=t,this.bones=[]},r.IkConstraintData.prototype={target:null,bendDirection:1,mix:1},r.Bone=function(t,e,n){this.data=t,this.skeleton=e,this.parent=n,this.setToSetupPose()},r.Bone.yDown=!1,r.Bone.prototype={x:0,y:0,rotation:0,rotationIK:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,m00:0,m01:0,worldX:0,m10:0,m11:0,worldY:0,worldRotation:0,worldScaleX:1,worldScaleY:1,worldFlipX:!1,worldFlipY:!1,updateWorldTransform:function(){var t=this.parent;if(t)this.worldX=this.x*t.m00+this.y*t.m01+t.worldX,this.worldY=this.x*t.m10+this.y*t.m11+t.worldY,this.data.inheritScale?(this.worldScaleX=t.worldScaleX*this.scaleX,this.worldScaleY=t.worldScaleY*this.scaleY):(this.worldScaleX=this.scaleX,this.worldScaleY=this.scaleY),this.worldRotation=this.data.inheritRotation?t.worldRotation+this.rotationIK:this.rotationIK,this.worldFlipX=t.worldFlipX!=this.flipX,this.worldFlipY=t.worldFlipY!=this.flipY;else{var e=this.skeleton.flipX,n=this.skeleton.flipY;this.worldX=e?-this.x:this.x,this.worldY=n!=r.Bone.yDown?-this.y:this.y,this.worldScaleX=this.scaleX,this.worldScaleY=this.scaleY,this.worldRotation=this.rotationIK,this.worldFlipX=e!=this.flipX,this.worldFlipY=n!=this.flipY}var i=this.worldRotation*r.degRad,o=Math.cos(i),s=Math.sin(i);this.worldFlipX?(this.m00=-o*this.worldScaleX,this.m01=s*this.worldScaleY):(this.m00=o*this.worldScaleX,this.m01=-s*this.worldScaleY),this.worldFlipY!=r.Bone.yDown?(this.m10=-s*this.worldScaleX,this.m11=-o*this.worldScaleY):(this.m10=s*this.worldScaleX,this.m11=o*this.worldScaleY)},setToSetupPose:function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.rotationIK=this.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.flipX=t.flipX,this.flipY=t.flipY},worldToLocal:function(t){var e=t[0]-this.worldX,n=t[1]-this.worldY,i=this.m00,o=this.m10,s=this.m01,a=this.m11;this.worldFlipX!=(this.worldFlipY!=r.Bone.yDown)&&(i=-i,a=-a);var u=1/(i*a-s*o);t[0]=e*i*u-n*s*u,t[1]=n*a*u-e*o*u},localToWorld:function(t){var e=t[0],n=t[1];t[0]=e*this.m00+n*this.m01+this.worldX,t[1]=e*this.m10+n*this.m11+this.worldY}},r.Slot=function(t,e){this.data=t,this.bone=e,this.setToSetupPose()},r.Slot.prototype={r:1,g:1,b:1,a:1,_attachmentTime:0,attachment:null,attachmentVertices:[],setAttachment:function(t){this.attachment=t,this._attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0},setAttachmentTime:function(t){this._attachmentTime=this.bone.skeleton.time-t},getAttachmentTime:function(){return this.bone.skeleton.time-this._attachmentTime},setToSetupPose:function(){var t=this.data;this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a;for(var e=this.bone.skeleton.data.slots,n=0,r=e.length;r>n;n++)if(e[n]==t){this.setAttachment(t.attachmentName?this.bone.skeleton.getAttachmentBySlotIndex(n,t.attachmentName):null);break}}},r.IkConstraint=function(t,e){this.data=t,this.mix=t.mix,this.bendDirection=t.bendDirection,this.bones=[];for(var n=0,r=t.bones.length;r>n;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)},r.IkConstraint.prototype={apply:function(){var t=this.target,e=this.bones;switch(e.length){case 1:r.IkConstraint.apply1(e[0],t.worldX,t.worldY,this.mix);break;case 2:r.IkConstraint.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.mix)}}},r.IkConstraint.apply1=function(t,e,n,i){var o=t.data.inheritRotation&&t.parent?t.parent.worldRotation:0,s=t.rotation,a=Math.atan2(n-t.worldY,e-t.worldX)*r.radDeg-o;t.rotationIK=s+(a-s)*i},r.IkConstraint.apply2=function(t,e,n,i,o,s){var a=e.rotation,u=t.rotation;if(!s)return e.rotationIK=a,void(t.rotationIK=u);var c,l,h=r.temp,f=t.parent;f?(h[0]=n,h[1]=i,f.worldToLocal(h),n=(h[0]-t.x)*f.worldScaleX,i=(h[1]-t.y)*f.worldScaleY):(n-=t.x,i-=t.y),e.parent==t?(c=e.x,l=e.y):(h[0]=e.x,h[1]=e.y,e.parent.localToWorld(h),t.worldToLocal(h),c=h[0],l=h[1]);var p=c*t.worldScaleX,d=l*t.worldScaleY,v=Math.atan2(d,p),g=Math.sqrt(p*p+d*d),m=e.data.length*e.worldScaleX,y=2*g*m;if(1e-4>y)return void(e.rotationIK=a+(Math.atan2(i,n)*r.radDeg-u-a)*s);var b=(n*n+i*i-g*g-m*m)/y;-1>b?b=-1:b>1&&(b=1);var w=Math.acos(b)*o,_=g+m*b,x=m*Math.sin(w),E=Math.atan2(i*_-n*x,n*_+i*x),T=(E-v)*r.radDeg-u;T>180?T-=360:-180>T&&(T+=360),t.rotationIK=u+T*s,T=(w+v)*r.radDeg-a,T>180?T-=360:-180>T&&(T+=360),e.rotationIK=a+(T+t.worldRotation-e.parent.worldRotation)*s},r.Skin=function(t){this.name=t,this.attachments={}},r.Skin.prototype={addAttachment:function(t,e,n){this.attachments[t+":"+e]=n},getAttachment:function(t,e){return this.attachments[t+":"+e]},_attachAll:function(t,e){for(var n in e.attachments){var r=n.indexOf(":"),i=parseInt(n.substring(0,r)),o=n.substring(r+1),s=t.slots[i];if(s.attachment&&s.attachment.name==o){var a=this.getAttachment(i,o);a&&s.setAttachment(a)}}}},r.Animation=function(t,e,n){this.name=t,this.timelines=e,this.duration=n},r.Animation.prototype={apply:function(t,e,n,r,i){r&&0!=this.duration&&(n%=this.duration,e%=this.duration);for(var o=this.timelines,s=0,a=o.length;a>s;s++)o[s].apply(t,e,n,i,1)},mix:function(t,e,n,r,i,o){r&&0!=this.duration&&(n%=this.duration,e%=this.duration);for(var s=this.timelines,a=0,u=s.length;u>a;a++)s[a].apply(t,e,n,i,o)}},r.Animation.binarySearch=function(t,e,n){var r=0,i=Math.floor(t.length/n)-2;if(!i)return n;for(var o=i>>>1;;){if(t[(o+1)*n]<=e?r=o+1:i=o,r==i)return(r+1)*n;o=r+i>>>1}},r.Animation.binarySearch1=function(t,e){var n=0,r=t.length-2;if(!r)return 1;for(var i=r>>>1;;){if(t[i+1]<=e?n=i+1:r=i,n==r)return n+1;i=n+r>>>1}},r.Animation.linearSearch=function(t,e,n){for(var r=0,i=t.length-n;i>=r;r+=n)if(t[r]>e)return r;return-1},r.Curves=function(){this.curves=[]},r.Curves.prototype={setLinear:function(t){this.curves[19*t]=0},setStepped:function(t){this.curves[19*t]=1},setCurve:function(t,e,n,r,i){var o=.1,s=o*o,a=s*o,u=3*o,c=3*s,l=6*s,h=6*a,f=2*-e+r,p=2*-n+i,d=3*(e-r)+1,v=3*(n-i)+1,g=e*u+f*c+d*a,m=n*u+p*c+v*a,y=f*l+d*h,b=p*l+v*h,w=d*h,_=v*h,x=19*t,E=this.curves;E[x++]=2;for(var T=g,C=m,S=x+19-1;S>x;x+=2)E[x]=T,E[x+1]=C,g+=y,m+=b,y+=w,b+=_,T+=g,C+=m},getCurvePercent:function(t,e){e=0>e?0:e>1?1:e;var n=this.curves,r=19*t,i=n[r];if(0===i)return e;if(1==i)return 0;r++;for(var o=0,s=r,a=r+19-1;a>r;r+=2)if(o=n[r],o>=e){var u,c;return r==s?(u=0,c=0):(u=n[r-2],c=n[r-1]),c+(n[r+1]-c)*(e-u)/(o-u)}var l=n[r-1];return l+(1-l)*(e-o)/(1-o)}},r.RotateTimeline=function(t){this.curves=new r.Curves(t),this.frames=[],this.frames.length=2*t},r.RotateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(t,e,n){t*=2,this.frames[t]=e,this.frames[t+1]=n},apply:function(t,e,n,i,o){var s=this.frames;if(!(n<s[0])){var a=t.bones[this.boneIndex];if(n>=s[s.length-2]){for(var u=a.data.rotation+s[s.length-1]-a.rotation;u>180;)u-=360;for(;-180>u;)u+=360;return void(a.rotation+=u*o)}var c=r.Animation.binarySearch(s,n,2),l=s[c-1],h=s[c],f=1-(n-h)/(s[c-2]-h);f=this.curves.getCurvePercent(c/2-1,f);for(var u=s[c+1]-l;u>180;)u-=360;for(;-180>u;)u+=360;for(u=a.data.rotation+(l+u*f)-a.rotation;u>180;)u-=360;for(;-180>u;)u+=360;a.rotation+=u*o}}},r.TranslateTimeline=function(t){this.curves=new r.Curves(t),this.frames=[],this.frames.length=3*t},r.TranslateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(t,e,n,r){t*=3,this.frames[t]=e,this.frames[t+1]=n,this.frames[t+2]=r},apply:function(t,e,n,i,o){var s=this.frames;if(!(n<s[0])){var a=t.bones[this.boneIndex];if(n>=s[s.length-3])return a.x+=(a.data.x+s[s.length-2]-a.x)*o,void(a.y+=(a.data.y+s[s.length-1]-a.y)*o);var u=r.Animation.binarySearch(s,n,3),c=s[u-2],l=s[u-1],h=s[u],f=1-(n-h)/(s[u+-3]-h);f=this.curves.getCurvePercent(u/3-1,f),a.x+=(a.data.x+c+(s[u+1]-c)*f-a.x)*o,a.y+=(a.data.y+l+(s[u+2]-l)*f-a.y)*o}}},r.ScaleTimeline=function(t){this.curves=new r.Curves(t),this.frames=[],this.frames.length=3*t},r.ScaleTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(t,e,n,r){t*=3,this.frames[t]=e,this.frames[t+1]=n,this.frames[t+2]=r},apply:function(t,e,n,i,o){var s=this.frames;if(!(n<s[0])){var a=t.bones[this.boneIndex];if(n>=s[s.length-3])return a.scaleX+=(a.data.scaleX*s[s.length-2]-a.scaleX)*o,void(a.scaleY+=(a.data.scaleY*s[s.length-1]-a.scaleY)*o);var u=r.Animation.binarySearch(s,n,3),c=s[u-2],l=s[u-1],h=s[u],f=1-(n-h)/(s[u+-3]-h);f=this.curves.getCurvePercent(u/3-1,f),a.scaleX+=(a.data.scaleX*(c+(s[u+1]-c)*f)-a.scaleX)*o,a.scaleY+=(a.data.scaleY*(l+(s[u+2]-l)*f)-a.scaleY)*o}}},r.ColorTimeline=function(t){this.curves=new r.Curves(t),this.frames=[],this.frames.length=5*t},r.ColorTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length/5},setFrame:function(t,e,n,r,i,o){t*=5,this.frames[t]=e,this.frames[t+1]=n,this.frames[t+2]=r,this.frames[t+3]=i,this.frames[t+4]=o},apply:function(t,e,n,i,o){var s=this.frames;if(!(n<s[0])){var a,u,c,l;if(n>=s[s.length-5]){var h=s.length-1;a=s[h-3],u=s[h-2],c=s[h-1],l=s[h]}else{var f=r.Animation.binarySearch(s,n,5),p=s[f-4],d=s[f-3],v=s[f-2],g=s[f-1],m=s[f],y=1-(n-m)/(s[f-5]-m);y=this.curves.getCurvePercent(f/5-1,y),a=p+(s[f+1]-p)*y,u=d+(s[f+2]-d)*y,c=v+(s[f+3]-v)*y,l=g+(s[f+4]-g)*y}var b=t.slots[this.slotIndex];1>o?(b.r+=(a-b.r)*o,b.g+=(u-b.g)*o,b.b+=(c-b.b)*o,b.a+=(l-b.a)*o):(b.r=a,b.g=u,b.b=c,b.a=l)}}},r.AttachmentTimeline=function(t){this.curves=new r.Curves(t),this.frames=[],this.frames.length=t,this.attachmentNames=[],this.attachmentNames.length=t},r.AttachmentTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length},setFrame:function(t,e,n){this.frames[t]=e,this.attachmentNames[t]=n},apply:function(t,e,n){var i=this.frames;if(n<i[0])return void(e>n&&this.apply(t,e,Number.MAX_VALUE,null,0));e>n&&(e=-1);var o=n>=i[i.length-1]?i.length-1:r.Animation.binarySearch1(i,n)-1;if(!(i[o]<e)){var s=this.attachmentNames[o];t.slots[this.slotIndex].setAttachment(s?t.getAttachmentBySlotIndex(this.slotIndex,s):null)}}},r.EventTimeline=function(t){this.frames=[],this.frames.length=t,this.events=[],this.events.length=t},r.EventTimeline.prototype={getFrameCount:function(){return this.frames.length},setFrame:function(t,e,n){this.frames[t]=e,this.events[t]=n},apply:function(t,e,n,i,o){if(i){var s=this.frames,a=s.length;if(e>n)this.apply(t,e,Number.MAX_VALUE,i,o),e=-1;else if(e>=s[a-1])return;if(!(n<s[0])){var u;if(e<s[0])u=0;else{u=r.Animation.binarySearch1(s,e);for(var c=s[u];u>0&&s[u-1]==c;)u--}for(var l=this.events;a>u&&n>=s[u];u++)i.push(l[u])}}}},r.DrawOrderTimeline=function(t){this.frames=[],this.frames.length=t,this.drawOrders=[],this.drawOrders.length=t},r.DrawOrderTimeline.prototype={getFrameCount:function(){return this.frames.length},setFrame:function(t,e,n){this.frames[t]=e,this.drawOrders[t]=n},apply:function(t,e,n){var i=this.frames;if(!(n<i[0])){var o;o=n>=i[i.length-1]?i.length-1:r.Animation.binarySearch1(i,n)-1;var s=t.drawOrder,a=t.slots,u=this.drawOrders[o];if(u)for(var c=0,l=u.length;l>c;c++)s[c]=t.slots[u[c]];else for(var c=0,l=a.length;l>c;c++)s[c]=a[c]}}},r.FfdTimeline=function(t){this.curves=new r.Curves(t),this.frames=[],this.frames.length=t,this.frameVertices=[],this.frameVertices.length=t},r.FfdTimeline.prototype={slotIndex:0,attachment:0,getFrameCount:function(){return this.frames.length},setFrame:function(t,e,n){this.frames[t]=e,this.frameVertices[t]=n},apply:function(t,e,n,i,o){var s=t.slots[this.slotIndex];if(s.attachment==this.attachment){var a=this.frames;if(!(n<a[0])){var u=this.frameVertices,c=u[0].length,l=s.attachmentVertices;if(l.length!=c&&(o=1),l.length=c,n>=a[a.length-1]){var h=u[a.length-1];if(1>o)for(var f=0;c>f;f++)l[f]+=(h[f]-l[f])*o;else for(var f=0;c>f;f++)l[f]=h[f]}else{var p=r.Animation.binarySearch1(a,n),d=a[p],v=1-(n-d)/(a[p-1]-d);v=this.curves.getCurvePercent(p-1,0>v?0:v>1?1:v);var g=u[p-1],m=u[p];if(1>o)for(var f=0;c>f;f++){var y=g[f];l[f]+=(y+(m[f]-y)*v-l[f])*o}else for(var f=0;c>f;f++){var y=g[f];l[f]=y+(m[f]-y)*v}}}}}},r.IkConstraintTimeline=function(t){this.curves=new r.Curves(t),this.frames=[],this.frames.length=3*t},r.IkConstraintTimeline.prototype={ikConstraintIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(t,e,n,r){t*=3,this.frames[t]=e,this.frames[t+1]=n,this.frames[t+2]=r},apply:function(t,e,n,i,o){var s=this.frames;if(!(n<s[0])){var a=t.ikConstraints[this.ikConstraintIndex];if(n>=s[s.length-3])return a.mix+=(s[s.length-2]-a.mix)*o,void(a.bendDirection=s[s.length-1]);var u=r.Animation.binarySearch(s,n,3),c=s[u+-2],l=s[u],h=1-(n-l)/(s[u+-3]-l);h=this.curves.getCurvePercent(u/3-1,h);var f=c+(s[u+1]-c)*h;a.mix+=(f-a.mix)*o,a.bendDirection=s[u+-1]}}},r.FlipXTimeline=function(t){this.curves=new r.Curves(t),this.frames=[],this.frames.length=2*t},r.FlipXTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(t,e,n){t*=2,this.frames[t]=e,this.frames[t+1]=n?1:0},apply:function(t,e,n){var i=this.frames;if(n<i[0])return void(e>n&&this.apply(t,e,Number.MAX_VALUE,null,0));e>n&&(e=-1);var o=(n>=i[i.length-2]?i.length:r.Animation.binarySearch(i,n,2))-2;i[o]<e||(t.bones[boneIndex].flipX=0!=i[o+1])}},r.FlipYTimeline=function(t){this.curves=new r.Curves(t),this.frames=[],this.frames.length=2*t},r.FlipYTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(t,e,n){t*=2,this.frames[t]=e,this.frames[t+1]=n?1:0},apply:function(t,e,n){var i=this.frames;if(n<i[0])return void(e>n&&this.apply(t,e,Number.MAX_VALUE,null,0));e>n&&(e=-1);var o=(n>=i[i.length-2]?i.length:r.Animation.binarySearch(i,n,2))-2;i[o]<e||(t.bones[boneIndex].flipY=0!=i[o+1])}},r.SkeletonData=function(){this.bones=[],this.slots=[],this.skins=[],this.events=[],this.animations=[],this.ikConstraints=[]},r.SkeletonData.prototype={name:null,defaultSkin:null,width:0,height:0,version:null,hash:null,findBone:function(t){for(var e=this.bones,n=0,r=e.length;r>n;n++)if(e[n].name==t)return e[n];return null},findBoneIndex:function(t){for(var e=this.bones,n=0,r=e.length;r>n;n++)if(e[n].name==t)return n;return-1},findSlot:function(t){for(var e=this.slots,n=0,r=e.length;r>n;n++)if(e[n].name==t)return slot[n];return null},findSlotIndex:function(t){for(var e=this.slots,n=0,r=e.length;r>n;n++)if(e[n].name==t)return n;return-1},findSkin:function(t){for(var e=this.skins,n=0,r=e.length;r>n;n++)if(e[n].name==t)return e[n];return null},findEvent:function(t){for(var e=this.events,n=0,r=e.length;r>n;n++)if(e[n].name==t)return e[n];return null},findAnimation:function(t){for(var e=this.animations,n=0,r=e.length;r>n;n++)if(e[n].name==t)return e[n];return null},findIkConstraint:function(t){for(var e=this.ikConstraints,n=0,r=e.length;r>n;n++)if(e[n].name==t)return e[n];return null}},r.Skeleton=function(t){this.data=t,this.bones=[];for(var e=0,n=t.bones.length;n>e;e++){var i=t.bones[e],o=i.parent?this.bones[t.bones.indexOf(i.parent)]:null;this.bones.push(new r.Bone(i,this,o))}this.slots=[],this.drawOrder=[];for(var e=0,n=t.slots.length;n>e;e++){var s=t.slots[e],a=this.bones[t.bones.indexOf(s.boneData)],u=new r.Slot(s,a);this.slots.push(u),this.drawOrder.push(u)}this.ikConstraints=[];for(var e=0,n=t.ikConstraints.length;n>e;e++)this.ikConstraints.push(new r.IkConstraint(t.ikConstraints[e],this));this.boneCache=[],this.updateCache()},r.Skeleton.prototype={x:0,y:0,skin:null,r:1,g:1,b:1,a:1,time:0,flipX:!1,flipY:!1,updateCache:function(){var t=this.ikConstraints,e=t.length,n=e+1,r=this.boneCache;r.length>n&&(r.length=n);for(var i=0,o=r.length;o>i;i++)r[i].length=0;for(;r.length<n;)r[r.length]=[];var s=r[0],a=this.bones;t:for(var i=0,o=a.length;o>i;i++){var u=a[i],c=u;do{for(var l=0;e>l;l++)for(var h=t[l],f=h.bones[0],p=h.bones[h.bones.length-1];;){if(c==p){r[l].push(u),r[l+1].push(u);continue t}if(p==f)break;p=p.parent}c=c.parent}while(c);s[s.length]=u}},updateWorldTransform:function(){for(var t=this.bones,e=0,n=t.length;n>e;e++){var r=t[e];r.rotationIK=r.rotation}for(var e=0,i=this.boneCache.length-1;;){for(var o=this.boneCache[e],s=0,a=o.length;a>s;s++)o[s].updateWorldTransform();if(e==i)break;this.ikConstraints[e].apply(),e++}},setToSetupPose:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},setBonesToSetupPose:function(){for(var t=this.bones,e=0,n=t.length;n>e;e++)t[e].setToSetupPose();for(var r=this.ikConstraints,e=0,n=r.length;n>e;e++){var i=r[e];i.bendDirection=i.data.bendDirection,i.mix=i.data.mix}},setSlotsToSetupPose:function(){for(var t=this.slots,e=this.drawOrder,n=0,r=t.length;r>n;n++)e[n]=t[n],t[n].setToSetupPose(n)},getRootBone:function(){return this.bones.length?this.bones[0]:null},findBone:function(t){for(var e=this.bones,n=0,r=e.length;r>n;n++)if(e[n].data.name==t)return e[n];return null},findBoneIndex:function(t){for(var e=this.bones,n=0,r=e.length;r>n;n++)if(e[n].data.name==t)return n;return-1},findSlot:function(t){for(var e=this.slots,n=0,r=e.length;r>n;n++)if(e[n].data.name==t)return e[n];return null},findSlotIndex:function(t){for(var e=this.slots,n=0,r=e.length;r>n;n++)if(e[n].data.name==t)return n;return-1},setSkinByName:function(t){var e=this.data.findSkin(t);if(!e)throw"Skin not found: "+t;this.setSkin(e)},setSkin:function(t){if(t)if(this.skin)t._attachAll(this,this.skin);else for(var e=this.slots,n=0,r=e.length;r>n;n++){var i=e[n],o=i.data.attachmentName;if(o){var s=t.getAttachment(n,o);s&&i.setAttachment(s)}}this.skin=t},getAttachmentBySlotName:function(t,e){return this.getAttachmentBySlotIndex(this.data.findSlotIndex(t),e)},getAttachmentBySlotIndex:function(t,e){if(this.skin){var n=this.skin.getAttachment(t,e);if(n)return n}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},setAttachment:function(t,e){for(var n=this.slots,r=0,i=n.length;i>r;r++){var o=n[r];if(o.data.name==t){var s=null;if(e&&(s=this.getAttachmentBySlotIndex(r,e),!s))throw"Attachment not found: "+e+", for slot: "+t;return void o.setAttachment(s)}}throw"Slot not found: "+t},findIkConstraint:function(t){for(var e=this.ikConstraints,n=0,r=e.length;r>n;n++)if(e[n].data.name==t)return e[n];return null},update:function(t){this.time+=t}},r.EventData=function(t){this.name=t},r.EventData.prototype={intValue:0,floatValue:0,stringValue:null},r.Event=function(t){this.data=t},r.Event.prototype={intValue:0,floatValue:0,stringValue:null},r.AttachmentType={region:0,boundingbox:1,mesh:2,skinnedmesh:3},r.RegionAttachment=function(t){this.name=t,this.offset=[],this.offset.length=8,this.uvs=[],this.uvs.length=8},r.RegionAttachment.prototype={type:r.AttachmentType.region,x:0,y:0,rotation:0,scaleX:1,scaleY:1,width:0,height:0,r:1,g:1,b:1,a:1,path:null,rendererObject:null,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,setUVs:function(t,e,n,r,i){var o=this.uvs;i?(o[2]=t,o[3]=r,o[4]=t,o[5]=e,o[6]=n,o[7]=e,o[0]=n,o[1]=r):(o[0]=t,o[1]=r,o[2]=t,o[3]=e,o[4]=n,o[5]=e,o[6]=n,o[7]=r)},updateOffset:function(){var t=this.width/this.regionOriginalWidth*this.scaleX,e=this.height/this.regionOriginalHeight*this.scaleY,n=-this.width/2*this.scaleX+this.regionOffsetX*t,i=-this.height/2*this.scaleY+this.regionOffsetY*e,o=n+this.regionWidth*t,s=i+this.regionHeight*e,a=this.rotation*r.degRad,u=Math.cos(a),c=Math.sin(a),l=n*u+this.x,h=n*c,f=i*u+this.y,p=i*c,d=o*u+this.x,v=o*c,g=s*u+this.y,m=s*c,y=this.offset;y[0]=l-p,y[1]=f+h,y[2]=l-m,y[3]=g+h,y[4]=d-m,y[5]=g+v,y[6]=d-p,y[7]=f+v},computeVertices:function(t,e,n,r){t+=n.worldX,e+=n.worldY;var i=n.m00,o=n.m01,s=n.m10,a=n.m11,u=this.offset;r[0]=u[0]*i+u[1]*o+t,r[1]=u[0]*s+u[1]*a+e,r[2]=u[2]*i+u[3]*o+t,r[3]=u[2]*s+u[3]*a+e,r[4]=u[4]*i+u[5]*o+t,r[5]=u[4]*s+u[5]*a+e,r[6]=u[6]*i+u[7]*o+t,r[7]=u[6]*s+u[7]*a+e}},r.MeshAttachment=function(t){this.name=t},r.MeshAttachment.prototype={type:r.AttachmentType.mesh,vertices:null,uvs:null,regionUVs:null,triangles:null,hullLength:0,r:1,g:1,b:1,a:1,path:null,rendererObject:null,regionU:0,regionV:0,regionU2:0,regionV2:0,regionRotate:!1,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,edges:null,width:0,height:0,updateUVs:function(){var t=this.regionU2-this.regionU,e=this.regionV2-this.regionV,n=this.regionUVs.length;if(this.uvs&&this.uvs.length==n||(this.uvs=new r.Float32Array(n)),this.regionRotate)for(var i=0;n>i;i+=2)this.uvs[i]=this.regionU+this.regionUVs[i+1]*t,this.uvs[i+1]=this.regionV+e-this.regionUVs[i]*e;else for(var i=0;n>i;i+=2)this.uvs[i]=this.regionU+this.regionUVs[i]*t,this.uvs[i+1]=this.regionV+this.regionUVs[i+1]*e},computeWorldVertices:function(t,e,n,r){var i=n.bone;t+=i.worldX,e+=i.worldY;var o=i.m00,s=i.m01,a=i.m10,u=i.m11,c=this.vertices,l=c.length;n.attachmentVertices.length==l&&(c=n.attachmentVertices);for(var h=0;l>h;h+=2){var f=c[h],p=c[h+1];r[h]=f*o+p*s+t,r[h+1]=f*a+p*u+e}}},r.SkinnedMeshAttachment=function(t){this.name=t},r.SkinnedMeshAttachment.prototype={type:r.AttachmentType.skinnedmesh,bones:null,weights:null,uvs:null,regionUVs:null,triangles:null,hullLength:0,r:1,g:1,b:1,a:1,path:null,rendererObject:null,regionU:0,regionV:0,regionU2:0,regionV2:0,regionRotate:!1,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,edges:null,width:0,height:0,updateUVs:function(){var t=this.regionU2-this.regionU,e=this.regionV2-this.regionV,n=this.regionUVs.length;if(this.uvs&&this.uvs.length==n||(this.uvs=new r.Float32Array(n)),this.regionRotate)for(var i=0;n>i;i+=2)this.uvs[i]=this.regionU+this.regionUVs[i+1]*t,this.uvs[i+1]=this.regionV+e-this.regionUVs[i]*e;else for(var i=0;n>i;i+=2)this.uvs[i]=this.regionU+this.regionUVs[i]*t,this.uvs[i+1]=this.regionV+this.regionUVs[i+1]*e},computeWorldVertices:function(t,e,n,r){var i,o,s,a,u,c,l,h=n.bone.skeleton.bones,f=this.weights,p=this.bones,d=0,v=0,g=0,m=0,y=p.length;if(n.attachmentVertices.length)for(var b=n.attachmentVertices;y>v;d+=2){for(o=0,s=0,i=p[v++]+v;i>v;v++,g+=3,m+=2)a=h[p[v]],u=f[g]+b[m],c=f[g+1]+b[m+1],l=f[g+2],o+=(u*a.m00+c*a.m01+a.worldX)*l,s+=(u*a.m10+c*a.m11+a.worldY)*l;r[d]=o+t,r[d+1]=s+e}else for(;y>v;d+=2){for(o=0,s=0,i=p[v++]+v;i>v;v++,g+=3)a=h[p[v]],u=f[g],c=f[g+1],l=f[g+2],o+=(u*a.m00+c*a.m01+a.worldX)*l,s+=(u*a.m10+c*a.m11+a.worldY)*l;r[d]=o+t,r[d+1]=s+e}}},r.BoundingBoxAttachment=function(t){this.name=t,this.vertices=[]},r.BoundingBoxAttachment.prototype={type:r.AttachmentType.boundingbox,computeWorldVertices:function(t,e,n,r){t+=n.worldX,e+=n.worldY;for(var i=n.m00,o=n.m01,s=n.m10,a=n.m11,u=this.vertices,c=0,l=u.length;l>c;c+=2){var h=u[c],f=u[c+1];r[c]=h*i+f*o+t,r[c+1]=h*s+f*a+e}}},r.AnimationStateData=function(t){this.skeletonData=t,this.animationToMixTime={}},r.AnimationStateData.prototype={defaultMix:0,setMixByName:function(t,e,n){var r=this.skeletonData.findAnimation(t);if(!r)throw"Animation not found: "+t;var i=this.skeletonData.findAnimation(e);if(!i)throw"Animation not found: "+e;this.setMix(r,i,n)},setMix:function(t,e,n){this.animationToMixTime[t.name+":"+e.name]=n},getMix:function(t,e){var n=t.name+":"+e.name;return this.animationToMixTime.hasOwnProperty(n)?this.animationToMixTime[n]:this.defaultMix}},r.TrackEntry=function(){},r.TrackEntry.prototype={next:null,previous:null,animation:null,loop:!1,delay:0,time:0,lastTime:-1,endTime:0,timeScale:1,mixTime:0,mixDuration:0,mix:1,onStart:null,onEnd:null,onComplete:null,onEvent:null},r.AnimationState=function(t){this.data=t,this.tracks=[],this.events=[]},r.AnimationState.prototype={onStart:null,onEnd:null,onComplete:null,onEvent:null,timeScale:1,update:function(t){t*=this.timeScale;for(var e=0;e<this.tracks.length;e++){var n=this.tracks[e];if(n){if(n.time+=t*n.timeScale,n.previous){var r=t*n.previous.timeScale;n.previous.time+=r,n.mixTime+=r}var i=n.next;i?(i.time=n.lastTime-i.delay,i.time>=0&&this.setCurrent(e,i)):!n.loop&&n.lastTime>=n.endTime&&this.clearTrack(e)}}},apply:function(t){for(var e=0;e<this.tracks.length;e++){var n=this.tracks[e];if(n){this.events.length=0;var r=n.time,i=n.lastTime,o=n.endTime,s=n.loop;!s&&r>o&&(r=o);var a=n.previous;if(a){var u=a.time;!a.loop&&u>a.endTime&&(u=a.endTime),a.animation.apply(t,u,u,a.loop,null);var c=n.mixTime/n.mixDuration*n.mix;c>=1&&(c=1,n.previous=null),n.animation.mix(t,n.lastTime,r,s,this.events,c)}else 1==n.mix?n.animation.apply(t,n.lastTime,r,s,this.events):n.animation.mix(t,n.lastTime,r,s,this.events,n.mix);for(var l=0,h=this.events.length;h>l;l++){var f=this.events[l];n.onEvent&&n.onEvent(e,f),this.onEvent&&this.onEvent(e,f)}if(s?i%o>r%o:o>i&&r>=o){var p=Math.floor(r/o);n.onComplete&&n.onComplete(e,p),this.onComplete&&this.onComplete(e,p)}n.lastTime=n.time}}},clearTracks:function(){for(var t=0,e=this.tracks.length;e>t;t++)this.clearTrack(t);this.tracks.length=0},clearTrack:function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];e&&(e.onEnd&&e.onEnd(t),this.onEnd&&this.onEnd(t),this.tracks[t]=null)}},_expandToIndex:function(t){if(t<this.tracks.length)return this.tracks[t];for(;t>=this.tracks.length;)this.tracks.push(null);return null},setCurrent:function(t,e){var n=this._expandToIndex(t);if(n){var r=n.previous;n.previous=null,n.onEnd&&n.onEnd(t),this.onEnd&&this.onEnd(t),e.mixDuration=this.data.getMix(n.animation,e.animation),e.mixDuration>0&&(e.mixTime=0,e.previous=r&&n.mixTime/n.mixDuration<.5?r:n)}this.tracks[t]=e,e.onStart&&e.onStart(t),this.onStart&&this.onStart(t)},setAnimationByName:function(t,e,n){var r=this.data.skeletonData.findAnimation(e);if(!r)throw"Animation not found: "+e;return this.setAnimation(t,r,n)},setAnimation:function(t,e,n){var i=new r.TrackEntry;return i.animation=e,i.loop=n,i.endTime=e.duration,this.setCurrent(t,i),i},addAnimationByName:function(t,e,n,r){var i=this.data.skeletonData.findAnimation(e);if(!i)throw"Animation not found: "+e;return this.addAnimation(t,i,n,r)},addAnimation:function(t,e,n,i){var o=new r.TrackEntry;o.animation=e,o.loop=n,o.endTime=e.duration;var s=this._expandToIndex(t);if(s){for(;s.next;)s=s.next;s.next=o}else this.tracks[t]=o;return 0>=i&&(s?i+=s.endTime-this.data.getMix(s.animation,e):i=0),o.delay=i,o},getCurrent:function(t){return t>=this.tracks.length?null:this.tracks[t]}},r.SkeletonJson=function(t){this.attachmentLoader=t},r.SkeletonJson.prototype={scale:1,readSkeletonData:function(t,e){var n=new r.SkeletonData;n.name=e;var i=t.skeleton;i&&(n.hash=i.hash,n.version=i.spine,n.width=i.width||0,n.height=i.height||0);for(var o=t.bones,s=0,a=o.length;a>s;s++){var u=o[s],c=null;if(u.parent&&(c=n.findBone(u.parent),!c))throw"Parent bone not found: "+u.parent;var l=new r.BoneData(u.name,c);l.length=(u.length||0)*this.scale,l.x=(u.x||0)*this.scale,l.y=(u.y||0)*this.scale,l.rotation=u.rotation||0,l.scaleX=u.hasOwnProperty("scaleX")?u.scaleX:1,l.scaleY=u.hasOwnProperty("scaleY")?u.scaleY:1,l.inheritScale=u.hasOwnProperty("inheritScale")?u.inheritScale:!0,l.inheritRotation=u.hasOwnProperty("inheritRotation")?u.inheritRotation:!0,n.bones.push(l)}var h=t.ik;if(h)for(var s=0,a=h.length;a>s;s++){for(var f=h[s],p=new r.IkConstraintData(f.name),o=f.bones,d=0,v=o.length;v>d;d++){var g=n.findBone(o[d]);if(!g)throw"IK bone not found: "+o[d];p.bones.push(g)}if(p.target=n.findBone(f.target),!p.target)throw"Target bone not found: "+f.target;p.bendDirection=!f.hasOwnProperty("bendPositive")||f.bendPositive?1:-1,p.mix=f.hasOwnProperty("mix")?f.mix:1,n.ikConstraints.push(p)}for(var m=t.slots,s=0,a=m.length;a>s;s++){var y=m[s],l=n.findBone(y.bone);if(!l)throw"Slot bone not found: "+y.bone;var b=new r.SlotData(y.name,l),w=y.color;w&&(b.r=this.toColor(w,0),b.g=this.toColor(w,1),b.b=this.toColor(w,2),b.a=this.toColor(w,3)),b.attachmentName=y.attachment,b.additiveBlending=y.additive&&"true"==y.additive,n.slots.push(b)}var _=t.skins;for(var x in _)if(_.hasOwnProperty(x)){var E=_[x],T=new r.Skin(x);for(var C in E)if(E.hasOwnProperty(C)){var S=n.findSlotIndex(C),A=E[C];for(var k in A)if(A.hasOwnProperty(k)){var j=this.readAttachment(T,k,A[k]);j&&T.addAttachment(S,k,j)}}n.skins.push(T),"default"==T.name&&(n.defaultSkin=T)}var R=t.events;for(var O in R)if(R.hasOwnProperty(O)){var P=R[O],M=new r.EventData(O);M.intValue=P["int"]||0,M.floatValue=P["float"]||0,M.stringValue=P.string||null,n.events.push(M)}var F=t.animations;for(var L in F)F.hasOwnProperty(L)&&this.readAnimation(L,F[L],n);return n},readAttachment:function(t,e,n){e=n.name||e;var i=r.AttachmentType[n.type||"region"],o=n.path||e,s=this.scale;
if(i==r.AttachmentType.region){var a=this.attachmentLoader.newRegionAttachment(t,e,o);if(!a)return null;a.path=o,a.x=(n.x||0)*s,a.y=(n.y||0)*s,a.scaleX=n.hasOwnProperty("scaleX")?n.scaleX:1,a.scaleY=n.hasOwnProperty("scaleY")?n.scaleY:1,a.rotation=n.rotation||0,a.width=(n.width||0)*s,a.height=(n.height||0)*s;var u=n.color;return u&&(a.r=this.toColor(u,0),a.g=this.toColor(u,1),a.b=this.toColor(u,2),a.a=this.toColor(u,3)),a.updateOffset(),a}if(i==r.AttachmentType.mesh){var c=this.attachmentLoader.newMeshAttachment(t,e,o);return c?(c.path=o,c.vertices=this.getFloatArray(n,"vertices",s),c.triangles=this.getIntArray(n,"triangles"),c.regionUVs=this.getFloatArray(n,"uvs",1),c.updateUVs(),u=n.color,u&&(c.r=this.toColor(u,0),c.g=this.toColor(u,1),c.b=this.toColor(u,2),c.a=this.toColor(u,3)),c.hullLength=2*(n.hull||0),n.edges&&(c.edges=this.getIntArray(n,"edges")),c.width=(n.width||0)*s,c.height=(n.height||0)*s,c):null}if(i==r.AttachmentType.skinnedmesh){var c=this.attachmentLoader.newSkinnedMeshAttachment(t,e,o);if(!c)return null;c.path=o;for(var l=this.getFloatArray(n,"uvs",1),h=this.getFloatArray(n,"vertices",1),f=[],p=[],d=0,v=h.length;v>d;){var g=0|h[d++];p[p.length]=g;for(var m=d+4*g;m>d;)p[p.length]=h[d],f[f.length]=h[d+1]*s,f[f.length]=h[d+2]*s,f[f.length]=h[d+3],d+=4}return c.bones=p,c.weights=f,c.triangles=this.getIntArray(n,"triangles"),c.regionUVs=l,c.updateUVs(),u=n.color,u&&(c.r=this.toColor(u,0),c.g=this.toColor(u,1),c.b=this.toColor(u,2),c.a=this.toColor(u,3)),c.hullLength=2*(n.hull||0),n.edges&&(c.edges=this.getIntArray(n,"edges")),c.width=(n.width||0)*s,c.height=(n.height||0)*s,c}if(i==r.AttachmentType.boundingbox){for(var y=this.attachmentLoader.newBoundingBoxAttachment(t,e),h=n.vertices,d=0,v=h.length;v>d;d++)y.vertices.push(h[d]*s);return y}throw"Unknown attachment type: "+i},readAnimation:function(t,e,n){var i=[],o=0,s=e.slots;for(var a in s)if(s.hasOwnProperty(a)){var u=s[a],c=n.findSlotIndex(a);for(var l in u)if(u.hasOwnProperty(l)){var h=u[l];if("color"==l){var f=new r.ColorTimeline(h.length);f.slotIndex=c;for(var p=0,d=0,v=h.length;v>d;d++){var g=h[d],m=g.color,y=this.toColor(m,0),b=this.toColor(m,1),w=this.toColor(m,2),_=this.toColor(m,3);f.setFrame(p,g.time,y,b,w,_),this.readCurve(f,p,g),p++}i.push(f),o=Math.max(o,f.frames[5*f.getFrameCount()-5])}else{if("attachment"!=l)throw"Invalid timeline type for a slot: "+l+" ("+a+")";var f=new r.AttachmentTimeline(h.length);f.slotIndex=c;for(var p=0,d=0,v=h.length;v>d;d++){var g=h[d];f.setFrame(p++,g.time,g.name)}i.push(f),o=Math.max(o,f.frames[f.getFrameCount()-1])}}}var x=e.bones;for(var E in x)if(x.hasOwnProperty(E)){var T=n.findBoneIndex(E);if(-1==T)throw"Bone not found: "+E;var C=x[E];for(var l in C)if(C.hasOwnProperty(l)){var h=C[l];if("rotate"==l){var f=new r.RotateTimeline(h.length);f.boneIndex=T;for(var p=0,d=0,v=h.length;v>d;d++){var g=h[d];f.setFrame(p,g.time,g.angle),this.readCurve(f,p,g),p++}i.push(f),o=Math.max(o,f.frames[2*f.getFrameCount()-2])}else if("translate"==l||"scale"==l){var f,S=1;"scale"==l?f=new r.ScaleTimeline(h.length):(f=new r.TranslateTimeline(h.length),S=this.scale),f.boneIndex=T;for(var p=0,d=0,v=h.length;v>d;d++){var g=h[d],A=(g.x||0)*S,k=(g.y||0)*S;f.setFrame(p,g.time,A,k),this.readCurve(f,p,g),p++}i.push(f),o=Math.max(o,f.frames[3*f.getFrameCount()-3])}else{if("flipX"!=l&&"flipY"!=l)throw"Invalid timeline type for a bone: "+l+" ("+E+")";var A="flipX"==l,f=A?new r.FlipXTimeline(h.length):new r.FlipYTimeline(h.length);f.boneIndex=T;for(var j=A?"x":"y",p=0,d=0,v=h.length;v>d;d++){var g=h[d];f.setFrame(p,g.time,g[j]||!1),p++}i.push(f),o=Math.max(o,f.frames[2*f.getFrameCount()-2])}}}var R=e.ik;for(var O in R)if(R.hasOwnProperty(O)){var P=n.findIkConstraint(O),h=R[O],f=new r.IkConstraintTimeline(h.length);f.ikConstraintIndex=n.ikConstraints.indexOf(P);for(var p=0,d=0,v=h.length;v>d;d++){var g=h[d],M=g.hasOwnProperty("mix")?g.mix:1,F=!g.hasOwnProperty("bendPositive")||g.bendPositive?1:-1;f.setFrame(p,g.time,M,F),this.readCurve(f,p,g),p++}i.push(f),o=Math.max(o,f.frames[3*f.frameCount-3])}var L=e.ffd;for(var I in L){var D=n.findSkin(I),u=L[I];for(a in u){var c=n.findSlotIndex(a),N=u[a];for(var B in N){var h=N[B],f=new r.FfdTimeline(h.length),U=D.getAttachment(c,B);if(!U)throw"FFD attachment not found: "+B;f.slotIndex=c,f.attachment=U;var q,W=U.type==r.AttachmentType.mesh;q=W?U.vertices.length:U.weights.length/3*2;for(var p=0,d=0,v=h.length;v>d;d++){var G,g=h[d];if(g.vertices){var H=g.vertices,G=[];G.length=q;var V=g.offset||0,z=H.length;if(1==this.scale)for(var $=0;z>$;$++)G[$+V]=H[$];else for(var $=0;z>$;$++)G[$+V]=H[$]*this.scale;if(W)for(var Y=U.vertices,$=0,z=G.length;z>$;$++)G[$]+=Y[$]}else W?G=U.vertices:(G=[],G.length=q);f.setFrame(p,g.time,G),this.readCurve(f,p,g),p++}i[i.length]=f,o=Math.max(o,f.frames[f.frameCount-1])}}}var X=e.drawOrder;if(X||(X=e.draworder),X){for(var f=new r.DrawOrderTimeline(X.length),J=n.slots.length,p=0,d=0,v=X.length;v>d;d++){var K=X[d],Q=null;if(K.offsets){Q=[],Q.length=J;for(var $=J-1;$>=0;$--)Q[$]=-1;var Z=K.offsets,te=[];te.length=J-Z.length;for(var ee=0,ne=0,$=0,z=Z.length;z>$;$++){var re=Z[$],c=n.findSlotIndex(re.slot);if(-1==c)throw"Slot not found: "+re.slot;for(;ee!=c;)te[ne++]=ee++;Q[ee+re.offset]=ee++}for(;J>ee;)te[ne++]=ee++;for(var $=J-1;$>=0;$--)-1==Q[$]&&(Q[$]=te[--ne])}f.setFrame(p++,K.time,Q)}i.push(f),o=Math.max(o,f.frames[f.getFrameCount()-1])}var ie=e.events;if(ie){for(var f=new r.EventTimeline(ie.length),p=0,d=0,v=ie.length;v>d;d++){var oe=ie[d],se=n.findEvent(oe.name);if(!se)throw"Event not found: "+oe.name;var ae=new r.Event(se);ae.intValue=oe.hasOwnProperty("int")?oe["int"]:se.intValue,ae.floatValue=oe.hasOwnProperty("float")?oe["float"]:se.floatValue,ae.stringValue=oe.hasOwnProperty("string")?oe.string:se.stringValue,f.setFrame(p++,oe.time,ae)}i.push(f),o=Math.max(o,f.frames[f.getFrameCount()-1])}n.animations.push(new r.Animation(t,i,o))},readCurve:function(t,e,n){var r=n.curve;r?"stepped"==r?t.curves.setStepped(e):r instanceof Array&&t.curves.setCurve(e,r[0],r[1],r[2],r[3]):t.curves.setLinear(e)},toColor:function(t,e){if(8!=t.length)throw"Color hexidecimal length must be 8, recieved: "+t;return parseInt(t.substring(2*e,2*e+2),16)/255},getFloatArray:function(t,e,n){var i=t[e],o=new r.Float32Array(i.length),s=0,a=i.length;if(1==n)for(;a>s;s++)o[s]=i[s];else for(;a>s;s++)o[s]=i[s]*n;return o},getIntArray:function(t,e){for(var n=t[e],i=new r.Uint16Array(n.length),o=0,s=n.length;s>o;o++)i[o]=0|n[o];return i}},r.Atlas=function(t,e){this.textureLoader=e,this.pages=[],this.regions=[];var n=new r.AtlasReader(t),i=[];i.length=4;for(var o=null;;){var s=n.readLine();if(null===s)break;if(s=n.trim(s),s.length)if(o){var a=new r.AtlasRegion;a.name=s,a.page=o,a.rotate="true"==n.readValue(),n.readTuple(i);var u=parseInt(i[0]),c=parseInt(i[1]);n.readTuple(i);var l=parseInt(i[0]),h=parseInt(i[1]);a.u=u/o.width,a.v=c/o.height,a.rotate?(a.u2=(u+h)/o.width,a.v2=(c+l)/o.height):(a.u2=(u+l)/o.width,a.v2=(c+h)/o.height),a.x=u,a.y=c,a.width=Math.abs(l),a.height=Math.abs(h),4==n.readTuple(i)&&(a.splits=[parseInt(i[0]),parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],4==n.readTuple(i)&&(a.pads=[parseInt(i[0]),parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],n.readTuple(i))),a.originalWidth=parseInt(i[0]),a.originalHeight=parseInt(i[1]),n.readTuple(i),a.offsetX=parseInt(i[0]),a.offsetY=parseInt(i[1]),a.index=parseInt(n.readValue()),this.regions.push(a)}else{o=new r.AtlasPage,o.name=s,2==n.readTuple(i)&&(o.width=parseInt(i[0]),o.height=parseInt(i[1]),n.readTuple(i)),o.format=r.Atlas.Format[i[0]],n.readTuple(i),o.minFilter=r.Atlas.TextureFilter[i[0]],o.magFilter=r.Atlas.TextureFilter[i[1]];var f=n.readValue();o.uWrap=r.Atlas.TextureWrap.clampToEdge,o.vWrap=r.Atlas.TextureWrap.clampToEdge,"x"==f?o.uWrap=r.Atlas.TextureWrap.repeat:"y"==f?o.vWrap=r.Atlas.TextureWrap.repeat:"xy"==f&&(o.uWrap=o.vWrap=r.Atlas.TextureWrap.repeat),e.load(o,s,this),this.pages.push(o)}else o=null}},r.Atlas.prototype={findRegion:function(t){for(var e=this.regions,n=0,r=e.length;r>n;n++)if(e[n].name==t)return e[n];return null},dispose:function(){for(var t=this.pages,e=0,n=t.length;n>e;e++)this.textureLoader.unload(t[e].rendererObject)},updateUVs:function(t){for(var e=this.regions,n=0,r=e.length;r>n;n++){var i=e[n];i.page==t&&(i.u=i.x/t.width,i.v=i.y/t.height,i.rotate?(i.u2=(i.x+i.height)/t.width,i.v2=(i.y+i.width)/t.height):(i.u2=(i.x+i.width)/t.width,i.v2=(i.y+i.height)/t.height))}}},r.Atlas.Format={alpha:0,intensity:1,luminanceAlpha:2,rgb565:3,rgba4444:4,rgb888:5,rgba8888:6},r.Atlas.TextureFilter={nearest:0,linear:1,mipMap:2,mipMapNearestNearest:3,mipMapLinearNearest:4,mipMapNearestLinear:5,mipMapLinearLinear:6},r.Atlas.TextureWrap={mirroredRepeat:0,clampToEdge:1,repeat:2},r.AtlasPage=function(){},r.AtlasPage.prototype={name:null,format:null,minFilter:null,magFilter:null,uWrap:null,vWrap:null,rendererObject:null,width:0,height:0},r.AtlasRegion=function(){},r.AtlasRegion.prototype={page:null,name:null,x:0,y:0,width:0,height:0,u:0,v:0,u2:0,v2:0,offsetX:0,offsetY:0,originalWidth:0,originalHeight:0,index:0,rotate:!1,splits:null,pads:null},r.AtlasReader=function(t){this.lines=t.split(/\r\n|\r|\n/)},r.AtlasReader.prototype={index:0,trim:function(t){return t.replace(/^\s+|\s+$/g,"")},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},readValue:function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw"Invalid line: "+t;return this.trim(t.substring(e+1))},readTuple:function(t){var e=this.readLine(),n=e.indexOf(":");if(-1==n)throw"Invalid line: "+e;for(var r=0,i=n+1;3>r;r++){var o=e.indexOf(",",i);if(-1==o)break;t[r]=this.trim(e.substr(i,o-i)),i=o+1}return t[r]=this.trim(e.substring(i)),r+1}},r.AtlasAttachmentLoader=function(t){this.atlas=t},r.AtlasAttachmentLoader.prototype={newRegionAttachment:function(t,e,n){var i=this.atlas.findRegion(n);if(!i)throw"Region not found in atlas: "+n+" (region attachment: "+e+")";var o=new r.RegionAttachment(e);return o.rendererObject=i,o.setUVs(i.u,i.v,i.u2,i.v2,i.rotate),o.regionOffsetX=i.offsetX,o.regionOffsetY=i.offsetY,o.regionWidth=i.width,o.regionHeight=i.height,o.regionOriginalWidth=i.originalWidth,o.regionOriginalHeight=i.originalHeight,o},newMeshAttachment:function(t,e,n){var i=this.atlas.findRegion(n);if(!i)throw"Region not found in atlas: "+n+" (mesh attachment: "+e+")";var o=new r.MeshAttachment(e);return o.rendererObject=i,o.regionU=i.u,o.regionV=i.v,o.regionU2=i.u2,o.regionV2=i.v2,o.regionRotate=i.rotate,o.regionOffsetX=i.offsetX,o.regionOffsetY=i.offsetY,o.regionWidth=i.width,o.regionHeight=i.height,o.regionOriginalWidth=i.originalWidth,o.regionOriginalHeight=i.originalHeight,o},newSkinnedMeshAttachment:function(t,e,n){var i=this.atlas.findRegion(n);if(!i)throw"Region not found in atlas: "+n+" (skinned mesh attachment: "+e+")";var o=new r.SkinnedMeshAttachment(e);return o.rendererObject=i,o.regionU=i.u,o.regionV=i.v,o.regionU2=i.u2,o.regionV2=i.v2,o.regionRotate=i.rotate,o.regionOffsetX=i.offsetX,o.regionOffsetY=i.offsetY,o.regionWidth=i.width,o.regionHeight=i.height,o.regionOriginalWidth=i.originalWidth,o.regionOriginalHeight=i.originalHeight,o},newBoundingBoxAttachment:function(t,e){return new r.BoundingBoxAttachment(e)}},r.SkeletonBounds=function(){this.polygonPool=[],this.polygons=[],this.boundingBoxes=[]},r.SkeletonBounds.prototype={minX:0,minY:0,maxX:0,maxY:0,update:function(t,e){var n=t.slots,i=n.length,o=t.x,s=t.y,a=this.boundingBoxes,u=this.polygonPool,c=this.polygons;a.length=0;for(var l=0,h=c.length;h>l;l++)u.push(c[l]);c.length=0;for(var l=0;i>l;l++){var f=n[l],p=f.attachment;if(p.type==r.AttachmentType.boundingbox){a.push(p);var d,v=u.length;v>0?(d=u[v-1],u.splice(v-1,1)):d=[],c.push(d),d.length=p.vertices.length,p.computeWorldVertices(o,s,f.bone,d)}}e&&this.aabbCompute()},aabbCompute:function(){for(var t=this.polygons,e=Number.MAX_VALUE,n=Number.MAX_VALUE,r=Number.MIN_VALUE,i=Number.MIN_VALUE,o=0,s=t.length;s>o;o++)for(var a=t[o],u=0,c=a.length;c>u;u+=2){var l=a[u],h=a[u+1];e=Math.min(e,l),n=Math.min(n,h),r=Math.max(r,l),i=Math.max(i,h)}this.minX=e,this.minY=n,this.maxX=r,this.maxY=i},aabbContainsPoint:function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},aabbIntersectsSegment:function(t,e,n,r){var i=this.minX,o=this.minY,s=this.maxX,a=this.maxY;if(i>=t&&i>=n||o>=e&&o>=r||t>=s&&n>=s||e>=a&&r>=a)return!1;var u=(r-e)/(n-t),c=u*(i-t)+e;if(c>o&&a>c)return!0;if(c=u*(s-t)+e,c>o&&a>c)return!0;var l=(o-e)/u+t;return l>i&&s>l?!0:(l=(a-e)/u+t,l>i&&s>l?!0:!1)},aabbIntersectsSkeleton:function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},containsPoint:function(t,e){for(var n=this.polygons,r=0,i=n.length;i>r;r++)if(this.polygonContainsPoint(n[r],t,e))return this.boundingBoxes[r];return null},intersectsSegment:function(t,e,n,r){for(var i=this.polygons,o=0,s=i.length;s>o;o++)if(i[o].intersectsSegment(t,e,n,r))return this.boundingBoxes[o];return null},polygonContainsPoint:function(t,e,n){for(var r=t.length,i=r-2,o=!1,s=0;r>s;s+=2){var a=t[s+1],u=t[i+1];if(n>a&&u>=n||n>u&&a>=n){var c=t[s];c+(n-a)/(u-a)*(t[i]-c)<e&&(o=!o)}i=s}return o},polygonIntersectsSegment:function(t,e,n,r,i){for(var o=t.length,s=e-r,a=n-i,u=e*i-n*r,c=t[o-2],l=t[o-1],h=0;o>h;h+=2){var f=t[h],p=t[h+1],d=c*p-l*f,v=c-f,g=l-p,m=s*g-a*v,y=(u*v-s*d)/m;if((y>=c&&f>=y||y>=f&&c>=y)&&(y>=e&&r>=y||y>=r&&e>=y)){var b=(u*g-a*d)/m;if((b>=l&&p>=b||b>=p&&l>=b)&&(b>=n&&i>=b||b>=i&&n>=b))return!0}c=f,l=p}return!1},getPolygon:function(t){var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},getWidth:function(){return this.maxX-this.minX},getHeight:function(){return this.maxY-this.minY}},r.Bone.yDown=!0,n.AnimCache={},n.SpineTextureLoader=function(t,e){n.EventTarget.call(this),this.basePath=t,this.crossorigin=e,this.loadingCount=0},n.SpineTextureLoader.prototype=n.SpineTextureLoader,n.SpineTextureLoader.prototype.load=function(t,e){if(t.rendererObject=n.BaseTexture.fromImage(this.basePath+"/"+e,this.crossorigin),!t.rendererObject.hasLoaded){var r=this;++r.loadingCount,t.rendererObject.addEventListener("loaded",function(){--r.loadingCount,r.dispatchEvent({type:"loadedBaseTexture",content:r})})}},n.SpineTextureLoader.prototype.unload=function(t){t.destroy(!0)},n.Spine=function(t){if(n.DisplayObjectContainer.call(this),this.spineData=n.AnimCache[t],!this.spineData)throw new Error("Spine data must be preloaded using PIXI.SpineLoader or PIXI.AssetLoader: "+t);this.skeleton=new r.Skeleton(this.spineData),this.skeleton.updateWorldTransform(),this.stateData=new r.AnimationStateData(this.spineData),this.state=new r.AnimationState(this.stateData),this.slotContainers=[];for(var e=0,i=this.skeleton.drawOrder.length;i>e;e++){var o=this.skeleton.drawOrder[e],s=o.attachment,a=new n.DisplayObjectContainer;if(this.slotContainers.push(a),this.addChild(a),s instanceof r.RegionAttachment){var u=s.rendererObject.name,c=this.createSprite(o,s);o.currentSprite=c,o.currentSpriteName=u,a.addChild(c)}else{if(!(s instanceof r.MeshAttachment))continue;var l=this.createMesh(o,s);o.currentMesh=l,o.currentMeshName=s.name,a.addChild(l)}}this.autoUpdate=!0},n.Spine.prototype=Object.create(n.DisplayObjectContainer.prototype),n.Spine.prototype.constructor=n.Spine,Object.defineProperty(n.Spine.prototype,"autoUpdate",{get:function(){return this.updateTransform===n.Spine.prototype.autoUpdateTransform},set:function(t){this.updateTransform=t?n.Spine.prototype.autoUpdateTransform:n.DisplayObjectContainer.prototype.updateTransform}}),n.Spine.prototype.update=function(t){this.state.update(t),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform();for(var e=this.skeleton.drawOrder,i=0,o=e.length;o>i;i++){var s=e[i],a=s.attachment,u=this.slotContainers[i];if(a){var c=a.type;if(c===r.AttachmentType.region){if(a.rendererObject&&(!s.currentSpriteName||s.currentSpriteName!==a.name)){var l=a.rendererObject.name;if(void 0!==s.currentSprite&&(s.currentSprite.visible=!1),s.sprites=s.sprites||{},void 0!==s.sprites[l])s.sprites[l].visible=!0;else{var h=this.createSprite(s,a);u.addChild(h)}s.currentSprite=s.sprites[l],s.currentSpriteName=l}var f=s.bone;u.position.x=f.worldX+a.x*f.m00+a.y*f.m01,u.position.y=f.worldY+a.x*f.m10+a.y*f.m11,u.scale.x=f.worldScaleX,u.scale.y=f.worldScaleY,u.rotation=-(s.bone.worldRotation*r.degRad),s.currentSprite.tint=n.rgb2hex([s.r,s.g,s.b])}else{if(c!==r.AttachmentType.skinnedmesh){u.visible=!1;continue}if(!s.currentMeshName||s.currentMeshName!==a.name){var p=a.name;if(void 0!==s.currentMesh&&(s.currentMesh.visible=!1),s.meshes=s.meshes||{},void 0!==s.meshes[p])s.meshes[p].visible=!0;else{var d=this.createMesh(s,a);u.addChild(d)}s.currentMesh=s.meshes[p],s.currentMeshName=p}a.computeWorldVertices(s.bone.skeleton.x,s.bone.skeleton.y,s,s.currentMesh.vertices)}u.visible=!0,u.alpha=s.a}else u.visible=!1}},n.Spine.prototype.autoUpdateTransform=function(){this.lastTime=this.lastTime||Date.now();var t=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(t),n.DisplayObjectContainer.prototype.updateTransform.call(this)},n.Spine.prototype.createSprite=function(t,e){var i=e.rendererObject,o=i.page.rendererObject,s=new n.Rectangle(i.x,i.y,i.rotate?i.height:i.width,i.rotate?i.width:i.height),a=new n.Texture(o,s),u=new n.Sprite(a),c=i.rotate?.5*Math.PI:0;return u.scale.set(i.width/i.originalWidth,i.height/i.originalHeight),u.rotation=c-e.rotation*r.degRad,u.anchor.x=u.anchor.y=.5,t.sprites=t.sprites||{},t.sprites[i.name]=u,u},n.Spine.prototype.createMesh=function(t,e){var r=e.rendererObject,i=r.page.rendererObject,o=new n.Texture(i),s=new n.Strip(o);return s.drawMode=n.Strip.DrawModes.TRIANGLES,s.canvasPadding=1.5,s.vertices=new n.Float32Array(e.uvs.length),s.uvs=e.uvs,s.indices=e.triangles,t.meshes=t.meshes||{},t.meshes[e.name]=s,s},n.BaseTextureCache={},n.BaseTextureCacheIdGenerator=0,n.BaseTexture=function(t,e){if(this.resolution=1,this.width=100,this.height=100,this.scaleMode=e||n.scaleModes.DEFAULT,this.hasLoaded=!1,this.source=t,this._UID=n._UID++,this.premultipliedAlpha=!0,this._glTextures=[],this.mipmap=!1,this._dirty=[!0,!0,!0,!0],t){if((this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this.hasLoaded=!0,this.width=this.source.naturalWidth||this.source.width,this.height=this.source.naturalHeight||this.source.height,this.dirty();else{var r=this;this.source.onload=function(){r.hasLoaded=!0,r.width=r.source.naturalWidth||r.source.width,r.height=r.source.naturalHeight||r.source.height,r.dirty(),r.dispatchEvent({type:"loaded",content:r})},this.source.onerror=function(){r.dispatchEvent({type:"error",content:r})}}this.imageUrl=null,this._powerOf2=!1}},n.BaseTexture.prototype.constructor=n.BaseTexture,n.EventTarget.mixin(n.BaseTexture.prototype),n.BaseTexture.prototype.destroy=function(){this.imageUrl?(delete n.BaseTextureCache[this.imageUrl],delete n.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete n.BaseTextureCache[this.source._pixiId],this.source=null,this.unloadFromGPU()},n.BaseTexture.prototype.updateSourceImage=function(t){this.hasLoaded=!1,this.source.src=null,this.source.src=t},n.BaseTexture.prototype.dirty=function(){for(var t=0;t<this._glTextures.length;t++)this._dirty[t]=!0},n.BaseTexture.prototype.unloadFromGPU=function(){this.dirty();for(var t=this._glTextures.length-1;t>=0;t--){var e=this._glTextures[t],r=n.glContexts[t];r&&e&&r.deleteTexture(e)}this._glTextures.length=0,this.dirty()},n.BaseTexture.fromImage=function(t,e,r){var i=n.BaseTextureCache[t];if(void 0===e&&-1===t.indexOf("data:")&&(e=!0),!i){var o=new Image;e&&(o.crossOrigin=""),o.src=t,i=new n.BaseTexture(o,r),i.imageUrl=t,n.BaseTextureCache[t]=i,-1!==t.indexOf(n.RETINA_PREFIX+".")&&(i.resolution=2)}return i},n.BaseTexture.fromCanvas=function(t,e){t._pixiId||(t._pixiId="canvas_"+n.TextureCacheIdGenerator++);var r=n.BaseTextureCache[t._pixiId];return r||(r=new n.BaseTexture(t,e),n.BaseTextureCache[t._pixiId]=r),r},n.TextureCache={},n.FrameCache={},n.TextureCacheIdGenerator=0,n.Texture=function(t,e,r,i){this.noFrame=!1,e||(this.noFrame=!0,e=new n.Rectangle(0,0,1,1)),t instanceof n.Texture&&(t=t.baseTexture),this.baseTexture=t,this.frame=e,this.trim=i,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.width=0,this.height=0,this.crop=r||new n.Rectangle(0,0,1,1),t.hasLoaded?(this.noFrame&&(e=new n.Rectangle(0,0,t.width,t.height)),this.setFrame(e)):t.addEventListener("loaded",this.onBaseTextureLoaded.bind(this))},n.Texture.prototype.constructor=n.Texture,n.EventTarget.mixin(n.Texture.prototype),n.Texture.prototype.onBaseTextureLoaded=function(){var t=this.baseTexture;t.removeEventListener("loaded",this.onLoaded),this.noFrame&&(this.frame=new n.Rectangle(0,0,t.width,t.height)),this.setFrame(this.frame),this.dispatchEvent({type:"update",content:this})},n.Texture.prototype.destroy=function(t){t&&this.baseTexture.destroy(),this.valid=!1},n.Texture.prototype.setFrame=function(t){if(this.noFrame=!1,this.frame=t,this.width=t.width,this.height=t.height,this.crop.x=t.x,this.crop.y=t.y,this.crop.width=t.width,this.crop.height=t.height,!this.trim&&(t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height))throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=t&&t.width&&t.height&&this.baseTexture.source&&this.baseTexture.hasLoaded,this.trim&&(this.width=this.trim.width,this.height=this.trim.height,this.frame.width=this.trim.width,this.frame.height=this.trim.height),this.valid&&this._updateUvs()},n.Texture.prototype._updateUvs=function(){this._uvs||(this._uvs=new n.TextureUvs);var t=this.crop,e=this.baseTexture.width,r=this.baseTexture.height;this._uvs.x0=t.x/e,this._uvs.y0=t.y/r,this._uvs.x1=(t.x+t.width)/e,this._uvs.y1=t.y/r,this._uvs.x2=(t.x+t.width)/e,this._uvs.y2=(t.y+t.height)/r,this._uvs.x3=t.x/e,this._uvs.y3=(t.y+t.height)/r},n.Texture.fromImage=function(t,e,r){var i=n.TextureCache[t];return i||(i=new n.Texture(n.BaseTexture.fromImage(t,e,r)),n.TextureCache[t]=i),i},n.Texture.fromFrame=function(t){var e=n.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache ');return e},n.Texture.fromCanvas=function(t,e){var r=n.BaseTexture.fromCanvas(t,e);return new n.Texture(r)},n.Texture.addTextureToCache=function(t,e){n.TextureCache[e]=t},n.Texture.removeTextureFromCache=function(t){var e=n.TextureCache[t];return delete n.TextureCache[t],delete n.BaseTextureCache[t],e},n.TextureUvs=function(){this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x3=0,this.y3=0},n.Texture.emptyTexture=new n.Texture(new n.BaseTexture),n.RenderTexture=function(t,e,r,i,o){if(this.width=t||100,this.height=e||100,this.resolution=o||1,this.frame=new n.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution),this.crop=new n.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution),this.baseTexture=new n.BaseTexture,this.baseTexture.width=this.width*this.resolution,this.baseTexture.height=this.height*this.resolution,this.baseTexture._glTextures=[],this.baseTexture.resolution=this.resolution,this.baseTexture.scaleMode=i||n.scaleModes.DEFAULT,this.baseTexture.hasLoaded=!0,n.Texture.call(this,this.baseTexture,new n.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution)),this.renderer=r||n.defaultRenderer,this.renderer.type===n.WEBGL_RENDERER){var s=this.renderer.gl;this.baseTexture._dirty[s.id]=!1,this.textureBuffer=new n.FilterTexture(s,this.width,this.height,this.baseTexture.scaleMode),this.baseTexture._glTextures[s.id]=this.textureBuffer.texture,this.render=this.renderWebGL,this.projection=new n.Point(.5*this.width,.5*-this.height)}else this.render=this.renderCanvas,this.textureBuffer=new n.CanvasBuffer(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,this._updateUvs()},n.RenderTexture.prototype=Object.create(n.Texture.prototype),n.RenderTexture.prototype.constructor=n.RenderTexture,n.RenderTexture.prototype.resize=function(t,e,r){(t!==this.width||e!==this.height)&&(this.valid=t>0&&e>0,this.width=t,this.height=e,this.frame.width=this.crop.width=t*this.resolution,this.frame.height=this.crop.height=e*this.resolution,r&&(this.baseTexture.width=this.width*this.resolution,this.baseTexture.height=this.height*this.resolution),this.renderer.type===n.WEBGL_RENDERER&&(this.projection.x=this.width/2,this.projection.y=-this.height/2),this.valid&&this.textureBuffer.resize(this.width,this.height))},n.RenderTexture.prototype.clear=function(){this.valid&&(this.renderer.type===n.WEBGL_RENDERER&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},n.RenderTexture.prototype.renderWebGL=function(t,e,n){if(this.valid){var r=t.worldTransform;r.identity(),r.translate(0,2*this.projection.y),e&&r.append(e),r.scale(1,-1),t.worldAlpha=1;for(var i=t.children,o=0,s=i.length;s>o;o++)i[o].updateTransform();var a=this.renderer.gl;a.viewport(0,0,this.width*this.resolution,this.height*this.resolution),a.bindFramebuffer(a.FRAMEBUFFER,this.textureBuffer.frameBuffer),n&&this.textureBuffer.clear(),this.renderer.spriteBatch.dirty=!0,this.renderer.renderDisplayObject(t,this.projection,this.textureBuffer.frameBuffer),this.renderer.spriteBatch.dirty=!0}},n.RenderTexture.prototype.renderCanvas=function(t,e,n){if(this.valid){var r=t.worldTransform;r.identity(),e&&r.append(e),t.worldAlpha=1;for(var i=t.children,o=0,s=i.length;s>o;o++)i[o].updateTransform();n&&this.textureBuffer.clear();var a=this.textureBuffer.context,u=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(t,a),this.renderer.resolution=u}},n.RenderTexture.prototype.getImage=function(){var t=new Image;return t.src=this.getBase64(),t},n.RenderTexture.prototype.getBase64=function(){return this.getCanvas().toDataURL()},n.RenderTexture.prototype.getCanvas=function(){if(this.renderer.type===n.WEBGL_RENDERER){var t=this.renderer.gl,e=this.textureBuffer.width,r=this.textureBuffer.height,i=new Uint8Array(4*e*r);t.bindFramebuffer(t.FRAMEBUFFER,this.textureBuffer.frameBuffer),t.readPixels(0,0,e,r,t.RGBA,t.UNSIGNED_BYTE,i),t.bindFramebuffer(t.FRAMEBUFFER,null);var o=new n.CanvasBuffer(e,r),s=o.context.getImageData(0,0,e,r);return s.data.set(i),o.context.putImageData(s,0,0),o.canvas}return this.textureBuffer.canvas},n.RenderTexture.tempMatrix=new n.Matrix,n.VideoTexture=function(t,e){if(!t)throw new Error("No video source element specified.");(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),n.BaseTexture.call(this,t,e),this.autoUpdate=!1,this.updateBound=this._onUpdate.bind(this),t.complete||(this._onCanPlay=this.onCanPlay.bind(this),t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("play",this.onPlayStart.bind(this)),t.addEventListener("pause",this.onPlayStop.bind(this)))},n.VideoTexture.prototype=Object.create(n.BaseTexture.prototype),n.VideoTexture.constructor=n.VideoTexture,n.VideoTexture.prototype._onUpdate=function(){this.autoUpdate&&(window.requestAnimationFrame(this.updateBound),this.dirty())},n.VideoTexture.prototype.onPlayStart=function(){this.autoUpdate||(window.requestAnimationFrame(this.updateBound),this.autoUpdate=!0)},n.VideoTexture.prototype.onPlayStop=function(){this.autoUpdate=!1},n.VideoTexture.prototype.onCanPlay=function(){"canplaythrough"===event.type&&(this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.dispatchEvent({type:"loaded",content:this}))))},n.VideoTexture.prototype.destroy=function(){this.source&&this.source._pixiId&&(n.BaseTextureCache[this.source._pixiId]=null,delete n.BaseTextureCache[this.source._pixiId],this.source._pixiId=null,delete this.source._pixiId),n.BaseTexture.prototype.destroy.call(this)},n.VideoTexture.baseTextureFromVideo=function(t,e){t._pixiId||(t._pixiId="video_"+n.TextureCacheIdGenerator++);var r=n.BaseTextureCache[t._pixiId];return r||(r=new n.VideoTexture(t,e),n.BaseTextureCache[t._pixiId]=r),r},n.VideoTexture.textureFromVideo=function(t,e){var r=n.VideoTexture.baseTextureFromVideo(t,e);return new n.Texture(r)},n.VideoTexture.fromUrl=function(t,e){var r=document.createElement("video");return r.src=t,r.autoPlay=!0,r.play(),n.VideoTexture.textureFromVideo(r,e)},n.AssetLoader=function(t,e){this.assetURLs=t,this.crossorigin=e,this.loadersByType={jpg:n.ImageLoader,jpeg:n.ImageLoader,png:n.ImageLoader,gif:n.ImageLoader,webp:n.ImageLoader,json:n.JsonLoader,atlas:n.AtlasLoader,anim:n.SpineLoader,xml:n.BitmapFontLoader,fnt:n.BitmapFontLoader}},n.EventTarget.mixin(n.AssetLoader.prototype),n.AssetLoader.prototype.constructor=n.AssetLoader,n.AssetLoader.prototype._getDataType=function(t){var e="data:",n=t.slice(0,e.length).toLowerCase();if(n===e){var r=t.slice(e.length),i=r.indexOf(",");if(-1===i)return null;var o=r.slice(0,i).split(";")[0];return o&&"text/plain"!==o.toLowerCase()?o.split("/").pop().toLowerCase():"txt"}return null},n.AssetLoader.prototype.load=function(){function t(t){e.onAssetLoaded(t.data.content)}var e=this;this.loadCount=this.assetURLs.length;for(var n=0;n<this.assetURLs.length;n++){var r=this.assetURLs[n],i=this._getDataType(r);i||(i=r.split("?").shift().split(".").pop().toLowerCase());var o=this.loadersByType[i];if(!o)throw new Error(i+" is an unsupported file type");var s=new o(r,this.crossorigin);s.on("loaded",t),s.load()}},n.AssetLoader.prototype.onAssetLoaded=function(t){this.loadCount--,this.emit("onProgress",{content:this,loader:t,loaded:this.assetURLs.length-this.loadCount,total:this.assetURLs.length}),this.onProgress&&this.onProgress(t),this.loadCount||(this.emit("onComplete",{content:this}),this.onComplete&&this.onComplete())},n.JsonLoader=function(t,e){this.url=t,this.crossorigin=e,this.baseUrl=t.replace(/[^\/]*$/,""),this.loaded=!1},n.JsonLoader.prototype.constructor=n.JsonLoader,n.EventTarget.mixin(n.JsonLoader.prototype),n.JsonLoader.prototype.load=function(){window.XDomainRequest&&this.crossorigin?(this.ajaxRequest=new window.XDomainRequest,this.ajaxRequest.timeout=3e3,this.ajaxRequest.onerror=this.onError.bind(this),this.ajaxRequest.ontimeout=this.onError.bind(this),this.ajaxRequest.onprogress=function(){},this.ajaxRequest.onload=this.onJSONLoaded.bind(this)):(this.ajaxRequest=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP"),this.ajaxRequest.onreadystatechange=this.onReadyStateChanged.bind(this)),this.ajaxRequest.open("GET",this.url,!0),this.ajaxRequest.send()},n.JsonLoader.prototype.onReadyStateChanged=function(){4!==this.ajaxRequest.readyState||200!==this.ajaxRequest.status&&-1!==window.location.href.indexOf("http")||this.onJSONLoaded()},n.JsonLoader.prototype.onJSONLoaded=function(){if(!this.ajaxRequest.responseText)return void this.onError();if(this.json=JSON.parse(this.ajaxRequest.responseText),this.json.frames&&this.json.meta&&this.json.meta.image){var t=this.baseUrl+this.json.meta.image,e=new n.ImageLoader(t,this.crossorigin),i=this.json.frames;this.texture=e.texture.baseTexture,e.addEventListener("loaded",this.onLoaded.bind(this));for(var o in i){var s=i[o].frame;if(s){var a=new n.Rectangle(s.x,s.y,s.w,s.h),u=a.clone(),c=null;if(i[o].trimmed){var l=i[o].sourceSize,h=i[o].spriteSourceSize;c=new n.Rectangle(h.x,h.y,l.w,l.h)}n.TextureCache[o]=new n.Texture(this.texture,a,u,c)}}e.load()}else if(this.json.bones)if(n.AnimCache[this.url])this.onLoaded();else{var f=this.url.substr(0,this.url.lastIndexOf("."))+".atlas",p=new n.JsonLoader(f,this.crossorigin),d=this;p.onJSONLoaded=function(){if(!this.ajaxRequest.responseText)return void this.onError();var t=new n.SpineTextureLoader(this.url.substring(0,this.url.lastIndexOf("/"))),e=new r.Atlas(this.ajaxRequest.responseText,t),i=new r.AtlasAttachmentLoader(e),o=new r.SkeletonJson(i),s=o.readSkeletonData(d.json);
n.AnimCache[d.url]=s,d.spine=s,d.spineAtlas=e,d.spineAtlasLoader=p,t.loadingCount>0?t.addEventListener("loadedBaseTexture",function(t){t.content.content.loadingCount<=0&&d.onLoaded()}):d.onLoaded()},p.load()}else this.onLoaded()},n.JsonLoader.prototype.onLoaded=function(){this.loaded=!0,this.dispatchEvent({type:"loaded",content:this})},n.JsonLoader.prototype.onError=function(){this.dispatchEvent({type:"error",content:this})},n.AtlasLoader=function(t,e){this.url=t,this.baseUrl=t.replace(/[^\/]*$/,""),this.crossorigin=e,this.loaded=!1},n.AtlasLoader.constructor=n.AtlasLoader,n.EventTarget.mixin(n.AtlasLoader.prototype),n.AtlasLoader.prototype.load=function(){this.ajaxRequest=new n.AjaxRequest,this.ajaxRequest.onreadystatechange=this.onAtlasLoaded.bind(this),this.ajaxRequest.open("GET",this.url,!0),this.ajaxRequest.overrideMimeType&&this.ajaxRequest.overrideMimeType("application/json"),this.ajaxRequest.send(null)},n.AtlasLoader.prototype.onAtlasLoaded=function(){if(4===this.ajaxRequest.readyState)if(200===this.ajaxRequest.status||-1===window.location.href.indexOf("http")){this.atlas={meta:{image:[]},frames:[]};var t=this.ajaxRequest.responseText.split(/\r?\n/),e=-3,r=0,i=null,o=!1,s=0,a=0,u=this.onLoaded.bind(this);for(s=0;s<t.length;s++)if(t[s]=t[s].replace(/^\s+|\s+$/g,""),""===t[s]&&(o=s+1),t[s].length>0){if(o===s)this.atlas.meta.image.push(t[s]),r=this.atlas.meta.image.length-1,this.atlas.frames.push({}),e=-3;else if(e>0)if(e%7===1)null!=i&&(this.atlas.frames[r][i.name]=i),i={name:t[s],frame:{}};else{var c=t[s].split(" ");if(e%7===3)i.frame.x=Number(c[1].replace(",","")),i.frame.y=Number(c[2]);else if(e%7===4)i.frame.w=Number(c[1].replace(",","")),i.frame.h=Number(c[2]);else if(e%7===5){var l={x:0,y:0,w:Number(c[1].replace(",","")),h:Number(c[2])};l.w>i.frame.w||l.h>i.frame.h?(i.trimmed=!0,i.realSize=l):i.trimmed=!1}}e++}if(null!=i&&(this.atlas.frames[r][i.name]=i),this.atlas.meta.image.length>0){for(this.images=[],a=0;a<this.atlas.meta.image.length;a++){var h=this.baseUrl+this.atlas.meta.image[a],f=this.atlas.frames[a];this.images.push(new n.ImageLoader(h,this.crossorigin));for(s in f){var p=f[s].frame;p&&(n.TextureCache[s]=new n.Texture(this.images[a].texture.baseTexture,{x:p.x,y:p.y,width:p.w,height:p.h}),f[s].trimmed&&(n.TextureCache[s].realSize=f[s].realSize,n.TextureCache[s].trim.x=0,n.TextureCache[s].trim.y=0))}}for(this.currentImageId=0,a=0;a<this.images.length;a++)this.images[a].on("loaded",u);this.images[this.currentImageId].load()}else this.onLoaded()}else this.onError()},n.AtlasLoader.prototype.onLoaded=function(){this.images.length-1>this.currentImageId?(this.currentImageId++,this.images[this.currentImageId].load()):(this.loaded=!0,this.emit("loaded",{content:this}))},n.AtlasLoader.prototype.onError=function(){this.emit("error",{content:this})},n.SpriteSheetLoader=function(t,e){this.url=t,this.crossorigin=e,this.baseUrl=t.replace(/[^\/]*$/,""),this.texture=null,this.frames={}},n.SpriteSheetLoader.prototype.constructor=n.SpriteSheetLoader,n.EventTarget.mixin(n.SpriteSheetLoader.prototype),n.SpriteSheetLoader.prototype.load=function(){var t=this,e=new n.JsonLoader(this.url,this.crossorigin);e.on("loaded",function(e){t.json=e.data.content.json,t.onLoaded()}),e.load()},n.SpriteSheetLoader.prototype.onLoaded=function(){this.emit("loaded",{content:this})},n.ImageLoader=function(t,e){this.texture=n.Texture.fromImage(t,e),this.frames=[]},n.ImageLoader.prototype.constructor=n.ImageLoader,n.EventTarget.mixin(n.ImageLoader.prototype),n.ImageLoader.prototype.load=function(){this.texture.baseTexture.hasLoaded?this.onLoaded():this.texture.baseTexture.on("loaded",this.onLoaded.bind(this))},n.ImageLoader.prototype.onLoaded=function(){this.emit("loaded",{content:this})},n.ImageLoader.prototype.loadFramedSpriteSheet=function(t,e,r){this.frames=[];for(var i=Math.floor(this.texture.width/t),o=Math.floor(this.texture.height/e),s=0,a=0;o>a;a++)for(var u=0;i>u;u++,s++){var c=new n.Texture(this.texture.baseTexture,{x:u*t,y:a*e,width:t,height:e});this.frames.push(c),r&&(n.TextureCache[r+"-"+s]=c)}this.load()},n.BitmapFontLoader=function(t,e){this.url=t,this.crossorigin=e,this.baseUrl=t.replace(/[^\/]*$/,""),this.texture=null},n.BitmapFontLoader.prototype.constructor=n.BitmapFontLoader,n.EventTarget.mixin(n.BitmapFontLoader.prototype),n.BitmapFontLoader.prototype.load=function(){this.ajaxRequest=new n.AjaxRequest,this.ajaxRequest.onreadystatechange=this.onXMLLoaded.bind(this),this.ajaxRequest.open("GET",this.url,!0),this.ajaxRequest.overrideMimeType&&this.ajaxRequest.overrideMimeType("application/xml"),this.ajaxRequest.send(null)},n.BitmapFontLoader.prototype.onXMLLoaded=function(){if(4===this.ajaxRequest.readyState&&(200===this.ajaxRequest.status||-1===window.location.protocol.indexOf("http"))){var t=this.ajaxRequest.responseXML;if(!t||/MSIE 9/i.test(navigator.userAgent)||navigator.isCocoonJS)if("function"==typeof window.DOMParser){var e=new DOMParser;t=e.parseFromString(this.ajaxRequest.responseText,"text/xml")}else{var r=document.createElement("div");r.innerHTML=this.ajaxRequest.responseText,t=r}var i=this.baseUrl+t.getElementsByTagName("page")[0].getAttribute("file"),o=new n.ImageLoader(i,this.crossorigin);this.texture=o.texture.baseTexture;var s={},a=t.getElementsByTagName("info")[0],u=t.getElementsByTagName("common")[0];s.font=a.getAttribute("face"),s.size=parseInt(a.getAttribute("size"),10),s.lineHeight=parseInt(u.getAttribute("lineHeight"),10),s.chars={};for(var c=t.getElementsByTagName("char"),l=0;l<c.length;l++){var h=parseInt(c[l].getAttribute("id"),10),f=new n.Rectangle(parseInt(c[l].getAttribute("x"),10),parseInt(c[l].getAttribute("y"),10),parseInt(c[l].getAttribute("width"),10),parseInt(c[l].getAttribute("height"),10));s.chars[h]={xOffset:parseInt(c[l].getAttribute("xoffset"),10),yOffset:parseInt(c[l].getAttribute("yoffset"),10),xAdvance:parseInt(c[l].getAttribute("xadvance"),10),kerning:{},texture:n.TextureCache[h]=new n.Texture(this.texture,f)}}var p=t.getElementsByTagName("kerning");for(l=0;l<p.length;l++){var d=parseInt(p[l].getAttribute("first"),10),v=parseInt(p[l].getAttribute("second"),10),g=parseInt(p[l].getAttribute("amount"),10);s.chars[v].kerning[d]=g}n.BitmapText.fonts[s.font]=s,o.addEventListener("loaded",this.onLoaded.bind(this)),o.load()}},n.BitmapFontLoader.prototype.onLoaded=function(){this.emit("loaded",{content:this})},n.SpineLoader=function(t,e){this.url=t,this.crossorigin=e,this.loaded=!1},n.SpineLoader.prototype.constructor=n.SpineLoader,n.EventTarget.mixin(n.SpineLoader.prototype),n.SpineLoader.prototype.load=function(){var t=this,e=new n.JsonLoader(this.url,this.crossorigin);e.on("loaded",function(e){t.json=e.data.content.json,t.onLoaded()}),e.load()},n.SpineLoader.prototype.onLoaded=function(){this.loaded=!0,this.emit("loaded",{content:this})},n.AbstractFilter=function(t,e){this.passes=[this],this.shaders=[],this.dirty=!0,this.padding=0,this.uniforms=e||{},this.fragmentSrc=t||[]},n.AbstractFilter.prototype.constructor=n.AbstractFilter,n.AbstractFilter.prototype.syncUniforms=function(){for(var t=0,e=this.shaders.length;e>t;t++)this.shaders[t].dirty=!0},n.AlphaMaskFilter=function(t){n.AbstractFilter.call(this),this.passes=[this],t.baseTexture._powerOf2=!0,this.uniforms={mask:{type:"sampler2D",value:t},mapDimensions:{type:"2f",value:{x:1,y:5112}},dimensions:{type:"4fv",value:[0,0,0,0]}},t.baseTexture.hasLoaded?(this.uniforms.mask.value.x=t.width,this.uniforms.mask.value.y=t.height):(this.boundLoadedFunction=this.onTextureLoaded.bind(this),t.baseTexture.on("loaded",this.boundLoadedFunction)),this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D mask;","uniform sampler2D uSampler;","uniform vec2 offset;","uniform vec4 dimensions;","uniform vec2 mapDimensions;","void main(void) {","   vec2 mapCords = vTextureCoord.xy;","   mapCords += (dimensions.zw + offset)/ dimensions.xy ;","   mapCords.y *= -1.0;","   mapCords.y += 1.0;","   mapCords *= dimensions.xy / mapDimensions;","   vec4 original =  texture2D(uSampler, vTextureCoord);","   float maskAlpha =  texture2D(mask, mapCords).r;","   original *= maskAlpha;","   gl_FragColor =  original;","}"]},n.AlphaMaskFilter.prototype=Object.create(n.AbstractFilter.prototype),n.AlphaMaskFilter.prototype.constructor=n.AlphaMaskFilter,n.AlphaMaskFilter.prototype.onTextureLoaded=function(){this.uniforms.mapDimensions.value.x=this.uniforms.mask.value.width,this.uniforms.mapDimensions.value.y=this.uniforms.mask.value.height,this.uniforms.mask.value.baseTexture.off("loaded",this.boundLoadedFunction)},Object.defineProperty(n.AlphaMaskFilter.prototype,"map",{get:function(){return this.uniforms.mask.value},set:function(t){this.uniforms.mask.value=t}}),n.ColorMatrixFilter=function(){n.AbstractFilter.call(this),this.passes=[this],this.uniforms={matrix:{type:"mat4",value:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float invert;","uniform mat4 matrix;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * matrix;","}"]},n.ColorMatrixFilter.prototype=Object.create(n.AbstractFilter.prototype),n.ColorMatrixFilter.prototype.constructor=n.ColorMatrixFilter,Object.defineProperty(n.ColorMatrixFilter.prototype,"matrix",{get:function(){return this.uniforms.matrix.value},set:function(t){this.uniforms.matrix.value=t}}),n.GrayFilter=function(){n.AbstractFilter.call(this),this.passes=[this],this.uniforms={gray:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform float gray;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);","}"]},n.GrayFilter.prototype=Object.create(n.AbstractFilter.prototype),n.GrayFilter.prototype.constructor=n.GrayFilter,Object.defineProperty(n.GrayFilter.prototype,"gray",{get:function(){return this.uniforms.gray.value},set:function(t){this.uniforms.gray.value=t}}),n.DisplacementFilter=function(t){n.AbstractFilter.call(this),this.passes=[this],t.baseTexture._powerOf2=!0,this.uniforms={displacementMap:{type:"sampler2D",value:t},scale:{type:"2f",value:{x:30,y:30}},offset:{type:"2f",value:{x:0,y:0}},mapDimensions:{type:"2f",value:{x:1,y:5112}},dimensions:{type:"4fv",value:[0,0,0,0]}},t.baseTexture.hasLoaded?(this.uniforms.mapDimensions.value.x=t.width,this.uniforms.mapDimensions.value.y=t.height):(this.boundLoadedFunction=this.onTextureLoaded.bind(this),t.baseTexture.on("loaded",this.boundLoadedFunction)),this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D displacementMap;","uniform sampler2D uSampler;","uniform vec2 scale;","uniform vec2 offset;","uniform vec4 dimensions;","uniform vec2 mapDimensions;","void main(void) {","   vec2 mapCords = vTextureCoord.xy;","   mapCords += (dimensions.zw + offset)/ dimensions.xy ;","   mapCords.y *= -1.0;","   mapCords.y += 1.0;","   vec2 matSample = texture2D(displacementMap, mapCords).xy;","   matSample -= 0.5;","   matSample *= scale;","   matSample /= mapDimensions;","   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + matSample.x, vTextureCoord.y + matSample.y));","   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb, 1.0);","   vec2 cord = vTextureCoord;","}"]},n.DisplacementFilter.prototype=Object.create(n.AbstractFilter.prototype),n.DisplacementFilter.prototype.constructor=n.DisplacementFilter,n.DisplacementFilter.prototype.onTextureLoaded=function(){this.uniforms.mapDimensions.value.x=this.uniforms.displacementMap.value.width,this.uniforms.mapDimensions.value.y=this.uniforms.displacementMap.value.height,this.uniforms.displacementMap.value.baseTexture.off("loaded",this.boundLoadedFunction)},Object.defineProperty(n.DisplacementFilter.prototype,"map",{get:function(){return this.uniforms.displacementMap.value},set:function(t){this.uniforms.displacementMap.value=t}}),Object.defineProperty(n.DisplacementFilter.prototype,"scale",{get:function(){return this.uniforms.scale.value},set:function(t){this.uniforms.scale.value=t}}),Object.defineProperty(n.DisplacementFilter.prototype,"offset",{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}}),n.PixelateFilter=function(){n.AbstractFilter.call(this),this.passes=[this],this.uniforms={invert:{type:"1f",value:0},dimensions:{type:"4fv",value:new n.Float32Array([1e4,100,10,10])},pixelSize:{type:"2f",value:{x:10,y:10}}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec2 testDim;","uniform vec4 dimensions;","uniform vec2 pixelSize;","uniform sampler2D uSampler;","void main(void) {","   vec2 coord = vTextureCoord;","   vec2 size = dimensions.xy/pixelSize;","   vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;","   gl_FragColor = texture2D(uSampler, color);","}"]},n.PixelateFilter.prototype=Object.create(n.AbstractFilter.prototype),n.PixelateFilter.prototype.constructor=n.PixelateFilter,Object.defineProperty(n.PixelateFilter.prototype,"size",{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.dirty=!0,this.uniforms.pixelSize.value=t}}),n.BlurXFilter=function(){n.AbstractFilter.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","   vec4 sum = vec4(0.0);","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 4.0*blur, vTextureCoord.y)) * 0.05;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 3.0*blur, vTextureCoord.y)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 2.0*blur, vTextureCoord.y)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - blur, vTextureCoord.y)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + blur, vTextureCoord.y)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 2.0*blur, vTextureCoord.y)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 3.0*blur, vTextureCoord.y)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 4.0*blur, vTextureCoord.y)) * 0.05;","   gl_FragColor = sum;","}"]},n.BlurXFilter.prototype=Object.create(n.AbstractFilter.prototype),n.BlurXFilter.prototype.constructor=n.BlurXFilter,Object.defineProperty(n.BlurXFilter.prototype,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(t){this.dirty=!0,this.uniforms.blur.value=1/7e3*t}}),n.BlurYFilter=function(){n.AbstractFilter.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","   vec4 sum = vec4(0.0);","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 4.0*blur)) * 0.05;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 3.0*blur)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 2.0*blur)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - blur)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + blur)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 2.0*blur)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 3.0*blur)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 4.0*blur)) * 0.05;","   gl_FragColor = sum;","}"]},n.BlurYFilter.prototype=Object.create(n.AbstractFilter.prototype),n.BlurYFilter.prototype.constructor=n.BlurYFilter,Object.defineProperty(n.BlurYFilter.prototype,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(t){this.uniforms.blur.value=1/7e3*t}}),n.BlurFilter=function(){this.blurXFilter=new n.BlurXFilter,this.blurYFilter=new n.BlurYFilter,this.passes=[this.blurXFilter,this.blurYFilter]},n.BlurFilter.prototype=Object.create(n.AbstractFilter.prototype),n.BlurFilter.prototype.constructor=n.BlurFilter,Object.defineProperty(n.BlurFilter.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t}}),Object.defineProperty(n.BlurFilter.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}}),Object.defineProperty(n.BlurFilter.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}),n.InvertFilter=function(){n.AbstractFilter.call(this),this.passes=[this],this.uniforms={invert:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float invert;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);","}"]},n.InvertFilter.prototype=Object.create(n.AbstractFilter.prototype),n.InvertFilter.prototype.constructor=n.InvertFilter,Object.defineProperty(n.InvertFilter.prototype,"invert",{get:function(){return this.uniforms.invert.value},set:function(t){this.uniforms.invert.value=t}}),n.SepiaFilter=function(){n.AbstractFilter.call(this),this.passes=[this],this.uniforms={sepia:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float sepia;","uniform sampler2D uSampler;","const mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);","}"]},n.SepiaFilter.prototype=Object.create(n.AbstractFilter.prototype),n.SepiaFilter.prototype.constructor=n.SepiaFilter,Object.defineProperty(n.SepiaFilter.prototype,"sepia",{get:function(){return this.uniforms.sepia.value},set:function(t){this.uniforms.sepia.value=t}}),n.TwistFilter=function(){n.AbstractFilter.call(this),this.passes=[this],this.uniforms={radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"2f",value:{x:.5,y:.5}}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec4 dimensions;","uniform sampler2D uSampler;","uniform float radius;","uniform float angle;","uniform vec2 offset;","void main(void) {","   vec2 coord = vTextureCoord - offset;","   float distance = length(coord);","   if (distance < radius) {","       float ratio = (radius - distance) / radius;","       float angleMod = ratio * ratio * angle;","       float s = sin(angleMod);","       float c = cos(angleMod);","       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);","   }","   gl_FragColor = texture2D(uSampler, coord+offset);","}"]},n.TwistFilter.prototype=Object.create(n.AbstractFilter.prototype),n.TwistFilter.prototype.constructor=n.TwistFilter,Object.defineProperty(n.TwistFilter.prototype,"offset",{get:function(){return this.uniforms.offset.value},set:function(t){this.dirty=!0,this.uniforms.offset.value=t}}),Object.defineProperty(n.TwistFilter.prototype,"radius",{get:function(){return this.uniforms.radius.value},set:function(t){this.dirty=!0,this.uniforms.radius.value=t}}),Object.defineProperty(n.TwistFilter.prototype,"angle",{get:function(){return this.uniforms.angle.value},set:function(t){this.dirty=!0,this.uniforms.angle.value=t}}),n.ColorStepFilter=function(){n.AbstractFilter.call(this),this.passes=[this],this.uniforms={step:{type:"1f",value:5}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform float step;","void main(void) {","   vec4 color = texture2D(uSampler, vTextureCoord);","   color = floor(color * step) / step;","   gl_FragColor = color;","}"]},n.ColorStepFilter.prototype=Object.create(n.AbstractFilter.prototype),n.ColorStepFilter.prototype.constructor=n.ColorStepFilter,Object.defineProperty(n.ColorStepFilter.prototype,"step",{get:function(){return this.uniforms.step.value},set:function(t){this.uniforms.step.value=t}}),n.DotScreenFilter=function(){n.AbstractFilter.call(this),this.passes=[this],this.uniforms={scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec4 dimensions;","uniform sampler2D uSampler;","uniform float angle;","uniform float scale;","float pattern() {","   float s = sin(angle), c = cos(angle);","   vec2 tex = vTextureCoord * dimensions.xy;","   vec2 point = vec2(","       c * tex.x - s * tex.y,","       s * tex.x + c * tex.y","   ) * scale;","   return (sin(point.x) * sin(point.y)) * 4.0;","}","void main() {","   vec4 color = texture2D(uSampler, vTextureCoord);","   float average = (color.r + color.g + color.b) / 3.0;","   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);","}"]},n.DotScreenFilter.prototype=Object.create(n.AbstractFilter.prototype),n.DotScreenFilter.prototype.constructor=n.DotScreenFilter,Object.defineProperty(n.DotScreenFilter.prototype,"scale",{get:function(){return this.uniforms.scale.value},set:function(t){this.dirty=!0,this.uniforms.scale.value=t}}),Object.defineProperty(n.DotScreenFilter.prototype,"angle",{get:function(){return this.uniforms.angle.value},set:function(t){this.dirty=!0,this.uniforms.angle.value=t}}),n.CrossHatchFilter=function(){n.AbstractFilter.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);","    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);","    if (lum < 1.00) {","        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.75) {","        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.50) {","        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.3) {","        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","}"]},n.CrossHatchFilter.prototype=Object.create(n.AbstractFilter.prototype),n.CrossHatchFilter.prototype.constructor=n.CrossHatchFilter,Object.defineProperty(n.CrossHatchFilter.prototype,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(t){this.uniforms.blur.value=1/7e3*t}}),n.RGBSplitFilter=function(){n.AbstractFilter.call(this),this.passes=[this],this.uniforms={red:{type:"2f",value:{x:20,y:20}},green:{type:"2f",value:{x:-20,y:20}},blue:{type:"2f",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform vec2 red;","uniform vec2 green;","uniform vec2 blue;","uniform vec4 dimensions;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;","   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;","   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;","   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;","}"]},n.RGBSplitFilter.prototype=Object.create(n.AbstractFilter.prototype),n.RGBSplitFilter.prototype.constructor=n.RGBSplitFilter,Object.defineProperty(n.RGBSplitFilter.prototype,"red",{get:function(){return this.uniforms.red.value},set:function(t){this.uniforms.red.value=t}}),Object.defineProperty(n.RGBSplitFilter.prototype,"green",{get:function(){return this.uniforms.green.value},set:function(t){this.uniforms.green.value=t}}),Object.defineProperty(n.RGBSplitFilter.prototype,"blue",{get:function(){return this.uniforms.blue.value},set:function(t){this.uniforms.blue.value=t}}),"undefined"!=typeof t&&t.exports&&(e=t.exports=n),e.PIXI=n}).call(this)},,,function(t,e){var n,r;/*!
	 * jQuery JavaScript Library v2.1.3
	 * http://jquery.com/
	 *
	 * Includes Sizzle.js
	 * http://sizzlejs.com/
	 *
	 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2014-12-18T15:11Z
	 */
!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(i,o){function s(t){var e=t.length,n=re.type(t);return"function"===n||re.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function a(t,e,n){if(re.isFunction(e))return re.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return re.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(he.test(e))return re.filter(e,t,n);e=re.filter(e,t)}return re.grep(t,function(t){return J.call(e,t)>=0!==n})}function u(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function c(t){var e=ye[t]={};return re.each(t.match(me)||[],function(t,n){e[n]=!0}),e}function l(){ee.removeEventListener("DOMContentLoaded",l,!1),i.removeEventListener("load",l,!1),re.ready()}function h(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=re.expando+h.uid++}function f(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(Te,"-$1").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ee.test(n)?re.parseJSON(n):n}catch(i){}xe.set(t,e,n)}else n=void 0;return n}function p(){return!0}function d(){return!1}function v(){try{return ee.activeElement}catch(t){}}function g(t,e){return re.nodeName(t,"table")&&re.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function m(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function y(t){var e=Ue.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function b(t,e){for(var n=0,r=t.length;r>n;n++)_e.set(t[n],"globalEval",!e||_e.get(e[n],"globalEval"))}function w(t,e){var n,r,i,o,s,a,u,c;if(1===e.nodeType){if(_e.hasData(t)&&(o=_e.access(t),s=_e.set(e,o),c=o.events)){delete s.handle,s.events={};for(i in c)for(n=0,r=c[i].length;r>n;n++)re.event.add(e,i,c[i][n])}xe.hasData(t)&&(a=xe.access(t),u=re.extend({},a),xe.set(e,u))}}function _(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&re.nodeName(t,e)?re.merge([t],n):n}function x(t,e){var n=e.nodeName.toLowerCase();"input"===n&&ke.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function E(t,e){var n,r=re(e.createElement(t)).appendTo(e.body),o=i.getDefaultComputedStyle&&(n=i.getDefaultComputedStyle(r[0]))?n.display:re.css(r[0],"display");return r.detach(),o}function T(t){var e=ee,n=He[t];return n||(n=E(t,e),"none"!==n&&n||(Ge=(Ge||re("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Ge[0].contentDocument,e.write(),e.close(),n=E(t,e),Ge.detach()),He[t]=n),n}function C(t,e,n){var r,i,o,s,a=t.style;return n=n||$e(t),n&&(s=n.getPropertyValue(e)||n[e]),n&&(""!==s||re.contains(t.ownerDocument,t)||(s=re.style(t,e)),ze.test(s)&&Ve.test(e)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function S(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function A(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),r=e,i=Ze.length;i--;)if(e=Ze[i]+n,e in t)return e;return r}function k(t,e,n){var r=Xe.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function j(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=re.css(t,n+Se[o],!0,i)),r?("content"===n&&(s-=re.css(t,"padding"+Se[o],!0,i)),"margin"!==n&&(s-=re.css(t,"border"+Se[o]+"Width",!0,i))):(s+=re.css(t,"padding"+Se[o],!0,i),"padding"!==n&&(s+=re.css(t,"border"+Se[o]+"Width",!0,i)));return s}function R(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=$e(t),s="border-box"===re.css(t,"boxSizing",!1,o);if(0>=i||null==i){if(i=C(t,e,o),(0>i||null==i)&&(i=t.style[e]),ze.test(i))return i;r=s&&(te.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+j(t,e,n||(s?"border":"content"),r,o)+"px"}function O(t,e){for(var n,r,i,o=[],s=0,a=t.length;a>s;s++)r=t[s],r.style&&(o[s]=_e.get(r,"olddisplay"),n=r.style.display,e?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&Ae(r)&&(o[s]=_e.access(r,"olddisplay",T(r.nodeName)))):(i=Ae(r),"none"===n&&i||_e.set(r,"olddisplay",i?n:re.css(r,"display"))));for(s=0;a>s;s++)r=t[s],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[s]||"":"none"));return t}function P(t,e,n,r,i){return new P.prototype.init(t,e,n,r,i)}function M(){return setTimeout(function(){tn=void 0}),tn=re.now()}function F(t,e){var n,r=0,i={height:t};for(e=e?1:0;4>r;r+=2-e)n=Se[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function L(t,e,n){for(var r,i=(an[e]||[]).concat(an["*"]),o=0,s=i.length;s>o;o++)if(r=i[o].call(n,e,t))return r}function I(t,e,n){var r,i,o,s,a,u,c,l,h=this,f={},p=t.style,d=t.nodeType&&Ae(t),v=_e.get(t,"fxshow");n.queue||(a=re._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,re.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=re.css(t,"display"),l="none"===c?_e.get(t,"olddisplay")||T(t.nodeName):c,"inline"===l&&"none"===re.css(t,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],nn.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(d?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;d=!0}f[r]=v&&v[r]||re.style(t,r)}else c=void 0;if(re.isEmptyObject(f))"inline"===("none"===c?T(t.nodeName):c)&&(p.display=c);else{v?"hidden"in v&&(d=v.hidden):v=_e.access(t,"fxshow",{}),o&&(v.hidden=!d),d?re(t).show():h.done(function(){re(t).hide()}),h.done(function(){var e;_e.remove(t,"fxshow");for(e in f)re.style(t,e,f[e])});for(r in f)s=L(d?v[r]:0,r,h),r in v||(v[r]=s.start,d&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function D(t,e){var n,r,i,o,s;for(n in t)if(r=re.camelCase(n),i=e[r],o=t[n],re.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),s=re.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function N(t,e,n){var r,i,o=0,s=sn.length,a=re.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=tn||M(),n=Math.max(0,c.startTime+c.duration-e),r=n/c.duration||0,o=1-r,s=0,u=c.tweens.length;u>s;s++)c.tweens[s].run(o);return a.notifyWith(t,[c,o,n]),1>o&&u?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:re.extend({},e),opts:re.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:tn||M(),duration:n.duration,tweens:[],createTween:function(e,n){var r=re.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)c.tweens[n].run(1);return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),l=c.props;for(D(l,c.opts.specialEasing);s>o;o++)if(r=sn[o].call(c,t,l,c.opts))return r;return re.map(l,L,c),re.isFunction(c.opts.start)&&c.opts.start.call(t,c),re.fx.timer(re.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function B(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(me)||[];if(re.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function U(t,e,n,r){function i(a){var u;return o[a]=!0,re.each(t[a]||[],function(t,a){var c=a(e,n,r);return"string"!=typeof c||s||o[c]?s?!(u=c):void 0:(e.dataTypes.unshift(c),i(c),!1)}),u}var o={},s=t===Tn;return i(e.dataTypes[0])||!o["*"]&&i("*")}function q(t,e){var n,r,i=re.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&re.extend(!0,t,r),t}function W(t,e,n){for(var r,i,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function G(t,e,n,r){var i,o,s,a,u,c={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=c[u+" "+o]||c["* "+o],!s)for(i in c)if(a=i.split(" "),a[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[i]:c[i]!==!0&&(o=a[0],l.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function H(t,e,n,r){var i;if(re.isArray(e))re.each(e,function(e,i){n||jn.test(t)?r(t,i):H(t+"["+("object"==typeof i?e:"")+"]",i,n,r)});else if(n||"object"!==re.type(e))r(t,e);else for(i in e)H(t+"["+i+"]",e[i],n,r)}function V(t){return re.isWindow(t)?t:9===t.nodeType&&t.defaultView}var z=[],$=z.slice,Y=z.concat,X=z.push,J=z.indexOf,K={},Q=K.toString,Z=K.hasOwnProperty,te={},ee=i.document,ne="2.1.3",re=function(t,e){return new re.fn.init(t,e)},ie=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,oe=/^-ms-/,se=/-([\da-z])/gi,ae=function(t,e){return e.toUpperCase()};re.fn=re.prototype={jquery:ne,constructor:re,selector:"",length:0,toArray:function(){return $.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:$.call(this)},pushStack:function(t){var e=re.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return re.each(this,t,e)},map:function(t){return this.pushStack(re.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack($.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:z.sort,splice:z.splice},re.extend=re.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||re.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],r=t[e],s!==r&&(c&&r&&(re.isPlainObject(r)||(i=re.isArray(r)))?(i?(i=!1,o=n&&re.isArray(n)?n:[]):o=n&&re.isPlainObject(n)?n:{},s[e]=re.extend(c,o,r)):void 0!==r&&(s[e]=r));return s},re.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===re.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!re.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"!==re.type(t)||t.nodeType||re.isWindow(t)?!1:t.constructor&&!Z.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?K[Q.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=re.trim(t),t&&(1===t.indexOf("use strict")?(e=ee.createElement("script"),e.text=t,ee.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(oe,"ms-").replace(se,ae)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var r,i=0,o=t.length,a=s(t);if(n){if(a)for(;o>i&&(r=e.apply(t[i],n),r!==!1);i++);else for(i in t)if(r=e.apply(t[i],n),r===!1)break}else if(a)for(;o>i&&(r=e.call(t[i],i,t[i]),r!==!1);i++);else for(i in t)if(r=e.call(t[i],i,t[i]),r===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(ie,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(s(Object(t))?re.merge(n,"string"==typeof t?[t]:t):X.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:J.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;n>r;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,s=t.length,a=!n;s>o;o++)r=!e(t[o],o),r!==a&&i.push(t[o]);return i},map:function(t,e,n){var r,i=0,o=t.length,a=s(t),u=[];if(a)for(;o>i;i++)r=e(t[i],i,n),null!=r&&u.push(r);else for(i in t)r=e(t[i],i,n),null!=r&&u.push(r);return Y.apply([],u)},guid:1,proxy:function(t,e){var n,r,i;return"string"==typeof e&&(n=t[e],e=t,t=n),re.isFunction(t)?(r=$.call(arguments,2),i=function(){return t.apply(e||this,r.concat($.call(arguments)))},i.guid=t.guid=t.guid||re.guid++,i):void 0},now:Date.now,support:te}),re.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){K["[object "+e+"]"]=e.toLowerCase()});var ue=/*!
	 * Sizzle CSS Selector Engine v2.2.0-pre
	 * http://sizzlejs.com/
	 *
	 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2014-12-16
	 */
function(t){function e(t,e,n,r){var i,o,s,a,u,c,h,p,d,v;if((e?e.ownerDocument||e:U)!==P&&O(e),e=e||P,n=n||[],a=e.nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return n;if(!r&&F){if(11!==a&&(i=ye.exec(t)))if(s=i[1]){if(9===a){if(o=e.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&N(e,o)&&o.id===s)return n.push(o),n}else{if(i[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((s=i[3])&&_.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(s)),n}if(_.qsa&&(!L||!L.test(t))){if(p=h=B,d=e,v=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=C(t),(h=e.getAttribute("id"))?p=h.replace(we,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",u=c.length;u--;)c[u]=p+f(c[u]);d=be.test(t)&&l(e.parentNode)||e,v=c.join(",")}if(v)try{return Q.apply(n,d.querySelectorAll(v)),n}catch(g){}finally{h||e.removeAttribute("id")}}}return A(t.replace(ue,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[B]=!0,t}function i(t){var e=P.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=t.length;r--;)x.attrHandle[n[r]]=e}function s(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||$)-(~t.sourceIndex||$);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function l(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function f(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function p(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=W++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,s){var a,u,c=[q,o];if(s){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,s))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(u=e[B]||(e[B]={}),(a=u[r])&&a[0]===q&&a[1]===o)return c[2]=a[2];if(u[r]=c,c[2]=t(e,n,s))return!0}}}function d(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function v(t,n,r){for(var i=0,o=n.length;o>i;i++)e(t,n[i],r);return r}function g(t,e,n,r,i){for(var o,s=[],a=0,u=t.length,c=null!=e;u>a;a++)(o=t[a])&&(!n||n(o,r,i))&&(s.push(o),c&&e.push(a));return s}function m(t,e,n,i,o,s){return i&&!i[B]&&(i=m(i)),o&&!o[B]&&(o=m(o,s)),r(function(r,s,a,u){var c,l,h,f=[],p=[],d=s.length,m=r||v(e||"*",a.nodeType?[a]:a,[]),y=!t||!r&&e?m:g(m,f,t,a,u),b=n?o||(r?t:d||i)?[]:s:y;if(n&&n(y,b,a,u),i)for(c=g(b,p),i(c,[],a,u),l=c.length;l--;)(h=c[l])&&(b[p[l]]=!(y[p[l]]=h));if(r){if(o||t){if(o){for(c=[],l=b.length;l--;)(h=b[l])&&c.push(y[l]=h);o(null,b=[],c,u)}for(l=b.length;l--;)(h=b[l])&&(c=o?te(r,h):f[l])>-1&&(r[c]=!(s[c]=h))}}else b=g(b===s?b.splice(d,b.length):b),o?o(null,s,b,u):Q.apply(s,b)})}function y(t){for(var e,n,r,i=t.length,o=x.relative[t[0].type],s=o||x.relative[" "],a=o?1:0,u=p(function(t){return t===e},s,!0),c=p(function(t){return te(e,t)>-1},s,!0),l=[function(t,n,r){var i=!o&&(r||n!==k)||((e=n).nodeType?u(t,n,r):c(t,n,r));return e=null,i}];i>a;a++)if(n=x.relative[t[a].type])l=[p(d(l),n)];else{if(n=x.filter[t[a].type].apply(null,t[a].matches),n[B]){for(r=++a;i>r&&!x.relative[t[r].type];r++);return m(a>1&&d(l),a>1&&f(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ue,"$1"),n,r>a&&y(t.slice(a,r)),i>r&&y(t=t.slice(r)),i>r&&f(t))}l.push(n)}return d(l)}function b(t,n){var i=n.length>0,o=t.length>0,s=function(r,s,a,u,c){var l,h,f,p=0,d="0",v=r&&[],m=[],y=k,b=r||o&&x.find.TAG("*",c),w=q+=null==y?1:Math.random()||.1,_=b.length;for(c&&(k=s!==P&&s);d!==_&&null!=(l=b[d]);d++){if(o&&l){for(h=0;f=t[h++];)if(f(l,s,a)){u.push(l);break}c&&(q=w)}i&&((l=!f&&l)&&p--,r&&v.push(l))}if(p+=d,i&&d!==p){for(h=0;f=n[h++];)f(v,m,s,a);if(r){if(p>0)for(;d--;)v[d]||m[d]||(m[d]=J.call(u));m=g(m)}Q.apply(u,m),c&&!r&&m.length>0&&p+n.length>1&&e.uniqueSort(u)}return c&&(q=w,k=y),v};return i?r(s):s}var w,_,x,E,T,C,S,A,k,j,R,O,P,M,F,L,I,D,N,B="sizzle"+1*new Date,U=t.document,q=0,W=0,G=n(),H=n(),V=n(),z=function(t,e){return t===e&&(R=!0),0},$=1<<31,Y={}.hasOwnProperty,X=[],J=X.pop,K=X.push,Q=X.push,Z=X.slice,te=function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",se=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),he=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(se),pe=new RegExp("^"+ie+"$"),de={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ve=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,we=/'|\\/g,_e=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ee=function(){O()};try{Q.apply(X=Z.call(U.childNodes),U.childNodes),X[U.childNodes.length].nodeType}catch(Te){Q={apply:X.length?function(t,e){K.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}_=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},O=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:U;return r!==P&&9===r.nodeType&&r.documentElement?(P=r,M=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ee,!1):n.attachEvent&&n.attachEvent("onunload",Ee)),F=!T(r),_.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),_.getElementsByTagName=i(function(t){return t.appendChild(r.createComment("")),!t.getElementsByTagName("*").length}),_.getElementsByClassName=me.test(r.getElementsByClassName),_.getById=i(function(t){return M.appendChild(t).id=B,!r.getElementsByName||!r.getElementsByName(B).length}),_.getById?(x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&F){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(t){var e=t.replace(_e,xe);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(_e,xe);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),x.find.TAG=_.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):_.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},x.find.CLASS=_.getElementsByClassName&&function(t,e){return F?e.getElementsByClassName(t):void 0},I=[],L=[],(_.qsa=me.test(r.querySelectorAll))&&(i(function(t){M.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+ne+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+ne+"*(?:value|"+ee+")"),t.querySelectorAll("[id~="+B+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||L.push(".#.+[+~]")}),i(function(t){var e=r.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+ne+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(_.matchesSelector=me.test(D=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&i(function(t){_.disconnectedMatch=D.call(t,"div"),D.call(t,"[s!='']:x"),I.push("!=",se)}),L=L.length&&new RegExp(L.join("|")),I=I.length&&new RegExp(I.join("|")),e=me.test(M.compareDocumentPosition),N=e||me.test(M.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},z=e?function(t,e){if(t===e)return R=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!_.sortDetached&&e.compareDocumentPosition(t)===n?t===r||t.ownerDocument===U&&N(U,t)?-1:e===r||e.ownerDocument===U&&N(U,e)?1:j?te(j,t)-te(j,e):0:4&n?-1:1)}:function(t,e){if(t===e)return R=!0,0;var n,i=0,o=t.parentNode,a=e.parentNode,u=[t],c=[e];if(!o||!a)return t===r?-1:e===r?1:o?-1:a?1:j?te(j,t)-te(j,e):0;if(o===a)return s(t,e);for(n=t;n=n.parentNode;)u.unshift(n);for(n=e;n=n.parentNode;)c.unshift(n);for(;u[i]===c[i];)i++;return i?s(u[i],c[i]):u[i]===U?-1:c[i]===U?1:0},r):P},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==P&&O(t),n=n.replace(he,"='$1']"),!(!_.matchesSelector||!F||I&&I.test(n)||L&&L.test(n)))try{var r=D.call(t,n);if(r||_.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,P,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==P&&O(t),N(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==P&&O(t);var n=x.attrHandle[e.toLowerCase()],r=n&&Y.call(x.attrHandle,e.toLowerCase())?n(t,e,!F):void 0;return void 0!==r?r:_.attributes||!F?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(R=!_.detectDuplicates,j=!_.sortStable&&t.slice(0),t.sort(z),R){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return j=null,t},E=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=E(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=E(e);return n},x=e.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_e,xe),t[3]=(t[3]||t[4]||t[5]||"").replace(_e,xe),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return de.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&fe.test(n)&&(e=C(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_e,xe).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=G[t+" "];return e||(e=new RegExp("(^|"+ne+")"+t+"("+ne+"|$)"))&&G(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,h,f,p,d,v=o!==s?"nextSibling":"previousSibling",g=e.parentNode,m=a&&e.nodeName.toLowerCase(),y=!u&&!a;if(g){if(o){for(;v;){for(h=e;h=h[v];)if(a?h.nodeName.toLowerCase()===m:1===h.nodeType)return!1;d=v="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?g.firstChild:g.lastChild],s&&y){for(l=g[B]||(g[B]={}),c=l[t]||[],p=c[0]===q&&c[1],f=c[0]===q&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[v]||(f=p=0)||d.pop();)if(1===h.nodeType&&++f&&h===e){l[t]=[q,p,f];break}}else if(y&&(c=(e[B]||(e[B]={}))[t])&&c[0]===q)f=c[1];else for(;(h=++p&&h&&h[v]||(f=p=0)||d.pop())&&((a?h.nodeName.toLowerCase()!==m:1!==h.nodeType)||!++f||(y&&((h[B]||(h[B]={}))[t]=[q,f]),h!==e)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(t,n){var i,o=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[B]?o(n):o.length>1?(i=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),s=i.length;s--;)r=te(t,i[s]),t[r]=!(e[r]=i[s])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=S(t.replace(ue,"$1"));return i[B]?r(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(_e,xe),function(e){return(e.textContent||e.innerText||E(e)).indexOf(t)>-1}}),lang:r(function(t){return pe.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_e,xe).toLowerCase(),function(e){var n;do if(n=F?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===M},focus:function(t){return t===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return ge.test(t.nodeName)},input:function(t){return ve.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[0>n?n+e:n]}),even:c(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:c(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=u(w);return h.prototype=x.filters=x.pseudos,x.setFilters=new h,C=e.tokenize=function(t,n){var r,i,o,s,a,u,c,l=H[t+" "];if(l)return n?0:l.slice(0);for(a=t,u=[],c=x.preFilter;a;){(!r||(i=ce.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=le.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),a=a.slice(r.length));for(s in x.filter)!(i=de[s].exec(a))||c[s]&&!(i=c[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?e.error(t):H(t,u).slice(0)},S=e.compile=function(t,e){var n,r=[],i=[],o=V[t+" "];if(!o){for(e||(e=C(t)),n=e.length;n--;)o=y(e[n]),o[B]?r.push(o):i.push(o);o=V(t,b(i,r)),o.selector=t}return o},A=e.select=function(t,e,n,r){var i,o,s,a,u,c="function"==typeof t&&t,h=!r&&C(t=c.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&_.getById&&9===e.nodeType&&F&&x.relative[o[1].type]){if(e=(x.find.ID(s.matches[0].replace(_e,xe),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=de.needsContext.test(t)?0:o.length;i--&&(s=o[i],!x.relative[a=s.type]);)if((u=x.find[a])&&(r=u(s.matches[0].replace(_e,xe),be.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(i,1),t=r.length&&f(o),!t)return Q.apply(n,r),n;break}}return(c||S(t,h))(r,e,!F,n,be.test(t)&&l(e.parentNode)||e),n},_.sortStable=B.split("").sort(z).join("")===B,_.detectDuplicates=!!R,O(),_.sortDetached=i(function(t){return 1&t.compareDocumentPosition(P.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),_.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(ee,function(t,e,n){var r;return n?void 0:t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(i);re.find=ue,re.expr=ue.selectors,re.expr[":"]=re.expr.pseudos,re.unique=ue.uniqueSort,re.text=ue.getText,re.isXMLDoc=ue.isXML,re.contains=ue.contains;var ce=re.expr.match.needsContext,le=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,he=/^.[^:#\[\.,]*$/;re.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?re.find.matchesSelector(r,t)?[r]:[]:re.find.matches(t,re.grep(e,function(t){return 1===t.nodeType}))},re.fn.extend({find:function(t){var e,n=this.length,r=[],i=this;if("string"!=typeof t)return this.pushStack(re(t).filter(function(){for(e=0;n>e;e++)if(re.contains(i[e],this))return!0}));for(e=0;n>e;e++)re.find(t,i[e],r);return r=this.pushStack(n>1?re.unique(r):r),r.selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(a(this,t||[],!1))},not:function(t){return this.pushStack(a(this,t||[],!0))},is:function(t){return!!a(this,"string"==typeof t&&ce.test(t)?re(t):t||[],!1).length}});var fe,pe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,de=re.fn.init=function(t,e){var n,r;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:pe.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||fe).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof re?e[0]:e,re.merge(this,re.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:ee,!0)),le.test(n[1])&&re.isPlainObject(e))for(n in e)re.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=ee.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=ee,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):re.isFunction(t)?"undefined"!=typeof fe.ready?fe.ready(t):t(re):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),re.makeArray(t,this))};de.prototype=re.fn,fe=re(ee);var ve=/^(?:parents|prev(?:Until|All))/,ge={children:!0,contents:!0,next:!0,prev:!0};re.extend({dir:function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&re(t).is(n))break;r.push(t)}return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),re.fn.extend({has:function(t){var e=re(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(re.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,o=[],s=ce.test(t)||"string"!=typeof t?re(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&re.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?re.unique(o):o)},index:function(t){return t?"string"==typeof t?J.call(re(t),this[0]):J.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(re.unique(re.merge(this.get(),re(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),re.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return re.dir(t,"parentNode")},parentsUntil:function(t,e,n){return re.dir(t,"parentNode",n)},next:function(t){return u(t,"nextSibling")},prev:function(t){return u(t,"previousSibling")},nextAll:function(t){return re.dir(t,"nextSibling")},prevAll:function(t){return re.dir(t,"previousSibling")},nextUntil:function(t,e,n){return re.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return re.dir(t,"previousSibling",n)},siblings:function(t){return re.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return re.sibling(t.firstChild)},contents:function(t){return t.contentDocument||re.merge([],t.childNodes)}},function(t,e){re.fn[t]=function(n,r){var i=re.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=re.filter(r,i)),this.length>1&&(ge[t]||re.unique(i),ve.test(t)&&i.reverse()),this.pushStack(i)}});var me=/\S+/g,ye={};re.Callbacks=function(t){t="string"==typeof t?ye[t]||c(t):re.extend({},t);var e,n,r,i,o,s,a=[],u=!t.once&&[],l=function(c){for(e=t.memory&&c,n=!0,s=i||0,i=0,o=a.length,r=!0;a&&o>s;s++)if(a[s].apply(c[0],c[1])===!1&&t.stopOnFalse){e=!1;break}r=!1,a&&(u?u.length&&l(u.shift()):e?a=[]:h.disable())},h={add:function(){if(a){var n=a.length;!function s(e){re.each(e,function(e,n){var r=re.type(n);"function"===r?t.unique&&h.has(n)||a.push(n):n&&n.length&&"string"!==r&&s(n)})}(arguments),r?o=a.length:e&&(i=n,l(e))}return this},remove:function(){return a&&re.each(arguments,function(t,e){for(var n;(n=re.inArray(e,a,n))>-1;)a.splice(n,1),r&&(o>=n&&o--,s>=n&&s--)}),this},has:function(t){return t?re.inArray(t,a)>-1:!(!a||!a.length)},empty:function(){return a=[],o=0,this},disable:function(){return a=u=e=void 0,this},disabled:function(){return!a},lock:function(){return u=void 0,e||h.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!a||n&&!u||(e=e||[],e=[t,e.slice?e.slice():e],r?u.push(e):l(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},re.extend({Deferred:function(t){var e=[["resolve","done",re.Callbacks("once memory"),"resolved"],["reject","fail",re.Callbacks("once memory"),"rejected"],["notify","progress",re.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return re.Deferred(function(n){re.each(e,function(e,o){var s=re.isFunction(t[e])&&t[e];i[o[1]](function(){var t=s&&s.apply(this,arguments);t&&re.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?re.extend(t,r):r}},i={};return r.pipe=r.then,re.each(e,function(t,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=$.call(arguments),s=o.length,a=1!==s||t&&re.isFunction(t.promise)?s:0,u=1===a?t:re.Deferred(),c=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?$.call(arguments):i,r===e?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(s>1)for(e=new Array(s),n=new Array(s),r=new Array(s);s>i;i++)o[i]&&re.isFunction(o[i].promise)?o[i].promise().done(c(i,r,o)).fail(u.reject).progress(c(i,n,e)):--a;return a||u.resolveWith(r,o),u.promise()}});var be;re.fn.ready=function(t){return re.ready.promise().done(t),this},re.extend({isReady:!1,readyWait:1,holdReady:function(t){t?re.readyWait++:re.ready(!0)},ready:function(t){(t===!0?--re.readyWait:re.isReady)||(re.isReady=!0,t!==!0&&--re.readyWait>0||(be.resolveWith(ee,[re]),re.fn.triggerHandler&&(re(ee).triggerHandler("ready"),re(ee).off("ready"))))}}),re.ready.promise=function(t){return be||(be=re.Deferred(),"complete"===ee.readyState?setTimeout(re.ready):(ee.addEventListener("DOMContentLoaded",l,!1),i.addEventListener("load",l,!1))),be.promise(t)},re.ready.promise();var we=re.access=function(t,e,n,r,i,o,s){var a=0,u=t.length,c=null==n;if("object"===re.type(n)){i=!0;for(a in n)re.access(t,e,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,re.isFunction(r)||(s=!0),c&&(s?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(re(t),n)})),e))for(;u>a;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return i?t:c?e.call(t):u?e(t[0],n):o};re.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},h.uid=1,h.accepts=re.acceptData,h.prototype={key:function(t){if(!h.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=h.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(r){e[this.expando]=n,re.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var r,i=this.key(t),o=this.cache[i];if("string"==typeof e)o[e]=n;else if(re.isEmptyObject(o))re.extend(this.cache[i],e);else for(r in e)o[r]=e[r];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var r;return void 0===e||e&&"string"==typeof e&&void 0===n?(r=this.get(t,e),void 0!==r?r:this.get(t,re.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,i,o=this.key(t),s=this.cache[o];if(void 0===e)this.cache[o]={};else{re.isArray(e)?r=e.concat(e.map(re.camelCase)):(i=re.camelCase(e),e in s?r=[e,i]:(r=i,r=r in s?[r]:r.match(me)||[])),n=r.length;for(;n--;)delete s[r[n]]}},hasData:function(t){return!re.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var _e=new h,xe=new h,Ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Te=/([A-Z])/g;re.extend({hasData:function(t){return xe.hasData(t)||_e.hasData(t)},data:function(t,e,n){return xe.access(t,e,n)},removeData:function(t,e){xe.remove(t,e)},_data:function(t,e,n){return _e.access(t,e,n)},_removeData:function(t,e){_e.remove(t,e)}}),re.fn.extend({data:function(t,e){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=xe.get(o),1===o.nodeType&&!_e.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=re.camelCase(r.slice(5)),f(o,r,i[r])));_e.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){xe.set(this,t)}):we(this,function(e){var n,r=re.camelCase(t);if(o&&void 0===e){if(n=xe.get(o,t),void 0!==n)return n;if(n=xe.get(o,r),void 0!==n)return n;if(n=f(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=xe.get(this,r);xe.set(this,r,e),-1!==t.indexOf("-")&&void 0!==n&&xe.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){xe.remove(this,t)})}}),re.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=_e.get(t,e),n&&(!r||re.isArray(n)?r=_e.access(t,e,re.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=re.queue(t,e),r=n.length,i=n.shift(),o=re._queueHooks(t,e),s=function(){re.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return _e.get(t,n)||_e.access(t,n,{empty:re.Callbacks("once memory").add(function(){_e.remove(t,[e+"queue",n])})})}}),re.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?re.queue(this[0],t):void 0===e?this:this.each(function(){var n=re.queue(this,t,e);re._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&re.dequeue(this,t)})},dequeue:function(t){return this.each(function(){re.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=re.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=_e.get(o[s],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}});var Ce=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Se=["Top","Right","Bottom","Left"],Ae=function(t,e){return t=e||t,"none"===re.css(t,"display")||!re.contains(t.ownerDocument,t)},ke=/^(?:checkbox|radio)$/i;!function(){var t=ee.createDocumentFragment(),e=t.appendChild(ee.createElement("div")),n=ee.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),te.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",te.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var je="undefined";te.focusinBubbles="onfocusin"in i;var Re=/^key/,Oe=/^(?:mouse|pointer|contextmenu)|click/,Pe=/^(?:focusinfocus|focusoutblur)$/,Me=/^([^.]*)(?:\.(.+)|)$/;re.event={global:{},add:function(t,e,n,r,i){var o,s,a,u,c,l,h,f,p,d,v,g=_e.get(t);if(g)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=re.guid++),(u=g.events)||(u=g.events={}),(s=g.handle)||(s=g.handle=function(e){return typeof re!==je&&re.event.triggered!==e.type?re.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(me)||[""],c=e.length;c--;)a=Me.exec(e[c])||[],p=v=a[1],d=(a[2]||"").split(".").sort(),p&&(h=re.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,h=re.event.special[p]||{},l=re.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&re.expr.match.needsContext.test(i),namespace:d.join(".")},o),(f=u[p])||(f=u[p]=[],f.delegateCount=0,h.setup&&h.setup.call(t,r,d,s)!==!1||t.addEventListener&&t.addEventListener(p,s,!1)),h.add&&(h.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,l):f.push(l),re.event.global[p]=!0)},remove:function(t,e,n,r,i){var o,s,a,u,c,l,h,f,p,d,v,g=_e.hasData(t)&&_e.get(t);if(g&&(u=g.events)){for(e=(e||"").match(me)||[""],c=e.length;c--;)if(a=Me.exec(e[c])||[],p=v=a[1],d=(a[2]||"").split(".").sort(),p){for(h=re.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,f=u[p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)l=f[o],!i&&v!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,h.remove&&h.remove.call(t,l));s&&!f.length&&(h.teardown&&h.teardown.call(t,d,g.handle)!==!1||re.removeEvent(t,p,g.handle),delete u[p])}else for(p in u)re.event.remove(t,p+e[c],n,r,!0);re.isEmptyObject(u)&&(delete g.handle,_e.remove(t,"events"))}},trigger:function(t,e,n,r){var o,s,a,u,c,l,h,f=[n||ee],p=Z.call(t,"type")?t.type:t,d=Z.call(t,"namespace")?t.namespace.split("."):[];if(s=a=n=n||ee,3!==n.nodeType&&8!==n.nodeType&&!Pe.test(p+re.event.triggered)&&(p.indexOf(".")>=0&&(d=p.split("."),p=d.shift(),d.sort()),c=p.indexOf(":")<0&&"on"+p,t=t[re.expando]?t:new re.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=d.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:re.makeArray(e,[t]),h=re.event.special[p]||{},r||!h.trigger||h.trigger.apply(n,e)!==!1)){if(!r&&!h.noBubble&&!re.isWindow(n)){for(u=h.delegateType||p,Pe.test(u+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;
a===(n.ownerDocument||ee)&&f.push(a.defaultView||a.parentWindow||i)}for(o=0;(s=f[o++])&&!t.isPropagationStopped();)t.type=o>1?u:h.bindType||p,l=(_e.get(s,"events")||{})[t.type]&&_e.get(s,"handle"),l&&l.apply(s,e),l=c&&s[c],l&&l.apply&&re.acceptData(s)&&(t.result=l.apply(s,e),t.result===!1&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||h._default&&h._default.apply(f.pop(),e)!==!1||!re.acceptData(n)||c&&re.isFunction(n[p])&&!re.isWindow(n)&&(a=n[c],a&&(n[c]=null),re.event.triggered=p,n[p](),re.event.triggered=void 0,a&&(n[c]=a)),t.result}},dispatch:function(t){t=re.event.fix(t);var e,n,r,i,o,s=[],a=$.call(arguments),u=(_e.get(this,"events")||{})[t.type]||[],c=re.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(s=re.event.handlers.call(this,t,u),e=0;(i=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,r=((re.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),void 0!==r&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,s=[],a=e.delegateCount,u=t.target;if(a&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==t.type){for(r=[],n=0;a>n;n++)o=e[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?re(i,this).index(u)>=0:re.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||ee,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[re.expando])return t;var e,n,r,i=t.type,o=t,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Oe.test(i)?this.mouseHooks:Re.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,t=new re.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return t.target||(t.target=ee),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==v()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===v()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&re.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return re.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=re.extend(new re.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?re.event.trigger(i,null,e):re.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},re.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},re.Event=function(t,e){return this instanceof re.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?p:d):this.type=t,e&&re.extend(this,e),this.timeStamp=t&&t.timeStamp||re.now(),void(this[re.expando]=!0)):new re.Event(t,e)},re.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=p,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=p,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=p,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},re.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){re.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return(!i||i!==r&&!re.contains(r,i))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),te.focusinBubbles||re.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){re.event.simulate(e,t.target,re.event.fix(t),!0)};re.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=_e.access(r,e);i||r.addEventListener(t,n,!0),_e.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=_e.access(r,e)-1;i?_e.access(r,e,i):(r.removeEventListener(t,n,!0),_e.remove(r,e))}}}),re.fn.extend({on:function(t,e,n,r,i){var o,s;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(s in t)this.on(s,e,n,t[s],i);return this}if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),r===!1)r=d;else if(!r)return this;return 1===i&&(o=r,r=function(t){return re().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=re.guid++)),this.each(function(){re.event.add(this,t,r,n,e)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,re(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=d),this.each(function(){re.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){re.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?re.event.trigger(t,e,n,!0):void 0}});var Fe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Le=/<([\w:]+)/,Ie=/<|&#?\w+;/,De=/<(?:script|style|link)/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,Be=/^$|\/(?:java|ecma)script/i,Ue=/^true\/(.*)/,qe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,We={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};We.optgroup=We.option,We.tbody=We.tfoot=We.colgroup=We.caption=We.thead,We.th=We.td,re.extend({clone:function(t,e,n){var r,i,o,s,a=t.cloneNode(!0),u=re.contains(t.ownerDocument,t);if(!(te.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||re.isXMLDoc(t)))for(s=_(a),o=_(t),r=0,i=o.length;i>r;r++)x(o[r],s[r]);if(e)if(n)for(o=o||_(t),s=s||_(a),r=0,i=o.length;i>r;r++)w(o[r],s[r]);else w(t,a);return s=_(a,"script"),s.length>0&&b(s,!u&&_(t,"script")),a},buildFragment:function(t,e,n,r){for(var i,o,s,a,u,c,l=e.createDocumentFragment(),h=[],f=0,p=t.length;p>f;f++)if(i=t[f],i||0===i)if("object"===re.type(i))re.merge(h,i.nodeType?[i]:i);else if(Ie.test(i)){for(o=o||l.appendChild(e.createElement("div")),s=(Le.exec(i)||["",""])[1].toLowerCase(),a=We[s]||We._default,o.innerHTML=a[1]+i.replace(Fe,"<$1></$2>")+a[2],c=a[0];c--;)o=o.lastChild;re.merge(h,o.childNodes),o=l.firstChild,o.textContent=""}else h.push(e.createTextNode(i));for(l.textContent="",f=0;i=h[f++];)if((!r||-1===re.inArray(i,r))&&(u=re.contains(i.ownerDocument,i),o=_(l.appendChild(i),"script"),u&&b(o),n))for(c=0;i=o[c++];)Be.test(i.type||"")&&n.push(i);return l},cleanData:function(t){for(var e,n,r,i,o=re.event.special,s=0;void 0!==(n=t[s]);s++){if(re.acceptData(n)&&(i=n[_e.expando],i&&(e=_e.cache[i]))){if(e.events)for(r in e.events)o[r]?re.event.remove(n,r):re.removeEvent(n,r,e.handle);_e.cache[i]&&delete _e.cache[i]}delete xe.cache[n[xe.expando]]}}}),re.fn.extend({text:function(t){return we(this,function(t){return void 0===t?re.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=g(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=g(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=t?re.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||re.cleanData(_(n)),n.parentNode&&(e&&re.contains(n.ownerDocument,n)&&b(_(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(re.cleanData(_(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return re.clone(this,t,e)})},html:function(t){return we(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!De.test(t)&&!We[(Le.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Fe,"<$1></$2>");try{for(;r>n;n++)e=this[n]||{},1===e.nodeType&&(re.cleanData(_(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,re.cleanData(_(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=Y.apply([],t);var n,r,i,o,s,a,u=0,c=this.length,l=this,h=c-1,f=t[0],p=re.isFunction(f);if(p||c>1&&"string"==typeof f&&!te.checkClone&&Ne.test(f))return this.each(function(n){var r=l.eq(n);p&&(t[0]=f.call(this,n,r.html())),r.domManip(t,e)});if(c&&(n=re.buildFragment(t,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=re.map(_(n,"script"),m),o=i.length;c>u;u++)s=n,u!==h&&(s=re.clone(s,!0,!0),o&&re.merge(i,_(s,"script"))),e.call(this[u],s,u);if(o)for(a=i[i.length-1].ownerDocument,re.map(i,y),u=0;o>u;u++)s=i[u],Be.test(s.type||"")&&!_e.access(s,"globalEval")&&re.contains(a,s)&&(s.src?re._evalUrl&&re._evalUrl(s.src):re.globalEval(s.textContent.replace(qe,"")))}return this}}),re.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){re.fn[t]=function(t){for(var n,r=[],i=re(t),o=i.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),re(i[s])[e](n),X.apply(r,n.get());return this.pushStack(r)}});var Ge,He={},Ve=/^margin/,ze=new RegExp("^("+Ce+")(?!px)[a-z%]+$","i"),$e=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):i.getComputedStyle(t,null)};!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",r.appendChild(o);var t=i.getComputedStyle(s,null);e="1%"!==t.top,n="4px"===t.width,r.removeChild(o)}var e,n,r=ee.documentElement,o=ee.createElement("div"),s=ee.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",te.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),i.getComputedStyle&&re.extend(te,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return null==n&&t(),n},reliableMarginRight:function(){var t,e=s.appendChild(ee.createElement("div"));return e.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",s.style.width="1px",r.appendChild(o),t=!parseFloat(i.getComputedStyle(e,null).marginRight),r.removeChild(o),s.removeChild(e),t}}))}(),re.swap=function(t,e,n,r){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=s[o];return i};var Ye=/^(none|table(?!-c[ea]).+)/,Xe=new RegExp("^("+Ce+")(.*)$","i"),Je=new RegExp("^([+-])=("+Ce+")","i"),Ke={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"},Ze=["Webkit","O","Moz","ms"];re.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=C(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=re.camelCase(e),u=t.style;return e=re.cssProps[a]||(re.cssProps[a]=A(u,a)),s=re.cssHooks[e]||re.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:u[e]:(o=typeof n,"string"===o&&(i=Je.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(re.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||re.cssNumber[a]||(n+="px"),te.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(u[e]=n)),void 0)}},css:function(t,e,n,r){var i,o,s,a=re.camelCase(e);return e=re.cssProps[a]||(re.cssProps[a]=A(t.style,a)),s=re.cssHooks[e]||re.cssHooks[a],s&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=C(t,e,r)),"normal"===i&&e in Qe&&(i=Qe[e]),""===n||n?(o=parseFloat(i),n===!0||re.isNumeric(o)?o||0:i):i}}),re.each(["height","width"],function(t,e){re.cssHooks[e]={get:function(t,n,r){return n?Ye.test(re.css(t,"display"))&&0===t.offsetWidth?re.swap(t,Ke,function(){return R(t,e,r)}):R(t,e,r):void 0},set:function(t,n,r){var i=r&&$e(t);return k(t,n,r?j(t,e,r,"border-box"===re.css(t,"boxSizing",!1,i),i):0)}}}),re.cssHooks.marginRight=S(te.reliableMarginRight,function(t,e){return e?re.swap(t,{display:"inline-block"},C,[t,"marginRight"]):void 0}),re.each({margin:"",padding:"",border:"Width"},function(t,e){re.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+Se[r]+e]=o[r]||o[r-2]||o[0];return i}},Ve.test(t)||(re.cssHooks[t+e].set=k)}),re.fn.extend({css:function(t,e){return we(this,function(t,e,n){var r,i,o={},s=0;if(re.isArray(e)){for(r=$e(t),i=e.length;i>s;s++)o[e[s]]=re.css(t,e[s],!1,r);return o}return void 0!==n?re.style(t,e,n):re.css(t,e)},t,e,arguments.length>1)},show:function(){return O(this,!0)},hide:function(){return O(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ae(this)?re(this).show():re(this).hide()})}}),re.Tween=P,P.prototype={constructor:P,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(re.cssNumber[n]?"":"px")},cur:function(){var t=P.propHooks[this.prop];return t&&t.get?t.get(this):P.propHooks._default.get(this)},run:function(t){var e,n=P.propHooks[this.prop];return this.pos=e=this.options.duration?re.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=re.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){re.fx.step[t.prop]?re.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[re.cssProps[t.prop]]||re.cssHooks[t.prop])?re.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},re.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},re.fx=P.prototype.init,re.fx.step={};var tn,en,nn=/^(?:toggle|show|hide)$/,rn=new RegExp("^(?:([+-])=|)("+Ce+")([a-z%]*)$","i"),on=/queueHooks$/,sn=[I],an={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=rn.exec(e),o=i&&i[3]||(re.cssNumber[t]?"":"px"),s=(re.cssNumber[t]||"px"!==o&&+r)&&rn.exec(re.css(n.elem,t)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do a=a||".5",s/=a,re.style(n.elem,t,s+o);while(a!==(a=n.cur()/r)&&1!==a&&--u)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};re.Animation=re.extend(N,{tweener:function(t,e){re.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;i>r;r++)n=t[r],an[n]=an[n]||[],an[n].unshift(e)},prefilter:function(t,e){e?sn.unshift(t):sn.push(t)}}),re.speed=function(t,e,n){var r=t&&"object"==typeof t?re.extend({},t):{complete:n||!n&&e||re.isFunction(t)&&t,duration:t,easing:n&&e||e&&!re.isFunction(e)&&e};return r.duration=re.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in re.fx.speeds?re.fx.speeds[r.duration]:re.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){re.isFunction(r.old)&&r.old.call(this),r.queue&&re.dequeue(this,r.queue)},r},re.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Ae).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=re.isEmptyObject(t),o=re.speed(e,n,r),s=function(){var e=N(this,re.extend({},t),o);(i||_e.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=re.timers,s=_e.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&on.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));(e||!n)&&re.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=_e.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=re.timers,s=r?r.length:0;for(n.finish=!0,re.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),re.each(["toggle","show","hide"],function(t,e){var n=re.fn[e];re.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(F(e,!0),t,r,i)}}),re.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){re.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),re.timers=[],re.fx.tick=function(){var t,e=0,n=re.timers;for(tn=re.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||re.fx.stop(),tn=void 0},re.fx.timer=function(t){re.timers.push(t),t()?re.fx.start():re.timers.pop()},re.fx.interval=13,re.fx.start=function(){en||(en=setInterval(re.fx.tick,re.fx.interval))},re.fx.stop=function(){clearInterval(en),en=null},re.fx.speeds={slow:600,fast:200,_default:400},re.fn.delay=function(t,e){return t=re.fx?re.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},function(){var t=ee.createElement("input"),e=ee.createElement("select"),n=e.appendChild(ee.createElement("option"));t.type="checkbox",te.checkOn=""!==t.value,te.optSelected=n.selected,e.disabled=!0,te.optDisabled=!n.disabled,t=ee.createElement("input"),t.value="t",t.type="radio",te.radioValue="t"===t.value}();var un,cn,ln=re.expr.attrHandle;re.fn.extend({attr:function(t,e){return we(this,re.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){re.removeAttr(this,t)})}}),re.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===je?re.prop(t,e,n):(1===o&&re.isXMLDoc(t)||(e=e.toLowerCase(),r=re.attrHooks[e]||(re.expr.match.bool.test(e)?cn:un)),void 0===n?r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=re.find.attr(t,e),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):void re.removeAttr(t,e))},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(me);if(o&&1===t.nodeType)for(;n=o[i++];)r=re.propFix[n]||n,re.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!te.radioValue&&"radio"===e&&re.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),cn={set:function(t,e,n){return e===!1?re.removeAttr(t,n):t.setAttribute(n,n),n}},re.each(re.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ln[e]||re.find.attr;ln[e]=function(t,e,r){var i,o;return r||(o=ln[e],ln[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,ln[e]=o),i}});var hn=/^(?:input|select|textarea|button)$/i;re.fn.extend({prop:function(t,e){return we(this,re.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[re.propFix[t]||t]})}}),re.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var r,i,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return o=1!==s||!re.isXMLDoc(t),o&&(e=re.propFix[e]||e,i=re.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||hn.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),te.optSelected||(re.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),re.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){re.propFix[this.toLowerCase()]=this});var fn=/[\t\r\n\f]/g;re.fn.extend({addClass:function(t){var e,n,r,i,o,s,a="string"==typeof t&&t,u=0,c=this.length;if(re.isFunction(t))return this.each(function(e){re(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(me)||[];c>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(fn," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=re.trim(r),n.className!==s&&(n.className=s)}return this},removeClass:function(t){var e,n,r,i,o,s,a=0===arguments.length||"string"==typeof t&&t,u=0,c=this.length;if(re.isFunction(t))return this.each(function(e){re(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(me)||[];c>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(fn," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");s=t?re.trim(r):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(re.isFunction(t)?function(n){re(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,r=0,i=re(this),o=t.match(me)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(n===je||"boolean"===n)&&(this.className&&_e.set(this,"__className__",this.className),this.className=this.className||t===!1?"":_e.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(fn," ").indexOf(e)>=0)return!0;return!1}});var pn=/\r/g;re.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=re.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,re(this).val()):t,null==i?i="":"number"==typeof i?i+="":re.isArray(i)&&(i=re.map(i,function(t){return null==t?"":t+""})),e=re.valHooks[this.type]||re.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=re.valHooks[i.type]||re.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(pn,""):null==n?"":n)}}}),re.extend({valHooks:{option:{get:function(t){var e=re.find.attr(t,"value");return null!=e?e:re.trim(re.text(t))}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||0>i,s=o?null:[],a=o?i+1:r.length,u=0>i?a:o?i:0;a>u;u++)if(n=r[u],!(!n.selected&&u!==i||(te.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&re.nodeName(n.parentNode,"optgroup"))){if(e=re(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=re.makeArray(e),s=i.length;s--;)r=i[s],(r.selected=re.inArray(r.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),re.each(["radio","checkbox"],function(){re.valHooks[this]={set:function(t,e){return re.isArray(e)?t.checked=re.inArray(re(t).val(),e)>=0:void 0}},te.checkOn||(re.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),re.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){re.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),re.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var dn=re.now(),vn=/\?/;re.parseJSON=function(t){return JSON.parse(t+"")},re.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(r){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&re.error("Invalid XML: "+t),e};var gn=/#.*$/,mn=/([?&])_=[^&]*/,yn=/^(.*?):[ \t]*([^\r\n]*)$/gm,bn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,wn=/^(?:GET|HEAD)$/,_n=/^\/\//,xn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,En={},Tn={},Cn="*/".concat("*"),Sn=i.location.href,An=xn.exec(Sn.toLowerCase())||[];re.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Sn,type:"GET",isLocal:bn.test(An[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Cn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":re.parseJSON,"text xml":re.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?q(q(t,re.ajaxSettings),e):q(re.ajaxSettings,t)},ajaxPrefilter:B(En),ajaxTransport:B(Tn),ajax:function(t,e){function n(t,e,n,s){var u,l,m,y,w,x=e;2!==b&&(b=2,a&&clearTimeout(a),r=void 0,o=s||"",_.readyState=t>0?4:0,u=t>=200&&300>t||304===t,n&&(y=W(h,_,n)),y=G(h,y,_,u),u?(h.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(re.lastModified[i]=w),w=_.getResponseHeader("etag"),w&&(re.etag[i]=w)),204===t||"HEAD"===h.type?x="nocontent":304===t?x="notmodified":(x=y.state,l=y.data,m=y.error,u=!m)):(m=x,(t||!x)&&(x="error",0>t&&(t=0))),_.status=t,_.statusText=(e||x)+"",u?d.resolveWith(f,[l,x,_]):d.rejectWith(f,[_,x,m]),_.statusCode(g),g=void 0,c&&p.trigger(u?"ajaxSuccess":"ajaxError",[_,h,u?l:m]),v.fireWith(f,[_,x]),c&&(p.trigger("ajaxComplete",[_,h]),--re.active||re.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,s,a,u,c,l,h=re.ajaxSetup({},e),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?re(f):re.event,d=re.Deferred(),v=re.Callbacks("once memory"),g=h.statusCode||{},m={},y={},b=0,w="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!s)for(s={};e=yn.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=y[n]=y[n]||t,m[t]=e),this},overrideMimeType:function(t){return b||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)g[e]=[g[e],t[e]];else _.always(t[_.status]);return this},abort:function(t){var e=t||w;return r&&r.abort(e),n(0,e),this}};if(d.promise(_).complete=v.add,_.success=_.done,_.error=_.fail,h.url=((t||h.url||Sn)+"").replace(gn,"").replace(_n,An[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=re.trim(h.dataType||"*").toLowerCase().match(me)||[""],null==h.crossDomain&&(u=xn.exec(h.url.toLowerCase()),h.crossDomain=!(!u||u[1]===An[1]&&u[2]===An[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(An[3]||("http:"===An[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=re.param(h.data,h.traditional)),U(En,h,e,_),2===b)return _;c=re.event&&h.global,c&&0===re.active++&&re.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!wn.test(h.type),i=h.url,h.hasContent||(h.data&&(i=h.url+=(vn.test(i)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=mn.test(i)?i.replace(mn,"$1_="+dn++):i+(vn.test(i)?"&":"?")+"_="+dn++)),h.ifModified&&(re.lastModified[i]&&_.setRequestHeader("If-Modified-Since",re.lastModified[i]),re.etag[i]&&_.setRequestHeader("If-None-Match",re.etag[i])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&_.setRequestHeader("Content-Type",h.contentType),_.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Cn+"; q=0.01":""):h.accepts["*"]);for(l in h.headers)_.setRequestHeader(l,h.headers[l]);if(h.beforeSend&&(h.beforeSend.call(f,_,h)===!1||2===b))return _.abort();w="abort";for(l in{success:1,error:1,complete:1})_[l](h[l]);if(r=U(Tn,h,e,_)){_.readyState=1,c&&p.trigger("ajaxSend",[_,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){_.abort("timeout")},h.timeout));try{b=1,r.send(m,n)}catch(x){if(!(2>b))throw x;n(-1,x)}}else n(-1,"No Transport");return _},getJSON:function(t,e,n){return re.get(t,e,n,"json")},getScript:function(t,e){return re.get(t,void 0,e,"script")}}),re.each(["get","post"],function(t,e){re[e]=function(t,n,r,i){return re.isFunction(n)&&(i=i||r,r=n,n=void 0),re.ajax({url:t,type:e,dataType:i,data:n,success:r})}}),re._evalUrl=function(t){return re.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},re.fn.extend({wrapAll:function(t){var e;return re.isFunction(t)?this.each(function(e){re(this).wrapAll(t.call(this,e))}):(this[0]&&(e=re(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(re.isFunction(t)?function(e){re(this).wrapInner(t.call(this,e))}:function(){var e=re(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=re.isFunction(t);return this.each(function(n){re(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){re.nodeName(this,"body")||re(this).replaceWith(this.childNodes)}).end()}}),re.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},re.expr.filters.visible=function(t){return!re.expr.filters.hidden(t)};var kn=/%20/g,jn=/\[\]$/,Rn=/\r?\n/g,On=/^(?:submit|button|image|reset|file)$/i,Pn=/^(?:input|select|textarea|keygen)/i;re.param=function(t,e){var n,r=[],i=function(t,e){e=re.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)
};if(void 0===e&&(e=re.ajaxSettings&&re.ajaxSettings.traditional),re.isArray(t)||t.jquery&&!re.isPlainObject(t))re.each(t,function(){i(this.name,this.value)});else for(n in t)H(n,t[n],e,i);return r.join("&").replace(kn,"+")},re.fn.extend({serialize:function(){return re.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=re.prop(this,"elements");return t?re.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!re(this).is(":disabled")&&Pn.test(this.nodeName)&&!On.test(t)&&(this.checked||!ke.test(t))}).map(function(t,e){var n=re(this).val();return null==n?null:re.isArray(n)?re.map(n,function(t){return{name:e.name,value:t.replace(Rn,"\r\n")}}):{name:e.name,value:n.replace(Rn,"\r\n")}}).get()}}),re.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Mn=0,Fn={},Ln={0:200,1223:204},In=re.ajaxSettings.xhr();i.attachEvent&&i.attachEvent("onunload",function(){for(var t in Fn)Fn[t]()}),te.cors=!!In&&"withCredentials"in In,te.ajax=In=!!In,re.ajaxTransport(function(t){var e;return te.cors||In&&!t.crossDomain?{send:function(n,r){var i,o=t.xhr(),s=++Mn;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)o[i]=t.xhrFields[i];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);e=function(t){return function(){e&&(delete Fn[s],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?r(o.status,o.statusText):r(Ln[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=Fn[s]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(a){if(e)throw a}},abort:function(){e&&e()}}:void 0}),re.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return re.globalEval(t),t}}}),re.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),re.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=re("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),ee.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Dn=[],Nn=/(=)\?(?=&|$)|\?\?/;re.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Dn.pop()||re.expando+"_"+dn++;return this[t]=!0,t}}),re.ajaxPrefilter("json jsonp",function(t,e,n){var r,o,s,a=t.jsonp!==!1&&(Nn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Nn.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=re.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Nn,"$1"+r):t.jsonp!==!1&&(t.url+=(vn.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||re.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=i[r],i[r]=function(){s=arguments},n.always(function(){i[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Dn.push(r)),s&&re.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),re.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||ee;var r=le.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=re.buildFragment([t],e,i),i&&i.length&&re(i).remove(),re.merge([],r.childNodes))};var Bn=re.fn.load;re.fn.load=function(t,e,n){if("string"!=typeof t&&Bn)return Bn.apply(this,arguments);var r,i,o,s=this,a=t.indexOf(" ");return a>=0&&(r=re.trim(t.slice(a)),t=t.slice(0,a)),re.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),s.length>0&&re.ajax({url:t,type:i,dataType:"html",data:e}).done(function(t){o=arguments,s.html(r?re("<div>").append(re.parseHTML(t)).find(r):t)}).complete(n&&function(t,e){s.each(n,o||[t.responseText,e,t])}),this},re.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){re.fn[e]=function(t){return this.on(e,t)}}),re.expr.filters.animated=function(t){return re.grep(re.timers,function(e){return t===e.elem}).length};var Un=i.document.documentElement;re.offset={setOffset:function(t,e,n){var r,i,o,s,a,u,c,l=re.css(t,"position"),h=re(t),f={};"static"===l&&(t.style.position="relative"),a=h.offset(),o=re.css(t,"top"),u=re.css(t,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(r=h.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),re.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(f.top=e.top-a.top+s),null!=e.left&&(f.left=e.left-a.left+i),"using"in e?e.using.call(t,f):h.css(f)}},re.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){re.offset.setOffset(this,t,e)});var e,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return e=o.documentElement,re.contains(e,r)?(typeof r.getBoundingClientRect!==je&&(i=r.getBoundingClientRect()),n=V(o),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===re.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),re.nodeName(t[0],"html")||(r=t.offset()),r.top+=re.css(t[0],"borderTopWidth",!0),r.left+=re.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-re.css(n,"marginTop",!0),left:e.left-r.left-re.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Un;t&&!re.nodeName(t,"html")&&"static"===re.css(t,"position");)t=t.offsetParent;return t||Un})}}),re.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;re.fn[t]=function(r){return we(this,function(t,r,o){var s=V(t);return void 0===o?s?s[e]:t[r]:void(s?s.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):t[r]=o)},t,r,arguments.length,null)}}),re.each(["top","left"],function(t,e){re.cssHooks[e]=S(te.pixelPosition,function(t,n){return n?(n=C(t,e),ze.test(n)?re(t).position()[e]+"px":n):void 0})}),re.each({Height:"height",Width:"width"},function(t,e){re.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){re.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return we(this,function(e,n,r){var i;return re.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?re.css(e,n,s):re.style(e,n,r,s)},e,o?r:void 0,o,null)}})}),re.fn.size=function(){return this.length},re.fn.andSelf=re.fn.addBack,n=[],r=function(){return re}.apply(e,n),!(void 0!==r&&(t.exports=r));var qn=i.jQuery,Wn=i.$;return re.noConflict=function(t){return i.$===re&&(i.$=Wn),t&&i.jQuery===re&&(i.jQuery=qn),re},typeof o===je&&(i.jQuery=i.$=re),re})},function(t,e){"use strict";var n=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=e.SkinNode=function(){function t(){r(this,t)}return n(t,null,{compile:{value:function(t,e){var n=new this;return n.compile(t,e),n}}}),t}();e["default"]=i,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";function r(t){var e=void 0;return function(n){e!==n&&(e=n,t(n))}}var i=function(t){return t&&t.__esModule?t["default"]:t},o=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},s=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},u=i(n(166)),c=e.Instance=function(){function t(e){if(a(this,t),this._context=e.context,this._object=e.object,this._children=e.children,this._bindings=[],this._concerns=[],this.onData=new u(e.onData),this.onDestroy=new u(e.onDestroy),e.bindings){var n=!0,r=!1,i=void 0;try{for(var s,c=e.bindings[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l,h=s.value;(l=this).bind.apply(l,o(h))}}catch(f){r=!0,i=f}finally{try{!n&&c["return"]&&c["return"]()}finally{if(r)throw i}}}if(e.concerns){var p=!0,d=!1,v=void 0;try{for(var g,m=e.concerns[Symbol.iterator]();!(p=(g=m.next()).done);p=!0){var y=g.value;this._concerns.push(y.instantiate(this._context,this))}}catch(f){d=!0,v=f}finally{try{!p&&m["return"]&&m["return"]()}finally{if(d)throw v}}}if(e.children){var b=!0,w=!1,_=void 0;try{for(var x,E=e.children[Symbol.iterator]();!(b=(x=E.next()).done);b=!0){var T=x.value;this._concerns.push(T.instantiate(this._context,this._object))}}catch(f){w=!0,_=f}finally{try{!b&&E["return"]&&E["return"]()}finally{if(w)throw _}}}e.onCreate&&new u(e.onCreate).call(),e.parent&&this.attachTo(e.parent)}return s(t,{bind:{value:function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];var i=r(e.pop());1===e.length&&e[0].constant?i(e[0]()):this._bindings.push(function(t){for(var n=0;n<e.length;n++)t=e[n](t);i(t)})}},attachTo:{value:function(t){this._parent=t,this._parent.addChild(this._object)}},detach:{value:function(){this._parent&&(this._parent.removeChild(this._object),this._parent=null)}},push:{value:function(t){var e;for(e=0;e<this._bindings.length;e++)this._bindings[e](t);for(e=0;e<this._concerns.length;e++)this._concerns[e].push(t);this.onData.call(t)}},destroy:{value:function(){this.detach();for(var t=0;t<this._concerns.length;t++)this._concerns[t].destroy();this.onDestroy.call(),this._concerns=null,this._bindings=null,this._parent=null,this._object=null}},object:{get:function(){return this._object}},parent:{get:function(){return this._parent}}}),t}();e["default"]=c,Object.defineProperty(e,"__esModule",{value:!0})},function(t){function e(){function t(e){return t.validate(e),e}var e=[].slice.call(arguments);return t.validate=function(t){for(var r=0;r<e.length;r++)n(e[r],t)},t}function n(t,e){if(t===Number&&(t="number"),t===String&&(t="string"),"string"==typeof t){if(typeof e!==t)throw new Error("should be a "+t)}else if("function"==typeof t){if("function"==typeof t.validate)t.validate(e);else if(!(e instanceof t))throw new Error("should be an instance of "+t)}else{if("object"!=typeof t)throw new Error("invalid schema");if(!e)throw new Error("should be an object");r(t,e)}}function r(t,e){for(var r in t){if(!(r in e))throw new Error('missing property: "'+r+'"');try{n(t[r],e[r])}catch(i){throw new Error('error in property "'+r+'": '+i.message)}}}t.exports=e,e.maybe=function(t){function e(t){return e.validate(t),t}return e.validate=function(e){null!==e&&void 0!==e&&n(t,e)},e}},function(t,e,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var t=arguments,n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return t;var r="color: "+this.color;t=[t[0],r,"color: inherit"].concat(Array.prototype.slice.call(t,1));var i=0,o=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))}),t.splice(o,0,r),t}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(t){try{null==t?c.removeItem("debug"):c.debug=t}catch(e){}}function a(){var t;try{t=c.debug}catch(e){}return t}function u(){try{return window.localStorage}catch(t){}}e=t.exports=n(33),e.log=o,e.formatArgs=i,e.save=s,e.load=a,e.useColors=r;var c;c="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){return JSON.stringify(t)},e.enable(a())},function(t){function e(t){var e=this;return"function"==typeof t&&(t=t.call(this)),new Promise(function(r,i){function o(e){var n;try{n=t.next(e)}catch(r){return i(r)}u(n)}function a(e){var n;try{n=t["throw"](e)}catch(r){return i(r)}u(n)}function u(t){if(t.done)return r(t.value);var i=n.call(e,t.value);return i&&s(i)?i.then(o,a):a(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(t.value)+'"'))}o()})}function n(t){return t?s(t)?t:u(t)||a(t)?e.call(this,t):"function"==typeof t?r.call(this,t):Array.isArray(t)?i.call(this,t):c(t)?o.call(this,t):t:t}function r(t){var e=this;return new Promise(function(n,r){t.call(e,function(t,e){return t?r(t):(arguments.length>2&&(e=l.call(arguments,1)),void n(e))})})}function i(t){return Promise.all(t.map(n,this))}function o(t){function e(t,e){r[e]=void 0,o.push(t.then(function(t){r[e]=t}))}for(var r=new t.constructor,i=Object.keys(t),o=[],a=0;a<i.length;a++){var u=i[a],c=n.call(this,t[u]);c&&s(c)?e(c,u):r[u]=t[u]}return Promise.all(o).then(function(){return r})}function s(t){return"function"==typeof t.then}function a(t){return"function"==typeof t.next&&"function"==typeof t["throw"]}function u(t){var e=t.constructor;return e?"GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName?!0:a(e.prototype):!1}function c(t){return Object==t.constructor}var l=Array.prototype.slice;t.exports=e["default"]=e.co=e,e.wrap=function(t){function n(){return e.call(this,t.apply(this,arguments))}return n.__generatorFunction__=t,n}},function(t){function e(){if(!o){o=!0;for(var t,e=i.length;e;){t=i,i=[];for(var n=-1;++n<e;)t[n]();e=i.length}o=!1}}function n(){}var r=t.exports={},i=[],o=!1;r.nextTick=function(t){i.push(t),o||setTimeout(e,0)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=n,r.addListener=n,r.once=n,r.off=n,r.removeListener=n,r.removeAllListeners=n,r.emit=n,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},,,,,function(module,exports,__webpack_require__){"use strict";function createFunction(code){var fn=eval("(function(get) { return "+code+" })");return fn.displayName="("+code+")",fn.constant=!!/^[\-0-9\.]+$/.test(code),fn}function Expression(t){log("parsing %s",t);var e=parser.parse(t);log("parsed %s => %s",t,e);var n=createFunction(e),r=void 0;return r=n.constant?n:function(t){return n(function(e){return t[e]})},r.constant=n.constant,r}var _interopRequire=function(t){return t&&t.__esModule?t["default"]:t};exports.Expression=Expression;var debug=_interopRequire(__webpack_require__(10)),log=debug("scintillator:expression"),parser=_interopRequire(__webpack_require__(154));exports["default"]=Expression,Object.defineProperty(exports,"__esModule",{value:!0})},,,function(t,e){"use strict";function n(t,e){if(!e)return function(){};var n=0;return e.report(0,t),function(r){return e.report(++n,t,r)}}function r(t,e){var n=0,r=0;return function(){return t.report(n,++r),Promise.resolve(e.apply(this,arguments)).tap(function(){return t.report(++n,r)})}}function i(t,e){return t.watch(function(){return e.report(t.current,t.total,t.extra)})}e.fixed=n,e.wrapPromise=r,e.bind=i,Object.defineProperty(e,"__esModule",{value:!0})},,,function(t,e,n){(function(t){"use strict";var e=function(t){return t&&t.__esModule?t["default"]:t},r=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)};n(28);var i=e(n(10)),o=e(n(32));t.DEBUG=i,t.Promise=o,Promise.prototype.log=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return this.tap(function(t){return console.log.apply(console,r(e.concat([t])))})}}).call(e,function(){return this}())},,function(t,e,n){(function(t){"use strict";if(t._babelPolyfill)throw new Error("only one instance of babel/polyfill is allowed");t._babelPolyfill=!0,n(26),n(27)}).call(e,function(){return this}())},function(t){!function(e,n,r){"use strict";function i(t){return null!==t&&("object"==typeof t||"function"==typeof t)}function o(t){return"function"==typeof t}function s(t,e,n){t&&!mn(t=n?t:t[me],Nn)&&Mn(t,Nn,e)}function a(t){return on.call(t).slice(8,-1)}function u(t){var e,n;return t==r?t===r?"Undefined":"Null":"string"==typeof(n=(e=ke(t))[Nn])?n:a(e)}function c(){for(var t=R(this),e=arguments.length,n=je(e),r=0,i=Wn._,o=!1;e>r;)(n[r]=arguments[r++])===i&&(o=!0);return function(){var r,s=this,a=arguments.length,u=0,c=0;if(!o&&!a)return h(t,n,s);if(r=n.slice(),o)for(;e>u;u++)r[u]===i&&(r[u]=arguments[c++]);for(;a>c;)r.push(arguments[c++]);return h(t,r,s)}}function l(t,e,n){if(R(t),~n&&e===r)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}function h(t,e,n){var i=n===r;switch(0|e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3]);case 5:return i?t(e[0],e[1],e[2],e[3],e[4]):t.call(n,e[0],e[1],e[2],e[3],e[4])}return t.apply(n,e)}function f(t){return yn(j(t))}function p(t){return t}function d(){return this}function v(t,e){return mn(t,e)?t[e]:void 0}function g(t){return O(t),vn?dn(t).concat(vn(t)):dn(t)}function m(t,e){for(var n,r=f(t),i=pn(r),o=i.length,s=0;o>s;)if(r[n=i[s++]]===e)return n}function y(t){return Re(t).split(",")}function b(t){var e=1==t,n=2==t,i=3==t,o=4==t,s=6==t,a=5==t||s;return function(u){for(var c,h,f=ke(j(this)),p=arguments[1],d=yn(f),v=l(u,p,3),g=T(d.length),m=0,y=e?je(g):n?[]:r;g>m;m++)if((a||m in d)&&(c=d[m],h=v(c,m,f),t))if(e)y[m]=h;else if(h)switch(t){case 3:return!0;case 5:return c;case 6:return m;case 2:y.push(c)}else if(o)return!1;return s?-1:i||o?o:y}}function w(t){return function(e){var n=f(this),r=T(n.length),i=C(arguments[1],r);if(t&&e!=e){for(;r>i;i++)if(x(n[i]))return t||i}else for(;r>i;i++)if((t||i in n)&&n[i]===e)return t||i;return!t&&-1}}function _(t,e){return"function"==typeof t?t:e}function x(t){return t!=t}function E(t){return isNaN(t)?0:Rn(t)}function T(t){return t>0?kn(E(t),xn):0}function C(t,e){var t=E(t);return 0>t?An(t+e,0):kn(t,e)}function S(t,e,n){var r=i(e)?function(t){return e[t]}:e;return function(e){return Re(n?e:this).replace(t,r)}}function A(t){return function(e){var n,i,o=Re(j(this)),s=E(e),a=o.length;return 0>s||s>=a?t?"":r:(n=o.charCodeAt(s),55296>n||n>56319||s+1===a||(i=o.charCodeAt(s+1))<56320||i>57343?t?o.charAt(s):n:t?o.slice(s,s+2):(n-55296<<10)+(i-56320)+65536)}}function k(t,e,n){if(!t)throw Be(n?e+n:e)}function j(t){if(t==r)throw Be("Function called on null or undefined");return t}function R(t){return k(o(t),t," is not a function!"),t}function O(t){return k(i(t),t," is not an object!"),t}function P(t,e,n){k(t instanceof e,n,": use the 'new' operator!")}function M(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function F(t,e,n){return t[e]=n,t}function L(t){return On?function(e,n,r){return hn(e,n,M(t,r))}:F}function I(t){return pe+"("+t+")_"+(++Pn+jn())[be](36)}function D(t,e){return De&&De[t]||(e?De:Ln)(pe+nn+t)}function N(t,e){for(var n in e)Mn(t,n,e[n]);return t}function B(t){!On||!n&&rn(t)||hn(t,Bn,{configurable:!0,get:d})}function U(t,r,i){var s,a,u,c,h=t&Vn,f=h?e:t&zn?e[r]:(e[r]||Ze)[me],p=h?qn:qn[r]||(qn[r]={});h&&(i=r);for(s in i)a=!(t&Hn)&&f&&s in f&&(!o(f[s])||rn(f[s])),u=(a?f:i)[s],n||!h||o(f[s])?t&Yn&&a?c=l(u,e):t&Xn&&!n&&f[s]==u?(c=function(t){return this instanceof u?new u(t):u(t)},c[me]=u[me]):c=t&$n&&o(u)?l(sn,u):u:c=i[s],n&&f&&!a&&(h?f[s]=u:delete f[s]&&Mn(f,s,u)),p[s]!=u&&Mn(p,s,c)}function q(t,e){Mn(t,te,e),Te in Qe&&Mn(t,Te,e)}function W(t,e,n,r){t[me]=un(r||tr,{next:M(1,n)}),s(t,e+" Iterator")}function G(t,e,r,i){var o=t[me],a=v(o,te)||v(o,Te)||i&&v(o,i)||r;if(n&&(q(o,a),a!==r)){var u=cn(a.call(new t));s(u,e+" Iterator",!0),mn(o,Te)&&q(u,d)}return Zn[e]=a,Zn[e+" Iterator"]=d,a}function H(t,e,n,r,i,o){function s(t){return function(){return new n(this,t)}}W(n,e,r);var a=s(Kn+Qn),u=s(Qn);i==Qn?u=G(t,e,u,"values"):a=G(t,e,a,"entries"),i&&U($n+Hn*er,e,{entries:a,keys:o?u:s(Kn),values:u})}function V(t,e){return{value:e,done:!!t}}function z(t){var n=ke(t),r=e[pe],i=(r&&r[Ee]||Te)in n;return i||te in n||mn(Zn,u(n))}function $(t){var n=e[pe],r=t[n&&n[Ee]||Te],i=r||t[te]||Zn[u(t)];return O(i.call(t))}function Y(t,e,n){return n?h(t,e):t(e)}function X(t){var e=!0,n={next:function(){throw 1},"return":function(){e=!1}};n[te]=d;try{t(n)}catch(r){}return e}function J(t){var e=t["return"];e!==r&&e.call(t)}function K(t,e){try{t(e)}catch(n){throw J(e),n}}function Q(t,e,n,r){K(function(t){for(var i,o=l(n,r,e?2:1);!(i=t.next()).done;)if(Y(o,i.value,e)===!1)return J(t)},$(t))}var Z,te,ee,ne="Object",re="Function",ie="Array",oe="String",se="Number",ae="RegExp",ue="Date",ce="Map",le="Set",he="WeakMap",fe="WeakSet",pe="Symbol",de="Promise",ve="Math",ge="Arguments",me="prototype",ye="constructor",be="toString",we=be+"Tag",_e="hasOwnProperty",xe="forEach",Ee="iterator",Te="@@"+Ee,Ce="process",Se="createElement",Ae=e[re],ke=e[ne],je=e[ie],Re=e[oe],Oe=e[se],Pe=e[ae],Me=(e[ue],e[ce]),Fe=e[le],Le=e[he],Ie=e[fe],De=e[pe],Ne=e[ve],Be=e.TypeError,Ue=e.RangeError,qe=e.setTimeout,We=e.setImmediate,Ge=e.clearImmediate,He=e.parseInt,Ve=e.isFinite,ze=e[Ce],$e=ze&&ze.nextTick,Ye=e.document,Xe=Ye&&Ye.documentElement,Je=(e.navigator,e.define),Ke=e.console||{},Qe=je[me],Ze=ke[me],tn=Ae[me],en=1/0,nn=".",rn=l(/./.test,/\[native code\]\s*\}\s*$/,1),on=Ze[be],sn=tn.call,an=tn.apply,un=ke.create,cn=ke.getPrototypeOf,ln=ke.setPrototypeOf,hn=ke.defineProperty,fn=(ke.defineProperties,ke.getOwnPropertyDescriptor),pn=ke.keys,dn=ke.getOwnPropertyNames,vn=ke.getOwnPropertySymbols,gn=ke.isFrozen,mn=l(sn,Ze[_e],2),yn=ke,bn=ke.assign||function(t){for(var e=ke(j(t)),n=arguments.length,r=1;n>r;)for(var i,o=yn(arguments[r++]),s=pn(o),a=s.length,u=0;a>u;)e[i=s[u++]]=o[i];return e},wn=Qe.push,_n=(Qe.unshift,Qe.slice,Qe.splice,Qe.indexOf,Qe[xe]),xn=9007199254740991,En=Ne.pow,Tn=Ne.abs,Cn=Ne.ceil,Sn=Ne.floor,An=Ne.max,kn=Ne.min,jn=Ne.random,Rn=Ne.trunc||function(t){return(t>0?Sn:Cn)(t)},On=!!function(){try{return 2==hn({},"a",{get:function(){return 2}}).a}catch(t){}}(),Pn=0,Mn=L(1),Fn=De?F:Mn,Ln=De||I,In=D("unscopables"),Dn=Qe[In]||{},Nn=D(we),Bn=D("species"),Un=a(ze)==Ce,qn={},Wn=n?e:qn,Gn=e.core,Hn=1,Vn=2,zn=4,$n=8,Yn=16,Xn=32;"undefined"!=typeof t&&t.exports?t.exports=qn:o(Je)&&Je.amd?Je(function(){return qn}):ee=!0,(ee||n)&&(qn.noConflict=function(){return e.core=Gn,qn},e.core=qn),te=D(Ee);var Jn=Ln("iter"),Kn=1,Qn=2,Zn={},tr={},er="keys"in Qe&&!("next"in[].keys());q(tr,d),!function(t,n,r,i){rn(De)||(De=function(e){k(!(this instanceof De),pe+" is not a "+ye);var n=I(e),o=Fn(un(De[me]),t,n);return r[n]=o,On&&i&&hn(Ze,n,{configurable:!0,set:function(t){Mn(this,n,t)}}),o},Mn(De[me],be,function(){return this[t]})),U(Vn+Xn,{Symbol:De});var o={"for":function(t){return mn(n,t+="")?n[t]:n[t]=De(t)},iterator:te||D(Ee),keyFor:c.call(m,n),species:Bn,toStringTag:Nn=D(we,!0),unscopables:In,pure:Ln,set:Fn,useSetter:function(){i=!0},useSimple:function(){i=!1}};_n.call(y("hasInstance,isConcatSpreadable,match,replace,search,split,toPrimitive"),function(t){o[t]=D(t)}),U(zn,pe,o),s(De,pe),U(zn+Hn*!rn(De),ne,{getOwnPropertyNames:function(t){for(var e,n=dn(f(t)),i=[],o=0;n.length>o;)mn(r,e=n[o++])||i.push(e);return i},getOwnPropertySymbols:function(t){for(var e,n=dn(f(t)),i=[],o=0;n.length>o;)mn(r,e=n[o++])&&i.push(r[e]);return i}}),s(Ne,ve,!0),s(e.JSON,"JSON",!0)}(Ln("tag"),{},{},!0),!function(){var t={assign:bn,is:function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}};"__proto__"in Ze&&function(e,n){try{n=l(sn,fn(Ze,"__proto__").set,2),n({},Qe)}catch(r){e=!0}t.setPrototypeOf=ln=ln||function(t,r){return O(t),k(null===r||i(r),r,": can't set as prototype!"),e?t.__proto__=r:n(t,r),t}}(),U(zn,ne,t)}(),!function(t){t[Nn]=nn,a(t)!=nn&&Mn(Ze,be,function(){return"[object "+u(this)+"]"})}({}),!function(){function t(t,e){var n=ke[t],r=qn[ne][t],o=0,s={};if(!r||rn(r)){s[t]=1==e?function(t){return i(t)?n(t):t}:2==e?function(t){return i(t)?n(t):!0}:3==e?function(t){return i(t)?n(t):!1}:4==e?function(t,e){return n(f(t),e)}:function(t){return n(f(t))};try{n(nn)}catch(a){o=1}U(zn+Hn*o,ne,s)}}t("freeze",1),t("seal",1),t("preventExtensions",1),t("isFrozen",2),t("isSealed",2),t("isExtensible",3),t("getOwnPropertyDescriptor",4),t("getPrototypeOf"),t("keys"),t("getOwnPropertyNames")}(),!function(t){t in tn||On&&hn(tn,t,{configurable:!0,get:function(){var e=Re(this).match(/^\s*function ([^ (]*)/),n=e?e[1]:"";return mn(this,t)||hn(this,t,M(5,n)),n},set:function(e){mn(this,t)||hn(this,t,M(0,e))}})}("name"),Oe("0o1")&&Oe("0b1")||function(t,n){function r(t){if(i(t)&&(t=s(t)),"string"==typeof t&&t.length>2&&48==t.charCodeAt(0)){var e=!1;switch(t.charCodeAt(1)){case 66:case 98:e=!0;case 79:case 111:return He(t.slice(2),e?2:8)}}return+t}function s(t){var e,n;if(o(e=t.valueOf)&&!i(n=e.call(t)))return n;if(o(e=t[be])&&!i(n=e.call(t)))return n;throw Be("Can't convert object to number")}Oe=function a(e){return this instanceof a?new t(r(e)):r(e)},_n.call(On?dn(t):y("MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY"),function(e){e in Oe||hn(Oe,e,fn(t,e))}),Oe[me]=n,n[ye]=Oe,Mn(e,se,Oe)}(Oe,Oe[me]),!function(t){U(zn,se,{EPSILON:En(2,-52),isFinite:function(t){return"number"==typeof t&&Ve(t)},isInteger:t,isNaN:x,isSafeInteger:function(e){return t(e)&&Tn(e)<=xn},MAX_SAFE_INTEGER:xn,MIN_SAFE_INTEGER:-xn,parseFloat:parseFloat,parseInt:He})}(Oe.isInteger||function(t){return!i(t)&&Ve(t)&&Sn(t)===t}),!function(){function t(e){return Ve(e=+e)&&0!=e?0>e?-t(-e):i(e+o(e*e+1)):e}function e(t){return 0==(t=+t)?t:t>-1e-6&&1e-6>t?t+t*t/2:r(t)-1}var n=Ne.E,r=Ne.exp,i=Ne.log,o=Ne.sqrt,s=Ne.sign||function(t){return 0==(t=+t)||t!=t?t:0>t?-1:1};U(zn,ve,{acosh:function(t){return(t=+t)<1?0/0:Ve(t)?i(t/n+o(t+1)*o(t-1)/n)+1:t},asinh:t,atanh:function(t){return 0==(t=+t)?t:i((1+t)/(1-t))/2},cbrt:function(t){return s(t=+t)*En(Tn(t),1/3)},clz32:function(t){return(t>>>=0)?32-t[be](2).length:32},cosh:function(t){return(r(t=+t)+r(-t))/2},expm1:e,fround:function(t){return new Float32Array([t])[0]},hypot:function(){for(var t,e=0,n=arguments.length,r=n,i=je(n),s=-en;n--;){if(t=i[n]=+arguments[n],t==en||t==-en)return en;t>s&&(s=t)}for(s=t||1;r--;)e+=En(i[r]/s,2);return s*o(e)},imul:function(t,e){var n=65535,r=+t,i=+e,o=n&r,s=n&i;return 0|o*s+((n&r>>>16)*s+o*(n&i>>>16)<<16>>>0)},log1p:function(t){return(t=+t)>-1e-8&&1e-8>t?t-t*t/2:i(1+t)},log10:function(t){return i(t)/Ne.LN10},log2:function(t){return i(t)/Ne.LN2},sign:s,sinh:function(t){return Tn(t=+t)<1?(e(t)-e(-t))/2:(r(t-1)-r(-t-1))*(n/2)},tanh:function(t){var n=e(t=+t),i=e(-t);return n==en?1:i==en?-1:(n-i)/(r(t)+r(-t))},trunc:Rn})}(),!function(t){function e(t){if(a(t)==ae)throw Be()}U(zn,oe,{fromCodePoint:function(){for(var e,n=[],r=arguments.length,i=0;r>i;){if(e=+arguments[i++],C(e,1114111)!==e)throw Ue(e+" is not a valid code point");n.push(65536>e?t(e):t(((e-=65536)>>10)+55296,e%1024+56320))}return n.join("")},raw:function(t){for(var e=f(t.raw),n=T(e.length),r=arguments.length,i=[],o=0;n>o;)i.push(Re(e[o++])),r>o&&i.push(Re(arguments[o]));return i.join("")}}),U($n,oe,{codePointAt:A(!1),endsWith:function(t){e(t);var n=Re(j(this)),i=arguments[1],o=T(n.length),s=i===r?o:kn(T(i),o);return t+="",n.slice(s-t.length,s)===t},includes:function(t){return e(t),!!~Re(j(this)).indexOf(t,arguments[1])},repeat:function(t){var e=Re(j(this)),n="",r=E(t);if(0>r||r==en)throw Ue("Count can't be negative");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n},startsWith:function(t){e(t);var n=Re(j(this)),r=T(kn(arguments[1],n.length));return t+="",n.slice(r,r+t.length)===t}})}(Re.fromCharCode),!function(){U(zn+Hn*X(je.from),ie,{from:function(t){var e,n,i,o=ke(j(t)),s=arguments[1],a=s!==r,u=a?l(s,arguments[2],2):r,c=0;if(z(o))n=new(_(this,je)),K(function(t){for(;!(i=t.next()).done;c++)n[c]=a?u(i.value,c):i.value},$(o));else for(n=new(_(this,je))(e=T(o.length));e>c;c++)n[c]=a?u(o[c],c):o[c];return n.length=c,n}}),U(zn,ie,{of:function(){for(var t=0,e=arguments.length,n=new(_(this,je))(e);e>t;)n[t]=arguments[t++];return n.length=e,n}}),B(je)}(),!function(){U($n,ie,{copyWithin:function(t,e){var n=ke(j(this)),i=T(n.length),o=C(t,i),s=C(e,i),a=arguments[2],u=a===r?i:C(a,i),c=kn(u-s,i-o),l=1;for(o>s&&s+c>o&&(l=-1,s=s+c-1,o=o+c-1);c-->0;)s in n?n[o]=n[s]:delete n[o],o+=l,s+=l;return n},fill:function(t){for(var e=ke(j(this)),n=T(e.length),i=C(arguments[1],n),o=arguments[2],s=o===r?n:C(o,n);s>i;)e[i++]=t;return e},find:b(5),findIndex:b(6)}),n&&(_n.call(y("find,findIndex,fill,copyWithin,entries,keys,values"),function(t){Dn[t]=!0}),In in Qe||Mn(Qe,In,Dn))}(),!function(t){H(je,ie,function(t,e){Fn(this,Jn,{o:f(t),i:0,k:e})},function(){var t=this[Jn],e=t.o,n=t.k,i=t.i++;return!e||i>=e.length?(t.o=r,V(1)):n==Kn?V(0,i):n==Qn?V(0,e[i]):V(0,[i,e[i]])},Qn),Zn[ge]=Zn[ie],H(Re,oe,function(t){Fn(this,Jn,{o:Re(t),i:0})},function(){var e,n=this[Jn],r=n.o,i=n.i;return i>=r.length?V(1):(e=t.call(r,i),n.i+=e.length,V(0,e))})}(A(!0)),On&&!function(t,n){(function(){try{return"/a/i"==Pe(/a/g,"i")}catch(t){}})()||(Pe=function(t,e){return new n(a(t)==ae&&e!==r?t.source:t,e)},_n.call(dn(n),function(t){t in Pe||hn(Pe,t,{configurable:!0,get:function(){return n[t]},set:function(e){n[t]=e}})}),t[ye]=Pe,Pe[me]=t,Mn(e,ae,Pe)),"g"!=/./g.flags&&hn(t,"flags",{configurable:!0,get:S(/^.*\/(\w*)$/,"$1")}),B(Pe)}(Pe[me],Pe),o(We)&&o(Ge)||function(t){function n(t){if(mn(v,t)){var e=v[t];delete v[t],e()}}function r(t){n(t.data)}var i,s,a,u=e.postMessage,f=e.addEventListener,p=e.MessageChannel,d=0,v={};We=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++d]=function(){h(o(t)?t:Ae(t),e)},i(d),d},Ge=function(t){delete v[t]},Un?i=function(t){$e(c.call(n,t))}:f&&o(u)&&!e.importScripts?(i=function(t){u(t,"*")},f("message",r,!1)):o(p)?(s=new p,a=s.port2,s.port1.onmessage=r,i=l(a.postMessage,a,1)):i=Ye&&t in Ye[Se]("script")?function(e){Xe.appendChild(Ye[Se]("script"))[t]=function(){Xe.removeChild(this),n(e)}}:function(t){qe(n,0,t)}}("onreadystatechange"),U(Vn+Yn,{setImmediate:We,clearImmediate:Ge}),!function(t,e){o(t)&&o(t.resolve)&&t.resolve(e=new t(function(){}))==e||function(e,n){function s(t){var e;return i(t)&&(e=t.then),o(e)?e:!1}function a(t){var e,r=t[n],i=r.c,o=0;if(r.h)return!0;for(;i.length>o;)if(e=i[o++],e.fail||a(e.P))return!0}function u(t,n){var r=t.c;(n||r.length)&&e(function(){var e=t.p,i=t.v,u=1==t.s,c=0;if(n&&!a(e))qe(function(){a(e)||(Un?!ze.emit("unhandledRejection",i,e):o(Ke.error)&&Ke.error("Unhandled promise rejection",i))},1e3);else for(;r.length>c;)!function(e){var n,r,o=u?e.ok:e.fail;try{o?(u||(t.h=!0),n=o===!0?i:o(i),n===e.P?e.rej(Be(de+"-chain cycle")):(r=s(n))?r.call(n,e.res,e.rej):e.res(n)):e.rej(i)}catch(a){e.rej(a)}}(r[c++]);r.length=0})}function c(t){var e,n,r=this;if(!r.d){r.d=!0,r=r.r||r;try{(e=s(t))?(n={r:r,d:!1},e.call(t,l(c,n,1),l(h,n,1))):(r.v=t,r.s=1,u(r))}catch(i){h.call(n||{r:r,d:!1},i)}}}function h(t){var e=this;e.d||(e.d=!0,e=e.r||e,e.v=t,e.s=2,u(e,!0))}function f(t){var e=O(t)[Bn];return e!=r?e:t}t=function(e){R(e),P(this,t,de);var i={p:this,c:[],s:0,d:!1,v:r,h:!1};Mn(this,n,i);try{e(l(c,i,1),l(h,i,1))}catch(o){h.call(i,o)}},N(t[me],{then:function(e,i){var s=O(O(this)[ye])[Bn],a={ok:o(e)?e:!0,fail:o(i)?i:!1},c=a.P=new(s!=r?s:t)(function(t,e){a.res=R(t),a.rej=R(e)}),l=this[n];return l.c.push(a),l.s&&u(l),c},"catch":function(t){return this.then(r,t)}}),N(t,{all:function(t){var e=f(this),n=[];return new e(function(r,i){Q(t,!1,wn,n);var o=n.length,s=je(o);
o?_n.call(n,function(t,n){e.resolve(t).then(function(t){s[n]=t,--o||r(s)},i)}):r(s)})},race:function(t){var e=f(this);return new e(function(n,r){Q(t,!1,function(t){e.resolve(t).then(n,r)})})},reject:function(t){return new(f(this))(function(e,n){n(t)})},resolve:function(t){return i(t)&&n in t&&cn(t)===this[me]?t:new(f(this))(function(e){e(t)})}})}($e||We,Ln("record")),s(t,de),B(t),U(Vn+Hn*!rn(t),{Promise:t})}(e[de]),!function(){function t(t,e,i,o,a,u){function c(t,e){return e!=r&&Q(e,a,t[p],t),t}function l(t,e){var r=d[t];n&&(d[t]=function(t,n){var i=r.call(this,0===t?0:t,n);return e?this:i})}var p=a?"set":"add",d=t&&t[me],y={};if(rn(t)&&(u||!er&&mn(d,xe)&&mn(d,"entries"))){var w,_=t,x=new t,E=x[p](u?{}:-0,1);X(function(e){new t(e)})&&(t=function(n){return P(this,t,e),c(new _,n)},t[me]=d,n&&(d[ye]=t)),u||x[xe](function(t,e){w=1/e===-en}),w&&(l("delete"),l("has"),a&&l("get")),(w||E!==x)&&l(p,!0)}else t=u?function(n){P(this,t,e),Fn(this,h,b++),c(this,n)}:function(n){var i=this;P(i,t,e),Fn(i,f,un(null)),Fn(i,m,0),Fn(i,v,r),Fn(i,g,r),c(i,n)},N(N(t[me],i),o),u||!On||hn(t[me],"size",{get:function(){return j(this[m])}});return s(t,e),B(t),y[e]=t,U(Vn+Xn+Hn*!rn(t),y),u||H(t,e,function(t,e){Fn(this,Jn,{o:t,k:e})},function(){for(var t=this[Jn],e=t.k,n=t.l;n&&n.r;)n=n.p;return t.o&&(t.l=n=n?n.n:t.o[g])?e==Kn?V(0,n.k):e==Qn?V(0,n.v):V(0,[n.k,n.v]):(t.o=r,V(1))},a?Kn+Qn:Qn,!a),t}function e(t,e){if(!i(t))return("string"==typeof t?"S":"P")+t;if(gn(t))return"F";if(!mn(t,h)){if(!e)return"E";Mn(t,h,++b)}return"O"+t[h]}function o(t,n){var r,i=e(n);if("F"!=i)return t[f][i];for(r=t[g];r;r=r.n)if(r.k==n)return r}function a(t,n,i){var s,a,u=o(t,n);return u?u.v=i:(t[v]=u={i:a=e(n,!0),k:n,v:i,p:s=t[v],n:r,r:!1},t[g]||(t[g]=u),s&&(s.n=u),t[m]++,"F"!=a&&(t[f][a]=u)),t}function u(t,e,n){return gn(O(e))?c(t).set(e,n):(mn(e,p)||Mn(e,p,{}),e[p][t[h]]=n),t}function c(t){return t[d]||Mn(t,d,new Me)[d]}var h=Ln("uid"),f=Ln("O1"),p=Ln("weak"),d=Ln("leak"),v=Ln("last"),g=Ln("first"),m=On?Ln("size"):"size",b=0,w={},_={clear:function(){for(var t=this,e=t[f],n=t[g];n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=r),delete e[n.i];t[g]=t[v]=r,t[m]=0},"delete":function(t){var e=this,n=o(e,t);if(n){var r=n.n,i=n.p;delete e[f][n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),e[g]==n&&(e[g]=r),e[v]==n&&(e[v]=i),e[m]--}return!!n},forEach:function(t){for(var e,n=l(t,arguments[1],3);e=e?e.n:this[g];)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!o(this,t)}};Me=t(Me,ce,{get:function(t){var e=o(this,t);return e&&e.v},set:function(t,e){return a(this,0===t?0:t,e)}},_,!0),Fe=t(Fe,le,{add:function(t){return a(this,t=0===t?0:t,t)}},_);var x={"delete":function(t){return i(t)?gn(t)?c(this)["delete"](t):mn(t,p)&&mn(t[p],this[h])&&delete t[p][this[h]]:!1},has:function(t){return i(t)?gn(t)?c(this).has(t):mn(t,p)&&mn(t[p],this[h]):!1}};Le=t(Le,he,{get:function(t){if(i(t)){if(gn(t))return c(this).get(t);if(mn(t,p))return t[p][this[h]]}},set:function(t,e){return u(this,t,e)}},x,!0,!0),n&&7!=(new Le).set(ke.freeze(w),7).get(w)&&_n.call(y("delete,has,get,set"),function(t){var e=Le[me][t];Le[me][t]=function(n,r){if(i(n)&&gn(n)){var o=c(this)[t](n,r);return"set"==t?this:o}return e.call(this,n,r)}}),Ie=t(Ie,fe,{add:function(t){return u(this,t,!0)}},x,!1,!0)}(),!function(){function t(t){var e,n=[];for(e in t)n.push(e);Fn(this,Jn,{o:t,a:n,i:0})}function e(t){return function(e){O(e);try{return t.apply(r,arguments),!0}catch(n){return!1}}}function n(t,e){var o,s=arguments.length<3?t:arguments[2],a=fn(O(t),e);return a?mn(a,"value")?a.value:a.get===r?r:a.get.call(s):i(o=cn(t))?n(o,e,s):r}function o(t,e,n){var s,a,u=arguments.length<4?t:arguments[3],c=fn(O(t),e);if(!c){if(i(a=cn(t)))return o(a,e,n,u);c=M(0)}return mn(c,"value")?c.writable!==!1&&i(u)?(s=fn(u,e)||M(0),s.value=n,hn(u,e,s),!0):!1:c.set===r?!1:(c.set.call(u,n),!0)}W(t,ne,function(){var t,e=this[Jn],n=e.a;do if(e.i>=n.length)return V(1);while(!((t=n[e.i++])in e.o));return V(0,t)});var s=ke.isExtensible||p,a={apply:l(sn,an,3),construct:function(t,e){var n=R(arguments.length<3?t:arguments[2])[me],r=un(i(n)?n:Ze),o=an.call(t,r,e);return i(o)?o:r},defineProperty:e(hn),deleteProperty:function(t,e){var n=fn(O(t),e);return n&&!n.configurable?!1:delete t[e]},enumerate:function(e){return new t(O(e))},get:n,getOwnPropertyDescriptor:function(t,e){return fn(O(t),e)},getPrototypeOf:function(t){return cn(O(t))},has:function(t,e){return e in t},isExtensible:function(t){return!!s(O(t))},ownKeys:g,preventExtensions:e(ke.preventExtensions||p),set:o};ln&&(a.setPrototypeOf=function(t,e){return ln(O(t),e),!0}),U(Vn,{Reflect:{}}),U(zn,"Reflect",a)}(),!function(){function t(t){return function(e){var n,r=f(e),i=pn(e),o=i.length,s=0,a=je(o);if(t)for(;o>s;)a[s]=[n=i[s++],r[n]];else for(;o>s;)a[s]=r[i[s++]];return a}}U($n,ie,{includes:w(!0)}),U($n,oe,{at:A(!0)}),U(zn,ne,{getOwnPropertyDescriptors:function(t){var e=f(t),n={};return _n.call(g(e),function(t){hn(n,t,M(0,fn(e,t)))}),n},values:t(!1),entries:t(!0)}),U(zn,ae,{escape:S(/([\\\-[\]{}()*+?.,^$|])/g,"\\$1",!0)})}(),!function(t){function e(t){if(t){var e=t[me];Mn(e,Z,e.get),Mn(e,n,e.set),Mn(e,r,e["delete"])}}Z=D(t+"Get",!0);var n=D(t+le,!0),r=D(t+"Delete",!0);U(zn,pe,{referenceGet:Z,referenceSet:n,referenceDelete:r}),Mn(tn,Z,d),e(Me),e(Le)}("reference"),!function(t){function e(e,n){_n.call(y(e),function(e){e in Qe&&(t[e]=l(sn,Qe[e],n))})}e("pop,reverse,shift,keys,values,entries",1),e("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),e("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill,turn"),U(zn,ie,t)}({}),!function(t){!n||!t||te in t[me]||Mn(t[me],te,Zn[ie]),Zn.NodeList=Zn[ie]}(e.NodeList)}("undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),!0)},function(t,e){(function(e){!function(e){"use strict";function n(t,e,n,r){return new s(t,e,n||null,r||[])}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function i(){}function o(){}function s(t,e,n,i){function o(e,i){if(u===b)throw new Error("Generator is already running");if(u===w)return h();for(;;){var o=a.delegate;if(o){var s=r(o.iterator[e],o.iterator,i);if("throw"===s.type){a.delegate=null,e="throw",i=s.arg;continue}e="next",i=f;var c=s.arg;if(!c.done)return u=y,c;a[o.resultName]=c.value,a.next=o.nextLoc,a.delegate=null}if("next"===e){if(u===m&&"undefined"!=typeof i)throw new TypeError("attempt to send "+JSON.stringify(i)+" to newborn generator");u===y?a.sent=i:delete a.sent}else if("throw"===e){if(u===m)throw u=w,i;a.dispatchException(i)&&(e="next",i=f)}else"return"===e&&a.abrupt("return",i);u=b;var s=r(t,n,a);if("normal"===s.type){u=a.done?w:y;var c={value:s.arg,done:a.done};if(s.arg!==_)return c;a.delegate&&"next"===e&&(i=f)}else"throw"===s.type&&(u=w,"next"===e?a.dispatchException(s.arg):i=s.arg)}}var s=e?Object.create(e.prototype):this,a=new c(i),u=m;return s.next=o.bind(s,"next"),s["throw"]=o.bind(s,"throw"),s["return"]=o.bind(s,"return"),s}function a(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function u(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function c(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(a,this),this.reset()}function l(t){if(t){var e=t[d];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function i(){for(;++n<t.length;)if(p.call(t,n))return i.value=t[n],i.done=!1,i;return i.value=f,i.done=!0,i};return r.next=r}}return{next:h}}function h(){return{value:f,done:!0}}var f,p=Object.prototype.hasOwnProperty,d="function"==typeof Symbol&&Symbol.iterator||"@@iterator",v="object"==typeof t,g=e.regeneratorRuntime;if(g)return void(v&&(t.exports=g));g=e.regeneratorRuntime=v?t.exports:{},g.wrap=n;var m="suspendedStart",y="suspendedYield",b="executing",w="completed",_={},x=o.prototype=s.prototype;i.prototype=x.constructor=o,o.constructor=i,i.displayName="GeneratorFunction",g.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return e?e===i||"GeneratorFunction"===(e.displayName||e.name):!1},g.mark=function(t){return t.__proto__=o,t.prototype=Object.create(x),t},g.async=function(t,e,i,o){return new Promise(function(s,a){function u(t){var e=r(this,null,t);if("throw"===e.type)return void a(e.arg);var n=e.arg;n.done?s(n.value):Promise.resolve(n.value).then(l,h)}var c=n(t,e,i,o),l=u.bind(c.next),h=u.bind(c["throw"]);l()})},x[d]=function(){return this},x.toString=function(){return"[object Generator]"},g.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},g.values=l,c.prototype={constructor:c,reset:function(){this.prev=0,this.next=0,this.sent=f,this.done=!1,this.delegate=null,this.tryEntries.forEach(u);for(var t,e=0;p.call(this,t="t"+e)||20>e;++e)this[t]=null},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var s=p.call(i,"catchLoc"),a=p.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&p.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?this.next=i.finallyLoc:this.complete(o),_},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=t.arg,this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc)}},"catch":function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;u(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:l(t),resultName:e,nextLoc:n},_}}}("object"==typeof e?e:"object"==typeof window?window:this)}).call(e,function(){return this}())},function(t,e,n){t.exports=n(25)},,,function(t,e,n){"use strict";function r(t){if("normal"===t)return u.blendModes.NORMAL;if("screen"===t)return u.blendModes.SCREEN;throw new Error("Invalid blend mode: "+t)}var i=function(t){return t&&t.__esModule?t["default"]:t},o=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},u=i(n(3)),c=i(n(7)),l=i(n(8)),h=i(n(17)),f=i(n(78)),p=[{name:"x","default":"0",apply:function(t,e){return t.x=e}},{name:"y","default":"0",apply:function(t,e){return t.y=e}},{name:"scale-x","default":"1",apply:function(t,e){return t.scale.x=e}},{name:"scale-y","default":"1",apply:function(t,e){return t.scale.y=e}},{name:"alpha","default":"1",apply:function(t,e){return t.alpha=e}},{name:"width",apply:function(t,e){return t.width=e}},{name:"height",apply:function(t,e){return t.height=e}},{name:"visible",apply:function(t,e){return t.visible=e}}],d=e.DisplayObject=function(t){function e(){a(this,e),null!=t&&t.apply(this,arguments)}return s(e,t),o(e,{compile:{value:function(t,e){this._animation=f.compile(t,e),this._bindings=[];var n=!0,i=!1,o=void 0;try{for(var s,a=p[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var u=s.value,c=e.attr(u.name)||u["default"];if(c){var l=new h(c),d=this._animation.prop(u.name,l);this._bindings.push({getter:d,apply:u.apply})}}}catch(v){i=!0,o=v}finally{try{!n&&a["return"]&&a["return"]()}finally{if(i)throw o}}this.blendMode=r(e.attr("blend")||"normal"),this.ref=e.attr("ref")||null}},instantiate:{value:function(t,e){var n=this,r=e.object,i=[],o=null;r.blendMode=this.blendMode;for(var s=0;s<this._bindings.length;s++){var a=this._bindings[s];i.push([a.getter,a.apply.bind(null,r)])}return this.ref&&(t.ref(this.ref,r),o=function(){return t.unref(n.ref,r)}),new l({bindings:i,onDestroy:o})}}}),e}(c);e["default"]=d,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){(function(e,n){/* @preserve
	 * The MIT License (MIT)
	 * 
	 * Copyright (c) 2014 Petka Antonov
	 * 
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:</p>
	 * 
	 * The above copyright notice and this permission notice shall be included in
	 * all copies or substantial portions of the Software.
	 * 
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	 * THE SOFTWARE.
	 * 
	 */
!function(e){t.exports=e()}(function(){var t,r,i;return function o(t,e,n){function r(s,a){if(!e[s]){if(!t[s]){var u="function"==typeof _dereq_&&_dereq_;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=e[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return r(n?n:e)},l,l.exports,o,t,e,n)}return e[s].exports}for(var i="function"==typeof _dereq_&&_dereq_,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e){"use strict";e.exports=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,n){"use strict";function r(){this._isTickUsed=!1,this._lateQueue=new a(16),this._normalQueue=new a(16);var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=s.isStatic?s(this.drainQueues):s}var i;try{throw new Error}catch(o){i=o}var s=t("./schedule.js"),a=t("./queue.js"),u="undefined"!=typeof e?e:void 0;r.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0},r.prototype._withDomain=function(t){return void 0===u||null==u.domain||t.domain||(t=u.domain.bind(t)),t},r.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),t=this._withDomain(t),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}},r.prototype.invokeLater=function(t,e,n){t=this._withDomain(t),this._lateQueue.push(t,e,n),this._queueTick()},r.prototype.invokeFirst=function(t,e,n){t=this._withDomain(t),this._normalQueue.unshift(t,e,n),this._queueTick()},r.prototype.invoke=function(t,e,n){t=this._withDomain(t),this._normalQueue.push(t,e,n),this._queueTick()},r.prototype.settlePromises=function(t){this._normalQueue._pushOne(t),this._queueTick()},r.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},n.exports=new r,n.exports.firstLineError=i},{"./queue.js":28,"./schedule.js":31}],3:[function(t,e){"use strict";e.exports=function(t,e,n){var r=function(t,e){this._reject(e)},i=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(r,r,null,this,t)},o=function(t,e){this._setBoundTo(t),this._isPending()&&this._resolveCallback(e.target)},s=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(r){var a=n(r),u=new t(e);u._propagateFrom(this,1);var c=this._target();if(a instanceof t){var l={promiseRejectionQueued:!1,promise:u,target:c,bindingPromise:a};c._then(e,i,u._progress,u,l),a._then(o,s,u._progress,u,l)}else u._setBoundTo(r),u._resolveCallback(c);return u},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=131072|this._bitField,this._boundTo=t):this._bitField=-131073&this._bitField},t.prototype._isBound=function(){return 131072===(131072&this._bitField)},t.bind=function(r,i){var o=n(r),s=new t(e);return o instanceof t?o._then(function(t){s._setBoundTo(t),s._resolveCallback(i)},s._reject,s._progress,s,null):(s._setBoundTo(r),s._resolveCallback(i)),s}}},{}],4:[function(t,e){"use strict";function n(){try{Promise===i&&(Promise=r)}catch(t){}return i}var r;"undefined"!=typeof Promise&&(r=Promise);var i=t("./promise.js")();i.noConflict=n,e.exports=i},{"./promise.js":23}],5:[function(t,e){"use strict";var n=Object.create;if(n){var r=n(null),i=n(null);r[" size"]=i[" size"]=0}e.exports=function(e){function n(t,n){var r;if(null!=t&&(r=t[n]),"function"!=typeof r){var i="Object "+a.classString(t)+" has no method '"+a.toString(n)+"'";throw new e.TypeError(i)}return r}function r(t){var e=this.pop(),r=n(t,e);return r.apply(t,this)}function i(t){return t[this]}function o(t){var e=+this;return 0>e&&(e=Math.max(0,e+t.length)),t[e]}{var s,a=t("./util.js"),u=a.canEvaluate;a.isIdentifier}e.prototype.call=function(t){for(var e=arguments.length,n=new Array(e-1),i=1;e>i;++i)n[i-1]=arguments[i];return n.push(t),this._then(r,void 0,void 0,n,void 0)},e.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=o;else if(u){var r=s(t);e=null!==r?r:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util.js":38}],6:[function(t,e){"use strict";e.exports=function(e){var n=t("./errors.js"),r=t("./async.js"),i=n.CancellationError;e.prototype._cancel=function(t){if(!this.isCancellable())return this;for(var e,n=this;void 0!==(e=n._cancellationParent)&&e.isCancellable();)n=e;this._unsetCancellable(),n._target()._rejectCallback(t,!1,!0)},e.prototype.cancel=function(t){return this.isCancellable()?(void 0===t&&(t=new i),r.invokeLater(this._cancel,this,t),this):this},e.prototype.cancellable=function(){return this._cancellable()?this:(this._setCancellable(),this._cancellationParent=void 0,this)},e.prototype.uncancellable=function(){var t=this.then();return t._unsetCancellable(),t},e.prototype.fork=function(t,e,n){var r=this._then(t,e,n,void 0,void 0);return r._setCancellable(),r._cancellationParent=void 0,r}}},{"./async.js":2,"./errors.js":13}],7:[function(t,n){"use strict";n.exports=function(){function n(t){this._parent=t;var e=this._length=1+(void 0===t?0:t._length);_(this,n),e>32&&this.uncycle()}function r(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function i(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function o(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],s=-1,a=r.length-1;a>=0;--a)if(r[a]===o){s=a;break}for(var a=s;a>=0;--a){var u=r[a];if(e[i]!==u)break;e.pop(),i--}e=r}}function s(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i=v.test(r)||"    (No stack trace)"===r,o=i&&y(r);i&&!o&&(m&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function a(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||v.test(r))break}return n>0&&(e=e.slice(n)),e}function u(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t.toString();var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var r=JSON.stringify(t);e=r}catch(i){}0===e.length&&(e="(empty array)")}return"(<"+c(e)+">, no stack trace)"}function c(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function l(t){var e=t.match(b);return e?{fileName:e[1],line:parseInt(e[2],10)}:void 0}var h,f=t("./async.js"),p=t("./util.js"),d=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/,v=null,g=null,m=!1;p.inherits(n,Error),n.prototype.uncycle=function(){var t=this._length;if(!(2>t)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;t>r;++r){var s=e[r].stack,a=n[s];if(void 0!==a&&a!==r){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var u=r>0?e[r-1]:this;t-1>a?(u._parent=e[a+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var c=u._length+1,l=r-2;l>=0;--l)e[l]._length=c,c++;return}}}},n.prototype.parent=function(){return this._parent},n.prototype.hasParent=function(){return void 0!==this._parent},n.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=n.parseStackAndMessage(t),a=e.message,u=[e.stack],c=this;void 0!==c;)u.push(s(c.stack.split("\n"))),c=c._parent;o(u),i(u),t.stack=r(a,u),p.notEnumerableProp(t,"__stackCleaned__",!0)}},n.parseStackAndMessage=function(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?a(t):["    (No stack trace)"],{message:n,stack:s(e)}},n.formatAndLogError=function(t,e){if("undefined"!=typeof console){var n;if("object"==typeof t||"function"==typeof t){var r=t.stack;n=e+g(r,t)}else n=e+String(t);"function"==typeof h?h(n):("function"==typeof console.log||"object"==typeof console.log)&&console.log(n)}},n.unhandledRejection=function(t){n.formatAndLogError(t,"^--- With additional stack trace: ")},n.isSupported=function(){return"function"==typeof _},n.fireRejectionEvent=function(t,e,r,i){var o=!1;try{"function"==typeof e&&(o=!0,"rejectionHandled"===t?e(i):e(r,i))}catch(s){f.throwLater(s)}var a=!1;try{a=x(t,r,i)}catch(s){a=!0,f.throwLater(s)}var u=!1;if(w)try{u=w(t.toLowerCase(),{reason:r,promise:i})}catch(s){u=!0,f.throwLater(s)}a||o||u||"unhandledRejection"!==t||n.formatAndLogError(r,"Unhandled rejection ")};var y=function(){return!1},b=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;n.setBounds=function(t,e){if(n.isSupported()){for(var r,i,o=t.stack.split("\n"),s=e.stack.split("\n"),a=-1,u=-1,c=0;c<o.length;++c){var h=l(o[c]);if(h){r=h.fileName,a=h.line;break}}for(var c=0;c<s.length;++c){var h=l(s[c]);if(h){i=h.fileName,u=h.line;break}}0>a||0>u||!r||!i||r!==i||a>=u||(y=function(t){if(d.test(t))return!0;var e=l(t);return e&&e.fileName===r&&a<=e.line&&e.line<=u?!0:!1})}};var w,_=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():u(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit=Error.stackTraceLimit+6,v=t,g=e;var n=Error.captureStackTrace;return y=function(t){return d.test(t)},function(t,e){Error.stackTraceLimit=Error.stackTraceLimit+6,n(t,e),Error.stackTraceLimit=Error.stackTraceLimit-6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return v=/@/,g=e,m=!0,function(t){t.stack=(new Error).stack};var i;try{throw new Error}catch(o){i="stack"in o}return"stack"in r||!i?(g=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?u(e):e.toString()},null):(v=t,g=e,function(t){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit=Error.stackTraceLimit-6})}([]),x=function(){if(p.isNode)return function(t,n,r){return"rejectionHandled"===t?e.emit(t,r):e.emit(t,n,r)};var t=!1,n=!0;try{var r=new self.CustomEvent("test");t=r instanceof CustomEvent}catch(i){}if(!t)try{var o=document.createEvent("CustomEvent");o.initCustomEvent("testingtheevent",!1,!0,{}),self.dispatchEvent(o)}catch(i){n=!1}n&&(w=function(e,n){var r;return t?r=new self.CustomEvent(e,{detail:n,bubbles:!1,cancelable:!0}):self.dispatchEvent&&(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!1,!0,n)),r?!self.dispatchEvent(r):!1});var s={};return s.unhandledRejection="onunhandledRejection".toLowerCase(),s.rejectionHandled="onrejectionHandled".toLowerCase(),function(t,e,n){var r=s[t],i=self[r];return i?("rejectionHandled"===t?i.call(self,n):i.call(self,e,n),!0):!1}}();return"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(h=function(t){console.warn(t)},p.isNode&&e.stderr.isTTY?h=function(t){e.stderr.write("[31m"+t+"[39m\n")}:p.isNode||"string"!=typeof(new Error).stack||(h=function(t){console.warn("%c"+t,"color: red")})),n}},{"./async.js":2,"./util.js":38}],8:[function(t,e){"use strict";e.exports=function(e){function n(t,e,n){this._instances=t,this._callback=e,this._promise=n}function r(t,e){var n={},r=s(t).call(n,e);if(r===a)return r;var i=u(n);return i.length?(a.e=new c("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"),a):r}var i=t("./util.js"),o=t("./errors.js"),s=i.tryCatch,a=i.errorObj,u=t("./es5.js").keys,c=o.TypeError;return n.prototype.doFilter=function(t){for(var n=this._callback,i=this._promise,o=i._boundTo,u=0,c=this._instances.length;c>u;++u){var l=this._instances[u],h=l===Error||null!=l&&l.prototype instanceof Error;if(h&&t instanceof l){var f=s(n).call(o,t);return f===a?(e.e=f.e,e):f}if("function"==typeof l&&!h){var p=r(l,t);if(p===a){t=a.e;break}if(p){var f=s(n).call(o,t);return f===a?(e.e=f.e,e):f}}}return e.e=t,e},n}},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(t,e){"use strict";e.exports=function(t,e,n){function r(){this._trace=new e(o())}function i(){return n()?new r:void 0}function o(){var t=s.length-1;return t>=0?s[t]:void 0}var s=[];return r.prototype._pushContext=function(){n()&&void 0!==this._trace&&s.push(this._trace)},r.prototype._popContext=function(){n()&&void 0!==this._trace&&s.pop()},t.prototype._peekContext=o,t.prototype._pushContext=r.prototype._pushContext,t.prototype._popContext=r.prototype._popContext,i}},{}],10:[function(t,n){"use strict";n.exports=function(n,r){var i,o,s=t("./async.js"),a=t("./errors.js").Warning,u=t("./util.js"),c=u.canAttachTrace,l=!1||u.isNode&&(!!e.env.BLUEBIRD_DEBUG||"development"===e.env.NODE_ENV);return n.prototype._ensurePossibleRejectionHandled=function(){this._setRejectionIsUnhandled(),s.invokeLater(this._notifyUnhandledRejection,this,void 0)},n.prototype._notifyUnhandledRejectionIsHandled=function(){r.fireRejectionEvent("rejectionHandled",i,void 0,this)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified(),r.fireRejectionEvent("unhandledRejection",o,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-524289&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-2097153&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},n.prototype._setCarriedStackTrace=function(t){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=t},n.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},n.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},n.prototype._captureStackTrace=function(){return l&&(this._trace=new r(this._peekContext())),this},n.prototype._attachExtraTrace=function(t,e){if(l&&c(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var i=r.parseStackAndMessage(t);t.stack=i.message+"\n"+i.stack.join("\n"),u.notEnumerableProp(t,"__stackCleaned__",!0)}}},n.prototype._warn=function(t){var e=new a(t),n=this._peekContext();if(n)n.attachExtraTrace(e);else{var i=r.parseStackAndMessage(e);e.stack=i.message+"\n"+i.stack.join("\n")}r.formatAndLogError(e,"")},n.onPossiblyUnhandledRejection=function(t){o="function"==typeof t?t:void 0},n.onUnhandledRejectionHandled=function(t){i="function"==typeof t?t:void 0},n.longStackTraces=function(){if(s.haveItemsQueued()&&l===!1)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");l=r.isSupported()},n.hasLongStackTraces=function(){return l&&r.isSupported()},r.isSupported()||(n.longStackTraces=function(){},l=!1),function(){return l}}},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(t,e){"use strict";var n=t("./util.js"),r=n.isPrimitive,i=n.wrapsPrimitiveReceiver;e.exports=function(t){var e=function(){return this},n=function(){throw this},o=function(t,e){return 1===e?function(){throw t}:2===e?function(){return t}:void 0};t.prototype["return"]=t.prototype.thenReturn=function(t){return i&&r(t)?this._then(o(t,2),void 0,void 0,void 0,void 0):this._then(e,void 0,void 0,t,void 0)},t.prototype["throw"]=t.prototype.thenThrow=function(t){return i&&r(t)?this._then(o(t,1),void 0,void 0,void 0,void 0):this._then(n,void 0,void 0,t,void 0)}}},{"./util.js":38}],12:[function(t,e){"use strict";e.exports=function(t,e){var n=t.reduce;t.prototype.each=function(t){return n(this,t,null,e)},t.each=function(t,r){return n(t,r,null,e)}}},{}],13:[function(t,e){"use strict";function n(t,e){function n(r){return this instanceof n?(l(this,"message","string"==typeof r?r:e),l(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return c(n,Error),n}function r(t){return this instanceof r?(l(this,"name","OperationalError"),l(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(l(this,"message",t.message),l(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new r(t)}var i,o,s=t("./es5.js"),a=s.freeze,u=t("./util.js"),c=u.inherits,l=u.notEnumerableProp,h=n("Warning","warning"),f=n("CancellationError","cancellation error"),p=n("TimeoutError","timeout error"),d=n("AggregateError","aggregate error");try{i=TypeError,o=RangeError}catch(v){i=n("TypeError","type error"),o=n("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<g.length;++m)"function"==typeof Array.prototype[g[m]]&&(d.prototype[g[m]]=Array.prototype[g[m]]);s.defineProperty(d.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),d.prototype.isOperational=!0;var y=0;d.prototype.toString=function(){var t=Array(4*y+1).join(" "),e="\n"+t+"AggregateError of:\n";y++,t=Array(4*y+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return y--,e},c(r,Error);var b=Error.__BluebirdErrorTypes__;b||(b=a({CancellationError:f,TimeoutError:p,OperationalError:r,RejectionError:r,AggregateError:d}),l(Error,"__BluebirdErrorTypes__",b)),e.exports={Error:Error,TypeError:i,RangeError:o,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:h}},{"./es5.js":14,"./util.js":38}],14:[function(t,e){var n=function(){"use strict";return void 0===this}();if(n)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var r={}.hasOwnProperty,i={}.toString,o={}.constructor.prototype,s=function(t){var e=[];for(var n in t)r.call(t,n)&&e.push(n);return e},a=function(t,e){return{value:t[e]}},u=function(t,e,n){return t[e]=n.value,t},c=function(t){return t},l=function(t){try{return Object(t).constructor.prototype}catch(e){return o}},h=function(t){try{return"[object Array]"===i.call(t)}catch(e){return!1}};e.exports={isArray:h,keys:s,names:s,defineProperty:u,getDescriptor:a,freeze:c,getPrototypeOf:l,isES5:n,propertyIsWritable:function(){return!0}}}},{}],15:[function(t,e){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],16:[function(t,e){"use strict";e.exports=function(e,n,r){function i(){return this}function o(){throw this}function s(t){return function(){return t}}function a(t){return function(){throw t}}function u(t,e,n){var r;return r=f&&p(e)?n?s(e):a(e):n?i:o,t._then(r,d,void 0,e,void 0)}function c(t){var i=this.promise,o=this.handler,s=i._isBound()?o.call(i._boundTo):o();if(void 0!==s){var a=r(s,i);if(a instanceof e)return a=a._target(),u(a,t,i.isFulfilled())}return i.isRejected()?(n.e=t,n):t}function l(t){var n=this.promise,i=this.handler,o=n._isBound()?i.call(n._boundTo,t):i(t);if(void 0!==o){var s=r(o,n);if(s instanceof e)return s=s._target(),u(s,t,!0)}return t}var h=t("./util.js"),f=h.wrapsPrimitiveReceiver,p=h.isPrimitive,d=h.thrower;e.prototype._passThroughHandler=function(t,e){if("function"!=typeof t)return this.then();var n={promise:this,handler:t};return this._then(e?c:l,e?c:void 0,void 0,n,void 0)},e.prototype.lastly=e.prototype["finally"]=function(t){return this._passThroughHandler(t,!0)},e.prototype.tap=function(t){return this._passThroughHandler(t,!1)}}},{"./util.js":38}],17:[function(t,e){"use strict";e.exports=function(e,n,r,i){function o(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var s=h(n[o])(t);if(r._popContext(),s===l){r._pushContext();var a=e.reject(l.e);return r._popContext(),a}var u=i(s,r);if(u instanceof e)return u}return null}function s(t,n,i,o){var s=this._promise=new e(r);s._captureStackTrace(),this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(f):f}var a=t("./errors.js"),u=a.TypeError,c=t("./util.js"),l=c.errorObj,h=c.tryCatch,f=[];s.prototype.promise=function(){return this._promise},s.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},s.prototype._continue=function(t){if(t===l)return this._promise._rejectCallback(t.e,!1,!0);var n=t.value;if(t.done===!0)this._promise._resolveCallback(n);else{var r=i(n,this._promise);if(!(r instanceof e)&&(r=o(r,this._yieldHandlers,this._promise),null===r))return void this._throw(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",n)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));r._then(this._next,this._throw,void 0,this,null)}},s.prototype._throw=function(t){this._promise._attachExtraTrace(t),this._promise._pushContext();var e=h(this._generator["throw"]).call(this._generator,t);this._promise._popContext(),this._continue(e)},s.prototype._next=function(t){this._promise._pushContext();var e=h(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},e.coroutine=function(t,e){if("function"!=typeof t)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var n=Object(e).yieldHandler,r=s,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r(void 0,void 0,n,i);return o._generator=e,o._next(void 0),o.promise()}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new u("fn must be a function\n\n    See http://goo.gl/916lJJ\n");f.push(t)},e.spawn=function(t){if("function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var r=new s(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors.js":13,"./util.js":38}],18:[function(t,e){"use strict";e.exports=function(e,n,r,i){{var o=t("./util.js");o.canEvaluate,o.tryCatch,o.errorObj}e.join=function(){var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var r}for(var i=arguments.length,o=new Array(i),s=0;i>s;++s)o[s]=arguments[s];t&&o.pop();var r=new n(o).promise();return void 0!==t?r.spread(t):r}}},{"./util.js":38}],19:[function(t,e){"use strict";e.exports=function(e,n,r,i,o){function s(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace(),this._callback=e,this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=n>=1?[]:d,c.invoke(a,this,void 0)}function a(){this._init$(void 0,-2)}function u(t,e,n,r){var i="object"==typeof n&&null!==n?n.concurrency:0;return i="number"==typeof i&&isFinite(i)&&i>=1?i:0,new s(t,e,i,r)}var c=t("./async.js"),l=t("./util.js"),h=l.tryCatch,f=l.errorObj,p={},d=[];l.inherits(s,n),s.prototype._init=function(){},s.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),s=this._preservedValues,a=this._limit;if(r[n]===p){if(r[n]=t,a>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(a>=1&&this._inFlight>=a)return r[n]=t,void this._queue.push(n);null!==s&&(s[n]=t);var u=this._callback,c=this._promise._boundTo;this._promise._pushContext();var l=h(u).call(c,t,n,o);if(this._promise._popContext(),l===f)return this._reject(l.e);var d=i(l,this._promise);if(d instanceof e){if(d=d._target(),d._isPending())return a>=1&&this._inFlight++,r[n]=p,d._proxyPromiseArray(this,n);if(!d._isFulfilled())return this._reject(d._reason());l=d._value()}r[n]=l}var v=++this._totalResolved;v>=o&&(null!==s?this._filter(r,s):this._resolve(r))},s.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},s.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;n>o;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},s.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return"function"!=typeof t?r("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):u(this,t,e,null).promise()},e.map=function(t,e,n,i){return"function"!=typeof e?r("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):u(t,e,n,i).promise()}}},{"./async.js":2,"./util.js":38}],20:[function(t,e){"use strict";e.exports=function(e,n,r,i){var o=t("./util.js"),s=o.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=s(t).apply(this,arguments);return r._popContext(),r._resolveFromSyncValue(i),r}},e.attempt=e["try"]=function(t,r,a){if("function"!=typeof t)return i("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var u=new e(n);u._captureStackTrace(),u._pushContext();var c=o.isArray(r)?s(t).apply(a,r):s(t).call(a,r);return u._popContext(),u._resolveFromSyncValue(c),u},e.prototype._resolveFromSyncValue=function(t){t===o.errorObj?this._rejectCallback(t.e,!1,!0):this._resolveCallback(t,!0)}}},{"./util.js":38}],21:[function(t,e){"use strict";e.exports=function(e){function n(t,e){var n=this;if(!o.isArray(t))return r.call(n,t,e);var i=a(e).apply(n._boundTo,[null].concat(t));i===u&&s.throwLater(i.e)}function r(t,e){var n=this,r=n._boundTo,i=void 0===t?a(e).call(r,null):a(e).call(r,null,t);i===u&&s.throwLater(i.e)}function i(t,e){var n=this;if(!t){var r=n._target(),i=r._getCarriedStackTrace();i.cause=t,t=i}var o=a(e).call(n._boundTo,t);o===u&&s.throwLater(o.e)}var o=t("./util.js"),s=t("./async.js"),a=o.tryCatch,u=o.errorObj;e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=r;void 0!==e&&Object(e).spread&&(o=n),this._then(o,i,void 0,this,t)}return this}}},{"./async.js":2,"./util.js":38}],22:[function(t,e){"use strict";e.exports=function(e,n){var r=t("./util.js"),i=t("./async.js"),o=r.tryCatch,s=r.errorObj;e.prototype.progressed=function(t){return this._then(void 0,void 0,t,void 0,void 0)},e.prototype._progress=function(t){this._isFollowingOrFulfilledOrRejected()||this._target()._progressUnchecked(t)},e.prototype._progressHandlerAt=function(t){return 0===t?this._progressHandler0:this[(t<<2)+t-5+2]},e.prototype._doProgressWith=function(t){var n=t.value,i=t.handler,a=t.promise,u=t.receiver,c=o(i).call(u,n);if(c===s){if(null!=c.e&&"StopProgressPropagation"!==c.e.name){var l=r.canAttachTrace(c.e)?c.e:new Error(r.toString(c.e));a._attachExtraTrace(l),a._progress(c.e)}}else c instanceof e?c._then(a._progress,null,null,a,void 0):a._progress(c)},e.prototype._progressUnchecked=function(t){for(var r=this._length(),o=this._progress,s=0;r>s;s++){var a=this._progressHandlerAt(s),u=this._promiseAt(s);if(u instanceof e)"function"==typeof a?i.invoke(this._doProgressWith,this,{handler:a,promise:u,receiver:this._receiverAt(s),value:t}):i.invoke(o,u,t);else{var c=this._receiverAt(s);"function"==typeof a?a.call(c,t,u):c instanceof n&&!c._isResolved()&&c._promiseProgressed(t,u)}}}}},{"./async.js":2,"./util.js":38}],23:[function(t,e){"use strict";e.exports=function(){function e(t){if("function"!=typeof t)throw new c("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");if(this.constructor!==e)throw new c("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._progressHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,t!==l&&this._resolveFromResolver(t)}function n(t){var n=new e(l);n._fulfillmentHandler0=t,n._rejectionHandler0=t,n._progressHandler0=t,n._promise0=t,n._receiver0=t,n._settledValue=t}var r=function(){return new c("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n")},i=function(){return new e.PromiseInspection(this._target())},o=function(t){return e.reject(new c(t))},s=t("./util.js"),a=t("./async.js"),u=t("./errors.js"),c=e.TypeError=u.TypeError;e.RangeError=u.RangeError,e.CancellationError=u.CancellationError,e.TimeoutError=u.TimeoutError,e.OperationalError=u.OperationalError,e.RejectionError=u.OperationalError,e.AggregateError=u.AggregateError;var l=function(){},h={},f={e:null},p=t("./thenables.js")(e,l),d=t("./promise_array.js")(e,l,p,o),v=t("./captured_trace.js")(),g=t("./debuggability.js")(e,v),m=t("./context.js")(e,v,g),y=t("./catch_filter.js")(f),b=t("./promise_resolver.js"),w=b._nodebackForPromise,_=s.errorObj,x=s.tryCatch;return e.prototype.toString=function(){return"[object Promise]"},e.prototype.caught=e.prototype["catch"]=function(t){var n=arguments.length;if(n>1){var r,i=new Array(n-1),o=0;for(r=0;n-1>r;++r){var s=arguments[r];if("function"!=typeof s)return e.reject(new c("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"));i[o++]=s}i.length=o,t=arguments[r];var a=new y(i,t,this);return this._then(void 0,a.doFilter,void 0,a,void 0)}return this._then(void 0,t,void 0,void 0,void 0)},e.prototype.reflect=function(){return this._then(i,i,void 0,this,void 0)},e.prototype.then=function(t,e,n){if(g()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var r=".then() only accepts functions but was passed: "+s.classString(t);arguments.length>1&&(r+=", "+s.classString(e)),this._warn(r)}return this._then(t,e,n,void 0,void 0)},e.prototype.done=function(t,e,n){var r=this._then(t,e,n,void 0,void 0);r._setIsFinal()},e.prototype.spread=function(t,e){return this.all()._then(t,e,void 0,h,void 0)},e.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},e.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},e.prototype.all=function(){return new d(this).promise()},e.prototype.error=function(t){return this.caught(s.originatesFromRejection,t)},e.is=function(t){return t instanceof e},e.fromNode=function(t){var n=new e(l),r=x(t)(w(n));return r===_&&n._rejectCallback(r.e,!0,!0),n},e.all=function(t){return new d(t).promise()},e.defer=e.pending=function(){var t=new e(l);return new b(t)},e.cast=function(t){var n=p(t);if(!(n instanceof e)){var r=n;n=new e(l),n._fulfillUnchecked(r)}return n},e.resolve=e.fulfilled=e.cast,e.reject=e.rejected=function(t){var n=new e(l);return n._captureStackTrace(),n._rejectCallback(t,!0),n},e.setScheduler=function(t){if("function"!=typeof t)throw new c("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var e=a._schedule;return a._schedule=t,e},e.prototype._then=function(t,n,r,i,o){var s=void 0!==o,u=s?o:new e(l);s||(u._propagateFrom(this,5),u._captureStackTrace());var c=this._target();c!==this&&(void 0===i&&(i=this._boundTo),s||u._setIsMigrated());var h=c._addCallbacks(t,n,r,u,i);return c._isResolved()&&!c._isSettlePromisesQueued()&&a.invoke(c._settlePromiseAtPostResolution,c,h),u
},e.prototype._settlePromiseAtPostResolution=function(t){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),this._settlePromiseAt(t)},e.prototype._length=function(){return 131071&this._bitField},e.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},e.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},e.prototype._setLength=function(t){this._bitField=-131072&this._bitField|131071&t},e.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},e.prototype._setRejected=function(){this._bitField=134217728|this._bitField},e.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},e.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},e.prototype._isFinal=function(){return(33554432&this._bitField)>0},e.prototype._cancellable=function(){return(67108864&this._bitField)>0},e.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},e.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},e.prototype._setIsMigrated=function(){this._bitField=4194304|this._bitField},e.prototype._unsetIsMigrated=function(){this._bitField=-4194305&this._bitField},e.prototype._isMigrated=function(){return(4194304&this._bitField)>0},e.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[5*t-5+4];return void 0===e&&this._isBound()?this._boundTo:e},e.prototype._promiseAt=function(t){return 0===t?this._promise0:this[5*t-5+3]},e.prototype._fulfillmentHandlerAt=function(t){return 0===t?this._fulfillmentHandler0:this[5*t-5+0]},e.prototype._rejectionHandlerAt=function(t){return 0===t?this._rejectionHandler0:this[5*t-5+1]},e.prototype._migrateCallbacks=function(t,n){var r=t._fulfillmentHandlerAt(n),i=t._rejectionHandlerAt(n),o=t._progressHandlerAt(n),s=t._promiseAt(n),a=t._receiverAt(n);s instanceof e&&s._setIsMigrated(),this._addCallbacks(r,i,o,s,a)},e.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=131066&&(o=0,this._setLength(0)),0===o)this._promise0=r,void 0!==i&&(this._receiver0=i),"function"!=typeof t||this._isCarryingStackTrace()||(this._fulfillmentHandler0=t),"function"==typeof e&&(this._rejectionHandler0=e),"function"==typeof n&&(this._progressHandler0=n);else{var s=5*o-5;this[s+3]=r,this[s+4]=i,"function"==typeof t&&(this[s+0]=t),"function"==typeof e&&(this[s+1]=e),"function"==typeof n&&(this[s+2]=n)}return this._setLength(o+1),o},e.prototype._setProxyHandlers=function(t,e){var n=this._length();if(n>=131066&&(n=0,this._setLength(0)),0===n)this._promise0=e,this._receiver0=t;else{var r=5*n-5;this[r+3]=e,this[r+4]=t}this._setLength(n+1)},e.prototype._proxyPromiseArray=function(t,e){this._setProxyHandlers(t,e)},e.prototype._resolveCallback=function(t,n){if(!this._isFollowingOrFulfilledOrRejected()){if(t===this)return this._rejectCallback(r(),!1,!0);var i=p(t,this);if(!(i instanceof e))return this._fulfill(t);var o=1|(n?4:0);this._propagateFrom(i,o);var s=i._target();if(s._isPending()){for(var a=this._length(),u=0;a>u;++u)s._migrateCallbacks(this,u);this._setFollowing(),this._setLength(0),this._setFollowee(s)}else s._isFulfilled()?this._fulfillUnchecked(s._value()):this._rejectUnchecked(s._reason(),s._getCarriedStackTrace())}},e.prototype._rejectCallback=function(t,e,n){n||s.markAsOriginatingFromRejection(t);var r=s.ensureErrorObject(t),i=r===t;this._attachExtraTrace(r,e?i:!1),this._reject(t,i?void 0:r)},e.prototype._resolveFromResolver=function(t){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=x(t)(function(t){null!==e&&(e._resolveCallback(t),e=null)},function(t){null!==e&&(e._rejectCallback(t,n),e=null)});n=!1,this._popContext(),void 0!==r&&r===_&&null!==e&&(e._rejectCallback(r.e,!0,!0),e=null)},e.prototype._settlePromiseFromHandler=function(t,e,n,i){if(!i._isRejected()){i._pushContext();var o;if(o=e!==h||this._isRejected()?x(t).call(e,n):x(t).apply(this._boundTo,n),i._popContext(),o===_||o===i||o===f){var s=o===i?r():o.e;i._rejectCallback(s,!1,!0)}else i._resolveCallback(o)}},e.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},e.prototype._followee=function(){return this._rejectionHandler0},e.prototype._setFollowee=function(t){this._rejectionHandler0=t},e.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},e.prototype._propagateFrom=function(t,e){(1&e)>0&&t._cancellable()&&(this._setCancellable(),this._cancellationParent=t),(4&e)>0&&t._isBound()&&this._setBoundTo(t._boundTo)},e.prototype._fulfill=function(t){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(t)},e.prototype._reject=function(t,e){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(t,e)},e.prototype._settlePromiseAt=function(t){var n=this._promiseAt(t),r=n instanceof e;if(r&&n._isMigrated())return n._unsetIsMigrated(),a.invoke(this._settlePromiseAt,this,t);var i=this._isFulfilled()?this._fulfillmentHandlerAt(t):this._rejectionHandlerAt(t),o=this._isCarryingStackTrace()?this._getCarriedStackTrace():void 0,s=this._settledValue,u=this._receiverAt(t);this._clearCallbackDataAtIndex(t),"function"==typeof i?r?this._settlePromiseFromHandler(i,u,s,n):i.call(u,s,n):u instanceof d?u._isResolved()||(this._isFulfilled()?u._promiseFulfilled(s,n):u._promiseRejected(s,n)):r&&(this._isFulfilled()?n._fulfill(s):n._reject(s,o)),t>=4&&4===(31&t)&&a.invokeLater(this._setLength,this,0)},e.prototype._clearCallbackDataAtIndex=function(t){if(0===t)this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0),this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=void 0;else{var e=5*t-5;this[e+3]=this[e+4]=this[e+0]=this[e+1]=this[e+2]=void 0}},e.prototype._isSettlePromisesQueued=function(){return-1073741824===(-1073741824&this._bitField)},e.prototype._setSettlePromisesQueued=function(){this._bitField=-1073741824|this._bitField},e.prototype._unsetSettlePromisesQueued=function(){this._bitField=1073741823&this._bitField},e.prototype._queueSettlePromises=function(){a.settlePromises(this),this._setSettlePromisesQueued()},e.prototype._fulfillUnchecked=function(t){if(t===this){var e=r();return this._attachExtraTrace(e),this._rejectUnchecked(e,void 0)}this._setFulfilled(),this._settledValue=t,this._cleanValues(),this._length()>0&&this._queueSettlePromises()},e.prototype._rejectUncheckedCheckError=function(t){var e=s.ensureErrorObject(t);this._rejectUnchecked(t,e===t?void 0:e)},e.prototype._rejectUnchecked=function(t,e){if(t===this){var n=r();return this._attachExtraTrace(n),this._rejectUnchecked(n)}return this._setRejected(),this._settledValue=t,this._cleanValues(),this._isFinal()?void a.throwLater(function(t){throw"stack"in t&&a.invokeFirst(v.unhandledRejection,void 0,t),t},void 0===e?t:e):(void 0!==e&&e!==t&&this._setCarriedStackTrace(e),void(this._length()>0?this._queueSettlePromises():this._ensurePossibleRejectionHandled()))},e.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();for(var t=this._length(),e=0;t>e;e++)this._settlePromiseAt(e)},e._makeSelfResolutionError=r,t("./method.js")(e,l,p,o),t("./bind.js")(e,l,p),t("./finally.js")(e,f,p),t("./direct_resolve.js")(e),t("./synchronous_inspection.js")(e),t("./join.js")(e,d,p,l),e.Promise=e,t("./map.js")(e,d,o,p,l),t("./using.js")(e,o,p,m),t("./generators.js")(e,o,l,p),t("./nodeify.js")(e),t("./cancel.js")(e),t("./promisify.js")(e,l),t("./props.js")(e,d,p,o),t("./race.js")(e,l,p,o),t("./reduce.js")(e,d,o,p,l),t("./settle.js")(e,d),t("./call_get.js")(e),t("./some.js")(e,d,o),t("./progress.js")(e,d),t("./any.js")(e),t("./each.js")(e,l),t("./timers.js")(e,l),t("./filter.js")(e,l),s.toFastProperties(e),s.toFastProperties(e.prototype),n({a:1}),n({b:2}),n({c:3}),n(1),n(function(){}),n(void 0),n(!1),n(new e(l)),v.setBounds(a.firstLineError,s.lastLineError),e}},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(t,e){"use strict";e.exports=function(e,n,r,i){function o(t){switch(t){case-2:return[];case-3:return{}}}function s(t){var r,i=this._promise=new e(n);t instanceof e&&(r=t,i._propagateFrom(r,5)),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var a=t("./util.js"),u=a.isArray;return s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function c(t,n){var s=r(this._values,this._promise);if(s instanceof e){if(s=s._target(),this._values=s,!s._isFulfilled())return s._isPending()?void s._then(c,this._reject,void 0,this,n):void this._reject(s._reason());if(s=s._value(),!u(s)){var a=new e.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");return void this.__hardReject__(a)}}else if(!u(s))return void this._promise._reject(i("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());if(0===s.length)return void(-5===n?this._resolveEmptyArray():this._resolve(o(n)));var l=this.getActualLength(s.length);this._length=l,this._values=this.shouldCopyValues()?new Array(l):this._values;for(var h=this._promise,f=0;l>f;++f){var p=this._isResolved(),d=r(s[f],h);d instanceof e?(d=d._target(),p?d._unsetRejectionIsUnhandled():d._isPending()?d._proxyPromiseArray(this,f):d._isFulfilled()?this._promiseFulfilled(d._value(),f):this._promiseRejected(d._reason(),f)):p||this._promiseFulfilled(d,f)}},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},s.prototype.__hardReject__=s.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1,!0)},s.prototype._promiseProgressed=function(t,e){this._promise._progress({index:e,value:t})},s.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},s.prototype._promiseRejected=function(t){this._totalResolved++,this._reject(t)},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util.js":38}],25:[function(t,e){"use strict";function n(t){return t instanceof Error&&f.getPrototypeOf(t)===Error.prototype}function r(t){var e;if(n(t)){e=new l(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var r=f.keys(t),i=0;i<r.length;++i){var o=r[i];p.test(o)||(e[o]=t[o])}return e}return s.markAsOriginatingFromRejection(t),t}function i(t){return function(e,n){if(null!==t){if(e){var i=r(a(e));t._attachExtraTrace(i),t._reject(i)}else if(arguments.length>2){for(var o=arguments.length,s=new Array(o-1),u=1;o>u;++u)s[u-1]=arguments[u];t._fulfill(s)}else t._fulfill(n);t=null}}}var o,s=t("./util.js"),a=s.maybeWrapAsError,u=t("./errors.js"),c=u.TimeoutError,l=u.OperationalError,h=s.haveGetters,f=t("./es5.js"),p=/^(?:name|message|stack|cause)$/;if(o=h?function(t){this.promise=t}:function(t){this.promise=t,this.asCallback=i(t),this.callback=this.asCallback},h){var d={get:function(){return i(this.promise)}};f.defineProperty(o.prototype,"asCallback",d),f.defineProperty(o.prototype,"callback",d)}o._nodebackForPromise=i,o.prototype.toString=function(){return"[object PromiseResolver]"},o.prototype.resolve=o.prototype.fulfill=function(t){if(!(this instanceof o))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._resolveCallback(t)},o.prototype.reject=function(t){if(!(this instanceof o))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._rejectCallback(t)},o.prototype.progress=function(t){if(!(this instanceof o))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._progress(t)},o.prototype.cancel=function(t){this.promise.cancel(t)},o.prototype.timeout=function(){this.reject(new c("timeout"))},o.prototype.isResolved=function(){return this.promise.isResolved()},o.prototype.toJSON=function(){return this.promise.toJSON()},e.exports=o},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(t,e){"use strict";e.exports=function(e,n){function r(t){return!_.test(t)}function i(t){try{return t.__isPromisified__===!0}catch(e){return!1}}function o(t,e,n){var r=p.getDataPropertyOrDefault(t,e+n,w);return r?i(r):!1}function s(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new y("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",e))}}function a(t,e,n,r){for(var a=p.inheritedDataKeys(t),u=[],c=0;c<a.length;++c){var l=a[c],h=t[l],f=r===x?!0:x(l,h,t);"function"!=typeof h||i(h)||o(t,l,e)||!r(l,h,t,f)||u.push(l,h)}return s(u,e,n),u}function u(t,r,i,o){function s(){var i=r;r===f&&(i=this);var o=new e(n);o._captureStackTrace();var s="string"==typeof u&&this!==a?this[u]:t,c=d(o);try{s.apply(i,v(arguments,c))}catch(l){o._rejectCallback(g(l),!0,!0)}return o}var a=function(){return this}(),u=t;return"string"==typeof u&&(t=o),s.__isPromisified__=!0,s}function c(t,e,n,r){for(var i=new RegExp(E(e)+"$"),o=a(t,e,i,n),s=0,u=o.length;u>s;s+=2){var c=o[s],l=o[s+1],h=c+e;t[h]=r===T?T(c,f,c,l,e):r(l,function(){return T(c,f,c,l,e)})}return p.toFastProperties(t),t}function l(t,e){return T(t,e,void 0,t)}var h,f={},p=t("./util.js"),d=t("./promise_resolver.js")._nodebackForPromise,v=p.withAppended,g=p.maybeWrapAsError,m=p.canEvaluate,y=t("./errors").TypeError,b="Async",w={__isPromisified__:!0},_=/^(?:length|name|arguments|caller|prototype|__isPromisified__)$/,x=function(t,e){return p.isIdentifier(t)&&"_"!==t.charAt(0)&&!p.isClass(e)},E=function(t){return t.replace(/([$])/,"\\$")},T=m?h:u;e.promisify=function(t,e){if("function"!=typeof t)throw new y("fn must be a function\n\n    See http://goo.gl/916lJJ\n");if(i(t))return t;var n=l(t,arguments.length<2?f:e);return p.copyDescriptors(t,n,r),n},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new y("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");e=Object(e);var n=e.suffix;"string"!=typeof n&&(n=b);var r=e.filter;"function"!=typeof r&&(r=x);var i=e.promisifier;if("function"!=typeof i&&(i=T),!p.isIdentifier(n))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");for(var o=p.inheritedDataKeys(t),s=0;s<o.length;++s){var a=t[o[s]];"constructor"!==o[s]&&p.isClass(a)&&(c(a.prototype,n,r,i),c(a,n,r,i))}return c(t,n,r,i)}}},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(t,e){"use strict";e.exports=function(e,n,r,i){function o(t){for(var e=c.keys(t),n=e.length,r=new Array(2*n),i=0;n>i;++i){var o=e[i];r[i]=t[o],r[i+n]=o}this.constructor$(r)}function s(t){var n,s=r(t);return u(s)?(n=s instanceof e?s._then(e.props,void 0,void 0,void 0,void 0):new o(s).promise(),s instanceof e&&n._propagateFrom(s,4),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n")}var a=t("./util.js"),u=a.isObject,c=t("./es5.js");a.inherits(o,n),o.prototype._init=function(){this._init$(void 0,-3)},o.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){for(var r={},i=this.length(),o=0,s=this.length();s>o;++o)r[this._values[o+i]]=this._values[o];this._resolve(r)}},o.prototype._promiseProgressed=function(t,e){this._promise._progress({key:this._values[e+this.length()],value:t})},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return s(this)},e.props=function(t){return s(t)}}},{"./es5.js":14,"./util.js":38}],28:[function(t,e){"use strict";function n(t,e,n,r,i){for(var o=0;i>o;++o)n[o+r]=t[o+e],t[o+e]=void 0}function r(t){this._capacity=t,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(t){return this._capacity<t},r.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},r.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,r=(n-1&e-1^e)-e;this[r]=t,this._front=r,this._length=this.length()+1},r.prototype.unshift=function(t,e,n){this._unshiftOne(n),this._unshiftOne(e),this._unshiftOne(t)},r.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},r.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var r=this._front,i=this._length,o=r+i&e-1;n(this,0,this,e,o)},e.exports=r},{}],29:[function(t,e){"use strict";e.exports=function(e,n,r,i){function o(t,o){var u=r(t);if(u instanceof e)return a(u);if(!s(t))return i("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");var c=new e(n);void 0!==o&&c._propagateFrom(o,5);for(var l=c._fulfill,h=c._reject,f=0,p=t.length;p>f;++f){var d=t[f];(void 0!==d||f in t)&&e.cast(d)._then(l,h,void 0,c,null)}return c}var s=t("./util.js").isArray,a=function(t){return t.then(function(e){return o(e,t)})};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util.js":38}],30:[function(t,e){"use strict";e.exports=function(e,n,r,i,o){function s(t,n,r,s){this.constructor$(t),this._promise._captureStackTrace(),this._preservedValues=s===o?[]:null,this._zerothIsAccum=void 0===r,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var u=i(r,this._promise),l=!1,h=u instanceof e;h&&(u=u._target(),u._isPending()?u._proxyPromiseArray(this,-1):u._isFulfilled()?(r=u._value(),this._gotAccum=!0):(this._reject(u._reason()),l=!0)),h||this._zerothIsAccum||(this._gotAccum=!0),this._callback=n,this._accum=r,l||c.invoke(a,this,void 0)}function a(){this._init$(void 0,-5)}function u(t,e,n,i){if("function"!=typeof e)return r("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var o=new s(t,e,n,i);return o.promise()}var c=t("./async.js"),l=t("./util.js"),h=l.tryCatch,f=l.errorObj;l.inherits(s,n),s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},s.prototype._promiseFulfilled=function(t,n){var r=this._values;r[n]=t;var o,s=this.length(),a=this._preservedValues,u=null!==a,c=this._gotAccum,l=this._valuesPhase;if(!l)for(l=this._valuesPhase=new Array(s),o=0;s>o;++o)l[o]=0;if(o=l[n],0===n&&this._zerothIsAccum?(this._accum=t,this._gotAccum=c=!0,l[n]=0===o?1:2):-1===n?(this._accum=t,this._gotAccum=c=!0):0===o?l[n]=1:(l[n]=2,this._accum=t),c){for(var p,d=this._callback,v=this._promise._boundTo,g=this._reducingIndex;s>g;++g)if(o=l[g],2!==o){if(1!==o)return;if(t=r[g],this._promise._pushContext(),u?(a.push(t),p=h(d).call(v,t,g,s)):p=h(d).call(v,this._accum,t,g,s),this._promise._popContext(),p===f)return this._reject(p.e);var m=i(p,this._promise);if(m instanceof e){if(m=m._target(),m._isPending())return l[g]=4,m._proxyPromiseArray(this,g);if(!m._isFulfilled())return this._reject(m._reason());p=m._value()}this._reducingIndex=g+1,this._accum=p}else this._reducingIndex=g+1;this._resolve(u?a:this._accum)}},e.prototype.reduce=function(t,e){return u(this,t,e,null)},e.reduce=function(t,e,n,r){return u(t,e,n,r)}}},{"./async.js":2,"./util.js":38}],31:[function(t,r){"use strict";var i;if(t("./util.js").isNode){var o=e.versions.node.split(".").map(Number);i=0===o[0]&&o[1]>10||o[0]>0?n.setImmediate:e.nextTick}else"undefined"!=typeof MutationObserver?(i=function(t){var e=document.createElement("div"),n=new MutationObserver(t);return n.observe(e,{attributes:!0}),function(){e.classList.toggle("foo")}},i.isStatic=!0):i="undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")};r.exports=i},{"./util.js":38}],32:[function(t,e){"use strict";e.exports=function(e,n){function r(t){this.constructor$(t)}var i=e.PromiseInspection,o=t("./util.js");o.inherits(r,n),r.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},r.prototype._promiseFulfilled=function(t,e){var n=new i;n._bitField=268435456,n._settledValue=t,this._promiseResolved(e,n)},r.prototype._promiseRejected=function(t,e){var n=new i;n._bitField=134217728,n._settledValue=t,this._promiseResolved(e,n)},e.settle=function(t){return new r(t).promise()},e.prototype.settle=function(){return new r(this).promise()}}},{"./util.js":38}],33:[function(t,e){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||0>e)return r("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");var n=new i(t),o=n.promise();return n.setHowMany(e),n.init(),o}var s=t("./util.js"),a=t("./errors.js").RangeError,u=t("./errors.js").AggregateError,c=s.isArray;s.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=c(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),this._resolve(1===this.howMany()&&this._unwrap?this._values[0]:this._values))},i.prototype._promiseRejected=function(t){if(this._addRejected(t),this.howMany()>this._canPossiblyFulfill()){for(var e=new u,n=this.length();n<this._values.length;++n)e.push(this._values[n]);this._reject(e)}},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new a(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=i}},{"./errors.js":13,"./util.js":38}],34:[function(t,e){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValue=t._settledValue):(this._bitField=0,this._settledValue=void 0)}e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return this._settledValue},e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return this._settledValue},e.prototype.isFulfilled=t.prototype._isFulfilled=function(){return(268435456&this._bitField)>0},e.prototype.isRejected=t.prototype._isRejected=function(){return(134217728&this._bitField)>0},e.prototype.isPending=t.prototype._isPending=function(){return 0===(402653184&this._bitField)},e.prototype.isResolved=t.prototype._isResolved=function(){return(402653184&this._bitField)>0},t.prototype.isPending=function(){return this._target()._isPending()},t.prototype.isRejected=function(){return this._target()._isRejected()},t.prototype.isFulfilled=function(){return this._target()._isFulfilled()},t.prototype.isResolved=function(){return this._target()._isResolved()},t.prototype._value=function(){return this._settledValue},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue},t.prototype.value=function(){var t=this._target();if(!t.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return t._settledValue},t.prototype.reason=function(){var t=this._target();if(!t.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return t._unsetRejectionIsUnhandled(),t._settledValue},t.PromiseInspection=e}},{}],35:[function(t,e){"use strict";e.exports=function(e,n){function r(t,r){if(c(t)){if(t instanceof e)return t;if(o(t)){var l=new e(n);return t._then(l._fulfillUnchecked,l._rejectUncheckedCheckError,l._progressUnchecked,l,null),l}var h=a.tryCatch(i)(t);if(h===u){r&&r._pushContext();var l=e.reject(h.e);return r&&r._popContext(),l}if("function"==typeof h)return s(t,h,r)}return t}function i(t){return t.then}function o(t){return l.call(t,"_promise0")}function s(t,r,i){function o(n){l&&(t===n?l._rejectCallback(e._makeSelfResolutionError(),!1,!0):l._resolveCallback(n),l=null)}function s(t){l&&(l._rejectCallback(t,f,!0),l=null)}function c(t){l&&"function"==typeof l._progress&&l._progress(t)}var l=new e(n),h=l;i&&i._pushContext(),l._captureStackTrace(),i&&i._popContext();var f=!0,p=a.tryCatch(r).call(t,o,s,c);return f=!1,l&&p===u&&(l._rejectCallback(p.e,!0,!0),l=null),h}var a=t("./util.js"),u=a.errorObj,c=a.isObject,l={}.hasOwnProperty;return r}},{"./util.js":38}],36:[function(t,e){"use strict";e.exports=function(e,n){function r(t){var e=this;return e instanceof Number&&(e=+e),clearTimeout(e),t}function i(t){var e=this;throw e instanceof Number&&(e=+e),clearTimeout(e),t}var o=t("./util.js"),s=e.TimeoutError,a=function(t,e){if(t.isPending()){"string"!=typeof e&&(e="operation timed out");var n=new s(e);o.markAsOriginatingFromRejection(n),t._attachExtraTrace(n),t._cancel(n)}},u=function(t){return c(+this).thenReturn(t)},c=e.delay=function(t,r){if(void 0===r){r=t,t=void 0;var i=new e(n);return setTimeout(function(){i._fulfill()},r),i}return r=+r,e.resolve(t)._then(u,null,null,r,void 0)};e.prototype.delay=function(t){return c(this,t)},e.prototype.timeout=function(t,e){t=+t;var n=this.then().cancellable();n._cancellationParent=this;var o=setTimeout(function(){a(n,e)},t);return n._then(r,i,void 0,o,void 0)}}},{"./util.js":38}],37:[function(t,e){"use strict";e.exports=function(e,n,r,i){function o(t){for(var n=t.length,r=0;n>r;++r){var i=t[r];if(i.isRejected())return e.reject(i.error());t[r]=i._settledValue}return t}function s(t){setTimeout(function(){throw t},0)}function a(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function u(t,n){function i(){if(o>=u)return c.resolve();var l=a(t[o++]);if(l instanceof e&&l._isDisposable()){try{l=r(l._getDisposer().tryDispose(n),t.promise)}catch(h){return s(h)}if(l instanceof e)return l._then(i,s,null,null,null)}i()}var o=0,u=t.length,c=e.defer();return i(),c.promise}function c(t){var e=new g;return e._settledValue=t,e._bitField=268435456,u(this,e).thenReturn(t)}function l(t){var e=new g;return e._settledValue=t,e._bitField=134217728,u(this,e).thenThrow(t)}function h(t,e,n){this._data=t,this._promise=e,this._context=n}function f(t,e,n){this.constructor$(t,e,n)}function p(t){return h.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}var d=t("./errors.js").TypeError,v=t("./util.js").inherits,g=e.PromiseInspection;h.prototype.data=function(){return this._data},h.prototype.promise=function(){return this._promise},h.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},h.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=null!==e?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},h.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},v(f,h),f.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},e.using=function(){var t=arguments.length;if(2>t)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return n("fn must be a function\n\n    See http://goo.gl/916lJJ\n");t--;for(var s=new Array(t),a=0;t>a;++a){var u=arguments[a];if(h.isDisposer(u)){var f=u;u=u.promise(),u._setDisposable(f)}else{var d=r(u);d instanceof e&&(u=d._then(p,null,null,{resources:s,index:a},void 0))}s[a]=u}var v=e.settle(s).then(o).then(function(t){v._pushContext();var e;try{e=i.apply(void 0,t)}finally{v._popContext()}return e})._then(c,l,void 0,s,void 0);return s.promise=v,v},e.prototype._setDisposable=function(t){this._bitField=262144|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(262144&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-262145&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new f(t,this,i());throw new d}}},{"./errors.js":13,"./util.js":38}],38:[function(t,n,r){"use strict";function i(){try{return A.apply(this,arguments)}catch(t){return S.e=t,S}}function o(t){return A=t,i}function s(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function a(t){return!s(t)}function u(t){return s(t)?new Error(m(t)):t}function c(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;r>n;++n)i[n]=t[n];return i[n]=e,i}function l(t,e,n){if(!E.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function h(t,e,n){if(s(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return E.defineProperty(t,e,r),t}function f(t){throw t}function p(t){try{if("function"==typeof t){var e=E.names(t.prototype);return E.isES5?e.length>1:e.length>0&&!(1===e.length&&"constructor"===e[0])}return!1}catch(n){return!1}}function d(t){function e(){}return e.prototype=t,e}function v(t){return O.test(t)}function g(t,e,n){for(var r=new Array(t),i=0;t>i;++i)r[i]=e+i+n;return r}function m(t){try{return t+""}catch(e){return"[no string representation]"}}function y(t){try{h(t,"isOperational",!0)}catch(e){}}function b(t){return null==t?!1:t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0}function w(t){return t instanceof Error&&E.propertyIsWritable(t,"stack")}function _(t){return{}.toString.call(t)}function x(t,e,n){for(var r=E.names(t),i=0;i<r.length;++i){var o=r[i];n(o)&&E.defineProperty(e,o,E.getDescriptor(t,o))}}var E=t("./es5.js"),T="undefined"==typeof navigator,C=function(){try{var t={};return E.defineProperty(t,"f",{get:function(){return 3
}}),3===t.f}catch(e){return!1}}(),S={e:{}},A,k=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},j=function(){return"string"!==this}.call("string"),R=function(){if(E.isES5){var t=Object.prototype,e=Object.getOwnPropertyNames;return function(n){for(var r=[],i=Object.create(null);null!=n&&n!==t;){var o;try{o=e(n)}catch(s){return r}for(var a=0;a<o.length;++a){var u=o[a];if(!i[u]){i[u]=!0;var c=Object.getOwnPropertyDescriptor(n,u);null!=c&&null==c.get&&null==c.set&&r.push(u)}}n=E.getPrototypeOf(n)}return r}}return function(t){var e=[];for(var n in t)e.push(n);return e}}(),O=/^[a-z$_][a-z$_0-9]*$/i,P=function(){return"stack"in new Error?function(t){return w(t)?t:new Error(m(t))}:function(t){if(w(t))return t;try{throw new Error(m(t))}catch(e){return e}}}(),M={isClass:p,isIdentifier:v,inheritedDataKeys:R,getDataPropertyOrDefault:l,thrower:f,isArray:E.isArray,haveGetters:C,notEnumerableProp:h,isPrimitive:s,isObject:a,canEvaluate:T,errorObj:S,tryCatch:o,inherits:k,withAppended:c,maybeWrapAsError:u,wrapsPrimitiveReceiver:j,toFastProperties:d,filledRange:g,toString:m,canAttachTrace:w,ensureErrorObject:P,originatesFromRejection:b,markAsOriginatingFromRejection:y,classString:_,copyDescriptors:x,isNode:"undefined"!=typeof e&&"[object process]"===_(e).toLowerCase()};try{throw new Error}catch(F){M.lastLineError=F}n.exports=M},{"./es5.js":14}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(e,n(12),function(){return this}())},function(t,e,n){function r(){return e.colors[l++%e.colors.length]}function i(t){function n(){}function i(){var t=i,n=+new Date,o=n-(c||n);t.diff=o,t.prev=c,t.curr=n,c=n,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=r());var s=Array.prototype.slice.call(arguments);s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(n,r){if("%%"===n)return n;a++;var i=e.formatters[r];if("function"==typeof i){var o=s[a];n=i.call(t,o),s.splice(a,1),a--}return n}),"function"==typeof e.formatArgs&&(s=e.formatArgs.apply(t,s));var u=i.log||e.log||console.log.bind(console);u.apply(t,s)}n.enabled=!1,i.enabled=!0;var o=e.enabled(t)?i:n;return o.namespace=t,o}function o(t){e.save(t);for(var n=(t||"").split(/[\s,]+/),r=n.length,i=0;r>i;i++)n[i]&&(t=n[i].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function s(){e.enable("")}function a(t){var n,r;for(n=0,r=e.skips.length;r>n;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;r>n;n++)if(e.names[n].test(t))return!0;return!1}function u(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=i,e.coerce=u,e.disable=s,e.enable=o,e.enabled=a,e.humanize=n(34),e.names=[],e.skips=[],e.formatters={};var c,l=0},function(t){function e(t){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*c;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"hrs":case"hr":case"h":return n*a;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}function n(t){return t>=u?Math.round(t/u)+"d":t>=a?Math.round(t/a)+"h":t>=s?Math.round(t/s)+"m":t>=o?Math.round(t/o)+"s":t+"ms"}function r(t){return i(t,u,"day")||i(t,a,"hour")||i(t,s,"minute")||i(t,o,"second")||t+" ms"}function i(t,e,n){return e>t?void 0:1.5*e>t?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var o=1e3,s=60*o,a=60*s,u=24*a,c=365.25*u;t.exports=function(t,i){return i=i||{},"string"==typeof t?e(t):i["long"]?r(t):n(t)}},function(t){function e(t){var e=4/11,n=8/11,r=.9,i=4356/361,o=35442/1805,s=16061/1805,a=t*t;return e>t?7.5625*a:n>t?9.075*a-9.9*t+3.4:r>t?i*a-o*t+s:10.8*t*t-20.52*t+10.72}t.exports=e},function(t,e,n){(function(t){function t(e,n,r){if(!(this instanceof t))return new t(e,n,r);var i,o=typeof e;if("number"===o)i=+e;else if("string"===o)i=t.byteLength(e,n);else{if("object"!==o||null===e)throw new TypeError("must start with number, buffer, array or string");"Buffer"===e.type&&L(e.data)&&(e=e.data),i=+e.length}if(i>I)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+I.toString(16)+" bytes");0>i?i=0:i>>>=0;var s=this;t.TYPED_ARRAY_SUPPORT?s=t._augment(new Uint8Array(i)):(s.length=i,s._isBuffer=!0);var a;if(t.TYPED_ARRAY_SUPPORT&&"number"==typeof e.byteLength)s._set(e);else if(C(e))if(t.isBuffer(e))for(a=0;i>a;a++)s[a]=e.readUInt8(a);else for(a=0;i>a;a++)s[a]=(e[a]%256+256)%256;else if("string"===o)s.write(e,0,n);else if("number"===o&&!t.TYPED_ARRAY_SUPPORT&&!r)for(a=0;i>a;a++)s[a]=0;return i>0&&i<=t.poolSize&&(s.parent=D),s}function r(e,n,i){if(!(this instanceof r))return new r(e,n,i);var o=new t(e,n,i);return delete o.parent,o}function i(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;r>s;s++){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");t[n+s]=a}return s}function o(t,e,n,r){var i=O(A(e,t.length-n),t,n,r);return i}function s(t,e,n,r){var i=O(k(e),t,n,r);return i}function a(t,e,n,r){return s(t,e,n,r)}function u(t,e,n,r){var i=O(R(e),t,n,r);return i}function c(t,e,n,r){var i=O(j(e,t.length-n),t,n,r);return i}function l(t,e,n){return M.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}function h(t,e,n){var r="",i="";n=Math.min(t.length,n);for(var o=e;n>o;o++)t[o]<=127?(r+=P(i)+String.fromCharCode(t[o]),i=""):i+="%"+t[o].toString(16);return r+P(i)}function f(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(127&t[i]);return r}function p(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(t[i]);return r}function d(t,e,n){var r=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=e;n>o;o++)i+=S(t[o]);return i}function v(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function g(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function m(e,n,r,i,o,s){if(!t.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(n>o||s>n)throw new RangeError("value is out of bounds");if(r+i>e.length)throw new RangeError("index out of range")}function y(t,e,n,r){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);o>i;i++)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function b(t,e,n,r){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);o>i;i++)t[n+i]=e>>>8*(r?i:3-i)&255}function w(t,e,n,r,i,o){if(e>i||o>e)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function _(t,e,n,r,i){return i||w(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),F.write(t,e,n,r,23,4),n+4}function x(t,e,n,r,i){return i||w(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),F.write(t,e,n,r,52,8),n+8}function E(t){if(t=T(t).replace(B,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function T(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function C(e){return L(e)||t.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function S(t){return 16>t?"0"+t.toString(16):t.toString(16)}function A(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],s=0;r>s;s++){if(n=t.charCodeAt(s),n>55295&&57344>n){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&((e-=3)>-1&&o.push(239,191,189),i=null);if(128>n){if((e-=1)<0)break;o.push(n)}else if(2048>n){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(2097152>n))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function k(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function j(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);s++)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function R(t){return M.toByteArray(E(t))}function O(t,e,n,r){for(var i=0;r>i&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}function P(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
var M=n(66),F=n(67),L=n(68);e.Buffer=t,e.SlowBuffer=r,e.INSPECT_MAX_BYTES=50,t.poolSize=8192;var I=1073741823,D={};t.TYPED_ARRAY_SUPPORT=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(n){return!1}}(),t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,i=n.length,o=0,s=Math.min(r,i);s>o&&e[o]===n[o];o++);return o!==s&&(r=e[o],i=n[o]),i>r?-1:r>i?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!L(e))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===e.length)return new t(0);if(1===e.length)return e[0];var r;if(void 0===n)for(n=0,r=0;r<e.length;r++)n+=e[r].length;var i=new t(n),o=0;for(r=0;r<e.length;r++){var s=e[r];s.copy(i,o),o+=s.length}return i},t.byteLength=function(t,e){var n;switch(t+="",e||"utf8"){case"ascii":case"binary":case"raw":n=t.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*t.length;break;case"hex":n=t.length>>>1;break;case"utf8":case"utf-8":n=A(t).length;break;case"base64":n=R(t).length;break;default:n=t.length}return n},t.prototype.length=void 0,t.prototype.parent=void 0,t.prototype.toString=function(t,e,n){var r=!1;if(e>>>=0,n=void 0===n||1/0===n?this.length:n>>>0,t||(t="utf8"),0>e&&(e=0),n>this.length&&(n=this.length),e>=n)return"";for(;;)switch(t){case"hex":return d(this,e,n);case"utf8":case"utf-8":return h(this,e,n);case"ascii":return f(this,e,n);case"binary":return p(this,e,n);case"base64":return l(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===t.compare(this,e)},t.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:t.compare(this,e)},t.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},t.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},t.prototype.write=function(t,e,n,r){if(isFinite(e))isFinite(n)||(r=n,n=void 0);else{var l=r;r=e,e=n,n=l}if(e=Number(e)||0,0>n||0>e||e>this.length)throw new RangeError("attempt to write outside buffer bounds");var h=this.length-e;n?(n=Number(n),n>h&&(n=h)):n=h,r=String(r||"utf8").toLowerCase();var f;switch(r){case"hex":f=i(this,t,e,n);break;case"utf8":case"utf-8":f=o(this,t,e,n);break;case"ascii":f=s(this,t,e,n);break;case"binary":f=a(this,t,e,n);break;case"base64":f=u(this,t,e,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":f=c(this,t,e,n);break;default:throw new TypeError("Unknown encoding: "+r)}return f},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},t.prototype.slice=function(e,n){var r=this.length;e=~~e,n=void 0===n?r:~~n,0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),0>n?(n+=r,0>n&&(n=0)):n>r&&(n=r),e>n&&(n=e);var i;if(t.TYPED_ARRAY_SUPPORT)i=t._augment(this.subarray(e,n));else{var o=n-e;i=new t(o,void 0,!0);for(var s=0;o>s;s++)i[s]=this[s+e]}return i.length&&(i.parent=this.parent||this),i},t.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||g(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},t.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||g(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},t.prototype.readUInt8=function(t,e){return e||g(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||g(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||g(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||g(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||g(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||g(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},t.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||g(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},t.prototype.readInt8=function(t,e){return e||g(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},t.prototype.readInt16LE=function(t,e){e||g(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(t,e){e||g(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(t,e){return e||g(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||g(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||g(t,4,this.length),F.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||g(t,4,this.length),F.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||g(t,8,this.length),F.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||g(t,8,this.length),F.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||m(this,t,e,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i>>>0&255;return e+n},t.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||m(this,t,e,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o>>>0&255;return e+n},t.prototype.writeUInt8=function(e,n,r){return e=+e,n>>>=0,r||m(this,e,n,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=e,n+1},t.prototype.writeUInt16LE=function(e,n,r){return e=+e,n>>>=0,r||m(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e,this[n+1]=e>>>8):y(this,e,n,!0),n+2},t.prototype.writeUInt16BE=function(e,n,r){return e=+e,n>>>=0,r||m(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=e):y(this,e,n,!1),n+2},t.prototype.writeUInt32LE=function(e,n,r){return e=+e,n>>>=0,r||m(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=e):b(this,e,n,!0),n+4},t.prototype.writeUInt32BE=function(e,n,r){return e=+e,n>>>=0,r||m(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e):b(this,e,n,!1),n+4},t.prototype.writeIntLE=function(t,e,n,r){t=+t,e>>>=0,r||m(this,t,e,n,Math.pow(2,8*n-1)-1,-Math.pow(2,8*n-1));var i=0,o=1,s=0>t?1:0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=(t/o>>0)-s&255;return e+n},t.prototype.writeIntBE=function(t,e,n,r){t=+t,e>>>=0,r||m(this,t,e,n,Math.pow(2,8*n-1)-1,-Math.pow(2,8*n-1));var i=n-1,o=1,s=0>t?1:0;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=(t/o>>0)-s&255;return e+n},t.prototype.writeInt8=function(e,n,r){return e=+e,n>>>=0,r||m(this,e,n,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[n]=e,n+1},t.prototype.writeInt16LE=function(e,n,r){return e=+e,n>>>=0,r||m(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e,this[n+1]=e>>>8):y(this,e,n,!0),n+2},t.prototype.writeInt16BE=function(e,n,r){return e=+e,n>>>=0,r||m(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=e):y(this,e,n,!1),n+2},t.prototype.writeInt32LE=function(e,n,r){return e=+e,n>>>=0,r||m(this,e,n,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[n]=e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):b(this,e,n,!0),n+4},t.prototype.writeInt32BE=function(e,n,r){return e=+e,n>>>=0,r||m(this,e,n,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e):b(this,e,n,!1),n+4},t.prototype.writeFloatLE=function(t,e,n){return _(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return _(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return x(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return x(this,t,e,!1,n)},t.prototype.copy=function(e,n,r,i){var o=this;if(r||(r=0),i||0===i||(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&r>i&&(i=r),i===r)return 0;if(0===e.length||0===o.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>r||r>=o.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var s=i-r;if(1e3>s||!t.TYPED_ARRAY_SUPPORT)for(var a=0;s>a;a++)e[a+n]=this[a+r];else e._set(this.subarray(r,r+s),n);return s},t.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),e>n)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof t)for(r=e;n>r;r++)this[r]=t;else{var i=A(t.toString()),o=i.length;for(r=e;n>r;r++)this[r]=i[r%o]}return this}},t.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(t.TYPED_ARRAY_SUPPORT)return new t(this).buffer;for(var e=new Uint8Array(this.length),n=0,r=e.length;r>n;n+=1)e[n]=this[n];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var N=t.prototype;t._augment=function(e){return e.constructor=t,e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=N.get,e.set=N.set,e.write=N.write,e.toString=N.toString,e.toLocaleString=N.toString,e.toJSON=N.toJSON,e.equals=N.equals,e.compare=N.compare,e.copy=N.copy,e.slice=N.slice,e.readUIntLE=N.readUIntLE,e.readUIntBE=N.readUIntBE,e.readUInt8=N.readUInt8,e.readUInt16LE=N.readUInt16LE,e.readUInt16BE=N.readUInt16BE,e.readUInt32LE=N.readUInt32LE,e.readUInt32BE=N.readUInt32BE,e.readIntLE=N.readIntLE,e.readIntBE=N.readIntBE,e.readInt8=N.readInt8,e.readInt16LE=N.readInt16LE,e.readInt16BE=N.readInt16BE,e.readInt32LE=N.readInt32LE,e.readInt32BE=N.readInt32BE,e.readFloatLE=N.readFloatLE,e.readFloatBE=N.readFloatBE,e.readDoubleLE=N.readDoubleLE,e.readDoubleBE=N.readDoubleBE,e.writeUInt8=N.writeUInt8,e.writeUIntLE=N.writeUIntLE,e.writeUIntBE=N.writeUIntBE,e.writeUInt16LE=N.writeUInt16LE,e.writeUInt16BE=N.writeUInt16BE,e.writeUInt32LE=N.writeUInt32LE,e.writeUInt32BE=N.writeUInt32BE,e.writeIntLE=N.writeIntLE,e.writeIntBE=N.writeIntBE,e.writeInt8=N.writeInt8,e.writeInt16LE=N.writeInt16LE,e.writeInt16BE=N.writeInt16BE,e.writeInt32LE=N.writeInt32LE,e.writeInt32BE=N.writeInt32BE,e.writeFloatLE=N.writeFloatLE,e.writeFloatBE=N.writeFloatBE,e.writeDoubleLE=N.writeDoubleLE,e.writeDoubleBE=N.writeDoubleBE,e.fill=N.fill,e.inspect=N.inspect,e.toArrayBuffer=N.toArrayBuffer,e};var B=/[^+\/0-9A-z\-]/g}).call(e,n(36).Buffer)},function(t,e,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,n){if(t&&c(t)&&t instanceof r)return t;var i=new r;return i.parse(t,e,n),i}function o(t){return u(t)&&(t=i(t)),t instanceof r?t.format():r.prototype.format.call(t)}function s(t,e){return i(t,!1,!0).resolve(e)}function a(t,e){return t?i(t,!1,!0).resolveObject(e):e}function u(t){return"string"==typeof t}function c(t){return"object"==typeof t&&null!==t}function l(t){return null===t}function h(t){return null==t}var f=n(69);e.parse=i,e.resolve=s,e.resolveObject=a,e.format=o,e.Url=r;var p=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,v=["<",">",'"',"`"," ","\r","\n","	"],g=["{","}","|","\\","^","`"].concat(v),m=["'"].concat(g),y=["%","/","?",";","#"].concat(m),b=["/","?","#"],w=255,_=/^[a-z0-9A-Z_-]{0,63}$/,x=/^([a-z0-9A-Z_-]{0,63})(.*)$/,E={javascript:!0,"javascript:":!0},T={javascript:!0,"javascript:":!0},C={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},S=n(72);r.prototype.parse=function(t,e,n){if(!u(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t;r=r.trim();var i=p.exec(r);if(i){i=i[0];var o=i.toLowerCase();this.protocol=o,r=r.substr(i.length)}if(n||i||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===r.substr(0,2);!s||i&&T[i]||(r=r.substr(2),this.slashes=!0)}if(!T[i]&&(s||i&&!C[i])){for(var a=-1,c=0;c<b.length;c++){var l=r.indexOf(b[c]);-1!==l&&(-1===a||a>l)&&(a=l)}var h,d;d=-1===a?r.lastIndexOf("@"):r.lastIndexOf("@",a),-1!==d&&(h=r.slice(0,d),r=r.slice(d+1),this.auth=decodeURIComponent(h)),a=-1;for(var c=0;c<y.length;c++){var l=r.indexOf(y[c]);-1!==l&&(-1===a||a>l)&&(a=l)}-1===a&&(a=r.length),this.host=r.slice(0,a),r=r.slice(a),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var g=this.hostname.split(/\./),c=0,A=g.length;A>c;c++){var k=g[c];if(k&&!k.match(_)){for(var j="",R=0,O=k.length;O>R;R++)j+=k.charCodeAt(R)>127?"x":k[R];if(!j.match(_)){var P=g.slice(0,c),M=g.slice(c+1),F=k.match(x);F&&(P.push(F[1]),M.unshift(F[2])),M.length&&(r="/"+M.join(".")+r),this.hostname=P.join(".");break}}}if(this.hostname=this.hostname.length>w?"":this.hostname.toLowerCase(),!v){for(var L=this.hostname.split("."),I=[],c=0;c<L.length;++c){var D=L[c];I.push(D.match(/[^A-Za-z0-9_-]/)?"xn--"+f.encode(D):D)}this.hostname=I.join(".")}var N=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+N,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!E[o])for(var c=0,A=m.length;A>c;c++){var U=m[c],q=encodeURIComponent(U);q===U&&(q=escape(U)),r=r.split(U).join(q)}var W=r.indexOf("#");-1!==W&&(this.hash=r.substr(W),r=r.slice(0,W));var G=r.indexOf("?");if(-1!==G?(this.search=r.substr(G),this.query=r.substr(G+1),e&&(this.query=S.parse(this.query)),r=r.slice(0,G)):e&&(this.search="",this.query={}),r&&(this.pathname=r),C[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var N=this.pathname||"",D=this.search||"";this.path=N+D}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&c(this.query)&&Object.keys(this.query).length&&(o=S.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||C[e])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+i+n+s+r},r.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(u(t)){var e=new r;e.parse(t,!1,!0),t=e}var n=new r;if(Object.keys(this).forEach(function(t){n[t]=this[t]},this),n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(n[e]=t[e])}),C[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(t.protocol&&t.protocol!==n.protocol){if(!C[t.protocol])return Object.keys(t).forEach(function(e){n[e]=t[e]}),n.href=n.format(),n;if(n.protocol=t.protocol,t.host||T[t.protocol])n.pathname=t.pathname;else{for(var i=(t.pathname||"").split("/");i.length&&!(t.host=i.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var o=n.pathname||"",s=n.search||"";n.path=o+s}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var a=n.pathname&&"/"===n.pathname.charAt(0),c=t.host||t.pathname&&"/"===t.pathname.charAt(0),f=c||a||n.host&&t.pathname,p=f,d=n.pathname&&n.pathname.split("/")||[],i=t.pathname&&t.pathname.split("/")||[],v=n.protocol&&!C[n.protocol];if(v&&(n.hostname="",n.port=null,n.host&&(""===d[0]?d[0]=n.host:d.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===i[0]?i[0]=t.host:i.unshift(t.host)),t.host=null),f=f&&(""===i[0]||""===d[0])),c)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,d=i;else if(i.length)d||(d=[]),d.pop(),d=d.concat(i),n.search=t.search,n.query=t.query;else if(!h(t.search)){if(v){n.hostname=n.host=d.shift();var g=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return n.search=t.search,n.query=t.query,l(n.pathname)&&l(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!d.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var m=d.slice(-1)[0],y=(n.host||t.host)&&("."===m||".."===m)||""===m,b=0,w=d.length;w>=0;w--)m=d[w],"."==m?d.splice(w,1):".."===m?(d.splice(w,1),b++):b&&(d.splice(w,1),b--);if(!f&&!p)for(;b--;b)d.unshift("..");!f||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),y&&"/"!==d.join("/").substr(-1)&&d.push("");var _=""===d[0]||d[0]&&"/"===d[0].charAt(0);if(v){n.hostname=n.host=_?"":d.length?d.shift():"";var g=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return f=f||n.host&&d.length,f&&!_&&d.unshift(""),d.length?n.pathname=d.join("/"):(n.pathname=null,n.path=null),l(n.pathname)&&l(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=d.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},,function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},i=r(n(9)),o=new i({beat:Number,time:Number,position:Number});e.GameEvent=o,e["default"]=o,Object.defineProperty(e,"__esModule",{value:!0})},,,,,,,,function(t){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},,,function(t,e,n){"use strict";function r(t,e,n){return 1-(n-t)/(e-t)}function i(t){return t.position}var o=function(t){return t&&t.__esModule?t["default"]:t},s=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},u=o(n(2)),c=e.NoteArea=function(){function t(e,n){a(this,t),this._notes=u.sortBy(i,e),this._barLines=u.sortBy(u.identity,u.map(u.prop("position"),n))}return s(t,{getVisibleNotes:{value:function(t,e,n){var i=[],o=this._notes;n||(n=0);for(var s=0;s<o.length;s++){var a=o[s],u=a.end?!(a.position>e||a.end.position<t-n):!(a.position>e||a.position<t-n);if(u){var c={note:a};if(a.end){var l=r(t,e,a.position),h=r(t,e,a.end.position);c.y=Math.min(l,h),c.height=Math.abs(l-h)}else c.y=r(t,e,a.position);i.push(c)}}return i}},getVisibleBarLines:{value:function(t,e,n){return n||(n=0),this._barLines.filter(function(r){return r>=t-n&&e>=r}).map(function(n){return{id:n,y:r(t,e,n)}})}}}),t}();e["default"]=c,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";function r(){return window.innerWidth<window.innerHeight?"/skins/default/skin_touch.xml":"/skins/default/skin_screen.xml"}e.getSkinUrl=r;var i=n(91).load,o=n(90).Context;e.load=i,e.Context=o,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";function r(t){var e=t.match(/^(\d+)x(\d+)\+(\d+)\+(\d+)$/);return e?new o.Rectangle(+e[3],+e[4],+e[1],+e[2]):null}var i=function(t){return t&&t.__esModule?t["default"]:t};e.parseFrame=r;var o=i(n(3));Object.defineProperty(e,"__esModule",{value:!0})},,function(t,e,n){var r=n(150);t.exports=function(t,e,n,i){if("number"==typeof t&&"number"==typeof e)return r(t,e,n);var o=Math.min(t.length,e.length);i=i||new Array(o);for(var s=0;o>s;s++)i[s]=r(t[s],e[s],n);return i}},,,function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},i=r(n(9)),o=r(n(39)),s=new i(o,{id:Number,end:i.maybe(o),column:String});e.GameNote=s,e["default"]=s,Object.defineProperty(e,"__esModule",{value:!0})},,,,,,,,,function(t,e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===s||e===h?62:e===a||e===f?63:u>e?-1:u+10>e?e-u+26+26:l+26>e?e-l:c+26>e?e-c+26:void 0}function r(t){function n(t){c[h++]=t}var r,i,s,a,u,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.length;u="="===t.charAt(l-2)?2:"="===t.charAt(l-1)?1:0,c=new o(3*t.length/4-u),s=u>0?t.length-4:t.length;var h=0;for(r=0,i=0;s>r;r+=4,i+=3)a=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===u?(a=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&a)):1===u&&(a=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(a>>8&255),n(255&a)),c}function i(t){function e(t){return n.charAt(t)}function r(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,o,s,a=t.length%3,u="";for(i=0,s=t.length-a;s>i;i+=3)o=(t[i]<<16)+(t[i+1]<<8)+t[i+2],u+=r(o);switch(a){case 1:o=t[t.length-1],u+=e(o>>2),u+=e(o<<4&63),u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=e(o>>10),u+=e(o>>4&63),u+=e(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),l="A".charCodeAt(0),h="-".charCodeAt(0),f="_".charCodeAt(0);t.toByteArray=r,t.fromByteArray=i}(e)},function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,h=n?i-1:0,f=n?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?0/0:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,v=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+h>=1?f/u:f*Math.pow(2,1-h),e*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+p]=255&s,p+=d,s/=256,c-=8);t[n+p-d]|=128*v}},function(t){var e=Array.isArray,n=Object.prototype.toString;t.exports=e||function(t){return!!t&&"[object Array]"==n.call(t)}},function(t,e,n){var r;(function(t,i){!function(o){function s(t){throw RangeError(P[t])}function a(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function u(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(O,".");var i=t.split("."),o=a(i,e).join(".");return r+o}function c(t){for(var e,n,r=[],i=0,o=t.length;o>i;)e=t.charCodeAt(i++),e>=55296&&56319>=e&&o>i?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function l(t){return a(t,function(t){var e="";return t>65535&&(t-=65536,e+=L(t>>>10&1023|55296),t=56320|1023&t),e+=L(t)}).join("")}function h(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:_}function f(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function p(t,e,n){var r=0;for(t=n?F(t/C):t>>1,t+=F(t/e);t>M*E>>1;r+=_)t=F(t/M);return F(r+(M+1)*t/(t+T))}function d(t){var e,n,r,i,o,a,u,c,f,d,v=[],g=t.length,m=0,y=A,b=S;for(n=t.lastIndexOf(k),0>n&&(n=0),r=0;n>r;++r)t.charCodeAt(r)>=128&&s("not-basic"),v.push(t.charCodeAt(r));for(i=n>0?n+1:0;g>i;){for(o=m,a=1,u=_;i>=g&&s("invalid-input"),c=h(t.charCodeAt(i++)),(c>=_||c>F((w-m)/a))&&s("overflow"),m+=c*a,f=b>=u?x:u>=b+E?E:u-b,!(f>c);u+=_)d=_-f,a>F(w/d)&&s("overflow"),a*=d;e=v.length+1,b=p(m-o,e,0==o),F(m/e)>w-y&&s("overflow"),y+=F(m/e),m%=e,v.splice(m++,0,y)}return l(v)}function v(t){var e,n,r,i,o,a,u,l,h,d,v,g,m,y,b,T=[];for(t=c(t),g=t.length,e=A,n=0,o=S,a=0;g>a;++a)v=t[a],128>v&&T.push(L(v));for(r=i=T.length,i&&T.push(k);g>r;){for(u=w,a=0;g>a;++a)v=t[a],v>=e&&u>v&&(u=v);for(m=r+1,u-e>F((w-n)/m)&&s("overflow"),n+=(u-e)*m,e=u,a=0;g>a;++a)if(v=t[a],e>v&&++n>w&&s("overflow"),v==e){for(l=n,h=_;d=o>=h?x:h>=o+E?E:h-o,!(d>l);h+=_)b=l-d,y=_-d,T.push(L(f(d+b%y,0))),l=F(b/y);T.push(L(f(l,0))),o=p(n,m,r==i),n=0,++r}++n,++e}return T.join("")}function g(t){return u(t,function(t){return j.test(t)?d(t.slice(4).toLowerCase()):t})}function m(t){return u(t,function(t){return R.test(t)?"xn--"+v(t):t})}var y=("object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof i&&i);(y.global===y||y.window===y||y.self===y)&&(o=y);var b,w=2147483647,_=36,x=1,E=26,T=38,C=700,S=72,A=128,k="-",j=/^xn--/,R=/[^\x20-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=_-x,F=Math.floor,L=String.fromCharCode;b={version:"1.3.2",ucs2:{decode:c,encode:l},decode:d,encode:v,toASCII:m,toUnicode:g},r=function(){return b}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)}).call(e,n(47)(t),function(){return this}())},function(t){"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,n,r,i){n=n||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(n);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var u=t.length;a>0&&u>a&&(u=a);for(var c=0;u>c;++c){var l,h,f,p,d=t[c].replace(s,"%20"),v=d.indexOf(r);v>=0?(l=d.substr(0,v),h=d.substr(v+1)):(l=d,h=""),f=decodeURIComponent(l),p=decodeURIComponent(h),e(o,f)?Array.isArray(o[f])?o[f].push(p):o[f]=[o[f],p]:o[f]=p}return o}},function(t){"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,n,r,i){return n=n||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(i){var o=encodeURIComponent(e(i))+r;return Array.isArray(t[i])?t[i].map(function(t){return o+encodeURIComponent(e(t))}).join(n):o+encodeURIComponent(e(t[i]))}).join(n):i?encodeURIComponent(e(i))+r+encodeURIComponent(e(t)):""}},function(t,e,n){"use strict";e.decode=e.parse=n(70),e.encode=e.stringify=n(71)},,,,,,function(t,e,n){"use strict";function r(t){var e=l.map(o,Array.from(t.children("keyframe"))),n={},r=!0,s=!1,a=void 0;try{for(var u,c=e[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var h=u.value,f=+h.t,p=h.ease||"linear";if(isNaN(f))throw new Error('Expected keyframe to have "t" attribute');for(var d in h)if("t"!==d&&"ease"!==d){var v=+h[d],g=n[d]||(n[d]=i(d));g.keyframes.push({time:f,value:v,ease:p})}}}catch(m){s=!0,a=m}finally{try{!r&&c["return"]&&c["return"]()}finally{if(s)throw a}}return{on:t.attr("on")||"",data:l.values(n)}}function i(t){return{name:t,keyframes:[]}}function o(t){return l.fromPairs(l.map(function(t){return[t.name.toLowerCase(),t.value]},t.attributes))}var s=function(t){return t&&t.__esModule?t["default"]:t},a=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},u=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};e._compile=r,e._attrs=o;var l=s(n(2)),h=s(n(6)),f=s(n(114)),p=l.evolve({data:f}),d=l.pipe(l.prop("data"),l.map(l.prop("name"))),v=e.Animation=function(){function t(e){c(this,t),this._properties=new Set(l.chain(d,e)),this._animations=l.map(p,e),this._events=l.uniq(l.map(l.prop("on"),e))}return u(t,{prop:{value:function(t,e){var n=this;return this._properties.has(t)?function(r){var i=n._getAnimation(r);return i.hasOwnProperty(t)?i[t]:e(r)}:e}},_getAnimation:{value:function(t){var e=l.maxBy(function(e){return t[e]||0},this._events.filter(function(e){return""===e||e in t})),n=t.t-(t[e]||0),r=this._animations.filter(function(t){return t.on===e}),i=r.map(function(t){return t.data.values(n)});return Object.assign.apply(Object,[{}].concat(a(i)))}}},{compile:{value:function(e,n){var i=Array.from(n.children("animation")),o=l.map(function(t){return r(h(t))},i);return new t(o)}}}),t}();e["default"]=v,Object.defineProperty(e,"__esModule",{value:!0})},,,,,,,,,,,function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},i=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=r(n(10)),a=s("scintillator:compiler"),u=r(n(6)),c=r(n(95)),l=r(n(96)),h=r(n(92)),f=r(n(94)),p=r(n(97)),d=r(n(93)),v={skin:c,sprite:l,group:h,object:f,text:p,"if":d},g=function(){function t(e){o(this,t),Object.assign(this,e)}return i(t,{compile:{value:function(e){var n=e[0].nodeName;a("compiling",e[0]);var r=t.getNodeClass(n);if(!r)throw new Error("Invalid node name: "+n);return r.compile(this,e)}},compileChildren:{value:function(e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=Array.from(e.children())[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var c=s.value,l=c.nodeName,h=t.getNodeClass(l);h&&n.push(this.compile(u(c)))}}catch(f){i=!0,o=f}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw o}}return n}}},{getNodeClass:{value:function(t){return v[t]}}}),t}();t.exports=g},function(t,e,n){"use strict";function r(t,e){return navigator.userAgent.match(/Gecko\//)?new a.autoDetectRenderer(t,e):new a.CanvasRenderer(t,e)}var i=function(t){return t&&t.__esModule?t["default"]:t},o=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=i(n(3)),u=e.Context=function(){function t(e){s(this,t),this.refs={},this._skin=e,this._instance=e.instantiate(this),this._renderer=r(e.width,e.height),this.stage=this._instance.object,this.view=this._renderer.view,this._setupInteractivity()}return o(t,{render:{value:function(t){this._instance.push(t),this._renderer.render(this.stage)}},destroy:{value:function(){this._instance.destroy(),this._instance=null}},input:{get:function(){return this._input.get()}},ref:{value:function(t,e){var n=this.refs[t]||(this.refs[t]=new Set);n.add(e)}},unref:{value:function(t,e){var n=this.refs[t];n&&n["delete"](e)}},_setupInteractivity:{value:function(){var t=this.stage,e=t.interactionManager,n=!1;t.interactive=!0,t.mousedown=function(){n=!0},t.mouseup=function(){n=!1},t.mouseupoutside=function(){n=!1},this._input={get:function(){var t=[];if(n){var r=e.mouse.global;t.push({x:r.x,y:r.y,id:"mouse"})}for(var i in e.touches)if(e.touches[i]){var o=e.touches[i].global;
t.push({x:o.x,y:o.y,id:"touch"+i})}return t}}}}}),t}();e["default"]=u,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";function r(t,e){return f(regeneratorRuntime.mark(function n(){var r,s,a,u,f,p,m,y,b,w,_,x,E,T,C,S,A,k,j,R,O,P,M;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c("load XML from %s",t),n.next=3,i(t);case 3:for(r=n.sent,s=new v,a=new Set,u=!0,f=!1,p=void 0,n.prev=9,m=Array.from(r.find("[image]"))[Symbol.iterator]();!(u=(y=m.next()).done);u=!0)b=y.value,a.add(l(b).attr("image"));n.next=17;break;case 13:n.prev=13,n.t5=n["catch"](9),f=!0,p=n.t5;case 17:n.prev=17,n.prev=18,!u&&m["return"]&&m["return"]();case 20:if(n.prev=20,!f){n.next=23;break}throw p;case 23:return n.finish(20);case 24:return n.finish(17);case 25:for(w=!0,_=!1,x=void 0,n.prev=28,E=Array.from(r.find("[font-src]"))[Symbol.iterator]();!(w=(T=E.next()).done);w=!0)b=T.value,a.add(l(b).attr("font-src"));n.next=36;break;case 32:n.prev=32,n.t6=n["catch"](28),_=!0,x=n.t6;case 36:n.prev=36,n.prev=37,!w&&E["return"]&&E["return"]();case 39:if(n.prev=39,!_){n.next=42;break}throw x;case 42:return n.finish(39);case 43:return n.finish(36);case 44:for(C=!0,S=!1,A=void 0,n.prev=47,k=a[Symbol.iterator]();!(C=(j=k.next()).done);C=!0)R=j.value,O=h.resolve(t,R),s.add(R,O);n.next=55;break;case 51:n.prev=51,n.t7=n["catch"](47),S=!0,A=n.t7;case 55:n.prev=55,n.prev=56,!C&&k["return"]&&k["return"]();case 58:if(n.prev=58,!S){n.next=61;break}throw A;case 61:return n.finish(58);case 62:return n.finish(55);case 63:return P=d.fixed(1+a.size,e),P(),n.next=67,o(s,P);case 67:return c("compiling"),M=new g({resources:s}).compile(r),n.abrupt("return",M);case 70:case"end":return n.stop()}},n,this,[[9,13,17,25],[18,,20,24],[28,32,36,44],[37,,39,43],[47,51,55,63],[56,,58,62]])}))}function i(t){return Promise.resolve(l.ajax({url:t,dataType:"xml"})).then(function(t){return l(t.documentElement)})}function o(t,e){return c("loading resources"),new Promise(function(n){if(0===t.urls.length)return n();var r=new p.AssetLoader(t.urls);r.on("onComplete",function(){c("resources finished loading"),n()}),e&&r.on("onProgress",e),r.load()})}var s=function(t){return t&&t.__esModule?t:{"default":t}},a=function(t){return t&&t.__esModule?t["default"]:t};e.load=r;var u=a(n(10)),c=u("scintillator:loader"),l=a(n(6)),h=a(n(37)),f=a(n(11)),p=a(n(3)),d=s(n(20)),v=a(n(98)),g=a(n(89));Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},i=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=r(n(3)),u=r(n(7)),c=r(n(8)),l=r(n(31)),h=n(52).parseFrame,f=e.Mask=function(){function t(e){s(this,t),this._frame=e}return o(t,{instantiate:{value:function(t,e){var n=new a.Graphics;return n.beginFill(),n.drawShape(this._frame),n.endFill(),e.object.mask=n,new c({context:t,object:n,parent:e.object})}}}),t}(),p=e.GroupNode=function(t){function e(){s(this,e),null!=t&&t.apply(this,arguments)}return i(e,t),o(e,{compile:{value:function(t,e){this.children=t.compileChildren(e),this.display=l.compile(t,e);var n=h(e.attr("mask")||"");n&&(this.mask=new f(n))}},instantiate:{value:function(t,e){var n=new a.DisplayObjectContainer,r=[this.display];return this.mask&&r.push(this.mask),new c({context:t,object:n,parent:e,concerns:r,children:this.children})}}}),e}(u);e["default"]=p,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},i=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=r(n(3)),u=r(n(7)),c=r(n(8)),l=r(n(17)),h=e.IfNode=function(t){function e(){s(this,e),null!=t&&t.apply(this,arguments)}return o(e,t),i(e,{compile:{value:function(t,e){var n=t.compileChildren(e);if(1!==n.length)throw new Error("Expected exactly 1 children, "+n.length+" found");this.child=n[0],this.key=new l(e.attr("key")),this.value=String(e.attr("value"))}},instantiate:{value:function(t,e){var n=new a.DisplayObjectContainer,r=this.key,i=this.value,o=this.child,s=null;return new c({context:t,parent:e,object:n,onData:function(e){String(r(e))===i?(null===s&&(s=o.instantiate(t,n)),s.push(e)):null!==s&&(s.destroy(),s=null)}})}}}),e}(u);e["default"]=h,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";function r(t,e,n){return{instantiate:function(r,i){function o(){var t;console.log("init i"+n);for(var o=0;n>o;o++)t=e.instantiate(r,i.object),t.detach(),c.push(t)}function s(t){var e,n,r,i=new Set(u.keys());t||(t=[]);for(var o=0;o<t.length;o++)n=t[o],e=n.key,u.has(e)?r=u.get(e):(r=a(),u.set(e,r)),r.push(n),i["delete"](e);var s=!0,l=!1,h=void 0;try{for(var f,p=i[Symbol.iterator]();!(s=(f=p.next()).done);s=!0)e=f.value,r=u.get(e),r.detach(),u["delete"](e),c.push(r)}catch(d){l=!0,h=d}finally{try{!s&&p["return"]&&p["return"]()}finally{if(l)throw h}}}function a(){var t=c.pop();return t?t.attachTo(i.object):t=e.instantiate(r,i.object),t}var u=new Map,c=[];return o(),new l({context:r,onData:function(e){s(t(e))}})}}}var i=function(t){return t&&t.__esModule?t["default"]:t},o=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},u=i(n(3)),c=i(n(7)),l=i(n(8)),h=i(n(17)),f=e.ObjectNode=function(t){function e(){a(this,e),null!=t&&t.apply(this,arguments)}return s(e,t),o(e,{compile:{value:function(t,e){if(this.children=t.compileChildren(e),1!==this.children.length)throw new Error("Expected exactly 1 children, "+this.children.length+" given");this.pool=+e.attr("pool")||1,this.key=new h(e.attr("key"))}},instantiate:{value:function(t,e){var n=new u.SpriteBatch,i=new r(this.key,this.children[0],this.pool);return new l({context:t,parent:e,object:n,concerns:[i]})}}}),e}(c);e["default"]=f,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},i=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=r(n(3)),u=r(n(7)),c=r(n(8)),l=e.SkinRootNode=function(t){function e(){s(this,e),null!=t&&t.apply(this,arguments)}return o(e,t),i(e,{compile:{value:function(t,e){this.children=t.compileChildren(e),this.width=+e.attr("width"),this.height=+e.attr("height")}},instantiate:{value:function(t){var e=new a.Stage(591879);return new c({context:t,object:e,children:this.children})}}}),e}(u);e["default"]=l,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},i=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=r(n(3)),u=r(n(7)),c=r(n(8)),l=n(52).parseFrame,h=r(n(31)),f=e.SpriteNode=function(t){function e(){s(this,e),null!=t&&t.apply(this,arguments)}return o(e,t),i(e,{compile:{value:function(t,e){this.url=t.resources.get(e.attr("image")),this.display=h.compile(t,e),this.frame=l(e.attr("frame")||"")}},instantiate:{value:function(t,e){var n=new a.Sprite(this.getTexture());return new c({context:t,object:n,parent:e,concerns:[this.display]})}},getTexture:{value:function(){if(this._texture)return this._texture;var t=a.scaleModes.NEAREST,e=a.BaseTexture.fromImage(this.url,void 0,t),n=new a.Texture(e,this.frame);return this._texture=n,n}}}),e}(u);e["default"]=f,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},i=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=r(n(3)),u=r(n(7)),c=r(n(8)),l=r(n(31)),h=r(n(17)),f=e.TextNode=function(t){function e(){s(this,e),null!=t&&t.apply(this,arguments)}return o(e,t),i(e,{compile:{value:function(t,e){this.font=e.attr("font"),this.text=e.attr("text"),this.data=new h(e.attr("data")||"0"),this.display=l.compile(t,e),this.align="center"===e.attr("align")?.5:0}},instantiate:{value:function(t,e){var n=this,r=new a.BitmapText(this.text,{font:this.font}),i=new a.DisplayObjectContainer;return i.addChild(r),new c({context:t,parent:e,object:i,concerns:[this.display],bindings:[[this.data,function(t){r.setText(n.text.replace("%s",t)),r.x=r.width*-n.align}]]})}}}),e}(u);e["default"]=f,Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},i=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=r(n(2)),a=e.Resources=function(){function t(){o(this,t),this._map={}}return i(t,{add:{value:function(t,e){this._map[t]=e}},get:{value:function(t){if(!(t in this._map))throw new Error("Not registered: "+t);return this._map[t]}},urls:{get:function(){return s.values(this._map)}}}),t}();e["default"]=a,Object.defineProperty(e,"__esModule",{value:!0})},,,,,,,,,,,,,,,function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++)if(t[n].name===e)return n;return-1}function i(t){return this instanceof i?(this.properties=[],void(t&&this.load(t))):new i(t)}var o=n(54),s=n(152);i.prototype.dispose=function(){this.properties.forEach(function(t){t.dispose()}),this.properties.length=0},i.prototype.addProperty=function(t){this.properties.push(new s(t))},i.prototype.duration=function(){for(var t=0,e=0;e<this.properties.length;e++)for(var n=this.properties[e],r=n.keyframes.frames,i=0;i<r.length;i++)t=Math.max(r[i].time,t);return t},i.prototype.property=function(t){var e="number"==typeof t?t:r(this.properties,t);return 0>e?void 0:this.properties[e]},i.prototype.load=function(t){this.dispose(),t&&(this.properties=t.map(function(t){return new s(t)}))},i.prototype["export"]=function(){return this.properties.map(function(t){return t["export"]()})},i.prototype.ease=function(t,e){return e},i.prototype.interpolate=function(t,e,n,r){return o(e.value,n.value,r)},i.prototype.valueOf=function(t,e){var n=e.keyframes,r=n.interpolation(t),i=r[0],o=r[1],s=r[2];if(-1===i||-1===o)return e.value;var a=n.frames[i],u=n.frames[o];if(i===o)return a.value;var c=u.ease;return c&&(s=this.ease(c,s)),this.interpolate(e,a,u,s)},i.prototype.values=function(t,e){e||(e={});for(var n=0;n<this.properties.length;n++){var r=this.properties[n];e[r.name]=this.valueOf(t,r)}return e},t.exports=i},function(t,e,n){function r(t){return this instanceof r?void s.call(this,t):new r(t)}var i=n(132),o=n(146),s=n(113);o(r,s),r.prototype.ease=function(t,e){return i[t](e)},t.exports=r},function(t){function e(t){var e=2.5949095;return(t*=2)<1?.5*t*t*((e+1)*t-e):.5*((t-=2)*t*((e+1)*t+e)+2)}t.exports=e},function(t){function e(t){var e=1.70158;return t*t*((e+1)*t-e)}t.exports=e},function(t){function e(t){var e=1.70158;return--t*t*((e+1)*t+e)+1}t.exports=e},function(t,e,n){function r(t){return.5>t?.5*(1-i(1-2*t)):.5*i(2*t-1)+.5}var i=n(35);t.exports=r},function(t,e,n){function r(t){return 1-i(1-t)}var i=n(35);t.exports=r},function(t){function e(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}t.exports=e},function(t){function e(t){return 1-Math.sqrt(1-t*t)}t.exports=e},function(t){function e(t){return Math.sqrt(1- --t*t)}t.exports=e},function(t){function e(t){return.5>t?4*t*t*t:.5*Math.pow(2*t-2,3)+1}t.exports=e},function(t){function e(t){return t*t*t}t.exports=e},function(t){function e(t){var e=t-1;return e*e*e+1}t.exports=e},function(t){function e(t){return.5>t?.5*Math.sin(13*Math.PI/2*2*t)*Math.pow(2,10*(2*t-1)):.5*Math.sin(-13*Math.PI/2*(2*t-1+1))*Math.pow(2,-10*(2*t-1))+1}t.exports=e},function(t){function e(t){return Math.sin(13*t*Math.PI/2)*Math.pow(2,10*(t-1))}t.exports=e},function(t){function e(t){return Math.sin(-13*(t+1)*Math.PI/2)*Math.pow(2,-10*t)+1}t.exports=e},function(t){function e(t){return 0===t||1===t?t:.5>t?.5*Math.pow(2,20*t-10):-.5*Math.pow(2,10-20*t)+1}t.exports=e},function(t){function e(t){return 0===t?t:Math.pow(2,10*(t-1))}t.exports=e},function(t){function e(t){return 1===t?t:1-Math.pow(2,-10*t)}t.exports=e},function(t,e,n){t.exports={backInOut:n(115),backIn:n(116),backOut:n(117),bounceInOut:n(118),bounceIn:n(119),bounceOut:n(35),circInOut:n(120),circIn:n(121),circOut:n(122),cubicInOut:n(123),cubicIn:n(124),cubicOut:n(125),elasticInOut:n(126),elasticIn:n(127),elasticOut:n(128),expoInOut:n(129),expoIn:n(130),expoOut:n(131),linear:n(133),quadInOut:n(134),quadIn:n(135),quadOut:n(136),quartInOut:n(137),quartIn:n(138),quartOut:n(139),quintInOut:n(140),quintIn:n(141),quintOut:n(142),sineInOut:n(143),sineIn:n(144),sineOut:n(145)}},function(t){function e(t){return t}t.exports=e},function(t){function e(t){return t/=.5,1>t?.5*t*t:(t--,-.5*(t*(t-2)-1))}t.exports=e},function(t){function e(t){return t*t}t.exports=e},function(t){function e(t){return-t*(t-2)}t.exports=e},function(t){function e(t){return.5>t?8*Math.pow(t,4):-8*Math.pow(t-1,4)+1}t.exports=e},function(t){function e(t){return Math.pow(t,4)}t.exports=e},function(t){function e(t){return Math.pow(t-1,3)*(1-t)+1}t.exports=e},function(t){function e(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}t.exports=e},function(t){function e(t){return t*t*t*t*t}t.exports=e},function(t){function e(t){return--t*t*t*t*t+1}t.exports=e},function(t){function e(t){return-.5*(Math.cos(Math.PI*t)-1)}t.exports=e},function(t){function e(t){return 1-Math.cos(t*Math.PI/2)}t.exports=e},function(t){function e(t){return Math.sin(t*Math.PI/2)}t.exports=e},function(t){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){function r(t,e){return t.time-e.time}function i(t,e){return this instanceof i?(this.frames=t||[],void(e||this.sort())):new i(t,e)}var o=n(54),s=n(149),a=n(148),u=[0,0,0];i.prototype.nearestIndex=function(t,e){e="number"==typeof e?e:Number.MAX_VALUE;for(var n=Number.MAX_VALUE,r=-1,i=0;i<this.frames.length;i++){var o=Math.abs(this.frames[i].time-t);n>o&&e>=o&&(n=o,r=i)}return r},i.prototype.nearest=function(t,e){var n=this.nearestIndex(t,e);return-1===n?null:this.frames[n]},i.prototype.get=function(t){return this.nearest(t,0)},i.prototype.getIndex=function(t){return this.nearestIndex(t,0)},i.prototype.value=function(t,e){var n=this.interpolation(t);if(-1===n[0]||-1===n[1])return null;var r=this.frames[n[0]],i=this.frames[n[1]],s=n[2];return"function"==typeof e?e(r,i,s):o(r.value,i.value,s)},i.prototype.interpolation=function(t){if(0===this.frames.length)return a(u,-1,-1,0);for(var e=-1,n=this.frames.length-1;n>=0;n--)if(t>=this.frames[n].time){e=n;break}if(-1===e||e===this.frames.length-1)return 0>e&&(e=0),a(u,e,e,0);var r=this.frames[e],i=this.frames[e+1];t=Math.max(r.time,Math.min(t,i.time));var o=s(r.time,i.time,t);return a(u,e,e+1,o)},i.prototype.next=function(t){if(this.frames.length<1)return null;for(var e=-1,n=0;n<this.frames.length;n++)if(t<this.frames[n].time){e=n;break}return-1===e?null:this.frames[e]},i.prototype.previous=function(t){if(this.frames.length<1)return null;for(var e=-1,n=this.frames.length-1;n>=0;n--)if(t>this.frames[n].time){e=n;break}return-1===e?null:this.frames[e]},i.prototype.add=function(t){this.frames.push(t),this.sort()},i.prototype.splice=function(){this.frames.splice.apply(this.frames,arguments),arguments.length>2&&this.sort()},i.prototype.sort=function(){this.frames.sort(r)},i.prototype.clear=function(){this.frames.length=0},Object.defineProperty(i.prototype,"count",{get:function(){return this.frames.length}}),t.exports=i},function(t){function e(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}t.exports=e},function(t){t.exports=function(t,e,n){return(n-t)/(e-t)}},function(t){function e(t,e,n){return t*(1-n)+e*n}t.exports=e},function(t){function e(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t}t.exports=e},function(t,e,n){function r(t){return this instanceof r?(this.keyframes=i(),this.value=null,this.name="",void(t&&this.load(t))):new r(t)}var i=n(147),o=n(151);r.prototype.dispose=function(){this.keyframes.clear()},r.prototype["export"]=function(){return o(this,{keyframes:this.keyframes.frames})},r.prototype.load=function(t){if(this.dispose(),t)for(var e in t)t.hasOwnProperty(e)&&("keyframes"===e?this.keyframes.frames=t.keyframes:this[e]=t[e])},t.exports=r},,function(t){t.exports=function(){function t(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function e(t,e,n,r,i,o){this.message=t,this.expected=e,this.found=n,this.offset=r,this.line=i,this.column=o,this.name="SyntaxError"}function n(t){function n(){return t.substring(me,ge)}function r(e){function n(e,n,r){var i,o;for(i=n;r>i;i++)o=t.charAt(i),"\n"===o?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}return ye!==e&&(ye>e&&(ye=0,be={line:1,column:1,seenCR:!1}),n(be,ye,e),ye=e),be}function i(t){we>ge||(ge>we&&(we=ge,_e=[]),_e.push(t))}function o(n,i,o){function s(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}function a(t,e){function n(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+e(t)})}var r,i,o,s=new Array(t.length);for(o=0;o<t.length;o++)s[o]=t[o].description;return r=t.length>1?s.slice(0,-1).join(", ")+" or "+s[t.length-1]:s[0],i=e?'"'+n(e)+'"':"end of input","Expected "+r+" but "+i+" found."}var u=r(o),c=o<t.length?t.charAt(o):null;return null!==i&&s(i),new e(null!==n?n:a(i,c),i,c,o,u.line,u.column)}function s(){var t;return t=a()}function a(){var e,n,r,o,s,a,c,l;if(e=ge,n=u(),n!==x){for(r=[],o=ge,s=m(),s!==x?(t.substr(ge,2)===S?(a=S,ge+=2):(a=x,0===xe&&i(A)),a!==x?(c=m(),c!==x?(l=u(),l!==x?(s=[s,a,c,l],o=s):(ge=o,o=C)):(ge=o,o=C)):(ge=o,o=C)):(ge=o,o=C);o!==x;)r.push(o),o=ge,s=m(),s!==x?(t.substr(ge,2)===S?(a=S,ge+=2):(a=x,0===xe&&i(A)),a!==x?(c=m(),c!==x?(l=u(),l!==x?(s=[s,a,c,l],o=s):(ge=o,o=C)):(ge=o,o=C)):(ge=o,o=C)):(ge=o,o=C);r!==x?(me=e,n=k(n,r),e=n):(ge=e,e=C)}else ge=e,e=C;return e}function u(){var e,n,r,o,s,a,u,l;if(e=ge,n=c(),n!==x){for(r=[],o=ge,s=m(),s!==x?(t.substr(ge,2)===j?(a=j,ge+=2):(a=x,0===xe&&i(R)),a!==x?(u=m(),u!==x?(l=c(),l!==x?(s=[s,a,u,l],o=s):(ge=o,o=C)):(ge=o,o=C)):(ge=o,o=C)):(ge=o,o=C);o!==x;)r.push(o),o=ge,s=m(),s!==x?(t.substr(ge,2)===j?(a=j,ge+=2):(a=x,0===xe&&i(R)),a!==x?(u=m(),u!==x?(l=c(),l!==x?(s=[s,a,u,l],o=s):(ge=o,o=C)):(ge=o,o=C)):(ge=o,o=C)):(ge=o,o=C);r!==x?(me=e,n=k(n,r),e=n):(ge=e,e=C)}else ge=e,e=C;return e}function c(){var e,n,r,o,s,a,u,c;if(e=ge,n=l(),n!==x){for(r=[],o=ge,s=m(),s!==x?(43===t.charCodeAt(ge)?(a=O,ge++):(a=x,0===xe&&i(P)),a===x&&(45===t.charCodeAt(ge)?(a=M,ge++):(a=x,0===xe&&i(F))),a!==x?(u=m(),u!==x?(c=l(),c!==x?(s=[s,a,u,c],o=s):(ge=o,o=C)):(ge=o,o=C)):(ge=o,o=C)):(ge=o,o=C);o!==x;)r.push(o),o=ge,s=m(),s!==x?(43===t.charCodeAt(ge)?(a=O,ge++):(a=x,0===xe&&i(P)),a===x&&(45===t.charCodeAt(ge)?(a=M,ge++):(a=x,0===xe&&i(F))),a!==x?(u=m(),u!==x?(c=l(),c!==x?(s=[s,a,u,c],o=s):(ge=o,o=C)):(ge=o,o=C)):(ge=o,o=C)):(ge=o,o=C);r!==x?(me=e,n=k(n,r),e=n):(ge=e,e=C)}else ge=e,e=C;return e}function l(){var e,n,r,o,s,a,u,c;if(e=ge,n=h(),n!==x){for(r=[],o=ge,s=m(),s!==x?(42===t.charCodeAt(ge)?(a=L,ge++):(a=x,0===xe&&i(I)),a===x&&(47===t.charCodeAt(ge)?(a=D,ge++):(a=x,0===xe&&i(N)),a===x&&(37===t.charCodeAt(ge)?(a=B,ge++):(a=x,0===xe&&i(U)))),a!==x?(u=m(),u!==x?(c=h(),c!==x?(s=[s,a,u,c],o=s):(ge=o,o=C)):(ge=o,o=C)):(ge=o,o=C)):(ge=o,o=C);o!==x;)r.push(o),o=ge,s=m(),s!==x?(42===t.charCodeAt(ge)?(a=L,ge++):(a=x,0===xe&&i(I)),a===x&&(47===t.charCodeAt(ge)?(a=D,ge++):(a=x,0===xe&&i(N)),a===x&&(37===t.charCodeAt(ge)?(a=B,ge++):(a=x,0===xe&&i(U)))),a!==x?(u=m(),u!==x?(c=h(),c!==x?(s=[s,a,u,c],o=s):(ge=o,o=C)):(ge=o,o=C)):(ge=o,o=C)):(ge=o,o=C);r!==x?(me=e,n=k(n,r),e=n):(ge=e,e=C)}else ge=e,e=C;return e}function h(){var e,n,r,o,s,u;return e=ge,40===t.charCodeAt(ge)?(n=q,ge++):(n=x,0===xe&&i(W)),n!==x?(r=m(),r!==x?(o=a(),o!==x?(s=m(),s!==x?(41===t.charCodeAt(ge)?(u=G,ge++):(u=x,0===xe&&i(H)),u!==x?(me=e,n=V(o),e=n):(ge=e,e=C)):(ge=e,e=C)):(ge=e,e=C)):(ge=e,e=C)):(ge=e,e=C),e===x&&(e=ge,33===t.charCodeAt(ge)?(n=z,ge++):(n=x,0===xe&&i($)),n!==x?(r=h(),r!==x?(me=e,n=Y(r),e=n):(ge=e,e=C)):(ge=e,e=C),e===x&&(e=f(),e===x&&(e=g()))),e}function f(){var e,n,r,o,s;return xe++,e=ge,45===t.charCodeAt(ge)?(n=M,ge++):(n=x,0===xe&&i(F)),n===x&&(n=J),n!==x?(r=v(),r!==x?(o=d(),o===x&&(o=J),o!==x?(s=p(),s===x&&(s=J),s!==x?(me=e,n=K(),e=n):(ge=e,e=C)):(ge=e,e=C)):(ge=e,e=C)):(ge=e,e=C),xe--,e===x&&(n=x,0===xe&&i(X)),e}function p(){var e,n,r,o,s;if(e=ge,Q.test(t.charAt(ge))?(n=t.charAt(ge),ge++):(n=x,0===xe&&i(Z)),n!==x)if(45===t.charCodeAt(ge)?(r=M,ge++):(r=x,0===xe&&i(F)),r===x&&(43===t.charCodeAt(ge)?(r=O,ge++):(r=x,0===xe&&i(P))),r===x&&(r=J),r!==x){if(o=[],te.test(t.charAt(ge))?(s=t.charAt(ge),ge++):(s=x,0===xe&&i(ee)),s!==x)for(;s!==x;)o.push(s),te.test(t.charAt(ge))?(s=t.charAt(ge),ge++):(s=x,0===xe&&i(ee));else o=C;o!==x?(n=[n,r,o],e=n):(ge=e,e=C)}else ge=e,e=C;else ge=e,e=C;return e}function d(){var e,n,r,o;if(e=ge,46===t.charCodeAt(ge)?(n=ne,ge++):(n=x,0===xe&&i(re)),n!==x){if(r=[],te.test(t.charAt(ge))?(o=t.charAt(ge),ge++):(o=x,0===xe&&i(ee)),o!==x)for(;o!==x;)r.push(o),te.test(t.charAt(ge))?(o=t.charAt(ge),ge++):(o=x,0===xe&&i(ee));else r=C;r!==x?(n=[n,r],e=n):(ge=e,e=C)}else ge=e,e=C;return e}function v(){var e,n,r,o;if(48===t.charCodeAt(ge)?(e=ie,ge++):(e=x,0===xe&&i(oe)),e===x)if(e=ge,se.test(t.charAt(ge))?(n=t.charAt(ge),ge++):(n=x,0===xe&&i(ae)),n!==x){for(r=[],te.test(t.charAt(ge))?(o=t.charAt(ge),ge++):(o=x,0===xe&&i(ee));o!==x;)r.push(o),te.test(t.charAt(ge))?(o=t.charAt(ge),ge++):(o=x,0===xe&&i(ee));r!==x?(n=[n,r],e=n):(ge=e,e=C)}else ge=e,e=C;return e}function g(){var e,n,r,o;if(e=ge,n=[],ue.test(t.charAt(ge))?(r=t.charAt(ge),ge++):(r=x,0===xe&&i(ce)),r!==x)for(;r!==x;)n.push(r),ue.test(t.charAt(ge))?(r=t.charAt(ge),ge++):(r=x,0===xe&&i(ce));else n=C;if(n!==x){for(r=[],le.test(t.charAt(ge))?(o=t.charAt(ge),ge++):(o=x,0===xe&&i(he));o!==x;)r.push(o),le.test(t.charAt(ge))?(o=t.charAt(ge),ge++):(o=x,0===xe&&i(he));r!==x?(me=e,n=fe(),e=n):(ge=e,e=C)}else ge=e,e=C;return e}function m(){var e,n;for(xe++,e=[],de.test(t.charAt(ge))?(n=t.charAt(ge),ge++):(n=x,0===xe&&i(ve));n!==x;)e.push(n),de.test(t.charAt(ge))?(n=t.charAt(ge),ge++):(n=x,0===xe&&i(ve));return xe--,e===x&&(n=x,0===xe&&i(pe)),e}function y(t){var e=t[1],n=t[3];return" "+e+" "+n}function b(t,e){return t+e.map(y).join("")}var w,_=arguments.length>1?arguments[1]:{},x={},E={expr:s},T=s,C=x,S="||",A={type:"literal",value:"||",description:'"||"'},k=function(t,e){return b(t,e)},j="&&",R={type:"literal",value:"&&",description:'"&&"'},O="+",P={type:"literal",value:"+",description:'"+"'},M="-",F={type:"literal",value:"-",description:'"-"'},L="*",I={type:"literal",value:"*",description:'"*"'},D="/",N={type:"literal",value:"/",description:'"/"'},B="%",U={type:"literal",value:"%",description:'"%"'},q="(",W={type:"literal",value:"(",description:'"("'},G=")",H={type:"literal",value:")",description:'")"'},V=function(t){return"("+t+")"},z="!",$={type:"literal",value:"!",description:'"!"'},Y=function(t){return"!"+t},X={type:"other",description:"number"},J=null,K=function(){return n()},Q=/^[eE]/,Z={type:"class",value:"[eE]",description:"[eE]"},te=/^[0-9]/,ee={type:"class",value:"[0-9]",description:"[0-9]"},ne=".",re={type:"literal",value:".",description:'"."'},ie="0",oe={type:"literal",value:"0",description:'"0"'},se=/^[1-9]/,ae={type:"class",value:"[1-9]",description:"[1-9]"},ue=/^[a-zA-Z]/,ce={type:"class",value:"[a-zA-Z]",description:"[a-zA-Z]"},le=/^[a-zA-Z0-9_]/,he={type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},fe=function(){return"get("+JSON.stringify(n())+")"},pe={type:"other",description:"whitespace"},de=/^[ \t\n\r]/,ve={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},ge=0,me=0,ye=0,be={line:1,column:1,seenCR:!1},we=0,_e=[],xe=0;if("startRule"in _){if(!(_.startRule in E))throw new Error("Can't start parsing from rule \""+_.startRule+'".');T=E[_.startRule]}if(w=T(),w!==x&&ge===t.length)return w;throw w!==x&&ge<t.length&&i({type:"end",description:"end of input"}),o(null,_e,we)}return t(e,Error),{SyntaxError:e,parse:n}}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function r(){c(regeneratorRuntime.mark(function t(){var e,n,r,s,a,c,l,h,f,d,v,g,m,y,b;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l=function(){var t=192*a.t/60,e=!0,n=!1,r=void 0;try{for(var i,o=c[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var u=i.value;a["p1_note_"+u].length=0,a["p1_longnote_"+u].length=0}}catch(l){n=!0,r=l}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw r}}var h=s.getVisibleNotes(t,t+2),f=!0,p=!1,d=void 0;try{for(var v,g=h[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var m=v.value,y=m.note,u=y.column;m.height?a["p1_longnote_"+u].push({key:y.id,y:m.y,height:m.height,active:m.y+m.height>1,missed:m.y+m.height>1.1&&y.id%5===0}):a["p1_note_"+u].push({key:y.id,y:m.y})}}catch(l){p=!0,d=l}finally{try{!f&&g["return"]&&g["return"]()}finally{if(p)throw d}}},t.next=3,u.load(u.getSkinUrl());case 3:for(e=t.sent,n=new u.Context(e),r=i(),s=new p(r,[]),a={},c=["SC","1","2","3","4","5","6","7"],h=!0,f=!1,d=void 0,t.prev=12,v=c[Symbol.iterator]();!(h=(g=v.next()).done);h=!0)m=g.value,a["p1_note_"+m]=[],a["p1_longnote_"+m]=[];t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](12),f=!0,d=t.t0;case 20:t.prev=20,t.prev=21,!h&&v["return"]&&v["return"]();case 23:if(t.prev=23,!f){t.next=26;break}throw d;case 26:return t.finish(23);case 27:return t.finish(20);case 28:y=(new Date).getTime(),b=function(){a.t=((new Date).getTime()-y)/1e3,l(),n.render(a)},b(),requestAnimationFrame(function w(){b(),requestAnimationFrame(w)}),o(n.view);case 33:case"end":return t.stop()}},t,this,[[12,16,20,28],[21,,23,27]])})).done()}function i(){var t=[],e=new h(1234),n=["SC","1","2","3","4","5","6","7"],r=1,i=!0,o=!1,s=void 0;try{for(var a,u=n[Symbol.iterator]();!(i=(a=u.next()).done);i=!0)for(var c=a.value,l=4,p=0;2e3>p;p++){l+=e.integer({min:1,max:6})/4;var d=e.bool({likelihood:10})?e.integer({min:1,max:24})/4:0,v=r++;if(d>0){var g={position:l+d,beat:0,time:0};t.push(new f({position:l,end:g,column:c,id:v,beat:0,time:0})),l=g.position}else t.push(new f({position:l,column:c,id:v,beat:0,time:0,end:null}))}}catch(m){o=!0,s=m}finally{try{!i&&u["return"]&&u["return"]()}finally{if(o)throw s}}return t}function o(t){function e(){var e=Math.min(window.innerWidth/n,window.innerHeight/r);t.style.width=Math.round(n*e)+"px",t.style.height=Math.round(r*e)+"px"}var n=t.width,r=t.height;t.style.display="block",t.style.margin="0 auto",document.body.appendChild(t),e(),l(window).on("resize",e)}var s=function(t){return t&&t.__esModule?t["default"]:t},a=function(t){return t&&t.__esModule?t:{"default":t}};e.main=r,n(23);var u=a(n(51)),c=s(n(11)),l=s(n(6)),h=s(n(299)),f=s(n(57)),p=s(n(50));Object.defineProperty(e,"__esModule",{value:!0})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r,i;(function(n){!function(){function o(t){if(!(this instanceof o))return new o(t);if("function"==typeof t)return this.random=t,this;var e;arguments.length&&(this.seed=0);for(var n=0;n<arguments.length;n++){if(e=0,"string"==typeof arguments[n])for(var r=0;r<arguments[n].length;r++)e+=(arguments[n].length-r)*arguments[n].charCodeAt(r);else e=arguments[n];this.seed+=(arguments.length-n)*e}return this.mt=this.mersenne_twister(this.seed),this.random=function(){return this.mt.random(this.seed)},this}function s(t,e){if(t||(t={}),e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}function a(t,e){if(t)throw new RangeError(e)}function u(t){return function(){return this.natural(t)}}function c(t,e){for(var n,r=x(t),i=0,o=r.length;o>i;i++)n=r[i],e[n]=t[n]||e[n]}function l(t,e){for(var n=0,r=t.length;r>n;n++)e[n]=t[n]}function h(t,e){var n=Array.isArray(t),r=e||(n?new Array(t.length):{});return n?l(t,r):c(t,r),r}var f=9007199254740992,p=-f,d="0123456789",v="abcdefghijklmnopqrstuvwxyz",g=v.toUpperCase(),m=d+"abcdef",y=Array.prototype.slice;o.prototype.VERSION="0.7.3";var b=function(){throw new Error("No Base64 encoder available.")};!function(){"function"==typeof btoa?b=btoa:"function"==typeof n&&(b=function(t){return new n(t).toString("base64")})}(),o.prototype.bool=function(t){return t=s(t,{likelihood:50}),a(t.likelihood<0||t.likelihood>100,"Chance: Likelihood accepts values from 0 to 100."),100*this.random()<t.likelihood},o.prototype.character=function(t){t=s(t);var e,n,r="!@#$%^&*()[]";return a(t.alpha&&t.symbols,"Chance: Cannot specify both alpha and symbols."),e="lower"===t.casing?v:"upper"===t.casing?g:v+g,n=t.pool?t.pool:t.alpha?e:t.symbols?r:e+d+r,n.charAt(this.natural({max:n.length-1}))
},o.prototype.floating=function(t){var e;t=s(t,{fixed:4});var n=Math.pow(10,t.fixed);a(t.fixed&&t.precision,"Chance: Cannot specify both fixed and precision.");var r=f/n,i=-r;a(t.min&&t.fixed&&t.min<i,"Chance: Min specified is out of range with fixed. Min should be, at least, "+i),a(t.max&&t.fixed&&t.max>r,"Chance: Max specified is out of range with fixed. Max should be, at most, "+r),t=s(t,{min:i,max:r}),e=this.integer({min:t.min*n,max:t.max*n});var o=(e/n).toFixed(t.fixed);return parseFloat(o)},o.prototype.integer=function(t){return t=s(t,{min:p,max:f}),a(t.min>t.max,"Chance: Min cannot be greater than Max."),Math.floor(this.random()*(t.max-t.min+1)+t.min)},o.prototype.natural=function(t){return t=s(t,{min:0,max:f}),this.integer(t)},o.prototype.string=function(t){t=s(t);var e=t.length||this.natural({min:5,max:20}),n=t.pool,r=this.n(this.character,e,{pool:n});return r.join("")},o.prototype.capitalize=function(t){return t.charAt(0).toUpperCase()+t.substr(1)},o.prototype.mixin=function(t){for(var e in t)o.prototype[e]=t[e];return this},o.prototype.unique=function(t,e,n){n=s(n,{comparator:function(t,e){return-1!==t.indexOf(e)}});for(var r,i=[],o=0,a=50*e,u=y.call(arguments,2);i.length<e;)if(r=t.apply(this,u),n.comparator(i,r)||(i.push(r),o=0),++o>a)throw new RangeError("Chance: num is likely too large for sample set");return i},o.prototype.n=function(t,e){"undefined"==typeof e&&(e=1);var n=e,r=[],i=y.call(arguments,2);for(n=Math.max(0,n),null;n--;null)r.push(t.apply(this,i));return r},o.prototype.pad=function(t,e,n){return n=n||"0",t+="",t.length>=e?t:new Array(e-t.length+1).join(n)+t},o.prototype.pick=function(t,e){if(0===t.length)throw new RangeError("Chance: Cannot pick() from an empty array");return e&&1!==e?this.shuffle(t).slice(0,e):t[this.natural({max:t.length-1})]},o.prototype.shuffle=function(t){for(var e=t.slice(0),n=[],r=0,i=Number(e.length),o=0;i>o;o++)r=this.natural({max:e.length-1}),n[o]=e[r],e.splice(r,1);return n},o.prototype.weighted=function(t,e){if(t.length!==e.length)throw new RangeError("Chance: length of array and weights must match");for(var n=e.length-1;n>=0;--n)e[n]<=0&&(t.splice(n,1),e.splice(n,1));if(e.some(function(t){return 1>t})){var r=e.reduce(function(t,e){return t>e?e:t},e[0]),i=1/r;e=e.map(function(t){return t*i})}var o,s=e.reduce(function(t,e){return t+e},0),a=this.natural({min:1,max:s}),u=0;return e.some(function(e,n){return u+e>=a?(o=t[n],!0):(u+=e,!1)}),o},o.prototype.paragraph=function(t){t=s(t);var e=t.sentences||this.natural({min:3,max:7}),n=this.n(this.sentence,e);return n.join(" ")},o.prototype.sentence=function(t){t=s(t);var e,n=t.words||this.natural({min:12,max:18}),r=this.n(this.word,n);return e=r.join(" "),e=this.capitalize(e)+"."},o.prototype.syllable=function(t){t=s(t);for(var e,n=t.length||this.natural({min:2,max:3}),r="bcdfghjklmnprstvwz",i="aeiou",o=r+i,a="",u=0;n>u;u++)e=this.character(0===u?{pool:o}:-1===r.indexOf(e)?{pool:r}:{pool:i}),a+=e;return a},o.prototype.word=function(t){t=s(t),a(t.syllables&&t.length,"Chance: Cannot specify both syllables AND length.");var e=t.syllables||this.natural({min:1,max:3}),n="";if(t.length){do n+=this.syllable();while(n.length<t.length);n=n.substring(0,t.length)}else for(var r=0;e>r;r++)n+=this.syllable();return n},o.prototype.age=function(t){t=s(t);var e;switch(t.type){case"child":e={min:1,max:12};break;case"teen":e={min:13,max:19};break;case"adult":e={min:18,max:65};break;case"senior":e={min:65,max:100};break;case"all":e={min:1,max:100};break;default:e={min:18,max:65}}return this.natural(e)},o.prototype.birthday=function(t){return t=s(t,{year:(new Date).getFullYear()-this.age(t)}),this.date(t)},o.prototype.cpf=function(){var t=this.n(this.natural,9,{max:9}),e=2*t[8]+3*t[7]+4*t[6]+5*t[5]+6*t[4]+7*t[3]+8*t[2]+9*t[1]+10*t[0];e=11-e%11,e>=10&&(e=0);var n=2*e+3*t[8]+4*t[7]+5*t[6]+6*t[5]+7*t[4]+8*t[3]+9*t[2]+10*t[1]+11*t[0];return n=11-n%11,n>=10&&(n=0),""+t[0]+t[1]+t[2]+"."+t[3]+t[4]+t[5]+"."+t[6]+t[7]+t[8]+"-"+e+n},o.prototype.first=function(t){return t=s(t,{gender:this.gender()}),this.pick(this.get("firstNames")[t.gender.toLowerCase()])},o.prototype.gender=function(){return this.pick(["Male","Female"])},o.prototype.last=function(){return this.pick(this.get("lastNames"))},o.prototype.name=function(t){t=s(t);var e,n=this.first(t),r=this.last();return e=t.middle?n+" "+this.first(t)+" "+r:t.middle_initial?n+" "+this.character({alpha:!0,casing:"upper"})+". "+r:n+" "+r,t.prefix&&(e=this.prefix(t)+" "+e),t.suffix&&(e=e+" "+this.suffix(t)),e},o.prototype.name_prefixes=function(t){t=t||"all",t=t.toLowerCase();var e=[{name:"Doctor",abbreviation:"Dr."}];return("male"===t||"all"===t)&&e.push({name:"Mister",abbreviation:"Mr."}),("female"===t||"all"===t)&&(e.push({name:"Miss",abbreviation:"Miss"}),e.push({name:"Misses",abbreviation:"Mrs."})),e},o.prototype.prefix=function(t){return this.name_prefix(t)},o.prototype.name_prefix=function(t){return t=s(t,{gender:"all"}),t.full?this.pick(this.name_prefixes(t.gender)).name:this.pick(this.name_prefixes(t.gender)).abbreviation},o.prototype.ssn=function(t){t=s(t,{ssnFour:!1,dashes:!0});var e,n="1234567890",r=t.dashes?"-":"";return e=t.ssnFour?this.string({pool:n,length:4}):this.string({pool:n,length:3})+r+this.string({pool:n,length:2})+r+this.string({pool:n,length:4})},o.prototype.name_suffixes=function(){var t=[{name:"Doctor of Osteopathic Medicine",abbreviation:"D.O."},{name:"Doctor of Philosophy",abbreviation:"Ph.D."},{name:"Esquire",abbreviation:"Esq."},{name:"Junior",abbreviation:"Jr."},{name:"Juris Doctor",abbreviation:"J.D."},{name:"Master of Arts",abbreviation:"M.A."},{name:"Master of Business Administration",abbreviation:"M.B.A."},{name:"Master of Science",abbreviation:"M.S."},{name:"Medical Doctor",abbreviation:"M.D."},{name:"Senior",abbreviation:"Sr."},{name:"The Third",abbreviation:"III"},{name:"The Fourth",abbreviation:"IV"}];return t},o.prototype.suffix=function(t){return this.name_suffix(t)},o.prototype.name_suffix=function(t){return t=s(t),t.full?this.pick(this.name_suffixes()).name:this.pick(this.name_suffixes()).abbreviation},o.prototype.android_id=function(){return"APA91"+this.string({pool:"0123456789abcefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_",length:178})},o.prototype.apple_token=function(){return this.string({pool:"abcdef1234567890",length:64})},o.prototype.wp8_anid2=function(){return b(this.hash({length:32}))},o.prototype.wp7_anid=function(){return"A="+this.guid().replace(/-/g,"").toUpperCase()+"&E="+this.hash({length:3})+"&W="+this.integer({min:0,max:9})},o.prototype.bb_pin=function(){return this.hash({length:8})},o.prototype.color=function(t){function e(t,e){return[t,t,t].join(e||"")}t=s(t,{format:this.pick(["hex","shorthex","rgb","0x"]),grayscale:!1,casing:"lower"});var n,r=t.grayscale;if("hex"===t.format)n="#"+(r?e(this.hash({length:2})):this.hash({length:6}));else if("shorthex"===t.format)n="#"+(r?e(this.hash({length:1})):this.hash({length:3}));else if("rgb"===t.format)n=r?"rgb("+e(this.natural({max:255}),",")+")":"rgb("+this.natural({max:255})+","+this.natural({max:255})+","+this.natural({max:255})+")";else{if("0x"!==t.format)throw new Error('Invalid format provided. Please provide one of "hex", "shorthex", "rgb" or "0x".');n="0x"+(r?e(this.hash({length:2})):this.hash({length:6}))}return"upper"===t.casing&&(n=n.toUpperCase()),n},o.prototype.domain=function(t){return t=s(t),this.word()+"."+(t.tld||this.tld())},o.prototype.email=function(t){return t=s(t),this.word({length:t.length})+"@"+(t.domain||this.domain())},o.prototype.fbid=function(){return parseInt("10000"+this.natural({max:1e11}),10)},o.prototype.google_analytics=function(){var t=this.pad(this.natural({max:999999}),6),e=this.pad(this.natural({max:99}),2);return"UA-"+t+"-"+e},o.prototype.hashtag=function(){return"#"+this.word()},o.prototype.ip=function(){return this.natural({max:255})+"."+this.natural({max:255})+"."+this.natural({max:255})+"."+this.natural({max:255})},o.prototype.ipv6=function(){var t=this.n(this.hash,8,{length:4});return t.join(":")},o.prototype.klout=function(){return this.natural({min:1,max:99})},o.prototype.tlds=function(){return["com","org","edu","gov","co.uk","net","io"]},o.prototype.tld=function(){return this.pick(this.tlds())},o.prototype.twitter=function(){return"@"+this.word()},o.prototype.url=function(t){t=s(t,{protocol:"http",domain:this.domain(t),domain_prefix:"",path:this.word(),extensions:[]});var e=t.extensions.length>0?"."+this.pick(t.extensions):"",n=t.domain_prefix?t.domain_prefix+"."+t.domain:t.domain;return t.protocol+"://"+n+"/"+t.path+e},o.prototype.address=function(t){return t=s(t),this.natural({min:5,max:2e3})+" "+this.street(t)},o.prototype.altitude=function(t){return t=s(t,{fixed:5,max:8848}),this.floating({min:0,max:t.max,fixed:t.fixed})},o.prototype.areacode=function(t){t=s(t,{parens:!0});var e=this.natural({min:2,max:9}).toString()+this.natural({min:0,max:8}).toString()+this.natural({min:0,max:9}).toString();return t.parens?"("+e+")":e},o.prototype.city=function(){return this.capitalize(this.word({syllables:3}))},o.prototype.coordinates=function(t){return t=s(t),this.latitude(t)+", "+this.longitude(t)},o.prototype.countries=function(){return this.get("countries")},o.prototype.country=function(t){t=s(t);var e=this.pick(this.countries());return t.full?e.name:e.abbreviation},o.prototype.depth=function(t){return t=s(t,{fixed:5,min:-2550}),this.floating({min:t.min,max:0,fixed:t.fixed})},o.prototype.geohash=function(t){return t=s(t,{length:7}),this.string({length:t.length,pool:"0123456789bcdefghjkmnpqrstuvwxyz"})},o.prototype.geojson=function(t){return t=s(t),this.latitude(t)+", "+this.longitude(t)+", "+this.altitude(t)},o.prototype.latitude=function(t){return t=s(t,{fixed:5,min:-90,max:90}),this.floating({min:t.min,max:t.max,fixed:t.fixed})},o.prototype.longitude=function(t){return t=s(t,{fixed:5,min:-180,max:180}),this.floating({min:t.min,max:t.max,fixed:t.fixed})},o.prototype.phone=function(t){var e,n=this,r=function(t){var e=[];return t.sections.forEach(function(t){e.push(n.string({pool:"0123456789",length:t}))}),t.area+e.join(" ")};t=s(t,{formatted:!0,country:"us",mobile:!1}),t.formatted||(t.parens=!1);var i;switch(t.country){case"fr":t.mobile?(e=this.pick(["06","07"])+n.string({pool:"0123456789",length:8}),i=t.formatted?e.match(/../g).join(" "):e):(e=this.pick(["01"+this.pick(["30","34","39","40","41","42","43","44","45","46","47","48","49","53","55","56","58","60","64","69","70","72","73","74","75","76","77","78","79","80","81","82","83"])+n.string({pool:"0123456789",length:6}),"02"+this.pick(["14","18","22","23","28","29","30","31","32","33","34","35","36","37","38","40","41","43","44","45","46","47","48","49","50","51","52","53","54","56","57","61","62","69","72","76","77","78","85","90","96","97","98","99"])+n.string({pool:"0123456789",length:6}),"03"+this.pick(["10","20","21","22","23","24","25","26","27","28","29","39","44","45","51","52","54","55","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","80","81","82","83","84","85","86","87","88","89","90"])+n.string({pool:"0123456789",length:6}),"04"+this.pick(["11","13","15","20","22","26","27","30","32","34","37","42","43","44","50","56","57","63","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","88","89","90","91","92","93","94","95","97","98"])+n.string({pool:"0123456789",length:6}),"05"+this.pick(["08","16","17","19","24","31","32","33","34","35","40","45","46","47","49","53","55","56","57","58","59","61","62","63","64","65","67","79","81","82","86","87","90","94"])+n.string({pool:"0123456789",length:6}),"09"+n.string({pool:"0123456789",length:8})]),i=t.formatted?e.match(/../g).join(" "):e);break;case"uk":t.mobile?(e=this.pick([{area:"07"+this.pick(["4","5","7","8","9"]),sections:[2,6]},{area:"07624 ",sections:[6]}]),i=t.formatted?r(e):r(e).replace(" ","")):(e=this.pick([{area:"01"+this.character({pool:"234569"})+"1 ",sections:[3,4]},{area:"020 "+this.character({pool:"378"}),sections:[3,4]},{area:"023 "+this.character({pool:"89"}),sections:[3,4]},{area:"024 7",sections:[3,4]},{area:"028 "+this.pick(["25","28","37","71","82","90","92","95"]),sections:[2,4]},{area:"012"+this.pick(["04","08","54","76","97","98"])+" ",sections:[5]},{area:"013"+this.pick(["63","64","84","86"])+" ",sections:[5]},{area:"014"+this.pick(["04","20","60","61","80","88"])+" ",sections:[5]},{area:"015"+this.pick(["24","27","62","66"])+" ",sections:[5]},{area:"016"+this.pick(["06","29","35","47","59","95"])+" ",sections:[5]},{area:"017"+this.pick(["26","44","50","68"])+" ",sections:[5]},{area:"018"+this.pick(["27","37","84","97"])+" ",sections:[5]},{area:"019"+this.pick(["00","05","35","46","49","63","95"])+" ",sections:[5]}]),i=t.formatted?r(e):r(e).replace(" ","","g"));break;case"us":var o=this.areacode(t).toString(),a=this.natural({min:2,max:9}).toString()+this.natural({min:0,max:9}).toString()+this.natural({min:0,max:9}).toString(),u=this.natural({min:1e3,max:9999}).toString();i=t.formatted?o+" "+a+"-"+u:o+a+u}return i},o.prototype.postal=function(){var t=this.character({pool:"XVTSRPNKLMHJGECBA"}),e=t+this.natural({max:9})+this.character({alpha:!0,casing:"upper"}),n=this.natural({max:9})+this.character({alpha:!0,casing:"upper"})+this.natural({max:9});return e+" "+n},o.prototype.provinces=function(){return this.get("provinces")},o.prototype.province=function(t){return t&&t.full?this.pick(this.provinces()).name:this.pick(this.provinces()).abbreviation},o.prototype.state=function(t){return t&&t.full?this.pick(this.states(t)).name:this.pick(this.states(t)).abbreviation},o.prototype.states=function(t){t=s(t);var e,n=this.get("us_states_and_dc"),r=this.get("territories"),i=this.get("armed_forces");return e=n,t.territories&&(e=e.concat(r)),t.armed_forces&&(e=e.concat(i)),e},o.prototype.street=function(t){t=s(t);var e=this.word({syllables:2});return e=this.capitalize(e),e+=" ",e+=t.short_suffix?this.street_suffix().abbreviation:this.street_suffix().name},o.prototype.street_suffix=function(){return this.pick(this.street_suffixes())},o.prototype.street_suffixes=function(){return this.get("street_suffixes")},o.prototype.zip=function(t){var e=this.n(this.natural,5,{max:9});return t&&t.plusfour===!0&&(e.push("-"),e=e.concat(this.n(this.natural,4,{max:9}))),e.join("")},o.prototype.ampm=function(){return this.bool()?"am":"pm"},o.prototype.date=function(t){var e,n;if(t&&(t.min||t.max)){t=s(t,{american:!0,string:!1});var r="undefined"!=typeof t.min?t.min.getTime():1,i="undefined"!=typeof t.max?t.max.getTime():864e13;n=new Date(this.natural({min:r,max:i}))}else{var o=this.month({raw:!0});t=s(t,{year:parseInt(this.year(),10),month:o.numeric-1,day:this.natural({min:1,max:o.days}),hour:this.hour(),minute:this.minute(),second:this.second(),millisecond:this.millisecond(),american:!0,string:!1}),n=new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond)}return e=t.american?n.getMonth()+1+"/"+n.getDate()+"/"+n.getFullYear():n.getDate()+"/"+(n.getMonth()+1)+"/"+n.getFullYear(),t.string?e:n},o.prototype.hammertime=function(t){return this.date(t).getTime()},o.prototype.hour=function(t){return t=s(t,{min:1,max:t&&t.twentyfour?24:12}),a(t.min<1,"Chance: Min cannot be less than 1."),a(t.twentyfour&&t.max>24,"Chance: Max cannot be greater than 24 for twentyfour option."),a(!t.twentyfour&&t.max>12,"Chance: Max cannot be greater than 12."),a(t.min>t.max,"Chance: Min cannot be greater than Max."),this.natural({min:t.min,max:t.max})},o.prototype.millisecond=function(){return this.natural({max:999})},o.prototype.minute=o.prototype.second=function(t){return t=s(t,{min:0,max:59}),a(t.min<0,"Chance: Min cannot be less than 0."),a(t.max>59,"Chance: Max cannot be greater than 59."),a(t.min>t.max,"Chance: Min cannot be greater than Max."),this.natural({min:t.min,max:t.max})},o.prototype.month=function(t){t=s(t,{min:1,max:12}),a(t.min<1,"Chance: Min cannot be less than 1."),a(t.max>12,"Chance: Max cannot be greater than 12."),a(t.min>t.max,"Chance: Min cannot be greater than Max.");var e=this.pick(this.months().slice(t.min-1,t.max));return t.raw?e:e.name},o.prototype.months=function(){return this.get("months")},o.prototype.second=function(){return this.natural({max:59})},o.prototype.timestamp=function(){return this.natural({min:1,max:parseInt((new Date).getTime()/1e3,10)})},o.prototype.year=function(t){return t=s(t,{min:(new Date).getFullYear()}),t.max="undefined"!=typeof t.max?t.max:t.min+100,this.natural(t).toString()},o.prototype.cc=function(t){t=s(t);var e,n,r;return e=this.cc_type(t.type?{name:t.type,raw:!0}:{raw:!0}),n=e.prefix.split(""),r=e.length-e.prefix.length-1,n=n.concat(this.n(this.integer,r,{min:0,max:9})),n.push(this.luhn_calculate(n.join(""))),n.join("")},o.prototype.cc_types=function(){return this.get("cc_types")},o.prototype.cc_type=function(t){t=s(t);var e=this.cc_types(),n=null;if(t.name){for(var r=0;r<e.length;r++)if(e[r].name===t.name||e[r].short_name===t.name){n=e[r];break}if(null===n)throw new Error("Credit card type '"+t.name+"'' is not supported")}else n=this.pick(e);return t.raw?n:n.name},o.prototype.currency_types=function(){return this.get("currency_types")},o.prototype.currency=function(){return this.pick(this.currency_types())},o.prototype.currency_pair=function(t){var e=this.unique(this.currency,2,{comparator:function(t,e){return t.reduce(function(t,n){return t||n.code===e.code},!1)}});return t?e[0]+"/"+e[1]:e},o.prototype.dollar=function(t){t=s(t,{max:1e4,min:0});var e=this.floating({min:t.min,max:t.max,fixed:2}).toString(),n=e.split(".")[1];return void 0===n?e+=".00":n.length<2&&(e+="0"),0>e?"-$"+e.replace("-",""):"$"+e},o.prototype.exp=function(t){t=s(t);var e={};return e.year=this.exp_year(),e.month=e.year===(new Date).getFullYear()?this.exp_month({future:!0}):this.exp_month(),t.raw?e:e.month+"/"+e.year},o.prototype.exp_month=function(t){t=s(t);var e,n,r=(new Date).getMonth();if(t.future){do e=this.month({raw:!0}).numeric,n=parseInt(e,10);while(r>n)}else e=this.month({raw:!0}).numeric;return e},o.prototype.exp_year=function(){return this.year({max:(new Date).getFullYear()+10})},o.prototype.d4=u({min:1,max:4}),o.prototype.d6=u({min:1,max:6}),o.prototype.d8=u({min:1,max:8}),o.prototype.d10=u({min:1,max:10}),o.prototype.d12=u({min:1,max:12}),o.prototype.d20=u({min:1,max:20}),o.prototype.d30=u({min:1,max:30}),o.prototype.d100=u({min:1,max:100}),o.prototype.rpg=function(t,e){if(e=s(e),null===t)throw new Error("A type of die roll must be included");var n=t.toLowerCase().split("d"),r=[];if(2!==n.length||!parseInt(n[0],10)||!parseInt(n[1],10))throw new Error("Invalid format provided. Please provide #d# where the first # is the number of dice to roll, the second # is the max of each die");for(var i=n[0];i>0;i--)r[i-1]=this.natural({min:1,max:n[1]});return"undefined"!=typeof e.sum&&e.sum?r.reduce(function(t,e){return t+e}):r},o.prototype.guid=function(t){t=s(t,{version:5});var e="abcdef1234567890",n="ab89",r=this.string({pool:e,length:8})+"-"+this.string({pool:e,length:4})+"-"+t.version+this.string({pool:e,length:3})+"-"+this.string({pool:n,length:1})+this.string({pool:e,length:3})+"-"+this.string({pool:e,length:12});return r},o.prototype.hash=function(t){t=s(t,{length:40,casing:"lower"});var e="upper"===t.casing?m.toUpperCase():m;return this.string({pool:e,length:t.length})},o.prototype.luhn_check=function(t){var e=t.toString(),n=+e.substring(e.length-1);return n===this.luhn_calculate(+e.substring(0,e.length-1))},o.prototype.luhn_calculate=function(t){for(var e,n=t.toString().split("").reverse(),r=0,i=0,o=n.length;o>i;++i)e=+n[i],i%2===0&&(e*=2,e>9&&(e-=9)),r+=e;return 9*r%10};var w={firstNames:{male:["James","John","Robert","Michael","William","David","Richard","Joseph","Charles","Thomas","Christopher","Daniel","Matthew","George","Donald","Anthony","Paul","Mark","Edward","Steven","Kenneth","Andrew","Brian","Joshua","Kevin","Ronald","Timothy","Jason","Jeffrey","Frank","Gary","Ryan","Nicholas","Eric","Stephen","Jacob","Larry","Jonathan","Scott","Raymond","Justin","Brandon","Gregory","Samuel","Benjamin","Patrick","Jack","Henry","Walter","Dennis","Jerry","Alexander","Peter","Tyler","Douglas","Harold","Aaron","Jose","Adam","Arthur","Zachary","Carl","Nathan","Albert","Kyle","Lawrence","Joe","Willie","Gerald","Roger","Keith","Jeremy","Terry","Harry","Ralph","Sean","Jesse","Roy","Louis","Billy","Austin","Bruce","Eugene","Christian","Bryan","Wayne","Russell","Howard","Fred","Ethan","Jordan","Philip","Alan","Juan","Randy","Vincent","Bobby","Dylan","Johnny","Phillip","Victor","Clarence","Ernest","Martin","Craig","Stanley","Shawn","Travis","Bradley","Leonard","Earl","Gabriel","Jimmy","Francis","Todd","Noah","Danny","Dale","Cody","Carlos","Allen","Frederick","Logan","Curtis","Alex","Joel","Luis","Norman","Marvin","Glenn","Tony","Nathaniel","Rodney","Melvin","Alfred","Steve","Cameron","Chad","Edwin","Caleb","Evan","Antonio","Lee","Herbert","Jeffery","Isaac","Derek","Ricky","Marcus","Theodore","Elijah","Luke","Jesus","Eddie","Troy","Mike","Dustin","Ray","Adrian","Bernard","Leroy","Angel","Randall","Wesley","Ian","Jared","Mason","Hunter","Calvin","Oscar","Clifford","Jay","Shane","Ronnie","Barry","Lucas","Corey","Manuel","Leo","Tommy","Warren","Jackson","Isaiah","Connor","Don","Dean","Jon","Julian","Miguel","Bill","Lloyd","Charlie","Mitchell","Leon","Jerome","Darrell","Jeremiah","Alvin","Brett","Seth","Floyd","Jim","Blake","Micheal","Gordon","Trevor","Lewis","Erik","Edgar","Vernon","Devin","Gavin","Jayden","Chris","Clyde","Tom","Derrick","Mario","Brent","Marc","Herman","Chase","Dominic","Ricardo","Franklin","Maurice","Max","Aiden","Owen","Lester","Gilbert","Elmer","Gene","Francisco","Glen","Cory","Garrett","Clayton","Sam","Jorge","Chester","Alejandro","Jeff","Harvey","Milton","Cole","Ivan","Andre","Duane","Landon"],female:["Mary","Emma","Elizabeth","Minnie","Margaret","Ida","Alice","Bertha","Sarah","Annie","Clara","Ella","Florence","Cora","Martha","Laura","Nellie","Grace","Carrie","Maude","Mabel","Bessie","Jennie","Gertrude","Julia","Hattie","Edith","Mattie","Rose","Catherine","Lillian","Ada","Lillie","Helen","Jessie","Louise","Ethel","Lula","Myrtle","Eva","Frances","Lena","Lucy","Edna","Maggie","Pearl","Daisy","Fannie","Josephine","Dora","Rosa","Katherine","Agnes","Marie","Nora","May","Mamie","Blanche","Stella","Ellen","Nancy","Effie","Sallie","Nettie","Della","Lizzie","Flora","Susie","Maud","Mae","Etta","Harriet","Sadie","Caroline","Katie","Lydia","Elsie","Kate","Susan","Mollie","Alma","Addie","Georgia","Eliza","Lulu","Nannie","Lottie","Amanda","Belle","Charlotte","Rebecca","Ruth","Viola","Olive","Amelia","Hannah","Jane","Virginia","Emily","Matilda","Irene","Kathryn","Esther","Willie","Henrietta","Ollie","Amy","Rachel","Sara","Estella","Theresa","Augusta","Ora","Pauline","Josie","Lola","Sophia","Leona","Anne","Mildred","Ann","Beulah","Callie","Lou","Delia","Eleanor","Barbara","Iva","Louisa","Maria","Mayme","Evelyn","Estelle","Nina","Betty","Marion","Bettie","Dorothy","Luella","Inez","Lela","Rosie","Allie","Millie","Janie","Cornelia","Victoria","Ruby","Winifred","Alta","Celia","Christine","Beatrice","Birdie","Harriett","Mable","Myra","Sophie","Tillie","Isabel","Sylvia","Carolyn","Isabelle","Leila","Sally","Ina","Essie","Bertie","Nell","Alberta","Katharine","Lora","Rena","Mina","Rhoda","Mathilda","Abbie","Eula","Dollie","Hettie","Eunice","Fanny","Ola","Lenora","Adelaide","Christina","Lelia","Nelle","Sue","Johanna","Lilly","Lucinda","Minerva","Lettie","Roxie","Cynthia","Helena","Hilda","Hulda","Bernice","Genevieve","Jean","Cordelia","Marian","Francis","Jeanette","Adeline","Gussie","Leah","Lois","Lura","Mittie","Hallie","Isabella","Olga","Phoebe","Teresa","Hester","Lida","Lina","Winnie","Claudia","Marguerite","Vera","Cecelia","Bess","Emilie","John","Rosetta","Verna","Myrtie","Cecilia","Elva","Olivia","Ophelia","Georgie","Elnora","Violet","Adele","Lily","Linnie","Loretta","Madge","Polly","Virgie","Eugenia","Lucile","Lucille","Mabelle","Rosalie"]},lastNames:["Smith","Johnson","Williams","Jones","Brown","Davis","Miller","Wilson","Moore","Taylor","Anderson","Thomas","Jackson","White","Harris","Martin","Thompson","Garcia","Martinez","Robinson","Clark","Rodriguez","Lewis","Lee","Walker","Hall","Allen","Young","Hernandez","King","Wright","Lopez","Hill","Scott","Green","Adams","Baker","Gonzalez","Nelson","Carter","Mitchell","Perez","Roberts","Turner","Phillips","Campbell","Parker","Evans","Edwards","Collins","Stewart","Sanchez","Morris","Rogers","Reed","Cook","Morgan","Bell","Murphy","Bailey","Rivera","Cooper","Richardson","Cox","Howard","Ward","Torres","Peterson","Gray","Ramirez","James","Watson","Brooks","Kelly","Sanders","Price","Bennett","Wood","Barnes","Ross","Henderson","Coleman","Jenkins","Perry","Powell","Long","Patterson","Hughes","Flores","Washington","Butler","Simmons","Foster","Gonzales","Bryant","Alexander","Russell","Griffin","Diaz","Hayes","Myers","Ford","Hamilton","Graham","Sullivan","Wallace","Woods","Cole","West","Jordan","Owens","Reynolds","Fisher","Ellis","Harrison","Gibson","McDonald","Cruz","Marshall","Ortiz","Gomez","Murray","Freeman","Wells","Webb","Simpson","Stevens","Tucker","Porter","Hunter","Hicks","Crawford","Henry","Boyd","Mason","Morales","Kennedy","Warren","Dixon","Ramos","Reyes","Burns","Gordon","Shaw","Holmes","Rice","Robertson","Hunt","Black","Daniels","Palmer","Mills","Nichols","Grant","Knight","Ferguson","Rose","Stone","Hawkins","Dunn","Perkins","Hudson","Spencer","Gardner","Stephens","Payne","Pierce","Berry","Matthews","Arnold","Wagner","Willis","Ray","Watkins","Olson","Carroll","Duncan","Snyder","Hart","Cunningham","Bradley","Lane","Andrews","Ruiz","Harper","Fox","Riley","Armstrong","Carpenter","Weaver","Greene","Lawrence","Elliott","Chavez","Sims","Austin","Peters","Kelley","Franklin","Lawson","Fields","Gutierrez","Ryan","Schmidt","Carr","Vasquez","Castillo","Wheeler","Chapman","Oliver","Montgomery","Richards","Williamson","Johnston","Banks","Meyer","Bishop","McCoy","Howell","Alvarez","Morrison","Hansen","Fernandez","Garza","Harvey","Little","Burton","Stanley","Nguyen","George","Jacobs","Reid","Kim","Fuller","Lynch","Dean","Gilbert","Garrett","Romero","Welch","Larson","Frazier","Burke","Hanson","Day","Mendoza","Moreno","Bowman","Medina","Fowler","Brewer","Hoffman","Carlson","Silva","Pearson","Holland","Douglas","Fleming","Jensen","Vargas","Byrd","Davidson","Hopkins","May","Terry","Herrera","Wade","Soto","Walters","Curtis","Neal","Caldwell","Lowe","Jennings","Barnett","Graves","Jimenez","Horton","Shelton","Barrett","Obrien","Castro","Sutton","Gregory","McKinney","Lucas","Miles","Craig","Rodriquez","Chambers","Holt","Lambert","Fletcher","Watts","Bates","Hale","Rhodes","Pena","Beck","Newman","Haynes","McDaniel","Mendez","Bush","Vaughn","Parks","Dawson","Santiago","Norris","Hardy","Love","Steele","Curry","Powers","Schultz","Barker","Guzman","Page","Munoz","Ball","Keller","Chandler","Weber","Leonard","Walsh","Lyons","Ramsey","Wolfe","Schneider","Mullins","Benson","Sharp","Bowen","Daniel","Barber","Cummings","Hines","Baldwin","Griffith","Valdez","Hubbard","Salazar","Reeves","Warner","Stevenson","Burgess","Santos","Tate","Cross","Garner","Mann","Mack","Moss","Thornton","Dennis","McGee","Farmer","Delgado","Aguilar","Vega","Glover","Manning","Cohen","Harmon","Rodgers","Robbins","Newton","Todd","Blair","Higgins","Ingram","Reese","Cannon","Strickland","Townsend","Potter","Goodwin","Walton","Rowe","Hampton","Ortega","Patton","Swanson","Joseph","Francis","Goodman","Maldonado","Yates","Becker","Erickson","Hodges","Rios","Conner","Adkins","Webster","Norman","Malone","Hammond","Flowers","Cobb","Moody","Quinn","Blake","Maxwell","Pope","Floyd","Osborne","Paul","McCarthy","Guerrero","Lindsey","Estrada","Sandoval","Gibbs","Tyler","Gross","Fitzgerald","Stokes","Doyle","Sherman","Saunders","Wise","Colon","Gill","Alvarado","Greer","Padilla","Simon","Waters","Nunez","Ballard","Schwartz","McBride","Houston","Christensen","Klein","Pratt","Briggs","Parsons","McLaughlin","Zimmerman","French","Buchanan","Moran","Copeland","Roy","Pittman","Brady","McCormick","Holloway","Brock","Poole","Frank","Logan","Owen","Bass","Marsh","Drake","Wong","Jefferson","Park","Morton","Abbott","Sparks","Patrick","Norton","Huff","Clayton","Massey","Lloyd","Figueroa","Carson","Bowers","Roberson","Barton","Tran","Lamb","Harrington","Casey","Boone","Cortez","Clarke","Mathis","Singleton","Wilkins","Cain","Bryan","Underwood","Hogan","McKenzie","Collier","Luna","Phelps","McGuire","Allison","Bridges","Wilkerson","Nash","Summers","Atkins"],countries:[{name:"Afghanistan",abbreviation:"AF"},{name:"Albania",abbreviation:"AL"},{name:"Algeria",abbreviation:"DZ"},{name:"American Samoa",abbreviation:"AS"},{name:"Andorra",abbreviation:"AD"},{name:"Angola",abbreviation:"AO"},{name:"Anguilla",abbreviation:"AI"},{name:"Antarctica",abbreviation:"AQ"},{name:"Antigua and Barbuda",abbreviation:"AG"},{name:"Argentina",abbreviation:"AR"},{name:"Armenia",abbreviation:"AM"},{name:"Aruba",abbreviation:"AW"},{name:"Australia",abbreviation:"AU"},{name:"Austria",abbreviation:"AT"},{name:"Azerbaijan",abbreviation:"AZ"},{name:"Bahamas",abbreviation:"BS"},{name:"Bahrain",abbreviation:"BH"},{name:"Bangladesh",abbreviation:"BD"},{name:"Barbados",abbreviation:"BB"},{name:"Belarus",abbreviation:"BY"},{name:"Belgium",abbreviation:"BE"},{name:"Belize",abbreviation:"BZ"},{name:"Benin",abbreviation:"BJ"},{name:"Bermuda",abbreviation:"BM"},{name:"Bhutan",abbreviation:"BT"},{name:"Bolivia",abbreviation:"BO"},{name:"Bosnia and Herzegovina",abbreviation:"BA"},{name:"Botswana",abbreviation:"BW"},{name:"Bouvet Island",abbreviation:"BV"},{name:"Brazil",abbreviation:"BR"},{name:"British Antarctic Territory",abbreviation:"BQ"},{name:"British Indian Ocean Territory",abbreviation:"IO"},{name:"British Virgin Islands",abbreviation:"VG"},{name:"Brunei",abbreviation:"BN"},{name:"Bulgaria",abbreviation:"BG"},{name:"Burkina Faso",abbreviation:"BF"},{name:"Burundi",abbreviation:"BI"},{name:"Cambodia",abbreviation:"KH"},{name:"Cameroon",abbreviation:"CM"},{name:"Canada",abbreviation:"CA"},{name:"Canton and Enderbury Islands",abbreviation:"CT"},{name:"Cape Verde",abbreviation:"CV"},{name:"Cayman Islands",abbreviation:"KY"},{name:"Central African Republic",abbreviation:"CF"},{name:"Chad",abbreviation:"TD"},{name:"Chile",abbreviation:"CL"},{name:"China",abbreviation:"CN"},{name:"Christmas Island",abbreviation:"CX"},{name:"Cocos [Keeling] Islands",abbreviation:"CC"},{name:"Colombia",abbreviation:"CO"},{name:"Comoros",abbreviation:"KM"},{name:"Congo - Brazzaville",abbreviation:"CG"},{name:"Congo - Kinshasa",abbreviation:"CD"},{name:"Cook Islands",abbreviation:"CK"},{name:"Costa Rica",abbreviation:"CR"},{name:"Croatia",abbreviation:"HR"},{name:"Cuba",abbreviation:"CU"},{name:"Cyprus",abbreviation:"CY"},{name:"Czech Republic",abbreviation:"CZ"},{name:"Côte d’Ivoire",abbreviation:"CI"},{name:"Denmark",abbreviation:"DK"},{name:"Djibouti",abbreviation:"DJ"},{name:"Dominica",abbreviation:"DM"},{name:"Dominican Republic",abbreviation:"DO"},{name:"Dronning Maud Land",abbreviation:"NQ"},{name:"East Germany",abbreviation:"DD"},{name:"Ecuador",abbreviation:"EC"},{name:"Egypt",abbreviation:"EG"},{name:"El Salvador",abbreviation:"SV"},{name:"Equatorial Guinea",abbreviation:"GQ"},{name:"Eritrea",abbreviation:"ER"},{name:"Estonia",abbreviation:"EE"},{name:"Ethiopia",abbreviation:"ET"},{name:"Falkland Islands",abbreviation:"FK"},{name:"Faroe Islands",abbreviation:"FO"},{name:"Fiji",abbreviation:"FJ"},{name:"Finland",abbreviation:"FI"},{name:"France",abbreviation:"FR"},{name:"French Guiana",abbreviation:"GF"},{name:"French Polynesia",abbreviation:"PF"},{name:"French Southern Territories",abbreviation:"TF"},{name:"French Southern and Antarctic Territories",abbreviation:"FQ"},{name:"Gabon",abbreviation:"GA"},{name:"Gambia",abbreviation:"GM"},{name:"Georgia",abbreviation:"GE"},{name:"Germany",abbreviation:"DE"},{name:"Ghana",abbreviation:"GH"},{name:"Gibraltar",abbreviation:"GI"},{name:"Greece",abbreviation:"GR"},{name:"Greenland",abbreviation:"GL"},{name:"Grenada",abbreviation:"GD"},{name:"Guadeloupe",abbreviation:"GP"},{name:"Guam",abbreviation:"GU"},{name:"Guatemala",abbreviation:"GT"},{name:"Guernsey",abbreviation:"GG"},{name:"Guinea",abbreviation:"GN"},{name:"Guinea-Bissau",abbreviation:"GW"},{name:"Guyana",abbreviation:"GY"},{name:"Haiti",abbreviation:"HT"},{name:"Heard Island and McDonald Islands",abbreviation:"HM"},{name:"Honduras",abbreviation:"HN"},{name:"Hong Kong SAR China",abbreviation:"HK"},{name:"Hungary",abbreviation:"HU"},{name:"Iceland",abbreviation:"IS"},{name:"India",abbreviation:"IN"},{name:"Indonesia",abbreviation:"ID"},{name:"Iran",abbreviation:"IR"},{name:"Iraq",abbreviation:"IQ"},{name:"Ireland",abbreviation:"IE"},{name:"Isle of Man",abbreviation:"IM"},{name:"Israel",abbreviation:"IL"},{name:"Italy",abbreviation:"IT"},{name:"Jamaica",abbreviation:"JM"},{name:"Japan",abbreviation:"JP"},{name:"Jersey",abbreviation:"JE"},{name:"Johnston Island",abbreviation:"JT"},{name:"Jordan",abbreviation:"JO"},{name:"Kazakhstan",abbreviation:"KZ"},{name:"Kenya",abbreviation:"KE"},{name:"Kiribati",abbreviation:"KI"},{name:"Kuwait",abbreviation:"KW"},{name:"Kyrgyzstan",abbreviation:"KG"},{name:"Laos",abbreviation:"LA"},{name:"Latvia",abbreviation:"LV"},{name:"Lebanon",abbreviation:"LB"},{name:"Lesotho",abbreviation:"LS"},{name:"Liberia",abbreviation:"LR"},{name:"Libya",abbreviation:"LY"},{name:"Liechtenstein",abbreviation:"LI"},{name:"Lithuania",abbreviation:"LT"},{name:"Luxembourg",abbreviation:"LU"},{name:"Macau SAR China",abbreviation:"MO"},{name:"Macedonia",abbreviation:"MK"},{name:"Madagascar",abbreviation:"MG"},{name:"Malawi",abbreviation:"MW"},{name:"Malaysia",abbreviation:"MY"},{name:"Maldives",abbreviation:"MV"},{name:"Mali",abbreviation:"ML"},{name:"Malta",abbreviation:"MT"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Martinique",abbreviation:"MQ"},{name:"Mauritania",abbreviation:"MR"},{name:"Mauritius",abbreviation:"MU"},{name:"Mayotte",abbreviation:"YT"},{name:"Metropolitan France",abbreviation:"FX"},{name:"Mexico",abbreviation:"MX"},{name:"Micronesia",abbreviation:"FM"},{name:"Midway Islands",abbreviation:"MI"},{name:"Moldova",abbreviation:"MD"},{name:"Monaco",abbreviation:"MC"},{name:"Mongolia",abbreviation:"MN"},{name:"Montenegro",abbreviation:"ME"},{name:"Montserrat",abbreviation:"MS"},{name:"Morocco",abbreviation:"MA"},{name:"Mozambique",abbreviation:"MZ"},{name:"Myanmar [Burma]",abbreviation:"MM"},{name:"Namibia",abbreviation:"NA"},{name:"Nauru",abbreviation:"NR"},{name:"Nepal",abbreviation:"NP"},{name:"Netherlands",abbreviation:"NL"},{name:"Netherlands Antilles",abbreviation:"AN"},{name:"Neutral Zone",abbreviation:"NT"},{name:"New Caledonia",abbreviation:"NC"},{name:"New Zealand",abbreviation:"NZ"},{name:"Nicaragua",abbreviation:"NI"},{name:"Niger",abbreviation:"NE"},{name:"Nigeria",abbreviation:"NG"},{name:"Niue",abbreviation:"NU"},{name:"Norfolk Island",abbreviation:"NF"},{name:"North Korea",abbreviation:"KP"},{name:"North Vietnam",abbreviation:"VD"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Norway",abbreviation:"NO"},{name:"Oman",abbreviation:"OM"},{name:"Pacific Islands Trust Territory",abbreviation:"PC"},{name:"Pakistan",abbreviation:"PK"},{name:"Palau",abbreviation:"PW"},{name:"Palestinian Territories",abbreviation:"PS"},{name:"Panama",abbreviation:"PA"},{name:"Panama Canal Zone",abbreviation:"PZ"},{name:"Papua New Guinea",abbreviation:"PG"},{name:"Paraguay",abbreviation:"PY"},{name:"People's Democratic Republic of Yemen",abbreviation:"YD"},{name:"Peru",abbreviation:"PE"},{name:"Philippines",abbreviation:"PH"},{name:"Pitcairn Islands",abbreviation:"PN"},{name:"Poland",abbreviation:"PL"},{name:"Portugal",abbreviation:"PT"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Qatar",abbreviation:"QA"},{name:"Romania",abbreviation:"RO"},{name:"Russia",abbreviation:"RU"},{name:"Rwanda",abbreviation:"RW"},{name:"Réunion",abbreviation:"RE"},{name:"Saint Barthélemy",abbreviation:"BL"},{name:"Saint Helena",abbreviation:"SH"},{name:"Saint Kitts and Nevis",abbreviation:"KN"},{name:"Saint Lucia",abbreviation:"LC"},{name:"Saint Martin",abbreviation:"MF"},{name:"Saint Pierre and Miquelon",abbreviation:"PM"},{name:"Saint Vincent and the Grenadines",abbreviation:"VC"},{name:"Samoa",abbreviation:"WS"},{name:"San Marino",abbreviation:"SM"},{name:"Saudi Arabia",abbreviation:"SA"},{name:"Senegal",abbreviation:"SN"},{name:"Serbia",abbreviation:"RS"},{name:"Serbia and Montenegro",abbreviation:"CS"},{name:"Seychelles",abbreviation:"SC"},{name:"Sierra Leone",abbreviation:"SL"},{name:"Singapore",abbreviation:"SG"},{name:"Slovakia",abbreviation:"SK"},{name:"Slovenia",abbreviation:"SI"},{name:"Solomon Islands",abbreviation:"SB"},{name:"Somalia",abbreviation:"SO"},{name:"South Africa",abbreviation:"ZA"},{name:"South Georgia and the South Sandwich Islands",abbreviation:"GS"},{name:"South Korea",abbreviation:"KR"},{name:"Spain",abbreviation:"ES"},{name:"Sri Lanka",abbreviation:"LK"},{name:"Sudan",abbreviation:"SD"},{name:"Suriname",abbreviation:"SR"},{name:"Svalbard and Jan Mayen",abbreviation:"SJ"},{name:"Swaziland",abbreviation:"SZ"},{name:"Sweden",abbreviation:"SE"},{name:"Switzerland",abbreviation:"CH"},{name:"Syria",abbreviation:"SY"},{name:"São Tomé and Príncipe",abbreviation:"ST"},{name:"Taiwan",abbreviation:"TW"},{name:"Tajikistan",abbreviation:"TJ"},{name:"Tanzania",abbreviation:"TZ"},{name:"Thailand",abbreviation:"TH"},{name:"Timor-Leste",abbreviation:"TL"},{name:"Togo",abbreviation:"TG"},{name:"Tokelau",abbreviation:"TK"},{name:"Tonga",abbreviation:"TO"},{name:"Trinidad and Tobago",abbreviation:"TT"},{name:"Tunisia",abbreviation:"TN"},{name:"Turkey",abbreviation:"TR"},{name:"Turkmenistan",abbreviation:"TM"},{name:"Turks and Caicos Islands",abbreviation:"TC"},{name:"Tuvalu",abbreviation:"TV"},{name:"U.S. Minor Outlying Islands",abbreviation:"UM"},{name:"U.S. Miscellaneous Pacific Islands",abbreviation:"PU"},{name:"U.S. Virgin Islands",abbreviation:"VI"},{name:"Uganda",abbreviation:"UG"},{name:"Ukraine",abbreviation:"UA"},{name:"Union of Soviet Socialist Republics",abbreviation:"SU"},{name:"United Arab Emirates",abbreviation:"AE"},{name:"United Kingdom",abbreviation:"GB"},{name:"United States",abbreviation:"US"},{name:"Unknown or Invalid Region",abbreviation:"ZZ"},{name:"Uruguay",abbreviation:"UY"},{name:"Uzbekistan",abbreviation:"UZ"},{name:"Vanuatu",abbreviation:"VU"},{name:"Vatican City",abbreviation:"VA"},{name:"Venezuela",abbreviation:"VE"},{name:"Vietnam",abbreviation:"VN"},{name:"Wake Island",abbreviation:"WK"},{name:"Wallis and Futuna",abbreviation:"WF"},{name:"Western Sahara",abbreviation:"EH"},{name:"Yemen",abbreviation:"YE"},{name:"Zambia",abbreviation:"ZM"},{name:"Zimbabwe",abbreviation:"ZW"},{name:"Åland Islands",abbreviation:"AX"}],provinces:[{name:"Alberta",abbreviation:"AB"},{name:"British Columbia",abbreviation:"BC"},{name:"Manitoba",abbreviation:"MB"},{name:"New Brunswick",abbreviation:"NB"},{name:"Newfoundland and Labrador",abbreviation:"NL"},{name:"Nova Scotia",abbreviation:"NS"},{name:"Ontario",abbreviation:"ON"},{name:"Prince Edward Island",abbreviation:"PE"},{name:"Quebec",abbreviation:"QC"},{name:"Saskatchewan",abbreviation:"SK"},{name:"Northwest Territories",abbreviation:"NT"},{name:"Nunavut",abbreviation:"NU"},{name:"Yukon",abbreviation:"YT"}],us_states_and_dc:[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District of Columbia",abbreviation:"DC"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}],territories:[{name:"American Samoa",abbreviation:"AS"},{name:"Federated States of Micronesia",abbreviation:"FM"},{name:"Guam",abbreviation:"GU"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Virgin Islands, U.S.",abbreviation:"VI"}],armed_forces:[{name:"Armed Forces Europe",abbreviation:"AE"},{name:"Armed Forces Pacific",abbreviation:"AP"},{name:"Armed Forces the Americas",abbreviation:"AA"}],street_suffixes:[{name:"Avenue",abbreviation:"Ave"},{name:"Boulevard",abbreviation:"Blvd"},{name:"Center",abbreviation:"Ctr"},{name:"Circle",abbreviation:"Cir"},{name:"Court",abbreviation:"Ct"},{name:"Drive",abbreviation:"Dr"},{name:"Extension",abbreviation:"Ext"},{name:"Glen",abbreviation:"Gln"},{name:"Grove",abbreviation:"Grv"},{name:"Heights",abbreviation:"Hts"},{name:"Highway",abbreviation:"Hwy"},{name:"Junction",abbreviation:"Jct"},{name:"Key",abbreviation:"Key"},{name:"Lane",abbreviation:"Ln"},{name:"Loop",abbreviation:"Loop"},{name:"Manor",abbreviation:"Mnr"},{name:"Mill",abbreviation:"Mill"},{name:"Park",abbreviation:"Park"},{name:"Parkway",abbreviation:"Pkwy"},{name:"Pass",abbreviation:"Pass"},{name:"Path",abbreviation:"Path"},{name:"Pike",abbreviation:"Pike"},{name:"Place",abbreviation:"Pl"},{name:"Plaza",abbreviation:"Plz"},{name:"Point",abbreviation:"Pt"},{name:"Ridge",abbreviation:"Rdg"},{name:"River",abbreviation:"Riv"},{name:"Road",abbreviation:"Rd"},{name:"Square",abbreviation:"Sq"},{name:"Street",abbreviation:"St"},{name:"Terrace",abbreviation:"Ter"},{name:"Trail",abbreviation:"Trl"},{name:"Turnpike",abbreviation:"Tpke"},{name:"View",abbreviation:"Vw"},{name:"Way",abbreviation:"Way"}],months:[{name:"January",short_name:"Jan",numeric:"01",days:31},{name:"February",short_name:"Feb",numeric:"02",days:28},{name:"March",short_name:"Mar",numeric:"03",days:31},{name:"April",short_name:"Apr",numeric:"04",days:30},{name:"May",short_name:"May",numeric:"05",days:31},{name:"June",short_name:"Jun",numeric:"06",days:30},{name:"July",short_name:"Jul",numeric:"07",days:31},{name:"August",short_name:"Aug",numeric:"08",days:31},{name:"September",short_name:"Sep",numeric:"09",days:30},{name:"October",short_name:"Oct",numeric:"10",days:31},{name:"November",short_name:"Nov",numeric:"11",days:30},{name:"December",short_name:"Dec",numeric:"12",days:31}],cc_types:[{name:"American Express",short_name:"amex",prefix:"34",length:15},{name:"Bankcard",short_name:"bankcard",prefix:"5610",length:16},{name:"China UnionPay",short_name:"chinaunion",prefix:"62",length:16},{name:"Diners Club Carte Blanche",short_name:"dccarte",prefix:"300",length:14},{name:"Diners Club enRoute",short_name:"dcenroute",prefix:"2014",length:15},{name:"Diners Club International",short_name:"dcintl",prefix:"36",length:14},{name:"Diners Club United States & Canada",short_name:"dcusc",prefix:"54",length:16},{name:"Discover Card",short_name:"discover",prefix:"6011",length:16},{name:"InstaPayment",short_name:"instapay",prefix:"637",length:16},{name:"JCB",short_name:"jcb",prefix:"3528",length:16},{name:"Laser",short_name:"laser",prefix:"6304",length:16},{name:"Maestro",short_name:"maestro",prefix:"5018",length:16},{name:"Mastercard",short_name:"mc",prefix:"51",length:16},{name:"Solo",short_name:"solo",prefix:"6334",length:16},{name:"Switch",short_name:"switch",prefix:"4903",length:16},{name:"Visa",short_name:"visa",prefix:"4",length:16},{name:"Visa Electron",short_name:"electron",prefix:"4026",length:16}],currency_types:[{code:"AED",name:"United Arab Emirates Dirham"},{code:"AFN",name:"Afghanistan Afghani"},{code:"ALL",name:"Albania Lek"},{code:"AMD",name:"Armenia Dram"},{code:"ANG",name:"Netherlands Antilles Guilder"},{code:"AOA",name:"Angola Kwanza"},{code:"ARS",name:"Argentina Peso"},{code:"AUD",name:"Australia Dollar"},{code:"AWG",name:"Aruba Guilder"},{code:"AZN",name:"Azerbaijan New Manat"},{code:"BAM",name:"Bosnia and Herzegovina Convertible Marka"},{code:"BBD",name:"Barbados Dollar"},{code:"BDT",name:"Bangladesh Taka"},{code:"BGN",name:"Bulgaria Lev"},{code:"BHD",name:"Bahrain Dinar"},{code:"BIF",name:"Burundi Franc"},{code:"BMD",name:"Bermuda Dollar"},{code:"BND",name:"Brunei Darussalam Dollar"},{code:"BOB",name:"Bolivia Boliviano"},{code:"BRL",name:"Brazil Real"},{code:"BSD",name:"Bahamas Dollar"},{code:"BTN",name:"Bhutan Ngultrum"},{code:"BWP",name:"Botswana Pula"},{code:"BYR",name:"Belarus Ruble"},{code:"BZD",name:"Belize Dollar"},{code:"CAD",name:"Canada Dollar"},{code:"CDF",name:"Congo/Kinshasa Franc"},{code:"CHF",name:"Switzerland Franc"},{code:"CLP",name:"Chile Peso"},{code:"CNY",name:"China Yuan Renminbi"},{code:"COP",name:"Colombia Peso"},{code:"CRC",name:"Costa Rica Colon"},{code:"CUC",name:"Cuba Convertible Peso"},{code:"CUP",name:"Cuba Peso"},{code:"CVE",name:"Cape Verde Escudo"},{code:"CZK",name:"Czech Republic Koruna"},{code:"DJF",name:"Djibouti Franc"},{code:"DKK",name:"Denmark Krone"},{code:"DOP",name:"Dominican Republic Peso"},{code:"DZD",name:"Algeria Dinar"},{code:"EGP",name:"Egypt Pound"},{code:"ERN",name:"Eritrea Nakfa"},{code:"ETB",name:"Ethiopia Birr"},{code:"EUR",name:"Euro Member Countries"},{code:"FJD",name:"Fiji Dollar"},{code:"FKP",name:"Falkland Islands (Malvinas) Pound"},{code:"GBP",name:"United Kingdom Pound"},{code:"GEL",name:"Georgia Lari"},{code:"GGP",name:"Guernsey Pound"},{code:"GHS",name:"Ghana Cedi"},{code:"GIP",name:"Gibraltar Pound"},{code:"GMD",name:"Gambia Dalasi"},{code:"GNF",name:"Guinea Franc"},{code:"GTQ",name:"Guatemala Quetzal"},{code:"GYD",name:"Guyana Dollar"},{code:"HKD",name:"Hong Kong Dollar"},{code:"HNL",name:"Honduras Lempira"},{code:"HRK",name:"Croatia Kuna"},{code:"HTG",name:"Haiti Gourde"},{code:"HUF",name:"Hungary Forint"},{code:"IDR",name:"Indonesia Rupiah"},{code:"ILS",name:"Israel Shekel"},{code:"IMP",name:"Isle of Man Pound"},{code:"INR",name:"India Rupee"},{code:"IQD",name:"Iraq Dinar"},{code:"IRR",name:"Iran Rial"},{code:"ISK",name:"Iceland Krona"},{code:"JEP",name:"Jersey Pound"},{code:"JMD",name:"Jamaica Dollar"},{code:"JOD",name:"Jordan Dinar"},{code:"JPY",name:"Japan Yen"},{code:"KES",name:"Kenya Shilling"},{code:"KGS",name:"Kyrgyzstan Som"},{code:"KHR",name:"Cambodia Riel"},{code:"KMF",name:"Comoros Franc"},{code:"KPW",name:"Korea (North) Won"},{code:"KRW",name:"Korea (South) Won"},{code:"KWD",name:"Kuwait Dinar"},{code:"KYD",name:"Cayman Islands Dollar"},{code:"KZT",name:"Kazakhstan Tenge"},{code:"LAK",name:"Laos Kip"},{code:"LBP",name:"Lebanon Pound"},{code:"LKR",name:"Sri Lanka Rupee"},{code:"LRD",name:"Liberia Dollar"},{code:"LSL",name:"Lesotho Loti"},{code:"LTL",name:"Lithuania Litas"},{code:"LYD",name:"Libya Dinar"},{code:"MAD",name:"Morocco Dirham"},{code:"MDL",name:"Moldova Leu"},{code:"MGA",name:"Madagascar Ariary"},{code:"MKD",name:"Macedonia Denar"},{code:"MMK",name:"Myanmar (Burma) Kyat"},{code:"MNT",name:"Mongolia Tughrik"},{code:"MOP",name:"Macau Pataca"},{code:"MRO",name:"Mauritania Ouguiya"},{code:"MUR",name:"Mauritius Rupee"},{code:"MVR",name:"Maldives (Maldive Islands) Rufiyaa"},{code:"MWK",name:"Malawi Kwacha"},{code:"MXN",name:"Mexico Peso"},{code:"MYR",name:"Malaysia Ringgit"},{code:"MZN",name:"Mozambique Metical"},{code:"NAD",name:"Namibia Dollar"},{code:"NGN",name:"Nigeria Naira"},{code:"NIO",name:"Nicaragua Cordoba"},{code:"NOK",name:"Norway Krone"},{code:"NPR",name:"Nepal Rupee"},{code:"NZD",name:"New Zealand Dollar"},{code:"OMR",name:"Oman Rial"},{code:"PAB",name:"Panama Balboa"},{code:"PEN",name:"Peru Nuevo Sol"},{code:"PGK",name:"Papua New Guinea Kina"},{code:"PHP",name:"Philippines Peso"},{code:"PKR",name:"Pakistan Rupee"},{code:"PLN",name:"Poland Zloty"},{code:"PYG",name:"Paraguay Guarani"},{code:"QAR",name:"Qatar Riyal"},{code:"RON",name:"Romania New Leu"},{code:"RSD",name:"Serbia Dinar"},{code:"RUB",name:"Russia Ruble"},{code:"RWF",name:"Rwanda Franc"},{code:"SAR",name:"Saudi Arabia Riyal"},{code:"SBD",name:"Solomon Islands Dollar"},{code:"SCR",name:"Seychelles Rupee"},{code:"SDG",name:"Sudan Pound"},{code:"SEK",name:"Sweden Krona"},{code:"SGD",name:"Singapore Dollar"},{code:"SHP",name:"Saint Helena Pound"},{code:"SLL",name:"Sierra Leone Leone"},{code:"SOS",name:"Somalia Shilling"},{code:"SPL",name:"Seborga Luigino"},{code:"SRD",name:"Suriname Dollar"},{code:"STD",name:"São Tomé and Príncipe Dobra"},{code:"SVC",name:"El Salvador Colon"},{code:"SYP",name:"Syria Pound"},{code:"SZL",name:"Swaziland Lilangeni"},{code:"THB",name:"Thailand Baht"},{code:"TJS",name:"Tajikistan Somoni"},{code:"TMT",name:"Turkmenistan Manat"},{code:"TND",name:"Tunisia Dinar"},{code:"TOP",name:"Tonga Pa'anga"},{code:"TRY",name:"Turkey Lira"},{code:"TTD",name:"Trinidad and Tobago Dollar"},{code:"TVD",name:"Tuvalu Dollar"},{code:"TWD",name:"Taiwan New Dollar"},{code:"TZS",name:"Tanzania Shilling"},{code:"UAH",name:"Ukraine Hryvnia"},{code:"UGX",name:"Uganda Shilling"},{code:"USD",name:"United States Dollar"},{code:"UYU",name:"Uruguay Peso"},{code:"UZS",name:"Uzbekistan Som"},{code:"VEF",name:"Venezuela Bolivar"},{code:"VND",name:"Viet Nam Dong"},{code:"VUV",name:"Vanuatu Vatu"},{code:"WST",name:"Samoa Tala"},{code:"XAF",name:"Communauté Financière Africaine (BEAC) CFA Franc BEAC"},{code:"XCD",name:"East Caribbean Dollar"},{code:"XDR",name:"International Monetary Fund (IMF) Special Drawing Rights"},{code:"XOF",name:"Communauté Financière Africaine (BCEAO) Franc"},{code:"XPF",name:"Comptoirs Français du Pacifique (CFP) Franc"},{code:"YER",name:"Yemen Rial"},{code:"ZAR",name:"South Africa Rand"},{code:"ZMW",name:"Zambia Kwacha"},{code:"ZWD",name:"Zimbabwe Dollar"}]},_=Object.prototype.hasOwnProperty,x=Object.keys||function(t){var e=[];
for(var n in t)_.call(t,n)&&e.push(n);return e};o.prototype.get=function(t){return h(w[t])},o.prototype.mac_address=function(t){t=s(t),t.separator||(t.separator=t.networkVersion?".":":");var e="ABCDEF1234567890",n="";return n=t.networkVersion?this.n(this.string,3,{pool:e,length:4}).join(t.separator):this.n(this.string,6,{pool:e,length:2}).join(t.separator)},o.prototype.normal=function(t){t=s(t,{mean:0,dev:1});var e,n,r,i,o=t.mean,a=t.dev;do n=2*this.random()-1,r=2*this.random()-1,e=n*n+r*r;while(e>=1);return i=n*Math.sqrt(-2*Math.log(e)/e),a*i+o},o.prototype.radio=function(t){t=s(t,{side:"?"});var e="";switch(t.side.toLowerCase()){case"east":case"e":e="W";break;case"west":case"w":e="K";break;default:e=this.character({pool:"KW"})}return e+this.character({alpha:!0,casing:"upper"})+this.character({alpha:!0,casing:"upper"})+this.character({alpha:!0,casing:"upper"})},o.prototype.set=function(t,e){"string"==typeof t?w[t]=e:w=h(t,w)},o.prototype.tv=function(t){return this.radio(t)},o.prototype.cnpj=function(){var t=this.n(this.natural,8,{max:9}),e=2+6*t[7]+7*t[6]+8*t[5]+9*t[4]+2*t[3]+3*t[2]+4*t[1]+5*t[0];e=11-e%11,e>=10&&(e=0);var n=2*e+3+7*t[7]+8*t[6]+9*t[5]+2*t[4]+3*t[3]+4*t[2]+5*t[1]+6*t[0];return n=11-n%11,n>=10&&(n=0),""+t[0]+t[1]+"."+t[2]+t[3]+t[4]+"."+t[5]+t[6]+t[7]+"/0001-"+e+n},o.prototype.mersenne_twister=function(t){return new E(t)};var E=function(t){void 0===t&&(t=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,this.init_genrand(t)};E.prototype.init_genrand=function(t){for(this.mt[0]=t>>>0,this.mti=1;this.mti<this.N;this.mti++)t=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30,this.mt[this.mti]=(1812433253*((4294901760&t)>>>16)<<16)+1812433253*(65535&t)+this.mti,this.mt[this.mti]>>>=0},E.prototype.init_by_array=function(t,e){var n,r,i=1,o=0;for(this.init_genrand(19650218),n=this.N>e?this.N:e;n;n--)r=this.mt[i-1]^this.mt[i-1]>>>30,this.mt[i]=(this.mt[i]^(1664525*((4294901760&r)>>>16)<<16)+1664525*(65535&r))+t[o]+o,this.mt[i]>>>=0,i++,o++,i>=this.N&&(this.mt[0]=this.mt[this.N-1],i=1),o>=e&&(o=0);for(n=this.N-1;n;n--)r=this.mt[i-1]^this.mt[i-1]>>>30,this.mt[i]=(this.mt[i]^(1566083941*((4294901760&r)>>>16)<<16)+1566083941*(65535&r))-i,this.mt[i]>>>=0,i++,i>=this.N&&(this.mt[0]=this.mt[this.N-1],i=1);this.mt[0]=2147483648},E.prototype.genrand_int32=function(){var t,e=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var n;for(this.mti===this.N+1&&this.init_genrand(5489),n=0;n<this.N-this.M;n++)t=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+this.M]^t>>>1^e[1&t];for(;n<this.N-1;n++)t=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+(this.M-this.N)]^t>>>1^e[1&t];t=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^t>>>1^e[1&t],this.mti=0}return t=this.mt[this.mti++],t^=t>>>11,t^=t<<7&2636928640,t^=t<<15&4022730752,t^=t>>>18,t>>>0},E.prototype.genrand_int31=function(){return this.genrand_int32()>>>1},E.prototype.genrand_real1=function(){return this.genrand_int32()*(1/4294967295)},E.prototype.random=function(){return this.genrand_int32()*(1/4294967296)},E.prototype.genrand_real3=function(){return(this.genrand_int32()+.5)*(1/4294967296)},E.prototype.genrand_res53=function(){var t=this.genrand_int32()>>>5,e=this.genrand_int32()>>>6;return(67108864*t+e)*(1/9007199254740992)},"undefined"!=typeof t&&t.exports&&(e=t.exports=o),e.Chance=o,r=[],i=function(){return o}.apply(e,r),!(void 0!==i&&(t.exports=i)),"undefined"!=typeof importScripts&&(chance=new o),"object"==typeof window&&"object"==typeof window.document&&(window.Chance=o,window.chance=new o)}()}).call(e,n(36).Buffer)}]);