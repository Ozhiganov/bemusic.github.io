webpackJsonp([6],{8:function(t,e,n){var r;(function(t,o){(function(){function i(t,e){if(t!==e){var n=null===t,r=t===A,o=t===t,i=null===e,a=e===A,u=e===e;if(t>e&&!i||!o||n&&!a&&u||r&&u)return 1;if(e>t&&!n||!u||i&&!r&&o||a&&o)return-1}return 0}function a(t,e,n){for(var r=t.length,o=n?r:-1;n?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function u(t,e,n){if(e!==e)return m(t,n);for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}function s(t){return"function"==typeof t||!1}function c(t){return null==t?"":t+""}function f(t,e){for(var n=-1,r=t.length;++n<r&&e.indexOf(t.charAt(n))>-1;);return n}function l(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function h(t,e){return i(t.criteria,e.criteria)||t.index-e.index}function p(t,e,n){for(var r=-1,o=t.criteria,a=e.criteria,u=o.length,s=n.length;++r<u;){var c=i(o[r],a[r]);if(c){if(r>=s)return c;var f=n[r];return c*("asc"===f||f===!0?1:-1)}}return t.index-e.index}function d(t){return Wt[t]}function v(t){return Jt[t]}function y(t,e,n){return e?t=Ht[t]:n&&(t=Xt[t]),"\\"+t}function g(t){return"\\"+Xt[t]}function m(t,e,n){for(var r=t.length,o=e+(n?0:-1);n?o--:++o<r;){var i=t[o];if(i!==i)return o}return-1}function _(t){return!!t&&"object"==typeof t}function b(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function w(t,e){for(var n=-1,r=t.length,o=-1,i=[];++n<r;)t[n]===e&&(t[n]=W,i[++o]=n);return i}function x(t,e){for(var n,r=-1,o=t.length,i=-1,a=[];++r<o;){var u=t[r],s=e?e(u,r,t):u;r&&n===s||(n=s,a[++i]=u)}return a}function S(t){for(var e=-1,n=t.length;++e<n&&b(t.charCodeAt(e)););return e}function k(t){for(var e=t.length;e--&&b(t.charCodeAt(e)););return e}function E(t){return Kt[t]}function j(t){function e(t){if(_(t)&&!Ou(t)&&!(t instanceof o)){if(t instanceof r)return t;if(ea.call(t,"__chain__")&&ea.call(t,"__wrapped__"))return pr(t)}return new r(t)}function n(){}function r(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function o(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ia,this.__views__=[]}function b(){var t=new o(this.__wrapped__);return t.__actions__=te(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=te(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=te(this.__views__),t}function Q(){if(this.__filtered__){var t=new o(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function rt(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ou(t),r=0>e,o=n?t.length:0,i=Wn(0,o,this.__views__),a=i.start,u=i.end,s=u-a,c=r?u:a-1,f=this.__iteratees__,l=f.length,h=0,p=Sa(s,this.__takeCount__);if(!n||G>o||o==s&&p==s)return nn(r&&n?t.reverse():t,this.__actions__);var d=[];t:for(;s--&&p>h;){c+=e;for(var v=-1,y=t[c];++v<l;){var g=f[v],m=g.iteratee,_=g.type,b=m(y);if(_==$)y=b;else if(!b){if(_==Y)continue t;break t}}d[h++]=y}return d}function it(){this.__data__={}}function Wt(t){return this.has(t)&&delete this.__data__[t]}function Jt(t){return"__proto__"==t?A:this.__data__[t]}function Kt(t){return"__proto__"!=t&&ea.call(this.__data__,t)}function Vt(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Ht(t){var e=t?t.length:0;for(this.data={hash:ga(null),set:new la};e--;)this.push(t[e])}function Xt(t,e){var n=t.data,r="string"==typeof e||Lo(e)?n.set.has(e):n.hash[e];return r?0:-1}function Zt(t){var e=this.data;"string"==typeof t||Lo(t)?e.set.add(t):e.hash[t]=!0}function Qt(t,e){for(var n=-1,r=t.length,o=-1,i=e.length,a=zi(r+i);++n<r;)a[n]=t[n];for(;++o<i;)a[n++]=e[o];return a}function te(t,e){var n=-1,r=t.length;for(e||(e=zi(r));++n<r;)e[n]=t[n];return e}function ee(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function ne(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function ie(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ae(t,e,n,r){for(var o=-1,i=t.length,a=r,u=a;++o<i;){var s=t[o],c=+e(s);n(c,a)&&(a=c,u=s)}return u}function ue(t,e){for(var n=-1,r=t.length,o=-1,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[++o]=a)}return i}function se(t,e){for(var n=-1,r=t.length,o=zi(r);++n<r;)o[n]=e(t[n],n,t);return o}function ce(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function fe(t,e,n,r){var o=-1,i=t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function le(t,e,n,r){var o=t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function he(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function pe(t,e){for(var n=t.length,r=0;n--;)r+=+e(t[n])||0;return r}function de(t,e){return t===A?e:t}function ve(t,e,n,r){return t!==A&&ea.call(r,n)?t:e}function ye(t,e,n){for(var r=-1,o=Du(e),i=o.length;++r<i;){var a=o[r],u=t[a],s=n(u,e[a],a,t,e);(s===s?s===u:u!==u)&&(u!==A||a in t)||(t[a]=s)}return t}function ge(t,e){return null==e?t:_e(e,Du(e),t)}function me(t,e){for(var n=-1,r=null==t,o=!r&&Xn(t),i=o?t.length:0,a=e.length,u=zi(a);++n<a;){var s=e[n];o?u[n]=Zn(s,i)?t[s]:A:u[n]=r?A:t[s]}return u}function _e(t,e,n){n||(n={});for(var r=-1,o=e.length;++r<o;){var i=e[r];n[i]=t[i]}return n}function be(t,e,n){var r=typeof t;return"function"==r?e===A?t:an(t,e,n):null==t?Ii:"object"==r?Fe(t):e===A?Ti(t):De(t,e)}function we(t,e,n,r,o,i,a){var u;if(n&&(u=o?n(t,r,o):n(t)),u!==A)return u;if(!Lo(t))return t;var s=Ou(t);if(s){if(u=Jn(t),!e)return te(t,u)}else{var c=ra.call(t),f=c==Z;if(c!=et&&c!=J&&(!f||o))return qt[c]?Vn(t,c,e):o?t:{};if(u=Kn(f?{}:t),!e)return ge(u,t)}i||(i=[]),a||(a=[]);for(var l=i.length;l--;)if(i[l]==t)return a[l];return i.push(t),a.push(u),(s?ee:Me)(t,function(r,o){u[o]=we(r,e,n,o,t,i,a)}),u}function xe(t,e,n){if("function"!=typeof t)throw new Hi(q);return ha(function(){t.apply(A,n)},e)}function Se(t,e){var n=t?t.length:0,r=[];if(!n)return r;var o=-1,i=Yn(),a=i==u,s=a&&e.length>=G?vn(e):null,c=e.length;s&&(i=Xt,a=!1,e=s);t:for(;++o<n;){var f=t[o];if(a&&f===f){for(var l=c;l--;)if(e[l]===f)continue t;r.push(f)}else i(e,f,0)<0&&r.push(f)}return r}function ke(t,e){var n=!0;return Ra(t,function(t,r,o){return n=!!e(t,r,o)}),n}function Ee(t,e,n,r){var o=r,i=o;return Ra(t,function(t,a,u){var s=+e(t,a,u);(n(s,o)||s===r&&s===i)&&(o=s,i=t)}),i}function je(t,e,n,r){var o=t.length;for(n=null==n?0:+n||0,0>n&&(n=-n>o?0:o+n),r=r===A||r>o?o:+r||0,0>r&&(r+=o),o=n>r?0:r>>>0,n>>>=0;o>n;)t[n++]=e;return t}function Ae(t,e){var n=[];return Ra(t,function(t,r,o){e(t,r,o)&&n.push(t)}),n}function Ie(t,e,n,r){var o;return n(t,function(t,n,i){return e(t,n,i)?(o=r?n:t,!1):void 0}),o}function Oe(t,e,n,r){r||(r=[]);for(var o=-1,i=t.length;++o<i;){var a=t[o];_(a)&&Xn(a)&&(n||Ou(a)||jo(a))?e?Oe(a,e,n,r):ce(r,a):n||(r[r.length]=a)}return r}function Pe(t,e){return Ua(t,e,ei)}function Me(t,e){return Ua(t,e,Du)}function Be(t,e){return Fa(t,e,Du)}function Ce(t,e){for(var n=-1,r=e.length,o=-1,i=[];++n<r;){var a=e[n];To(t[a])&&(i[++o]=a)}return i}function Te(t,e,n){if(null!=t){n!==A&&n in lr(t)&&(e=[n]);for(var r=0,o=e.length;null!=t&&o>r;)t=t[e[r++]];return r&&r==o?t:A}}function Le(t,e,n,r,o,i){return t===e?!0:null==t||null==e||!Lo(t)&&!_(e)?t!==t&&e!==e:Re(t,e,Le,n,r,o,i)}function Re(t,e,n,r,o,i,a){var u=Ou(t),s=Ou(e),c=K,f=K;u||(c=ra.call(t),c==J?c=et:c!=et&&(u=$o(t))),s||(f=ra.call(e),f==J?f=et:f!=et&&(s=$o(e)));var l=c==et,h=f==et,p=c==f;if(p&&!u&&!l)return Fn(t,e,c);if(!o){var d=l&&ea.call(t,"__wrapped__"),v=h&&ea.call(e,"__wrapped__");if(d||v)return n(d?t.value():t,v?e.value():e,r,o,i,a)}if(!p)return!1;i||(i=[]),a||(a=[]);for(var y=i.length;y--;)if(i[y]==t)return a[y]==e;i.push(t),a.push(e);var g=(u?Un:Dn)(t,e,n,r,o,i,a);return i.pop(),a.pop(),g}function Ne(t,e,n){var r=e.length,o=r,i=!n;if(null==t)return!o;for(t=lr(t);r--;){var a=e[r];if(i&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){a=e[r];var u=a[0],s=t[u],c=a[1];if(i&&a[2]){if(s===A&&!(u in t))return!1}else{var f=n?n(s,c,u):A;if(!(f===A?Le(c,s,n,!0):f))return!1}}return!0}function Ue(t,e){var n=-1,r=Xn(t)?zi(t.length):[];return Ra(t,function(t,o,i){r[++n]=e(t,o,i)}),r}function Fe(t){var e=$n(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null==t?!1:t[n]===r&&(r!==A||n in lr(t))}}return function(t){return Ne(t,e)}}function De(t,e){var n=Ou(t),r=tr(t)&&rr(e),o=t+"";return t=hr(t),function(i){if(null==i)return!1;var a=o;if(i=lr(i),(n||!r)&&!(a in i)){if(i=1==t.length?i:Te(i,Ke(t,0,-1)),null==i)return!1;a=jr(t),i=lr(i)}return i[a]===e?e!==A||a in i:Le(e,i[a],A,!0)}}function ze(t,e,n,r,o){if(!Lo(t))return t;var i=Xn(e)&&(Ou(e)||$o(e)),a=i?A:Du(e);return ee(a||e,function(u,s){if(a&&(s=u,u=e[s]),_(u))r||(r=[]),o||(o=[]),Ge(t,e,s,ze,n,r,o);else{var c=t[s],f=n?n(c,u,s,t,e):A,l=f===A;l&&(f=u),f===A&&(!i||s in t)||!l&&(f===f?f===c:c!==c)||(t[s]=f)}}),t}function Ge(t,e,n,r,o,i,a){for(var u=i.length,s=e[n];u--;)if(i[u]==s)return void(t[n]=a[u]);var c=t[n],f=o?o(c,s,n,t,e):A,l=f===A;l&&(f=s,Xn(s)&&(Ou(s)||$o(s))?f=Ou(c)?c:Xn(c)?te(c):[]:zo(s)||jo(s)?f=jo(c)?Vo(c):zo(c)?c:{}:l=!1),i.push(s),a.push(f),l?t[n]=r(f,s,o,i,a):(f===f?f!==c:c===c)&&(t[n]=f)}function Ye(t){return function(e){return null==e?A:e[t]}}function $e(t){var e=t+"";return t=hr(t),function(n){return Te(n,t,e)}}function qe(t,e){for(var n=t?e.length:0;n--;){var r=e[n];if(r!=o&&Zn(r)){var o=r;pa.call(t,r,1)}}return t}function We(t,e){return t+ma(ja()*(e-t+1))}function Je(t,e,n,r,o){return o(t,function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)}),n}function Ke(t,e,n){var r=-1,o=t.length;e=null==e?0:+e||0,0>e&&(e=-e>o?0:o+e),n=n===A||n>o?o:+n||0,0>n&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=zi(o);++r<o;)i[r]=t[r+e];return i}function Ve(t,e){var n;return Ra(t,function(t,r,o){return n=e(t,r,o),!n}),!!n}function He(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Xe(t,e,n){var r=zn(),o=-1;e=se(e,function(t){return r(t)});var i=Ue(t,function(t){var n=se(e,function(e){return e(t)});return{criteria:n,index:++o,value:t}});return He(i,function(t,e){return p(t,e,n)})}function Ze(t,e){var n=0;return Ra(t,function(t,r,o){n+=+e(t,r,o)||0}),n}function Qe(t,e){var n=-1,r=Yn(),o=t.length,i=r==u,a=i&&o>=G,s=a?vn():null,c=[];s?(r=Xt,i=!1):(a=!1,s=e?[]:c);t:for(;++n<o;){var f=t[n],l=e?e(f,n,t):f;if(i&&f===f){for(var h=s.length;h--;)if(s[h]===l)continue t;e&&s.push(l),c.push(f)}else r(s,l,0)<0&&((e||a)&&s.push(l),c.push(f))}return c}function tn(t,e){for(var n=-1,r=e.length,o=zi(r);++n<r;)o[n]=t[e[n]];return o}function en(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?Ke(t,r?0:i,r?i+1:o):Ke(t,r?i+1:0,r?o:i)}function nn(t,e){var n=t;n instanceof o&&(n=n.value());for(var r=-1,i=e.length;++r<i;){var a=e[r];n=a.func.apply(a.thisArg,ce([n],a.args))}return n}function rn(t,e,n){var r=0,o=t?t.length:r;if("number"==typeof e&&e===e&&Ma>=o){for(;o>r;){var i=r+o>>>1,a=t[i];(n?e>=a:e>a)&&null!==a?r=i+1:o=i}return o}return on(t,e,Ii,n)}function on(t,e,n,r){e=n(e);for(var o=0,i=t?t.length:0,a=e!==e,u=null===e,s=e===A;i>o;){var c=ma((o+i)/2),f=n(t[c]),l=f!==A,h=f===f;if(a)var p=h||r;else p=u?h&&l&&(r||null!=f):s?h&&(r||l):null==f?!1:r?e>=f:e>f;p?o=c+1:i=c}return Sa(i,Pa)}function an(t,e,n){if("function"!=typeof t)return Ii;if(e===A)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)};case 5:return function(n,r,o,i,a){return t.call(e,n,r,o,i,a)}}return function(){return t.apply(e,arguments)}}function un(t){var e=new aa(t.byteLength),n=new da(e);return n.set(new da(t)),e}function sn(t,e,n){for(var r=n.length,o=-1,i=xa(t.length-r,0),a=-1,u=e.length,s=zi(u+i);++a<u;)s[a]=e[a];for(;++o<r;)s[n[o]]=t[o];for(;i--;)s[a++]=t[o++];return s}function cn(t,e,n){for(var r=-1,o=n.length,i=-1,a=xa(t.length-o,0),u=-1,s=e.length,c=zi(a+s);++i<a;)c[i]=t[i];for(var f=i;++u<s;)c[f+u]=e[u];for(;++r<o;)c[f+n[r]]=t[i++];return c}function fn(t,e){return function(n,r,o){var i=e?e():{};if(r=zn(r,o,3),Ou(n))for(var a=-1,u=n.length;++a<u;){var s=n[a];t(i,s,r(s,a,n),n)}else Ra(n,function(e,n,o){t(i,e,r(e,n,o),o)});return i}}function ln(t){return mo(function(e,n){var r=-1,o=null==e?0:n.length,i=o>2?n[o-2]:A,a=o>2?n[2]:A,u=o>1?n[o-1]:A;for("function"==typeof i?(i=an(i,u,5),o-=2):(i="function"==typeof u?u:A,o-=i?1:0),a&&Qn(n[0],n[1],a)&&(i=3>o?A:i,o=1);++r<o;){var s=n[r];s&&t(e,s,i)}return e})}function hn(t,e){return function(n,r){var o=n?Ga(n):0;if(!nr(o))return t(n,r);for(var i=e?o:-1,a=lr(n);(e?i--:++i<o)&&r(a[i],i,a)!==!1;);return n}}function pn(t){return function(e,n,r){for(var o=lr(e),i=r(e),a=i.length,u=t?a:-1;t?u--:++u<a;){var s=i[u];if(n(o[s],s,o)===!1)break}return e}}function dn(t,e){function n(){var o=this&&this!==re&&this instanceof n?r:t;return o.apply(e,arguments)}var r=gn(t);return n}function vn(t){return ga&&la?new Ht(t):null}function yn(t){return function(e){for(var n=-1,r=Ei(li(e)),o=r.length,i="";++n<o;)i=t(i,r[n],n);return i}}function gn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=La(t.prototype),r=t.apply(n,e);return Lo(r)?r:n}}function mn(t){function e(n,r,o){o&&Qn(n,r,o)&&(r=A);var i=Nn(n,t,A,A,A,A,A,r);return i.placeholder=e.placeholder,i}return e}function _n(t,e){return mo(function(n){var r=n[0];return null==r?r:(n.push(e),t.apply(A,n))})}function bn(t,e){return function(n,r,o){if(o&&Qn(n,r,o)&&(r=A),r=zn(r,o,3),1==r.length){n=Ou(n)?n:fr(n);var i=ae(n,r,t,e);if(!n.length||i!==e)return i}return Ee(n,r,t,e)}}function wn(t,e){return function(n,r,o){if(r=zn(r,o,3),Ou(n)){var i=a(n,r,e);return i>-1?n[i]:A}return Ie(n,r,t)}}function xn(t){return function(e,n,r){return e&&e.length?(n=zn(n,r,3),a(e,n,t)):-1}}function Sn(t){return function(e,n,r){return n=zn(n,r,3),Ie(e,n,t,!0)}}function kn(t){return function(){for(var e,n=arguments.length,o=t?n:-1,i=0,a=zi(n);t?o--:++o<n;){var u=a[i++]=arguments[o];if("function"!=typeof u)throw new Hi(q);!e&&r.prototype.thru&&"wrapper"==Gn(u)&&(e=new r([],!0))}for(o=e?-1:n;++o<n;){u=a[o];var s=Gn(u),c="wrapper"==s?za(u):A;e=c&&er(c[0])&&c[1]==(R|B|T|N)&&!c[4].length&&1==c[9]?e[Gn(c[0])].apply(e,c[3]):1==u.length&&er(u)?e[s]():e.thru(u)}return function(){var t=arguments,r=t[0];if(e&&1==t.length&&Ou(r)&&r.length>=G)return e.plant(r).value();for(var o=0,i=n?a[o].apply(this,t):r;++o<n;)i=a[o].call(this,i);return i}}}function En(t,e){return function(n,r,o){return"function"==typeof r&&o===A&&Ou(n)?t(n,r):e(n,an(r,o,3))}}function jn(t){return function(e,n,r){return("function"!=typeof n||r!==A)&&(n=an(n,r,3)),t(e,n,ei)}}function An(t){return function(e,n,r){return("function"!=typeof n||r!==A)&&(n=an(n,r,3)),t(e,n)}}function In(t){return function(e,n,r){var o={};return n=zn(n,r,3),Me(e,function(e,r,i){var a=n(e,r,i);r=t?a:r,e=t?e:a,o[r]=e}),o}}function On(t){return function(e,n,r){return e=c(e),(t?e:"")+Cn(e,n,r)+(t?"":e)}}function Pn(t){var e=mo(function(n,r){var o=w(r,e.placeholder);return Nn(n,t,A,r,o)});return e}function Mn(t,e){return function(n,r,o,i){var a=arguments.length<3;return"function"==typeof r&&i===A&&Ou(n)?t(n,r,o,a):Je(n,zn(r,i,4),o,a,e)}}function Bn(t,e,n,r,o,i,a,u,s,c){function f(){for(var m=arguments.length,_=m,b=zi(m);_--;)b[_]=arguments[_];if(r&&(b=sn(b,r,o)),i&&(b=cn(b,i,a)),d||y){var x=f.placeholder,S=w(b,x);if(m-=S.length,c>m){var k=u?te(u):A,E=xa(c-m,0),j=d?S:A,I=d?A:S,M=d?b:A,B=d?A:b;e|=d?T:L,e&=~(d?L:T),v||(e&=~(O|P));var C=[t,e,n,M,j,B,I,k,s,E],R=Bn.apply(A,C);return er(t)&&Ya(R,C),R.placeholder=x,R}}var N=h?n:this,U=p?N[t]:t;return u&&(b=sr(b,u)),l&&s<b.length&&(b.length=s),this&&this!==re&&this instanceof f&&(U=g||gn(t)),U.apply(N,b)}var l=e&R,h=e&O,p=e&P,d=e&B,v=e&M,y=e&C,g=p?A:gn(t);return f}function Cn(t,e,n){var r=t.length;if(e=+e,r>=e||!ba(e))return"";var o=e-r;return n=null==n?" ":n+"",gi(n,ya(o/n.length)).slice(0,o)}function Tn(t,e,n,r){function o(){for(var e=-1,u=arguments.length,s=-1,c=r.length,f=zi(c+u);++s<c;)f[s]=r[s];for(;u--;)f[s++]=arguments[++e];var l=this&&this!==re&&this instanceof o?a:t;return l.apply(i?n:this,f)}var i=e&O,a=gn(t);return o}function Ln(t){var e=qi[t];return function(t,n){return n=n===A?0:+n||0,n?(n=ca(10,n),e(t*n)/n):e(t)}}function Rn(t){return function(e,n,r,o){var i=zn(r);return null==r&&i===be?rn(e,n,t):on(e,n,i(r,o,1),t)}}function Nn(t,e,n,r,o,i,a,u){var s=e&P;if(!s&&"function"!=typeof t)throw new Hi(q);var c=r?r.length:0;if(c||(e&=~(T|L),r=o=A),c-=o?o.length:0,e&L){var f=r,l=o;r=o=A}var h=s?A:za(t),p=[t,e,n,r,o,f,l,i,a,u];if(h&&(or(p,h),e=p[1],u=p[9]),p[9]=null==u?s?0:t.length:xa(u-c,0)||0,e==O)var d=dn(p[0],p[2]);else d=e!=T&&e!=(O|T)||p[4].length?Bn.apply(A,p):Tn.apply(A,p);var v=h?Da:Ya;return v(d,p)}function Un(t,e,n,r,o,i,a){var u=-1,s=t.length,c=e.length;if(s!=c&&!(o&&c>s))return!1;for(;++u<s;){var f=t[u],l=e[u],h=r?r(o?l:f,o?f:l,u):A;if(h!==A){if(h)continue;return!1}if(o){if(!he(e,function(t){return f===t||n(f,t,r,o,i,a)}))return!1}else if(f!==l&&!n(f,l,r,o,i,a))return!1}return!0}function Fn(t,e,n){switch(n){case V:case H:return+t==+e;case X:return t.name==e.name&&t.message==e.message;case tt:return t!=+t?e!=+e:t==+e;case nt:case ot:return t==e+""}return!1}function Dn(t,e,n,r,o,i,a){var u=Du(t),s=u.length,c=Du(e),f=c.length;if(s!=f&&!o)return!1;for(var l=s;l--;){var h=u[l];if(!(o?h in e:ea.call(e,h)))return!1}for(var p=o;++l<s;){h=u[l];var d=t[h],v=e[h],y=r?r(o?v:d,o?d:v,h):A;if(!(y===A?n(d,v,r,o,i,a):y))return!1;p||(p="constructor"==h)}if(!p){var g=t.constructor,m=e.constructor;if(g!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m))return!1}return!0}function zn(t,n,r){var o=e.callback||ji;return o=o===ji?be:o,r?o(t,n,r):o}function Gn(t){for(var e=t.name,n=Ta[e],r=n?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e}function Yn(t,n,r){var o=e.indexOf||kr;return o=o===kr?u:o,t?o(t,n,r):o}function $n(t){for(var e=ni(t),n=e.length;n--;)e[n][2]=rr(e[n][1]);return e}function qn(t,e){var n=null==t?A:t[e];return Uo(n)?n:A}function Wn(t,e,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Sa(e,t+a);break;case"takeRight":t=xa(t,e-a)}}return{start:t,end:e}}function Jn(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ea.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Kn(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Ji),new e}function Vn(t,e,n){var r=t.constructor;switch(e){case at:return un(t);case V:case H:return new r(+t);case ut:case st:case ct:case ft:case lt:case ht:case pt:case dt:case vt:var o=t.buffer;return new r(n?un(o):o,t.byteOffset,t.length);case tt:case ot:return new r(t);case nt:var i=new r(t.source,Tt.exec(t));i.lastIndex=t.lastIndex}return i}function Hn(t,e,n){null==t||tr(e,t)||(e=hr(e),t=1==e.length?t:Te(t,Ke(e,0,-1)),e=jr(e));var r=null==t?t:t[e];return null==r?A:r.apply(t,n)}function Xn(t){return null!=t&&nr(Ga(t))}function Zn(t,e){return t="number"==typeof t||Nt.test(t)?+t:-1,e=null==e?Ba:e,t>-1&&t%1==0&&e>t}function Qn(t,e,n){if(!Lo(n))return!1;var r=typeof e;if("number"==r?Xn(n)&&Zn(e,n.length):"string"==r&&e in n){var o=n[e];return t===t?t===o:o!==o}return!1}function tr(t,e){var n=typeof t;if("string"==n&&At.test(t)||"number"==n)return!0;if(Ou(t))return!1;var r=!jt.test(t);return r||null!=e&&t in lr(e)}function er(t){var n=Gn(t);if(!(n in o.prototype))return!1;var r=e[n];if(t===r)return!0;var i=za(r);return!!i&&t===i[0]}function nr(t){return"number"==typeof t&&t>-1&&t%1==0&&Ba>=t}function rr(t){return t===t&&!Lo(t)}function or(t,e){var n=t[1],r=e[1],o=n|r,i=R>o,a=r==R&&n==B||r==R&&n==N&&t[7].length<=e[8]||r==(R|N)&&n==B;if(!i&&!a)return t;r&O&&(t[2]=e[2],o|=n&O?0:M);var u=e[3];if(u){var s=t[3];t[3]=s?sn(s,u,e[4]):te(u),t[4]=s?w(t[3],W):te(e[4])}return u=e[5],u&&(s=t[5],t[5]=s?cn(s,u,e[6]):te(u),t[6]=s?w(t[5],W):te(e[6])),u=e[7],u&&(t[7]=te(u)),r&R&&(t[8]=null==t[8]?e[8]:Sa(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o,t}function ir(t,e){return t===A?e:Pu(t,e,ir)}function ar(t,e){t=lr(t);for(var n=-1,r=e.length,o={};++n<r;){var i=e[n];i in t&&(o[i]=t[i])}return o}function ur(t,e){var n={};return Pe(t,function(t,r,o){e(t,r,o)&&(n[r]=t)}),n}function sr(t,e){for(var n=t.length,r=Sa(e.length,n),o=te(t);r--;){var i=e[r];t[r]=Zn(i,n)?o[i]:A}return t}function cr(t){for(var e=ei(t),n=e.length,r=n&&t.length,o=!!r&&nr(r)&&(Ou(t)||jo(t)),i=-1,a=[];++i<n;){var u=e[i];(o&&Zn(u,r)||ea.call(t,u))&&a.push(u)}return a}function fr(t){return null==t?[]:Xn(t)?Lo(t)?t:Ji(t):ai(t)}function lr(t){return Lo(t)?t:Ji(t)}function hr(t){if(Ou(t))return t;var e=[];return c(t).replace(It,function(t,n,r,o){e.push(r?o.replace(Bt,"$1"):n||t)}),e}function pr(t){return t instanceof o?t.clone():new r(t.__wrapped__,t.__chain__,te(t.__actions__))}function dr(t,e,n){e=(n?Qn(t,e,n):null==e)?1:xa(ma(e)||1,1);for(var r=0,o=t?t.length:0,i=-1,a=zi(ya(o/e));o>r;)a[++i]=Ke(t,r,r+=e);return a}function vr(t){for(var e=-1,n=t?t.length:0,r=-1,o=[];++e<n;){var i=t[e];i&&(o[++r]=i)}return o}function yr(t,e,n){var r=t?t.length:0;return r?((n?Qn(t,e,n):null==e)&&(e=1),Ke(t,0>e?0:e)):[]}function gr(t,e,n){var r=t?t.length:0;return r?((n?Qn(t,e,n):null==e)&&(e=1),e=r-(+e||0),Ke(t,0,0>e?0:e)):[]}function mr(t,e,n){return t&&t.length?en(t,zn(e,n,3),!0,!0):[]}function _r(t,e,n){return t&&t.length?en(t,zn(e,n,3),!0):[]}function br(t,e,n,r){var o=t?t.length:0;return o?(n&&"number"!=typeof n&&Qn(t,e,n)&&(n=0,r=o),je(t,e,n,r)):[]}function wr(t){return t?t[0]:A}function xr(t,e,n){var r=t?t.length:0;return n&&Qn(t,e,n)&&(e=!1),r?Oe(t,e):[]}function Sr(t){var e=t?t.length:0;return e?Oe(t,!0):[]}function kr(t,e,n){var r=t?t.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?xa(r+n,0):n;else if(n){var o=rn(t,e);return r>o&&(e===e?e===t[o]:t[o]!==t[o])?o:-1}return u(t,e,n||0)}function Er(t){return gr(t,1)}function jr(t){var e=t?t.length:0;return e?t[e-1]:A}function Ar(t,e,n){var r=t?t.length:0;if(!r)return-1;var o=r;if("number"==typeof n)o=(0>n?xa(r+n,0):Sa(n||0,r-1))+1;else if(n){o=rn(t,e,!0)-1;var i=t[o];return(e===e?e===i:i!==i)?o:-1}if(e!==e)return m(t,o,!0);for(;o--;)if(t[o]===e)return o;return-1}function Ir(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,r=Yn(),o=t.length;++n<o;)for(var i=0,a=t[n];(i=r(e,a,i))>-1;)pa.call(e,i,1);return e}function Or(t,e,n){var r=[];if(!t||!t.length)return r;var o=-1,i=[],a=t.length;for(e=zn(e,n,3);++o<a;){var u=t[o];e(u,o,t)&&(r.push(u),i.push(o))}return qe(t,i),r}function Pr(t){return yr(t,1)}function Mr(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Qn(t,e,n)&&(e=0,n=r),Ke(t,e,n)):[]}function Br(t,e,n){var r=t?t.length:0;return r?((n?Qn(t,e,n):null==e)&&(e=1),Ke(t,0,0>e?0:e)):[]}function Cr(t,e,n){var r=t?t.length:0;return r?((n?Qn(t,e,n):null==e)&&(e=1),e=r-(+e||0),Ke(t,0>e?0:e)):[]}function Tr(t,e,n){return t&&t.length?en(t,zn(e,n,3),!1,!0):[]}function Lr(t,e,n){return t&&t.length?en(t,zn(e,n,3)):[]}function Rr(t,e,n,r){var o=t?t.length:0;if(!o)return[];null!=e&&"boolean"!=typeof e&&(r=n,n=Qn(t,e,r)?A:e,e=!1);var i=zn();return(null!=n||i!==be)&&(n=i(n,r,3)),e&&Yn()==u?x(t,n):Qe(t,n)}function Nr(t){if(!t||!t.length)return[];var e=-1,n=0;t=ue(t,function(t){return Xn(t)?(n=xa(t.length,n),!0):void 0});for(var r=zi(n);++e<n;)r[e]=se(t,Ye(e));return r}function Ur(t,e,n){var r=t?t.length:0;if(!r)return[];var o=Nr(t);return null==e?o:(e=an(e,n,4),se(o,function(t){return fe(t,e,A,!0)}))}function Fr(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Xn(n))var r=r?ce(Se(r,n),Se(n,r)):n}return r?Qe(r):[]}function Dr(t,e){var n=-1,r=t?t.length:0,o={};for(!r||e||Ou(t[0])||(e=[]);++n<r;){var i=t[n];e?o[i]=e[n]:i&&(o[i[0]]=i[1])}return o}function zr(t){var n=e(t);return n.__chain__=!0,n}function Gr(t,e,n){return e.call(n,t),t}function Yr(t,e,n){return e.call(n,t)}function $r(){return zr(this)}function qr(){return new r(this.value(),this.__chain__)}function Wr(t){for(var e,r=this;r instanceof n;){var o=pr(r);e?i.__wrapped__=o:e=o;var i=o;r=r.__wrapped__}return i.__wrapped__=t,e}function Jr(){var t=this.__wrapped__,e=function(t){return n&&n.__dir__<0?t:t.reverse()};if(t instanceof o){var n=t;return this.__actions__.length&&(n=new o(this)),n=n.reverse(),n.__actions__.push({func:Yr,args:[e],thisArg:A}),new r(n,this.__chain__)}return this.thru(e)}function Kr(){return this.value()+""}function Vr(){return nn(this.__wrapped__,this.__actions__)}function Hr(t,e,n){var r=Ou(t)?ie:ke;return n&&Qn(t,e,n)&&(e=A),("function"!=typeof e||n!==A)&&(e=zn(e,n,3)),r(t,e)}function Xr(t,e,n){var r=Ou(t)?ue:Ae;return e=zn(e,n,3),r(t,e)}function Zr(t,e){return ou(t,Fe(e))}function Qr(t,e,n,r){var o=t?Ga(t):0;return nr(o)||(t=ai(t),o=t.length),n="number"!=typeof n||r&&Qn(e,n,r)?0:0>n?xa(o+n,0):n||0,"string"==typeof t||!Ou(t)&&Yo(t)?o>=n&&t.indexOf(e,n)>-1:!!o&&Yn(t,e,n)>-1}function to(t,e,n){var r=Ou(t)?se:Ue;return e=zn(e,n,3),r(t,e)}function eo(t,e){return to(t,Ti(e))}function no(t,e,n){var r=Ou(t)?ue:Ae;return e=zn(e,n,3),r(t,function(t,n,r){return!e(t,n,r)})}function ro(t,e,n){if(n?Qn(t,e,n):null==e){t=fr(t);var r=t.length;return r>0?t[We(0,r-1)]:A}var o=-1,i=Ko(t),r=i.length,a=r-1;for(e=Sa(0>e?0:+e||0,r);++o<e;){var u=We(o,a),s=i[u];i[u]=i[o],i[o]=s}return i.length=e,i}function oo(t){return ro(t,Ia)}function io(t){var e=t?Ga(t):0;return nr(e)?e:Du(t).length}function ao(t,e,n){var r=Ou(t)?he:Ve;return n&&Qn(t,e,n)&&(e=A),("function"!=typeof e||n!==A)&&(e=zn(e,n,3)),r(t,e)}function uo(t,e,n){if(null==t)return[];n&&Qn(t,e,n)&&(e=A);var r=-1;e=zn(e,n,3);var o=Ue(t,function(t,n,o){return{criteria:e(t,n,o),index:++r,value:t}});return He(o,h)}function so(t,e,n,r){return null==t?[]:(r&&Qn(e,n,r)&&(n=A),Ou(e)||(e=null==e?[]:[e]),Ou(n)||(n=null==n?[]:[n]),Xe(t,e,n))}function co(t,e){return Xr(t,Fe(e))}function fo(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Hi(q);var n=t;t=e,e=n}return t=ba(t=+t)?t:0,function(){return--t<1?e.apply(this,arguments):void 0}}function lo(t,e,n){return n&&Qn(t,e,n)&&(e=A),e=t&&null==e?t.length:xa(+e||0,0),Nn(t,R,A,A,A,A,e)}function ho(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Hi(q);var r=t;t=e,e=r}return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=A),n}}function po(t,e,n){function r(){p&&ua(p),c&&ua(c),v=0,c=p=d=A}function o(e,n){n&&ua(n),c=p=d=A,e&&(v=vu(),f=t.apply(h,s),p||c||(s=h=A))}function i(){var t=e-(vu()-l);0>=t||t>e?o(d,c):p=ha(i,t)}function a(){o(g,p)}function u(){if(s=arguments,l=vu(),h=this,d=g&&(p||!m),y===!1)var n=m&&!p;else{c||m||(v=l);var r=y-(l-v),o=0>=r||r>y;o?(c&&(c=ua(c)),v=l,f=t.apply(h,s)):c||(c=ha(a,r))}return o&&p?p=ua(p):p||e===y||(p=ha(i,e)),n&&(o=!0,f=t.apply(h,s)),!o||p||c||(s=h=A),f}var s,c,f,l,h,p,d,v=0,y=!1,g=!0;if("function"!=typeof t)throw new Hi(q);if(e=0>e?0:+e||0,n===!0){var m=!0;g=!1}else Lo(n)&&(m=!!n.leading,y="maxWait"in n&&xa(+n.maxWait||0,e),g="trailing"in n?!!n.trailing:g);return u.cancel=r,u}function vo(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Hi(q);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new vo.Cache,n}function yo(t){if("function"!=typeof t)throw new Hi(q);return function(){return!t.apply(this,arguments)}}function go(t){return ho(2,t)}function mo(t,e){if("function"!=typeof t)throw new Hi(q);return e=xa(e===A?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,o=xa(n.length-e,0),i=zi(o);++r<o;)i[r]=n[e+r];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,n[0],i);case 2:return t.call(this,n[0],n[1],i)}var a=zi(e+1);for(r=-1;++r<e;)a[r]=n[r];return a[e]=i,t.apply(this,a)}}function _o(t){if("function"!=typeof t)throw new Hi(q);return function(e){return t.apply(this,e)}}function bo(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new Hi(q);return n===!1?r=!1:Lo(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),po(t,e,{leading:r,maxWait:+e,trailing:o})}function wo(t,e){return e=null==e?Ii:e,Nn(e,T,A,[t],[])}function xo(t,e,n,r){return e&&"boolean"!=typeof e&&Qn(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),"function"==typeof n?we(t,e,an(n,r,1)):we(t,e)}function So(t,e,n){return"function"==typeof e?we(t,!0,an(e,n,1)):we(t,!0)}function ko(t,e){return t>e}function Eo(t,e){return t>=e}function jo(t){return _(t)&&Xn(t)&&ea.call(t,"callee")&&!fa.call(t,"callee")}function Ao(t){return t===!0||t===!1||_(t)&&ra.call(t)==V}function Io(t){return _(t)&&ra.call(t)==H}function Oo(t){return!!t&&1===t.nodeType&&_(t)&&!zo(t)}function Po(t){return null==t?!0:Xn(t)&&(Ou(t)||Yo(t)||jo(t)||_(t)&&To(t.splice))?!t.length:!Du(t).length}function Mo(t,e,n,r){n="function"==typeof n?an(n,r,3):A;var o=n?n(t,e):A;return o===A?Le(t,e,n):!!o}function Bo(t){return _(t)&&"string"==typeof t.message&&ra.call(t)==X}function Co(t){return"number"==typeof t&&ba(t)}function To(t){return Lo(t)&&ra.call(t)==Z}function Lo(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ro(t,e,n,r){return n="function"==typeof n?an(n,r,3):A,Ne(t,$n(e),n)}function No(t){return Do(t)&&t!=+t}function Uo(t){return null==t?!1:To(t)?ia.test(ta.call(t)):_(t)&&Rt.test(t)}function Fo(t){return null===t}function Do(t){return"number"==typeof t||_(t)&&ra.call(t)==tt}function zo(t){var e;if(!_(t)||ra.call(t)!=et||jo(t)||!ea.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return Pe(t,function(t,e){n=e}),n===A||ea.call(t,n)}function Go(t){return Lo(t)&&ra.call(t)==nt}function Yo(t){return"string"==typeof t||_(t)&&ra.call(t)==ot}function $o(t){return _(t)&&nr(t.length)&&!!$t[ra.call(t)]}function qo(t){return t===A}function Wo(t,e){return e>t}function Jo(t,e){return e>=t}function Ko(t){var e=t?Ga(t):0;return nr(e)?e?te(t):[]:ai(t)}function Vo(t){return _e(t,ei(t))}function Ho(t,e,n){var r=La(t);return n&&Qn(t,e,n)&&(e=A),e?ge(r,e):r}function Xo(t){return Ce(t,ei(t))}function Zo(t,e,n){var r=null==t?A:Te(t,hr(e),e+"");return r===A?n:r}function Qo(t,e){if(null==t)return!1;var n=ea.call(t,e);if(!n&&!tr(e)){if(e=hr(e),t=1==e.length?t:Te(t,Ke(e,0,-1)),null==t)return!1;e=jr(e),n=ea.call(t,e)}return n||nr(t.length)&&Zn(e,t.length)&&(Ou(t)||jo(t))}function ti(t,e,n){n&&Qn(t,e,n)&&(e=A);for(var r=-1,o=Du(t),i=o.length,a={};++r<i;){var u=o[r],s=t[u];e?ea.call(a,s)?a[s].push(u):a[s]=[u]:a[s]=u}return a}function ei(t){if(null==t)return[];Lo(t)||(t=Ji(t));var e=t.length;e=e&&nr(e)&&(Ou(t)||jo(t))&&e||0;for(var n=t.constructor,r=-1,o="function"==typeof n&&n.prototype===t,i=zi(e),a=e>0;++r<e;)i[r]=r+"";for(var u in t)a&&Zn(u,e)||"constructor"==u&&(o||!ea.call(t,u))||i.push(u);return i}function ni(t){t=lr(t);for(var e=-1,n=Du(t),r=n.length,o=zi(r);++e<r;){var i=n[e];o[e]=[i,t[i]]}return o}function ri(t,e,n){var r=null==t?A:t[e];return r===A&&(null==t||tr(e,t)||(e=hr(e),t=1==e.length?t:Te(t,Ke(e,0,-1)),r=null==t?A:t[jr(e)]),r=r===A?n:r),To(r)?r.call(t):r}function oi(t,e,n){if(null==t)return t;var r=e+"";e=null!=t[r]||tr(e,t)?[r]:hr(e);for(var o=-1,i=e.length,a=i-1,u=t;null!=u&&++o<i;){var s=e[o];Lo(u)&&(o==a?u[s]=n:null==u[s]&&(u[s]=Zn(e[o+1])?[]:{})),u=u[s]}return t}function ii(t,e,n,r){var o=Ou(t)||$o(t);if(e=zn(e,r,4),null==n)if(o||Lo(t)){var i=t.constructor;n=o?Ou(t)?new i:[]:La(To(i)?i.prototype:A)}else n={};return(o?ee:Me)(t,function(t,r,o){return e(n,t,r,o)}),n}function ai(t){return tn(t,Du(t))}function ui(t){return tn(t,ei(t))}function si(t,e,n){return e=+e||0,n===A?(n=e,e=0):n=+n||0,t>=Sa(e,n)&&t<xa(e,n)}function ci(t,e,n){n&&Qn(t,e,n)&&(e=n=A);var r=null==t,o=null==e;if(null==n&&(o&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,o=!0)),r&&o&&(e=1,o=!1),t=+t||0,o?(e=t,t=0):e=+e||0,n||t%1||e%1){var i=ja();return Sa(t+i*(e-t+sa("1e-"+((i+"").length-1))),e)}return We(t,e)}function fi(t){return t=c(t),
t&&t.charAt(0).toUpperCase()+t.slice(1)}function li(t){return t=c(t),t&&t.replace(Ut,d).replace(Mt,"")}function hi(t,e,n){t=c(t),e+="";var r=t.length;return n=n===A?r:Sa(0>n?0:+n||0,r),n-=e.length,n>=0&&t.indexOf(e,n)==n}function pi(t){return t=c(t),t&&xt.test(t)?t.replace(bt,v):t}function di(t){return t=c(t),t&&Pt.test(t)?t.replace(Ot,y):t||"(?:)"}function vi(t,e,n){t=c(t),e=+e;var r=t.length;if(r>=e||!ba(e))return t;var o=(e-r)/2,i=ma(o),a=ya(o);return n=Cn("",a,n),n.slice(0,i)+t+n}function yi(t,e,n){return(n?Qn(t,e,n):null==e)?e=0:e&&(e=+e),t=bi(t),Ea(t,e||(Lt.test(t)?16:10))}function gi(t,e){var n="";if(t=c(t),e=+e,1>e||!t||!ba(e))return n;do e%2&&(n+=t),e=ma(e/2),t+=t;while(e);return n}function mi(t,e,n){return t=c(t),n=null==n?0:Sa(0>n?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function _i(t,n,r){var o=e.templateSettings;r&&Qn(t,n,r)&&(n=r=A),t=c(t),n=ye(ge({},r||n),o,ve);var i,a,u=ye(ge({},n.imports),o.imports,ve),s=Du(u),f=tn(u,s),l=0,h=n.interpolate||Ft,p="__p += '",d=Ki((n.escape||Ft).source+"|"+h.source+"|"+(h===Et?Ct:Ft).source+"|"+(n.evaluate||Ft).source+"|$","g"),v="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Yt+"]")+"\n";t.replace(d,function(e,n,r,o,u,s){return r||(r=o),p+=t.slice(l,s).replace(Dt,g),n&&(i=!0,p+="' +\n__e("+n+") +\n'"),u&&(a=!0,p+="';\n"+u+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+e.length,e}),p+="';\n";var y=n.variable;y||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(yt,""):p).replace(gt,"$1").replace(mt,"$1;"),p="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=Xu(function(){return $i(s,v+"return "+p).apply(A,f)});if(m.source=p,Bo(m))throw m;return m}function bi(t,e,n){var r=t;return(t=c(t))?(n?Qn(r,e,n):null==e)?t.slice(S(t),k(t)+1):(e+="",t.slice(f(t,e),l(t,e)+1)):t}function wi(t,e,n){var r=t;return t=c(t),t?(n?Qn(r,e,n):null==e)?t.slice(S(t)):t.slice(f(t,e+"")):t}function xi(t,e,n){var r=t;return t=c(t),t?(n?Qn(r,e,n):null==e)?t.slice(0,k(t)+1):t.slice(0,l(t,e+"")+1):t}function Si(t,e,n){n&&Qn(t,e,n)&&(e=A);var r=U,o=F;if(null!=e)if(Lo(e)){var i="separator"in e?e.separator:i;r="length"in e?+e.length||0:r,o="omission"in e?c(e.omission):o}else r=+e||0;if(t=c(t),r>=t.length)return t;var a=r-o.length;if(1>a)return o;var u=t.slice(0,a);if(null==i)return u+o;if(Go(i)){if(t.slice(a).search(i)){var s,f,l=t.slice(0,a);for(i.global||(i=Ki(i.source,(Tt.exec(i)||"")+"g")),i.lastIndex=0;s=i.exec(l);)f=s.index;u=u.slice(0,null==f?a:f)}}else if(t.indexOf(i,a)!=a){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+o}function ki(t){return t=c(t),t&&wt.test(t)?t.replace(_t,E):t}function Ei(t,e,n){return n&&Qn(t,e,n)&&(e=A),t=c(t),t.match(e||zt)||[]}function ji(t,e,n){return n&&Qn(t,e,n)&&(e=A),_(t)?Oi(t):be(t,e)}function Ai(t){return function(){return t}}function Ii(t){return t}function Oi(t){return Fe(we(t,!0))}function Pi(t,e){return De(t,we(e,!0))}function Mi(t,e,n){if(null==n){var r=Lo(e),o=r?Du(e):A,i=o&&o.length?Ce(e,o):A;(i?i.length:r)||(i=!1,n=e,e=t,t=this)}i||(i=Ce(e,Du(e)));var a=!0,u=-1,s=To(t),c=i.length;n===!1?a=!1:Lo(n)&&"chain"in n&&(a=n.chain);for(;++u<c;){var f=i[u],l=e[f];t[f]=l,s&&(t.prototype[f]=function(e){return function(){var n=this.__chain__;if(a||n){var r=t(this.__wrapped__),o=r.__actions__=te(this.__actions__);return o.push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return e.apply(t,ce([this.value()],arguments))}}(l))}return t}function Bi(){return re._=oa,this}function Ci(){}function Ti(t){return tr(t)?Ye(t):$e(t)}function Li(t){return function(e){return Te(t,hr(e),e+"")}}function Ri(t,e,n){n&&Qn(t,e,n)&&(e=n=A),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var r=-1,o=xa(ya((e-t)/(n||1)),0),i=zi(o);++r<o;)i[r]=t,t+=n;return i}function Ni(t,e,n){if(t=ma(t),1>t||!ba(t))return[];var r=-1,o=zi(Sa(t,Oa));for(e=an(e,n,1);++r<t;)Oa>r?o[r]=e(r):e(r);return o}function Ui(t){var e=++na;return c(t)+e}function Fi(t,e){return(+t||0)+(+e||0)}function Di(t,e,n){return n&&Qn(t,e,n)&&(e=A),e=zn(e,n,3),1==e.length?pe(Ou(t)?t:fr(t),e):Ze(t,e)}t=t?oe.defaults(re.Object(),t,oe.pick(re,Gt)):re;var zi=t.Array,Gi=t.Date,Yi=t.Error,$i=t.Function,qi=t.Math,Wi=t.Number,Ji=t.Object,Ki=t.RegExp,Vi=t.String,Hi=t.TypeError,Xi=zi.prototype,Zi=Ji.prototype,Qi=Vi.prototype,ta=$i.prototype.toString,ea=Zi.hasOwnProperty,na=0,ra=Zi.toString,oa=re._,ia=Ki("^"+ta.call(ea).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),aa=t.ArrayBuffer,ua=t.clearTimeout,sa=t.parseFloat,ca=qi.pow,fa=Zi.propertyIsEnumerable,la=qn(t,"Set"),ha=t.setTimeout,pa=Xi.splice,da=t.Uint8Array,va=qn(t,"WeakMap"),ya=qi.ceil,ga=qn(Ji,"create"),ma=qi.floor,_a=qn(zi,"isArray"),ba=t.isFinite,wa=qn(Ji,"keys"),xa=qi.max,Sa=qi.min,ka=qn(Gi,"now"),Ea=t.parseInt,ja=qi.random,Aa=Wi.NEGATIVE_INFINITY,Ia=Wi.POSITIVE_INFINITY,Oa=4294967295,Pa=Oa-1,Ma=Oa>>>1,Ba=9007199254740991,Ca=va&&new va,Ta={};e.support={};e.templateSettings={escape:St,evaluate:kt,interpolate:Et,variable:"",imports:{_:e}};var La=function(){function t(){}return function(e){if(Lo(e)){t.prototype=e;var n=new t;t.prototype=A}return n||{}}}(),Ra=hn(Me),Na=hn(Be,!0),Ua=pn(),Fa=pn(!0),Da=Ca?function(t,e){return Ca.set(t,e),t}:Ii,za=Ca?function(t){return Ca.get(t)}:Ci,Ga=Ye("length"),Ya=function(){var t=0,e=0;return function(n,r){var o=vu(),i=z-(o-e);if(e=o,i>0){if(++t>=D)return n}else t=0;return Da(n,r)}}(),$a=mo(function(t,e){return _(t)&&Xn(t)?Se(t,Oe(e,!1,!0)):[]}),qa=xn(),Wa=xn(!0),Ja=mo(function(t){for(var e=t.length,n=e,r=zi(l),o=Yn(),i=o==u,a=[];n--;){var s=t[n]=Xn(s=t[n])?s:[];r[n]=i&&s.length>=120?vn(n&&s):null}var c=t[0],f=-1,l=c?c.length:0,h=r[0];t:for(;++f<l;)if(s=c[f],(h?Xt(h,s):o(a,s,0))<0){for(var n=e;--n;){var p=r[n];if((p?Xt(p,s):o(t[n],s,0))<0)continue t}h&&h.push(s),a.push(s)}return a}),Ka=mo(function(t,e){e=Oe(e);var n=me(t,e);return qe(t,e.sort(i)),n}),Va=Rn(),Ha=Rn(!0),Xa=mo(function(t){return Qe(Oe(t,!1,!0))}),Za=mo(function(t,e){return Xn(t)?Se(t,e):[]}),Qa=mo(Nr),tu=mo(function(t){var e=t.length,n=e>2?t[e-2]:A,r=e>1?t[e-1]:A;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof r?(--e,r):A,r=A),t.length=e,Ur(t,n,r)}),eu=mo(function(t){return t=Oe(t),this.thru(function(e){return Qt(Ou(e)?e:[lr(e)],t)})}),nu=mo(function(t,e){return me(t,Oe(e))}),ru=fn(function(t,e,n){ea.call(t,n)?++t[n]:t[n]=1}),ou=wn(Ra),iu=wn(Na,!0),au=En(ee,Ra),uu=En(ne,Na),su=fn(function(t,e,n){ea.call(t,n)?t[n].push(e):t[n]=[e]}),cu=fn(function(t,e,n){t[n]=e}),fu=mo(function(t,e,n){var r=-1,o="function"==typeof e,i=tr(e),a=Xn(t)?zi(t.length):[];return Ra(t,function(t){var u=o?e:i&&null!=t?t[e]:A;a[++r]=u?u.apply(t,n):Hn(t,e,n)}),a}),lu=fn(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),hu=Mn(fe,Ra),pu=Mn(le,Na),du=mo(function(t,e){if(null==t)return[];var n=e[2];return n&&Qn(e[0],e[1],n)&&(e.length=1),Xe(t,Oe(e),[])}),vu=ka||function(){return(new Gi).getTime()},yu=mo(function(t,e,n){var r=O;if(n.length){var o=w(n,yu.placeholder);r|=T}return Nn(t,r,e,n,o)}),gu=mo(function(t,e){e=e.length?Oe(e):Xo(t);for(var n=-1,r=e.length;++n<r;){var o=e[n];t[o]=Nn(t[o],O,t)}return t}),mu=mo(function(t,e,n){var r=O|P;if(n.length){var o=w(n,mu.placeholder);r|=T}return Nn(e,r,t,n,o)}),_u=mn(B),bu=mn(C),wu=mo(function(t,e){return xe(t,1,e)}),xu=mo(function(t,e,n){return xe(t,e,n)}),Su=kn(),ku=kn(!0),Eu=mo(function(t,e){if(e=Oe(e),"function"!=typeof t||!ie(e,s))throw new Hi(q);var n=e.length;return mo(function(r){for(var o=Sa(r.length,n);o--;)r[o]=e[o](r[o]);return t.apply(this,r)})}),ju=Pn(T),Au=Pn(L),Iu=mo(function(t,e){return Nn(t,N,A,A,A,Oe(e))}),Ou=_a||function(t){return _(t)&&nr(t.length)&&ra.call(t)==K},Pu=ln(ze),Mu=ln(function(t,e,n){return n?ye(t,e,n):ge(t,e)}),Bu=_n(Mu,de),Cu=_n(Pu,ir),Tu=Sn(Me),Lu=Sn(Be),Ru=jn(Ua),Nu=jn(Fa),Uu=An(Me),Fu=An(Be),Du=wa?function(t){var e=null==t?A:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Xn(t)?cr(t):Lo(t)?wa(t):[]}:cr,zu=In(!0),Gu=In(),Yu=mo(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=se(Oe(e),Vi);return ar(t,Se(ei(t),e))}var n=an(e[0],e[1],3);return ur(t,function(t,e,r){return!n(t,e,r)})}),$u=mo(function(t,e){return null==t?{}:"function"==typeof e[0]?ur(t,an(e[0],e[1],3)):ar(t,Oe(e))}),qu=yn(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),Wu=yn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Ju=On(),Ku=On(!0),Vu=yn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Hu=yn(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Xu=mo(function(t,e){try{return t.apply(A,e)}catch(n){return Bo(n)?n:new Yi(n)}}),Zu=mo(function(t,e){return function(n){return Hn(n,t,e)}}),Qu=mo(function(t,e){return function(n){return Hn(t,n,e)}}),ts=Ln("ceil"),es=Ln("floor"),ns=bn(ko,Aa),rs=bn(Wo,Ia),os=Ln("round");return e.prototype=n.prototype,r.prototype=La(n.prototype),r.prototype.constructor=r,o.prototype=La(n.prototype),o.prototype.constructor=o,it.prototype["delete"]=Wt,it.prototype.get=Jt,it.prototype.has=Kt,it.prototype.set=Vt,Ht.prototype.push=Zt,vo.Cache=it,e.after=fo,e.ary=lo,e.assign=Mu,e.at=nu,e.before=ho,e.bind=yu,e.bindAll=gu,e.bindKey=mu,e.callback=ji,e.chain=zr,e.chunk=dr,e.compact=vr,e.constant=Ai,e.countBy=ru,e.create=Ho,e.curry=_u,e.curryRight=bu,e.debounce=po,e.defaults=Bu,e.defaultsDeep=Cu,e.defer=wu,e.delay=xu,e.difference=$a,e.drop=yr,e.dropRight=gr,e.dropRightWhile=mr,e.dropWhile=_r,e.fill=br,e.filter=Xr,e.flatten=xr,e.flattenDeep=Sr,e.flow=Su,e.flowRight=ku,e.forEach=au,e.forEachRight=uu,e.forIn=Ru,e.forInRight=Nu,e.forOwn=Uu,e.forOwnRight=Fu,e.functions=Xo,e.groupBy=su,e.indexBy=cu,e.initial=Er,e.intersection=Ja,e.invert=ti,e.invoke=fu,e.keys=Du,e.keysIn=ei,e.map=to,e.mapKeys=zu,e.mapValues=Gu,e.matches=Oi,e.matchesProperty=Pi,e.memoize=vo,e.merge=Pu,e.method=Zu,e.methodOf=Qu,e.mixin=Mi,e.modArgs=Eu,e.negate=yo,e.omit=Yu,e.once=go,e.pairs=ni,e.partial=ju,e.partialRight=Au,e.partition=lu,e.pick=$u,e.pluck=eo,e.property=Ti,e.propertyOf=Li,e.pull=Ir,e.pullAt=Ka,e.range=Ri,e.rearg=Iu,e.reject=no,e.remove=Or,e.rest=Pr,e.restParam=mo,e.set=oi,e.shuffle=oo,e.slice=Mr,e.sortBy=uo,e.sortByAll=du,e.sortByOrder=so,e.spread=_o,e.take=Br,e.takeRight=Cr,e.takeRightWhile=Tr,e.takeWhile=Lr,e.tap=Gr,e.throttle=bo,e.thru=Yr,e.times=Ni,e.toArray=Ko,e.toPlainObject=Vo,e.transform=ii,e.union=Xa,e.uniq=Rr,e.unzip=Nr,e.unzipWith=Ur,e.values=ai,e.valuesIn=ui,e.where=co,e.without=Za,e.wrap=wo,e.xor=Fr,e.zip=Qa,e.zipObject=Dr,e.zipWith=tu,e.backflow=ku,e.collect=to,e.compose=ku,e.each=au,e.eachRight=uu,e.extend=Mu,e.iteratee=ji,e.methods=Xo,e.object=Dr,e.select=Xr,e.tail=Pr,e.unique=Rr,Mi(e,e),e.add=Fi,e.attempt=Xu,e.camelCase=qu,e.capitalize=fi,e.ceil=ts,e.clone=xo,e.cloneDeep=So,e.deburr=li,e.endsWith=hi,e.escape=pi,e.escapeRegExp=di,e.every=Hr,e.find=ou,e.findIndex=qa,e.findKey=Tu,e.findLast=iu,e.findLastIndex=Wa,e.findLastKey=Lu,e.findWhere=Zr,e.first=wr,e.floor=es,e.get=Zo,e.gt=ko,e.gte=Eo,e.has=Qo,e.identity=Ii,e.includes=Qr,e.indexOf=kr,e.inRange=si,e.isArguments=jo,e.isArray=Ou,e.isBoolean=Ao,e.isDate=Io,e.isElement=Oo,e.isEmpty=Po,e.isEqual=Mo,e.isError=Bo,e.isFinite=Co,e.isFunction=To,e.isMatch=Ro,e.isNaN=No,e.isNative=Uo,e.isNull=Fo,e.isNumber=Do,e.isObject=Lo,e.isPlainObject=zo,e.isRegExp=Go,e.isString=Yo,e.isTypedArray=$o,e.isUndefined=qo,e.kebabCase=Wu,e.last=jr,e.lastIndexOf=Ar,e.lt=Wo,e.lte=Jo,e.max=ns,e.min=rs,e.noConflict=Bi,e.noop=Ci,e.now=vu,e.pad=vi,e.padLeft=Ju,e.padRight=Ku,e.parseInt=yi,e.random=ci,e.reduce=hu,e.reduceRight=pu,e.repeat=gi,e.result=ri,e.round=os,e.runInContext=j,e.size=io,e.snakeCase=Vu,e.some=ao,e.sortedIndex=Va,e.sortedLastIndex=Ha,e.startCase=Hu,e.startsWith=mi,e.sum=Di,e.template=_i,e.trim=bi,e.trimLeft=wi,e.trimRight=xi,e.trunc=Si,e.unescape=ki,e.uniqueId=Ui,e.words=Ei,e.all=Hr,e.any=ao,e.contains=Qr,e.eq=Mo,e.detect=ou,e.foldl=hu,e.foldr=pu,e.head=wr,e.include=Qr,e.inject=hu,Mi(e,function(){var t={};return Me(e,function(n,r){e.prototype[r]||(t[r]=n)}),t}(),!1),e.sample=ro,e.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return ro(e,t)}):ro(this.value())},e.VERSION=I,ee(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),ee(["drop","take"],function(t,e){o.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new o(this);n=null==n?1:xa(ma(n)||0,0);var i=this.clone();return r?i.__takeCount__=Sa(i.__takeCount__,n):i.__views__.push({size:n,type:t+(i.__dir__<0?"Right":"")}),i},o.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ee(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n!=$;o.prototype[t]=function(t,e){var o=this.clone();return o.__iteratees__.push({iteratee:zn(t,e,1),type:n}),o.__filtered__=o.__filtered__||r,o}}),ee(["first","last"],function(t,e){var n="take"+(e?"Right":"");o.prototype[t]=function(){return this[n](1).value()[0]}}),ee(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");o.prototype[t]=function(){return this.__filtered__?new o(this):this[n](1)}}),ee(["pluck","where"],function(t,e){var n=e?"filter":"map",r=e?Fe:Ti;o.prototype[t]=function(t){return this[n](r(t))}}),o.prototype.compact=function(){return this.filter(Ii)},o.prototype.reject=function(t,e){return t=zn(t,e,1),this.filter(function(e){return!t(e)})},o.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||0>e)?new o(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==A&&(e=+e||0,n=0>e?n.dropRight(-e):n.take(e-t)),n)},o.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},o.prototype.toArray=function(){return this.take(Ia)},Me(o.prototype,function(t,n){var i=/^(?:filter|map|reject)|While$/.test(n),a=/^(?:first|last)$/.test(n),u=e[a?"take"+("last"==n?"Right":""):n];u&&(e.prototype[n]=function(){var e=a?[1]:arguments,n=this.__chain__,s=this.__wrapped__,c=!!this.__actions__.length,f=s instanceof o,l=e[0],h=f||Ou(s);h&&i&&"function"==typeof l&&1!=l.length&&(f=h=!1);var p=function(t){return a&&n?u(t,1)[0]:u.apply(A,ce([t],e))},d={func:Yr,args:[p],thisArg:A},v=f&&!c;if(a&&!n)return v?(s=s.clone(),s.__actions__.push(d),t.call(s)):u.call(A,this.value())[0];if(!a&&h){s=v?s:new o(this);var y=t.apply(s,e);return y.__actions__.push(d),new r(y,n)}return this.thru(p)})}),ee(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var n=(/^(?:replace|split)$/.test(t)?Qi:Xi)[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",o=/^(?:join|pop|replace|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return o&&!this.__chain__?n.apply(this.value(),t):this[r](function(e){return n.apply(e,t)})}}),Me(o.prototype,function(t,n){var r=e[n];if(r){var o=r.name,i=Ta[o]||(Ta[o]=[]);i.push({name:n,func:r})}}),Ta[Bn(A,P).name]=[{name:"wrapper",func:A}],o.prototype.clone=b,o.prototype.reverse=Q,o.prototype.value=rt,e.prototype.chain=$r,e.prototype.commit=qr,e.prototype.concat=eu,e.prototype.plant=Wr,e.prototype.reverse=Jr,e.prototype.toString=Kr,e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Vr,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var A,I="3.10.1",O=1,P=2,M=4,B=8,C=16,T=32,L=64,R=128,N=256,U=30,F="...",D=150,z=16,G=200,Y=1,$=2,q="Expected a function",W="__lodash_placeholder__",J="[object Arguments]",K="[object Array]",V="[object Boolean]",H="[object Date]",X="[object Error]",Z="[object Function]",Q="[object Map]",tt="[object Number]",et="[object Object]",nt="[object RegExp]",rt="[object Set]",ot="[object String]",it="[object WeakMap]",at="[object ArrayBuffer]",ut="[object Float32Array]",st="[object Float64Array]",ct="[object Int8Array]",ft="[object Int16Array]",lt="[object Int32Array]",ht="[object Uint8Array]",pt="[object Uint8ClampedArray]",dt="[object Uint16Array]",vt="[object Uint32Array]",yt=/\b__p \+= '';/g,gt=/\b(__p \+=) '' \+/g,mt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_t=/&(?:amp|lt|gt|quot|#39|#96);/g,bt=/[&<>"'`]/g,wt=RegExp(_t.source),xt=RegExp(bt.source),St=/<%-([\s\S]+?)%>/g,kt=/<%([\s\S]+?)%>/g,Et=/<%=([\s\S]+?)%>/g,jt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,At=/^\w*$/,It=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Ot=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Pt=RegExp(Ot.source),Mt=/[\u0300-\u036f\ufe20-\ufe23]/g,Bt=/\\(\\)?/g,Ct=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Tt=/\w*$/,Lt=/^0[xX]/,Rt=/^\[object .+?Constructor\]$/,Nt=/^\d+$/,Ut=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ft=/($^)/,Dt=/['\n\r\u2028\u2029\\]/g,zt=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),Gt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Yt=-1,$t={};$t[ut]=$t[st]=$t[ct]=$t[ft]=$t[lt]=$t[ht]=$t[pt]=$t[dt]=$t[vt]=!0,$t[J]=$t[K]=$t[at]=$t[V]=$t[H]=$t[X]=$t[Z]=$t[Q]=$t[tt]=$t[et]=$t[nt]=$t[rt]=$t[ot]=$t[it]=!1;var qt={};qt[J]=qt[K]=qt[at]=qt[V]=qt[H]=qt[ut]=qt[st]=qt[ct]=qt[ft]=qt[lt]=qt[tt]=qt[et]=qt[nt]=qt[ot]=qt[ht]=qt[pt]=qt[dt]=qt[vt]=!0,qt[X]=qt[Z]=qt[Q]=qt[rt]=qt[it]=!1;var Wt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Jt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Kt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Vt={"function":!0,object:!0},Ht={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Xt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zt=Vt[typeof e]&&e&&!e.nodeType&&e,Qt=Vt[typeof t]&&t&&!t.nodeType&&t,te=Zt&&Qt&&"object"==typeof o&&o&&o.Object&&o,ee=Vt[typeof self]&&self&&self.Object&&self,ne=Vt[typeof window]&&window&&window.Object&&window,re=(Qt&&Qt.exports===Zt&&Zt,te||ne!==(this&&this.window)&&ne||ee||this),oe=j();re._=oe,r=function(){return oe}.call(e,n,e,t),!(r!==A&&(t.exports=r))}).call(this)}).call(e,n(66)(t),function(){return this}())},17:function(t,e,n){var r;/*!
	  Copyright (c) 2015 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function o(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];if(n){var r=typeof n;if("string"===r||"number"===r)t+=" "+n;else if(Array.isArray(n))t+=" "+o.apply(null,n);else if("object"===r)for(var a in n)i.call(n,a)&&n[a]&&(t+=" "+a)}}return t.substr(1)}var i={}.hasOwnProperty;"undefined"!=typeof t&&t.exports?t.exports=o:(r=function(){return o}.call(e,n,e,t),!(void 0!==r&&(t.exports=r)))}()},20:function(t,e){function n(t){return!!t&&"object"==typeof t}function r(t,e){var n=null==t?void 0:t[e];return u(n)?n:void 0}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&g>=t}function i(t){return a(t)&&d.call(t)==c}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function u(t){return null==t?!1:i(t)?v.test(h.call(t)):n(t)&&f.test(t)}var s="[object Array]",c="[object Function]",f=/^\[object .+?Constructor\]$/,l=Object.prototype,h=Function.prototype.toString,p=l.hasOwnProperty,d=l.toString,v=RegExp("^"+h.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),y=r(Array,"isArray"),g=9007199254740991,m=y||function(t){return n(t)&&o(t.length)&&d.call(t)==s};t.exports=m},21:function(t,e,n){function r(t){return function(e){return null==e?void 0:e[t]}}function o(t){return null!=t&&a(m(t))}function i(t,e){return t="number"==typeof t||p.test(t)?+t:-1,e=null==e?g:e,t>-1&&t%1==0&&e>t}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&g>=t}function u(t){for(var e=c(t),n=e.length,r=n&&t.length,o=!!r&&a(r)&&(h(t)||l(t)),u=-1,s=[];++u<n;){var f=e[u];(o&&i(f,r)||v.call(t,f))&&s.push(f)}return s}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function c(t){if(null==t)return[];s(t)||(t=Object(t));var e=t.length;e=e&&a(e)&&(h(t)||l(t))&&e||0;for(var n=t.constructor,r=-1,o="function"==typeof n&&n.prototype===t,u=Array(e),c=e>0;++r<e;)u[r]=r+"";for(var f in t)c&&i(f,e)||"constructor"==f&&(o||!v.call(t,f))||u.push(f);return u}var f=n(81),l=n(178),h=n(20),p=/^\d+$/,d=Object.prototype,v=d.hasOwnProperty,y=f(Object,"keys"),g=9007199254740991,m=r("length"),_=y?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&o(t)?u(t):s(t)?y(t):[]}:u;t.exports=_},23:function(t,e){function n(t){var e=this,n=l.call(arguments,1);return new Promise(function(o,i){function a(e){var n;try{n=t.next(e)}catch(r){return i(r)}c(n)}function s(e){var n;try{n=t["throw"](e)}catch(r){return i(r)}c(n)}function c(t){if(t.done)return o(t.value);var n=r.call(e,t.value);return n&&u(n)?n.then(a,s):s(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(t.value)+'"'))}return"function"==typeof t&&(t=t.apply(e,n)),t&&"function"==typeof t.next?void a():o(t)})}function r(t){return t?u(t)?t:c(t)||s(t)?n.call(this,t):"function"==typeof t?o.call(this,t):Array.isArray(t)?i.call(this,t):f(t)?a.call(this,t):t:t}function o(t){var e=this;return new Promise(function(n,r){t.call(e,function(t,e){return t?r(t):(arguments.length>2&&(e=l.call(arguments,1)),void n(e))})})}function i(t){return Promise.all(t.map(r,this))}function a(t){function e(t,e){n[e]=void 0,i.push(t.then(function(t){n[e]=t}))}for(var n=new t.constructor,o=Object.keys(t),i=[],a=0;a<o.length;a++){var s=o[a],c=r.call(this,t[s]);c&&u(c)?e(c,s):n[s]=t[s]}return Promise.all(i).then(function(){return n})}function u(t){return"function"==typeof t.then}function s(t){return"function"==typeof t.next&&"function"==typeof t["throw"]}function c(t){var e=t.constructor;return e?"GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName?!0:s(e.prototype):!1}function f(t){return Object==t.constructor}var l=Array.prototype.slice;t.exports=n["default"]=n.co=n,n.wrap=function(t){function e(){return n.call(this,t.apply(this,arguments))}return e.__generatorFunction__=t,e}},27:function(t,e){t.exports=function(t,e,n,r,o){this.confidence=n,this.name=r||e.name(t),this.lang=o}},29:function(t,e,n){t.exports={uniq:n(184),pluck:n(182),values:n(185),assign:n(177)}},36:function(t,e,n){(function(t,r){function o(t,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&e._extend(r,n),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),s(r,t,r.depth)}function i(t,e){var n=o.styles[e];return n?"["+o.colors[n][0]+"m"+t+"["+o.colors[n][1]+"m":t}function a(t,e){return t}function u(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function s(t,n,r){if(t.customInspect&&n&&j(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return _(o)||(o=s(t,o,r)),o}var i=c(t,n);if(i)return i;var a=Object.keys(n),v=u(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),E(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(j(n)){var y=n.name?": "+n.name:"";return t.stylize("[Function"+y+"]","special")}if(x(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(k(n))return t.stylize(Date.prototype.toString.call(n),"date");if(E(n))return f(n)}var g="",m=!1,b=["{","}"];if(d(n)&&(m=!0,b=["[","]"]),j(n)){var w=n.name?": "+n.name:"";g=" [Function"+w+"]"}if(x(n)&&(g=" "+RegExp.prototype.toString.call(n)),k(n)&&(g=" "+Date.prototype.toUTCString.call(n)),E(n)&&(g=" "+f(n)),0===a.length&&(!m||0==n.length))return b[0]+g+b[1];if(0>r)return x(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var S;return S=m?l(t,n,r,v,a):a.map(function(e){return h(t,n,r,v,e,m)}),t.seen.pop(),p(S,g,b)}function c(t,e){if(w(e))return t.stylize("undefined","undefined");if(_(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):v(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function l(t,e,n,r,o){for(var i=[],a=0,u=e.length;u>a;++a)M(e,String(a))?i.push(h(t,e,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(h(t,e,n,r,o,!0))}),i}function h(t,e,n,r,o,i){var a,u,c;if(c=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},c.get?u=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(u=t.stylize("[Setter]","special")),M(r,o)||(a="["+o+"]"),u||(t.seen.indexOf(c.value)<0?(u=y(n)?s(t,c.value,null):s(t,c.value,n-1),u.indexOf("\n")>-1&&(u=i?u.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+u.split("\n").map(function(t){return"   "+t}).join("\n"))):u=t.stylize("[Circular]","special")),w(a)){if(i&&o.match(/^\d+$/))return u;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+u}function p(t,e,n){var r=0,o=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function y(t){return null===t}function g(t){return null==t}function m(t){return"number"==typeof t}function _(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function w(t){return void 0===t}function x(t){return S(t)&&"[object RegExp]"===I(t)}function S(t){return"object"==typeof t&&null!==t}function k(t){return S(t)&&"[object Date]"===I(t)}function E(t){return S(t)&&("[object Error]"===I(t)||t instanceof Error)}function j(t){return"function"==typeof t}function A(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function I(t){return Object.prototype.toString.call(t)}function O(t){return 10>t?"0"+t.toString(10):t.toString(10)}function P(){var t=new Date,e=[O(t.getHours()),O(t.getMinutes()),O(t.getSeconds())].join(":");return[t.getDate(),L[t.getMonth()],e].join(" ")}function M(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var B=/%[sdj%]/g;e.format=function(t){if(!_(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(o(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,i=r.length,a=String(t).replace(B,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),u=r[n];i>n;u=r[++n])a+=y(u)||!S(u)?" "+u:" "+o(u);return a},e.deprecate=function(n,o){function i(){if(!a){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),a=!0}return n.apply(this,arguments)}if(w(t.process))return function(){return e.deprecate(n,o).apply(this,arguments)};if(r.noDeprecation===!0)return n;var a=!1;return i};var C,T={};e.debuglog=function(t){if(w(C)&&(C=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!T[t])if(new RegExp("\\b"+t+"\\b","i").test(C)){var n=r.pid;T[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else T[t]=function(){};return T[t]},e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=v,e.isNull=y,e.isNullOrUndefined=g,e.isNumber=m,e.isString=_,e.isSymbol=b,e.isUndefined=w,e.isRegExp=x,e.isObject=S,e.isDate=k,e.isError=E,e.isFunction=j,e.isPrimitive=A,e.isBuffer=n(191);var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",P(),e.format.apply(e,arguments))},e.inherits=n(105),e._extend=function(t,e){if(!e||!S(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,function(){return this}(),n(5))},41:function(t,e){function n(){function t(e){return t.validate(e),e}var e=[].slice.call(arguments);return t.validate=function(t){for(var n=0;n<e.length;n++)r(e[n],t)},t}function r(t,e){if(t===Number&&(t="number"),t===String&&(t="string"),"string"==typeof t){if(typeof e!==t)throw new Error("should be a "+t)}else if("function"==typeof t){if("function"==typeof t.validate)t.validate(e);else if(!(e instanceof t))throw new Error("should be an instance of "+t)}else{if("object"!=typeof t)throw new Error("invalid schema");if(!e)throw new Error("should be an object");o(t,e)}}function o(t,e){for(var n in t){if(!(n in e))throw new Error('missing property: "'+n+'"');try{r(t[n],e[n])}catch(o){throw new Error('error in property "'+n+'": '+o.message)}}}t.exports=n,n.maybe=function(t){function e(t){return e.validate(t),t}return e.validate=function(e){null!==e&&void 0!==e&&r(t,e)},e}},42:function(t,e,n){(function(e){"use strict";var n=function(t,n,r,o,i,a,u,s){if("production"!==e.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!t){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[r,o,i,a,u,s],l=0;c=new Error("Invariant Violation: "+n.replace(/%s/g,function(){return f[l++]}))}throw c.framesToPop=1,c}};t.exports=n}).call(e,n(5))},44:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(115),i=r(o),a=function(t){return function(e){return null!==e.progress?t(e):""}},u=a(function(t){return(0,i["default"])(t.current)+" / "+(0,i["default"])(t.total)});e.BYTES_FORMATTER=u;var s=a(function(t){return(t.current/t.total*100).toFixed(1)+"%"});e.PERCENTAGE_FORMATTER=s;var c=a(function(t){return t.extra+""});e.EXTRA_FORMATTER=c},45:function(t,e,n){function r(t){this._segments=t.map(o)}var o=n(158);t.exports=r;var i=function(t){return t.t},a=function(t){return t.x};r.prototype._reached=function(t,e,n){if(t>=this._segments.length)return!1;var r=this._segments[t],o=e(r);return r.inclusive?n>=o:n>o},r.prototype._segmentAt=function(t,e){for(var n=0;n<this._segments.length;n++)if(!this._reached(n+1,t,e))return this._segments[n]},r.prototype.segmentAtX=function(t){return this._segmentAt(a,t)},r.prototype.segmentAtT=function(t){return this._segmentAt(i,t)},r.prototype.t=function(t){var e=this.segmentAtX(t);return e.t+(t-e.x)/(e.dx||1)},r.prototype.x=function(t){var e=this.segmentAtT(t);return e.x+(t-e.t)*e.dx},r.prototype.dx=function(t){var e=this.segmentAtT(t);return e.dx}},46:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return function(e,n){for(var r=Math.abs(e-n),o=0;o<h.length;o++)if(r<t(h[o]))return h[o].value;return n>e?f:l}}function i(t){return t>=4}function a(t){return t===l||i(t)}function u(t){return 1===t?100:2===t?80:3===t?50:0}Object.defineProperty(e,"__esModule",{value:!0}),e.judgeTimeWith=o,e.isBad=i,e.breaksCombo=a,e.weight=u;var s=n(8),c=r(s),f=0;e.UNJUDGED=f;var l=-1;e.MISSED=l;var h=[{value:1,timegate:.02,endTimegate:.04},{value:2,timegate:.05,endTimegate:.1},{value:3,timegate:.1,endTimegate:.2},{value:4,timegate:.2,endTimegate:.2}];e.JUDGMENTS=h;var p=o(c["default"].property("timegate"));e.judgeTime=p;var d=o(c["default"].property("endTimegate"));e.judgeEndTime=d},53:function(t,e){"use strict";function n(t){return{as:function(e){return new Promise(function(n,r){var o=new FileReader;switch(o.onload=function(){n(o.result)},o.onerror=function(){r(new Error("Unable to read from Blob"))},e){case"arraybuffer":o.readAsArrayBuffer(t);break;case"text":o.readAsText(t)}})}}}Object.defineProperty(e,"__esModule",{value:!0}),e.readBlob=n,e["default"]=n},54:function(t,e,n){e.Reader=n(156),e.Compiler=n(152),e.BMSChart=n(99),e.BMSHeaders=n(100),e.BMSObjects=n(101),e.Speedcore=n(45),e.TimeSignatures=n(102),e.Notes=n(154),e.Timing=n(159),e.SongInfo=n(157),e.Keysounds=n(255),e.Positioning=n(256),e.Spacing=n(257)},55:function(t,e,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(t,e,n){if(t&&c(t)&&t instanceof r)return t;var o=new r;return o.parse(t,e,n),o}function i(t){return s(t)&&(t=o(t)),t instanceof r?t.format():r.prototype.format.call(t)}function a(t,e){return o(t,!1,!0).resolve(e)}function u(t,e){return t?o(t,!1,!0).resolveObject(e):e}function s(t){return"string"==typeof t}function c(t){return"object"==typeof t&&null!==t}function f(t){return null===t}function l(t){return null==t}var h=n(219);e.parse=o,e.resolve=a,e.resolveObject=u,e.format=i,e.Url=r;var p=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,v=["<",">",'"',"`"," ","\r","\n","	"],y=["{","}","|","\\","^","`"].concat(v),g=["'"].concat(y),m=["%","/","?",";","#"].concat(g),_=["/","?","#"],b=255,w=/^[a-z0-9A-Z_-]{0,63}$/,x=/^([a-z0-9A-Z_-]{0,63})(.*)$/,S={javascript:!0,"javascript:":!0},k={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},j=n(459);r.prototype.parse=function(t,e,n){if(!s(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t;r=r.trim();var o=p.exec(r);if(o){o=o[0];var i=o.toLowerCase();this.protocol=i,r=r.substr(o.length)}if(n||o||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===r.substr(0,2);!a||o&&k[o]||(r=r.substr(2),this.slashes=!0)}if(!k[o]&&(a||o&&!E[o])){for(var u=-1,c=0;c<_.length;c++){var f=r.indexOf(_[c]);-1!==f&&(-1===u||u>f)&&(u=f)}var l,d;d=-1===u?r.lastIndexOf("@"):r.lastIndexOf("@",u),-1!==d&&(l=r.slice(0,d),r=r.slice(d+1),this.auth=decodeURIComponent(l)),u=-1;for(var c=0;c<m.length;c++){var f=r.indexOf(m[c]);-1!==f&&(-1===u||u>f)&&(u=f)}-1===u&&(u=r.length),this.host=r.slice(0,u),r=r.slice(u),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var y=this.hostname.split(/\./),c=0,A=y.length;A>c;c++){var I=y[c];if(I&&!I.match(w)){for(var O="",P=0,M=I.length;M>P;P++)O+=I.charCodeAt(P)>127?"x":I[P];if(!O.match(w)){var B=y.slice(0,c),C=y.slice(c+1),T=I.match(x);T&&(B.push(T[1]),C.unshift(T[2])),C.length&&(r="/"+C.join(".")+r),this.hostname=B.join(".");break}}}if(this.hostname.length>b?this.hostname="":this.hostname=this.hostname.toLowerCase(),!v){for(var L=this.hostname.split("."),R=[],c=0;c<L.length;++c){var N=L[c];R.push(N.match(/[^A-Za-z0-9_-]/)?"xn--"+h.encode(N):N)}this.hostname=R.join(".")}var U=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+U,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!S[i])for(var c=0,A=g.length;A>c;c++){var D=g[c],z=encodeURIComponent(D);z===D&&(z=escape(D)),r=r.split(D).join(z)}var G=r.indexOf("#");-1!==G&&(this.hash=r.substr(G),r=r.slice(0,G));var Y=r.indexOf("?");if(-1!==Y?(this.search=r.substr(Y),this.query=r.substr(Y+1),e&&(this.query=j.parse(this.query)),r=r.slice(0,Y)):e&&(this.search="",this.query={}),r&&(this.pathname=r),E[i]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",N=this.search||"";this.path=U+N}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,i="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&c(this.query)&&Object.keys(this.query).length&&(i=j.stringify(this.query));var a=this.search||i&&"?"+i||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||E[e])&&o!==!1?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+o+n+a+r},r.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(s(t)){var e=new r;e.parse(t,!1,!0),t=e}var n=new r;if(Object.keys(this).forEach(function(t){n[t]=this[t]},this),n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(n[e]=t[e])}),E[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(t.protocol&&t.protocol!==n.protocol){if(!E[t.protocol])return Object.keys(t).forEach(function(e){n[e]=t[e]}),n.href=n.format(),n;if(n.protocol=t.protocol,t.host||k[t.protocol])n.pathname=t.pathname;else{for(var o=(t.pathname||"").split("/");o.length&&!(t.host=o.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==o[0]&&o.unshift(""),o.length<2&&o.unshift(""),n.pathname=o.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var i=n.pathname||"",a=n.search||"";n.path=i+a}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var u=n.pathname&&"/"===n.pathname.charAt(0),c=t.host||t.pathname&&"/"===t.pathname.charAt(0),h=c||u||n.host&&t.pathname,p=h,d=n.pathname&&n.pathname.split("/")||[],o=t.pathname&&t.pathname.split("/")||[],v=n.protocol&&!E[n.protocol];if(v&&(n.hostname="",n.port=null,n.host&&(""===d[0]?d[0]=n.host:d.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===o[0]?o[0]=t.host:o.unshift(t.host)),t.host=null),h=h&&(""===o[0]||""===d[0])),c)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,d=o;else if(o.length)d||(d=[]),d.pop(),d=d.concat(o),n.search=t.search,n.query=t.query;else if(!l(t.search)){if(v){n.hostname=n.host=d.shift();var y=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;y&&(n.auth=y.shift(),n.host=n.hostname=y.shift())}return n.search=t.search,n.query=t.query,f(n.pathname)&&f(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!d.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var g=d.slice(-1)[0],m=(n.host||t.host)&&("."===g||".."===g)||""===g,_=0,b=d.length;b>=0;b--)g=d[b],"."==g?d.splice(b,1):".."===g?(d.splice(b,1),_++):_&&(d.splice(b,1),_--);if(!h&&!p)for(;_--;_)d.unshift("..");!h||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),m&&"/"!==d.join("/").substr(-1)&&d.push("");var w=""===d[0]||d[0]&&"/"===d[0].charAt(0);if(v){n.hostname=n.host=w?"":d.length?d.shift():"";var y=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;y&&(n.auth=y.shift(),n.host=n.hostname=y.shift())}return h=h||n.host&&d.length,h&&!w&&d.unshift(""),d.length?n.pathname=d.join("/"):(n.pathname=null,n.path=null),f(n.pathname)&&f(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=d.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},56:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(276),i=r(o),a=void 0,u=0;window.performance&&"function"==typeof window.performance.now?e.now=a=function(){return window.performance.now()}:e.now=a=function(){return Date.now()},a.synchronize=function(t){function e(t){u=t+Date.now()-a()}function n(t,n){t?console.error("Cannot synchronize time!",t):(e(n),console.log("Synchronized. Offset = "+u))}(0,i["default"])(t,n,e)},a["synchronized"]=function(){var t=u;return function(){return a()+t}},e.now=a,e["default"]=a},66:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},68:function(t,e,n){"use strict";function r(t,e){if(!e)return function(){};var n=0;return e.report(0,t),function(r){return e.report(++n,t,r)}}function o(t,e){return t?Promise.resolve(e).tap(function(e){e&&e.byteLength?(t.formatter=s.BYTES_FORMATTER,t.report(e.byteLength,e.byteLength)):t.report(1,1)}):e}function i(t,e){var n=0,r=0;return function(){return t.report(n,++r),Promise.resolve(e.apply(this,arguments)).tap(function(){return t.report(++n,r)})}}function a(t,e){return t.watch(function(){return e.report(t.current,t.total,t.extra)})}function u(t){function e(){o&&t.report(o.current,o.total,o.extra),r.length>0&&(!o||o.progress>=1)&&n(r.shift())}function n(t){o!==t&&(i&&(i(),i=null),o=t,o&&(i=o.watch(e)))}var r=[],o=void 0,i=void 0;return{add:function(t){r.push(t),e()}}}Object.defineProperty(e,"__esModule",{value:!0}),e.fixed=r,e.atomic=o,e.wrapPromise=i,e.bind=a,e.simultaneous=u;var s=n(44)},70:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),n(275);var o=n(1),i=r(o),a=n(17),u=r(a);e["default"]=i["default"].createClass({displayName:"Scene",render:function(){return i["default"].createElement("div",{className:(0,u["default"])("Scene",this.props.className)},this.props.children)}}),t.exports=e["default"]},73:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return"probably"===p.canPlayType(t)}function a(t){var e=t.createGain();e.connect(t.destination),e.disconnect()}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.canPlay=i,e.unmuteAudio=a;var s=n(53),c=r(s),f=n(104),l=r(f),h=.001;e.FADE_LENGTH=h;var p=document.createElement("audio"),d=function(){function t(e){o(this,t),this._audioContext=e||l["default"],this._samples=[],this._instances=new Set}return u(t,[{key:"unmute",value:function(){a(this._audioContext)}},{key:"destroy",value:function(){if(!this._destroyed){this._destroyed=!0;var t=!0,e=!1,n=void 0;try{for(var r,o=this._samples[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value;i.destroy()}}catch(a){e=!0,n=a}finally{try{!t&&o["return"]&&o["return"]()}finally{if(e)throw n}}var u=!0,s=!1,c=void 0;try{for(var f,l=this._instances[Symbol.iterator]();!(u=(f=l.next()).done);u=!0){var h=f.value;h.destroy()}}catch(a){s=!0,c=a}finally{try{!u&&l["return"]&&l["return"]()}finally{if(s)throw c}}this._samples=null,this._instances=null}}},{key:"sample",value:function(t){var e=this;return this._coerceToArrayBuffer(t).then(function(t){return e._decodeAudio(t)}).then(function(t){if(e._destroyed)throw new Error("SamplingMaster already destroyed!");var n=new v(e,t);return e._samples.push(n),n})}},{key:"_coerceToArrayBuffer",value:function(t){return t instanceof ArrayBuffer?Promise.resolve(t):(0,c["default"])(t).as("arraybuffer")}},{key:"_decodeAudio",value:function(t){var e=this;return new Promise(function(n,r){e.audioContext.decodeAudioData(t,function(t){n(t)},function(t){r("Unable to decode audio: "+t)})})}},{key:"_startPlaying",value:function(t){this._instances.add(t)}},{key:"_stoppedPlaying",value:function(t){this._instances["delete"](t)}},{key:"audioContext",get:function(){return this._audioContext}}]),t}();e.SamplingMaster=d;var v=function(){function t(e,n){o(this,t),this._master=e,this._buffer=n}return u(t,[{key:"play",value:function(t,e){return new y(this._master,this._buffer,t,e)}},{key:"destroy",value:function(){this._master=null,this._buffer=null}}]),t}(),y=function(){function t(e,n,r,i){var a=this;o(this,t),r=r||0,i=i||{},this._master=e;var u=e.audioContext,s=u.createBufferSource();s.buffer=n,s.onended=function(){return a.stop()};var c=u.createGain();s.connect(c);var f=i.node||u.destination;c.connect(f),this._source=s,this._gain=c;var l=r?Math.max(0,u.currentTime+r):0,p=i.start||0,d=p>0,v=!1;if(d&&c.gain.setValueAtTime(0,0),void 0!==i.end){var y=Math.max(i.end-p,0);s.start(l,p,y+h),v=u.currentTime+r+y}else s.start(l,p);d&&(c.gain.setValueAtTime(0,u.currentTime+r),c.gain.linearRampToValueAtTime(1,u.currentTime+r+h)),v!==!1&&(c.gain.setValueAtTime(1,v),c.gain.linearRampToValueAtTime(0,v+h)),this._master._startPlaying(this)}return u(t,[{key:"stop",value:function(){this._source&&(this._source.stop(0),this._source.disconnect(),this._gain.disconnect(),this._source=null,this._gain=null,this._master._stoppedPlaying(this),this.onstop&&this.onstop())}},{key:"bad",value:function(){this._source&&(this._source.playbackRate.value=Math.random()<.5?Math.pow(2,1/12):Math.pow(2,-1/12))}},{key:"destroy",value:function(){this.stop()}}]),t}();e["default"]=d},74:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=document.querySelector("main"),t.exports=e["default"]},76:function(t,e){function n(t){var e=!1;return{when:function(n,r){if(e)return this;var o=t.match(n);return o&&(e=!0,r(o)),this},"else":function(t){return e?this:void t()}}}t.exports=n},77:function(t,e,n){(function(t,r){function o(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(n){return!1}}function i(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function t(e){return this instanceof t?(this.length=0,this.parent=void 0,"number"==typeof e?a(this,e):"string"==typeof e?u(this,e,arguments.length>1?arguments[1]:"utf8"):s(this,e)):arguments.length>1?new t(e,arguments[1]):new t(e)}function a(e,n){if(e=v(e,0>n?0:0|y(n)),!t.TYPED_ARRAY_SUPPORT)for(var r=0;n>r;r++)e[r]=0;return e}function u(t,e,n){("string"!=typeof n||""===n)&&(n="utf8");var r=0|m(e,n);return t=v(t,r),t.write(e,n),t}function s(e,n){if(t.isBuffer(n))return c(e,n);if(H(n))return f(e,n);if(null==n)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(n.buffer instanceof ArrayBuffer)return l(e,n);if(n instanceof ArrayBuffer)return h(e,n)}return n.length?p(e,n):d(e,n)}function c(t,e){var n=0|y(e.length);return t=v(t,n),e.copy(t,0,0,n),t}function f(t,e){var n=0|y(e.length);t=v(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function l(t,e){var n=0|y(e.length);t=v(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function h(e,n){return t.TYPED_ARRAY_SUPPORT?(n.byteLength,e=t._augment(new Uint8Array(n))):e=l(e,new Uint8Array(n)),e}function p(t,e){var n=0|y(e.length);t=v(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function d(t,e){var n,r=0;"Buffer"===e.type&&H(e.data)&&(n=e.data,r=0|y(n.length)),t=v(t,r);for(var o=0;r>o;o+=1)t[o]=255&n[o];return t}function v(e,n){t.TYPED_ARRAY_SUPPORT?(e=t._augment(new Uint8Array(n)),e.__proto__=t.prototype):(e.length=n,e._isBuffer=!0);var r=0!==n&&n<=t.poolSize>>>1;return r&&(e.parent=X),e}function y(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function g(e,n){if(!(this instanceof g))return new g(e,n);var r=new t(e,n);return delete r.parent,r}function m(t,e){"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(t).length;default:if(r)return Y(t).length;e=(""+e).toLowerCase(),r=!0}}function _(t,e,n){var r=!1;if(e=0|e,n=void 0===n||n===1/0?this.length:0|n,t||(t="utf8"),0>e&&(e=0),n>this.length&&(n=this.length),e>=n)return"";for(;;)switch(t){case"hex":return M(this,e,n);case"utf8":case"utf-8":return A(this,e,n);case"ascii":return O(this,e,n);case"binary":return P(this,e,n);case"base64":return j(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function b(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r),r>o&&(r=o)):r=o;var i=e.length;if(i%2!==0)throw new Error("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;r>a;a++){var u=parseInt(e.substr(2*a,2),16);if(isNaN(u))throw new Error("Invalid hex string");t[n+a]=u}return a}function w(t,e,n,r){return J(Y(e,t.length-n),t,n,r)}function x(t,e,n,r){return J($(e),t,n,r)}function S(t,e,n,r){return x(t,e,n,r)}function k(t,e,n,r){return J(W(e),t,n,r)}function E(t,e,n,r){return J(q(e,t.length-n),t,n,r)}function j(t,e,n){return 0===e&&n===t.length?K.fromByteArray(t):K.fromByteArray(t.slice(e,n))}function A(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;n>o;){var i=t[o],a=null,u=i>239?4:i>223?3:i>191?2:1;if(n>=o+u){var s,c,f,l;switch(u){case 1:128>i&&(a=i);break;case 2:s=t[o+1],128===(192&s)&&(l=(31&i)<<6|63&s,l>127&&(a=l));break;case 3:s=t[o+1],c=t[o+2],128===(192&s)&&128===(192&c)&&(l=(15&i)<<12|(63&s)<<6|63&c,l>2047&&(55296>l||l>57343)&&(a=l));break;case 4:s=t[o+1],c=t[o+2],f=t[o+3],128===(192&s)&&128===(192&c)&&128===(192&f)&&(l=(15&i)<<18|(63&s)<<12|(63&c)<<6|63&f,l>65535&&1114112>l&&(a=l))}}null===a?(a=65533,u=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),o+=u}return I(r)}function I(t){var e=t.length;if(Z>=e)return String.fromCharCode.apply(String,t);for(var n="",r=0;e>r;)n+=String.fromCharCode.apply(String,t.slice(r,r+=Z));return n}function O(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;n>o;o++)r+=String.fromCharCode(127&t[o]);return r}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;n>o;o++)r+=String.fromCharCode(t[o]);return r}function M(t,e,n){var r=t.length;(!e||0>e)&&(e=0),
(!n||0>n||n>r)&&(n=r);for(var o="",i=e;n>i;i++)o+=G(t[i]);return o}function B(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function C(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function T(e,n,r,o,i,a){if(!t.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(n>i||a>n)throw new RangeError("value is out of bounds");if(r+o>e.length)throw new RangeError("index out of range")}function L(t,e,n,r){0>e&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);i>o;o++)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function R(t,e,n,r){0>e&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);i>o;o++)t[n+o]=e>>>8*(r?o:3-o)&255}function N(t,e,n,r,o,i){if(e>o||i>e)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function U(t,e,n,r,o){return o||N(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),V.write(t,e,n,r,23,4),n+4}function F(t,e,n,r,o){return o||N(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),V.write(t,e,n,r,52,8),n+8}function D(t){if(t=z(t).replace(tt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function z(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function G(t){return 16>t?"0"+t.toString(16):t.toString(16)}function Y(t,e){e=e||1/0;for(var n,r=t.length,o=null,i=[],a=0;r>a;a++){if(n=t.charCodeAt(a),n>55295&&57344>n){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(56320>n){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=o-55296<<10|n-56320|65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,128>n){if((e-=1)<0)break;i.push(n)}else if(2048>n){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(65536>n){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function $(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function q(t,e){for(var n,r,o,i=[],a=0;a<t.length&&!((e-=2)<0);a++)n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}function W(t){return K.toByteArray(D(t))}function J(t,e,n,r){for(var o=0;r>o&&!(o+n>=e.length||o>=t.length);o++)e[o+n]=t[o];return o}/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
var K=n(258),V=n(265),H=n(266);e.Buffer=t,e.SlowBuffer=g,e.INSPECT_MAX_BYTES=50,t.poolSize=8192;var X={};t.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:o(),t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array),t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,o=n.length,i=0,a=Math.min(r,o);a>i&&e[i]===n[i];)++i;return i!==a&&(r=e[i],o=n[i]),o>r?-1:r>o?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!H(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new t(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;r++)n+=e[r].length;var o=new t(n),i=0;for(r=0;r<e.length;r++){var a=e[r];a.copy(o,i),i+=a.length}return o},t.byteLength=m,t.prototype.length=void 0,t.prototype.parent=void 0,t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):_.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===t.compare(this,e)},t.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:t.compare(this,e)},t.prototype.indexOf=function(e,n){function r(t,e,n){for(var r=-1,o=0;n+o<t.length;o++)if(t[n+o]===e[-1===r?0:o-r]){if(-1===r&&(r=o),o-r+1===e.length)return n+r}else r=-1;return-1}if(n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n>>=0,0===this.length)return-1;if(n>=this.length)return-1;if(0>n&&(n=Math.max(this.length+n,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,n);if(t.isBuffer(e))return r(this,e,n);if("number"==typeof e)return t.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,n):r(this,[e],n);throw new TypeError("val must be string, number or Buffer")},t.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},t.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},t.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var o=r;r=e,e=0|n,n=o}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(0>n||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return x(this,t,e,n);case"binary":return S(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;t.prototype.slice=function(e,n){var r=this.length;e=~~e,n=void 0===n?r:~~n,0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),0>n?(n+=r,0>n&&(n=0)):n>r&&(n=r),e>n&&(n=e);var o;if(t.TYPED_ARRAY_SUPPORT)o=t._augment(this.subarray(e,n));else{var i=n-e;o=new t(i,void 0);for(var a=0;i>a;a++)o[a]=this[a+e]}return o.length&&(o.parent=this.parent||this),o},t.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||C(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},t.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||C(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},t.prototype.readUInt8=function(t,e){return e||C(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||C(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||C(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||C(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||C(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||C(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},t.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||C(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},t.prototype.readInt8=function(t,e){return e||C(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},t.prototype.readInt16LE=function(t,e){e||C(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(t,e){e||C(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(t,e){return e||C(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||C(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||C(t,4,this.length),V.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||C(t,4,this.length),V.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||C(t,8,this.length),V.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||C(t,8,this.length),V.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||T(this,t,e,n,Math.pow(2,8*n),0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},t.prototype.writeUIntBE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||T(this,t,e,n,Math.pow(2,8*n),0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},t.prototype.writeUInt8=function(e,n,r){return e=+e,n=0|n,r||T(this,e,n,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},t.prototype.writeUInt16LE=function(e,n,r){return e=+e,n=0|n,r||T(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):L(this,e,n,!0),n+2},t.prototype.writeUInt16BE=function(e,n,r){return e=+e,n=0|n,r||T(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):L(this,e,n,!1),n+2},t.prototype.writeUInt32LE=function(e,n,r){return e=+e,n=0|n,r||T(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):R(this,e,n,!0),n+4},t.prototype.writeUInt32BE=function(e,n,r){return e=+e,n=0|n,r||T(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):R(this,e,n,!1),n+4},t.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e=0|e,!r){var o=Math.pow(2,8*n-1);T(this,t,e,n,o-1,-o)}var i=0,a=1,u=0>t?1:0;for(this[e]=255&t;++i<n&&(a*=256);)this[e+i]=(t/a>>0)-u&255;return e+n},t.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e=0|e,!r){var o=Math.pow(2,8*n-1);T(this,t,e,n,o-1,-o)}var i=n-1,a=1,u=0>t?1:0;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=(t/a>>0)-u&255;return e+n},t.prototype.writeInt8=function(e,n,r){return e=+e,n=0|n,r||T(this,e,n,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[n]=255&e,n+1},t.prototype.writeInt16LE=function(e,n,r){return e=+e,n=0|n,r||T(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):L(this,e,n,!0),n+2},t.prototype.writeInt16BE=function(e,n,r){return e=+e,n=0|n,r||T(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):L(this,e,n,!1),n+2},t.prototype.writeInt32LE=function(e,n,r){return e=+e,n=0|n,r||T(this,e,n,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):R(this,e,n,!0),n+4},t.prototype.writeInt32BE=function(e,n,r){return e=+e,n=0|n,r||T(this,e,n,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):R(this,e,n,!1),n+4},t.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return F(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return F(this,t,e,!1,n)},t.prototype.copy=function(e,n,r,o){if(r||(r=0),o||0===o||(o=this.length),n>=e.length&&(n=e.length),n||(n=0),o>0&&r>o&&(o=r),o===r)return 0;if(0===e.length||0===this.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>o)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-n<o-r&&(o=e.length-n+r);var i,a=o-r;if(this===e&&n>r&&o>n)for(i=a-1;i>=0;i--)e[i+n]=this[i+r];else if(1e3>a||!t.TYPED_ARRAY_SUPPORT)for(i=0;a>i;i++)e[i+n]=this[i+r];else e._set(this.subarray(r,r+a),n);return a},t.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),e>n)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof t)for(r=e;n>r;r++)this[r]=t;else{var o=Y(t.toString()),i=o.length;for(r=e;n>r;r++)this[r]=o[r%i]}return this}},t.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(t.TYPED_ARRAY_SUPPORT)return new t(this).buffer;for(var e=new Uint8Array(this.length),n=0,r=e.length;r>n;n+=1)e[n]=this[n];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Q=t.prototype;t._augment=function(e){return e.constructor=t,e._isBuffer=!0,e._set=e.set,e.get=Q.get,e.set=Q.set,e.write=Q.write,e.toString=Q.toString,e.toLocaleString=Q.toString,e.toJSON=Q.toJSON,e.equals=Q.equals,e.compare=Q.compare,e.indexOf=Q.indexOf,e.copy=Q.copy,e.slice=Q.slice,e.readUIntLE=Q.readUIntLE,e.readUIntBE=Q.readUIntBE,e.readUInt8=Q.readUInt8,e.readUInt16LE=Q.readUInt16LE,e.readUInt16BE=Q.readUInt16BE,e.readUInt32LE=Q.readUInt32LE,e.readUInt32BE=Q.readUInt32BE,e.readIntLE=Q.readIntLE,e.readIntBE=Q.readIntBE,e.readInt8=Q.readInt8,e.readInt16LE=Q.readInt16LE,e.readInt16BE=Q.readInt16BE,e.readInt32LE=Q.readInt32LE,e.readInt32BE=Q.readInt32BE,e.readFloatLE=Q.readFloatLE,e.readFloatBE=Q.readFloatBE,e.readDoubleLE=Q.readDoubleLE,e.readDoubleBE=Q.readDoubleBE,e.writeUInt8=Q.writeUInt8,e.writeUIntLE=Q.writeUIntLE,e.writeUIntBE=Q.writeUIntBE,e.writeUInt16LE=Q.writeUInt16LE,e.writeUInt16BE=Q.writeUInt16BE,e.writeUInt32LE=Q.writeUInt32LE,e.writeUInt32BE=Q.writeUInt32BE,e.writeIntLE=Q.writeIntLE,e.writeIntBE=Q.writeIntBE,e.writeInt8=Q.writeInt8,e.writeInt16LE=Q.writeInt16LE,e.writeInt16BE=Q.writeInt16BE,e.writeInt32LE=Q.writeInt32LE,e.writeInt32BE=Q.writeInt32BE,e.writeFloatLE=Q.writeFloatLE,e.writeFloatBE=Q.writeFloatBE,e.writeDoubleLE=Q.writeDoubleLE,e.writeDoubleBE=Q.writeDoubleBE,e.fill=Q.fill,e.inspect=Q.inspect,e.toArrayBuffer=Q.toArrayBuffer,e};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,n(77).Buffer,function(){return this}())},79:function(t,e,n){function r(t){return null==t?"":t+""}function o(t,e,n){var r=typeof t;return"function"==r?void 0===e?t:x(t,e,n):null==t?_:"object"==r?u(t):void 0===e?b(t):s(t,e)}function i(t,e,n){if(null!=t){void 0!==n&&n in v(t)&&(e=[n]);for(var r=0,o=e.length;null!=t&&o>r;)t=t[e[r++]];return r&&r==o?t:void 0}}function a(t,e,n){var r=e.length,o=r,i=!n;if(null==t)return!o;for(t=v(t);r--;){var a=e[r];if(i&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){a=e[r];var u=a[0],s=t[u],c=a[1];if(i&&a[2]){if(void 0===s&&!(u in t))return!1}else{var f=n?n(s,c,u):void 0;if(!(void 0===f?w(c,s,n,!0):f))return!1}}return!0}function u(t){var e=h(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null==t?!1:t[n]===r&&(void 0!==r||n in v(t))}}return function(t){return a(t,e)}}function s(t,e){var n=S(t),r=p(t)&&d(e),o=t+"";return t=y(t),function(a){if(null==a)return!1;var u=o;if(a=v(a),(n||!r)&&!(u in a)){if(a=1==t.length?a:i(a,l(t,0,-1)),null==a)return!1;u=g(t),a=v(a)}return a[u]===e?void 0!==e||u in a:w(e,a[u],void 0,!0)}}function c(t){return function(e){return null==e?void 0:e[t]}}function f(t){var e=t+"";return t=y(t),function(n){return i(n,t,e)}}function l(t,e,n){var r=-1,o=t.length;e=null==e?0:+e||0,0>e&&(e=-e>o?0:o+e),n=void 0===n||n>o?o:+n||0,0>n&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}function h(t){for(var e=k(t),n=e.length;n--;)e[n][2]=d(e[n][1]);return e}function p(t,e){var n=typeof t;if("string"==n&&j.test(t)||"number"==n)return!0;if(S(t))return!1;var r=!E.test(t);return r||null!=e&&t in v(e)}function d(t){return t===t&&!m(t)}function v(t){return m(t)?t:Object(t)}function y(t){if(S(t))return t;var e=[];return r(t).replace(A,function(t,n,r,o){e.push(r?o.replace(I,"$1"):n||t)}),e}function g(t){var e=t?t.length:0;return e?t[e-1]:void 0}function m(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function _(t){return t}function b(t){return p(t)?c(t):f(t)}var w=n(170),x=n(80),S=n(20),k=n(181),E=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,j=/^\w*$/,A=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,I=/\\(\\)?/g;t.exports=o},80:function(t,e){function n(t,e,n){if("function"!=typeof t)return r;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)};case 5:return function(n,r,o,i,a){return t.call(e,n,r,o,i,a)}}return function(){return t.apply(e,arguments)}}function r(t){return t}t.exports=n},81:function(t,e){function n(t){return!!t&&"object"==typeof t}function r(t,e){var n=null==t?void 0:t[e];return a(n)?n:void 0}function o(t){return i(t)&&h.call(t)==u}function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){return null==t?!1:o(t)?p.test(f.call(t)):n(t)&&s.test(t)}var u="[object Function]",s=/^\[object .+?Constructor\]$/,c=Object.prototype,f=Function.prototype.toString,l=c.hasOwnProperty,h=c.toString,p=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},82:function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}function r(t){return null!=t&&a(f(t))}function o(t,e){return t="number"==typeof t||s.test(t)?+t:-1,e=null==e?c:e,t>-1&&t%1==0&&e>t}function i(t,e,n){if(!u(n))return!1;var i=typeof e;if("number"==i?r(n)&&o(e,n.length):"string"==i&&e in n){var a=n[e];return t===t?t===a:a!==a}return!1}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&c>=t}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var s=/^\d+$/,c=9007199254740991,f=n("length");t.exports=i},93:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(){var t=0,e=0,n=0,r=[],o=0,a=0;return{push:function(i){var u=(0,c["default"])();for(t+=i,e+=1,n=t/e,o+=i,r.push({delta:i,time:u});r[0]&&r[0].time<u-1e3;)o-=r.shift().delta;a=o/r.length},toString:function(){return i(n)+" / "+i(a)}}}function i(t){return t.toFixed(2)+"ms"}function a(){var t={},e={enabled:!0,stats:t,wrap:function(e,n){return function(){try{var r=(0,c["default"])();return n.apply(this,arguments)}finally{var i=(0,c["default"])(),a=t[e]||(t[e]=new o(e));a.push(i-r)}}},benchmark:function(t,e,n){e[n]=this.wrap(t,e[n])},toString:function(){var e=[];return Object.keys(t).forEach(function(n){e.push("- "+n+": "+t[n])}),e.join("\n")}},n=document.createElement("div");return n.setAttribute("style","position:fixed;top:10px;right:10px;z-index:99999"),document.body.appendChild(n),h["default"].render(h["default"].createElement(d["default"],{bench:e}),n),e}function u(){return{enabled:!1,wrap:function(t,e){return e}}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(56),c=r(s),f=n(109),l=n(1),h=r(l),p=n(245),d=r(p);e["default"]=window.BEMUSE_BENCHMARK=(0,f.shouldEnableBenchmark)()?new a:new u,t.exports=e["default"]},96:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){t&&t.parentNode===p["default"]&&p["default"].removeChild(t)}function a(t){return function(e){var n=l["default"].render(t,e);return n.setProps({scene:t}),{teardown:function(){return Promise["try"](function(){return n.teardown?n.teardown():void 0}).then(function(){l["default"].unmountComponentAtNode(e)})}}}}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(23),c=r(s),f=n(1),l=r(f),h=n(74),p=r(h),d=function(){function t(){o(this,t),this._transitioning=!1,this._stack=[]}return u(t,[{key:"display",value:function(t){return this._transitionTo(function(){return t})}},{key:"push",value:function(t){var e=this,n=this.currentScene;return this._transitionTo(function(){return e._stack.push(n),t})}},{key:"pop",value:function(){var t=this;return this._transitionTo(function(){return t._stack.pop()})}},{key:"_transitionTo",value:function(t){return(0,c["default"])(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._transitioning){e.next=2;break}throw new Error("Scene is transitioning!");case 2:if(e.prev=2,this._transitioning=!0,!this.currentSceneInstance){e.next=8;break}return e.next=7,Promise.resolve(this.currentSceneInstance.teardown());case 7:i(this.currentElement);case 8:n=t(),"function"!=typeof n&&(n=new a(n)),r=document.createElement("div"),r.className="scene-manager--scene",p["default"].appendChild(r),this.currentElement=r,this.currentScene=n,this.currentSceneInstance=n(r);case 16:return e.prev=16,this._transitioning=!1,e.finish(16);case 19:case"end":return e.stop()}},e,this,[[2,,16,19]])}).bind(this))}}]),t}();e.SceneManager=d;var v=new d;e.instance=v,e["default"]=v},97:function(t,e,n){"use strict";function r(t){return{as:function(e,n){return new Promise(function(r,i){var a=new XMLHttpRequest;a.open("GET",t,!0),a.responseType=e,a.onload=function(){200===+a.status?r(a.response):i(new Error("Unable to download "+t+": HTTP "+a.status))},a.onerror=function(){return i(new Error("Unable to download "+t))},n&&(n.formatter=o.BYTES_FORMATTER,a.onprogress=function(t){return n.report(t.loaded,t.total)}),a.send(null)})}}}Object.defineProperty(e,"__esModule",{value:!0}),e.download=r;var o=n(44);e["default"]=r},99:function(t,e,n){function r(){this.headers=new o,this.objects=new i,this.timeSignatures=new a}var o=n(100),i=n(101),a=n(102);t.exports=r,r.prototype.measureToBeat=function(t,e){return this.timeSignatures.measureToBeat(t,e)}},100:function(t,e){function n(){this._data={},this._dataAll={}}t.exports=n,n.prototype.each=function(t){for(var e in this._data)t(e,this._data[e])},n.prototype.get=function(t){return this._data[t.toLowerCase()]},n.prototype.getAll=function(t){return this._dataAll[t.toLowerCase()]},n.prototype.set=function(t,e){var n=t.toLowerCase();this._data[n]=e,(this._dataAll[n]||(this._dataAll[n]=[])).push(e)}},101:function(t,e){function n(){this._objects=[]}t.exports=n,n.prototype.add=function(t){if("01"!==t.channel)for(var e=0;e<this._objects.length;e++){var n=this._objects[e];if(n.channel===t.channel&&n.measure===t.measure&&n.fraction===t.fraction)return void(this._objects[e]=t)}this._objects.push(t)},n.prototype.all=function(){return this._objects.slice()},n.prototype.allSorted=function(){var t=this.all();return t.sort(function(t,e){return t.measure+t.fraction-(e.measure+e.fraction)}),t}},102:function(t,e){function n(){this._values={}}t.exports=n,n.prototype.set=function(t,e){this._values[t]=e},n.prototype.get=function(t){return this._values[t]||1},n.prototype.getBeats=function(t){return 4*this.get(t)},n.prototype.measureToBeat=function(t,e){for(var n=0,r=0;t>r;r++)n+=this.getBeats(r);return n+this.getBeats(t)*e}},104:function(t,e,n){var r=n(163),o=r.AudioContext||r.webkitAudioContext;o&&(t.exports=new o)},105:function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},106:function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var o=t[r];"."===o?t.splice(r,1):".."===o?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return o.exec(t).slice(1)};e.resolve=function(){for(var e="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,o="/"===a.charAt(0))}return e=n(r(e.split("/"),function(t){return!!t}),!o).join("/"),(o?"/":"")+e||"."},e.normalize=function(t){var o=e.isAbsolute(t),i="/"===a(t,-1);return t=n(r(t.split("/"),function(t){return!!t}),!o).join("/"),t||o||(t="."),t&&i&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var o=r(t.split("/")),i=r(n.split("/")),a=Math.min(o.length,i.length),u=a,s=0;a>s;s++)if(o[s]!==i[s]){u=s;break}for(var c=[],s=u;s<o.length;s++)c.push("..");return c=c.concat(i.slice(u)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=i(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return i(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return 0>e&&(e=t.length+e),t.substr(e,n)}}).call(e,n(5))},109:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(){return"1"===f["default"].BEMUSE_SHOW_OPTIONS}function i(){return"1"===f["default"].BEMUSE_BENCHMARK}function a(){return"1"===f["default"].BEMUSE_NO_FULLSCREEN}function u(){return"1"===f["default"].BEMUSE_SHOW_ABOUT}function s(){return"1"===f["default"].BEMUSE_SHOW_MODE_SELECT}Object.defineProperty(e,"__esModule",{value:!0}),e.shouldShowOptions=o,e.shouldEnableBenchmark=i,e.shouldDisableFullScreen=a,e.shouldShowAbout=u,e.shouldShowModeSelect=s;var c=n(98),f=r(c)},110:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(41),i=r(o),a=new i["default"]({beat:Number,time:Number,position:Number});e.GameEvent=a,e["default"]=a},111:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e=!0,n=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;if("6"===a.column||"7"===a.column)return"7K"}}catch(u){n=!0,r=u}finally{try{!e&&i["return"]&&i["return"]()}finally{if(n)throw r}}return"5K"}function a(t,e){var n=l["default"].max(t.map(function(t){return t.endBeat||t.beat})),r=[0],o=0,i=0;do o+=e.timeSignatures.getBeats(i),i+=1,r.push(o);while(n>=o);return r}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(54),c=r(s),f=n(8),l=r(f),h=n(42),p=r(h),d=n(110),v=r(d),y=n(246),g=r(y),m=function(){function t(e){var n=this,r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,t);var i=e.notes,a=e.timing,u=e.keysounds,s=e.songInfo,c=e.positioning,f=e.spacing,l=e.barLines,h=e.images;(0,p["default"])(i,'Expected "data.notes"'),(0,p["default"])(a,'Expected "data.timing"'),(0,p["default"])(u,'Expected "data.keysounds"'),(0,p["default"])(s,'Expected "data.songInfo"'),(0,p["default"])(c,'Expected "data.positioning"'),(0,p["default"])(f,'Expected "data.spacing"'),(0,p["default"])(l,'Expected "data.barLines"'),i=this._preTransform(i,r),this._timing=a,this._positioning=c,this._spacing=f,this._keysounds=u,this._duration=0,this._notes=this._generatePlayableNotesFromBMS(i),this._autos=this._generateAutoKeysoundEventsFromBMS(i),this._barLines=this._generateBarLineEvents(l),this._samples=this._generateKeysoundFiles(u),this._infos=new Map(this._notes.map(function(t){return[t,n._getNoteInfo(t)]})),this._songInfo=s,this._images=h}return u(t,[{key:"info",value:function(t){return this._infos.get(t)}},{key:"beatToSeconds",value:function(t){return this._timing.beatToSeconds(t)}},{key:"beatToPosition",value:function(t){return this._positioning.position(t)}},{key:"secondsToBeat",value:function(t){return this._timing.secondsToBeat(t)}},{key:"secondsToPosition",value:function(t){return this.beatToPosition(this.secondsToBeat(t))}},{key:"bpmAtBeat",value:function(t){return this._timing.bpmAtBeat(t)}},{key:"scrollSpeedAtBeat",value:function(t){return this._positioning.speed(t)}},{key:"spacingAtBeat",value:function(t){return this._spacing.factor(t)}},{key:"_preTransform",value:function(t,e){var n=l["default"].chain(t),r=i(t);return"off"===e.scratch&&(n=n.map(function(t){return t.column&&"SC"===t.column?Object.assign({},t,{column:null}):t})),"5K"===r&&!function(){var t=["1","2","3","4","5","6","7"],r=function(e){return function(n){if(n.column){var r=t.indexOf(n.column);if(r>-1){var o=r+e;(0,p["default"])(o<t.length,"Weird. Columns must not shift beyond available column");var i=t[o];return Object.assign({},n,{column:i})}}return n}};"off"===e.scratch?n=n.map(r(1)):"right"===e.scratch&&(n=n.map(r(2)))}(),n.value()}},{key:"_generatePlayableNotesFromBMS",value:function(t){var e=this,n=1;return t.filter(function(t){return t.column}).map(function(t){var r=e._generateEvent(t.beat);return r.id=n++,r.column=t.column,r.keysound=t.keysound,r.keysoundStart=t.keysoundStart,r.keysoundEnd=t.keysoundEnd,e._updateDuration(r),void 0!==t.endBeat?(r.end=e._generateEvent(t.endBeat),e._updateDuration(r.end)):r.end=void 0,new g["default"](r)})}},{key:"_updateDuration",value:function(t){t.time>this._duration&&(this._duration=t.time)}},{key:"_generateAutoKeysoundEventsFromBMS",value:function(t){var e=this;return t.filter(function(t){return!t.column}).map(function(t){var n=e._generateEvent(t.beat);return n.keysound=t.keysound,n.keysoundStart=t.keysoundStart,n.keysoundEnd=t.keysoundEnd,new v["default"](n)})}},{key:"_generateKeysoundFiles",value:function(t){for(var e=new Set,n=[this.notes,this.autos],r=0;r<n.length;r++){var o=n[r],i=!0,a=!1,u=void 0;try{for(var s,c=o[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var f=s.value,l=t.get(f.keysound);l&&e.add(l)}}catch(h){a=!0,u=h}finally{try{!i&&c["return"]&&c["return"]()}finally{if(a)throw u}}}return Array.from(e)}},{key:"_generateBarLineEvents",value:function(t){var e=this;return t.map(function(t){return e._generateEvent(t)})}},{key:"_generateEvent",value:function(t){return{beat:t,time:this.beatToSeconds(t),position:this.beatToPosition(t)}}},{key:"_getNoteInfo",value:function(t){var e=t.end?2:1;return{combos:e}}},{key:"notes",get:function(){return this._notes}},{key:"autos",get:function(){return this._autos}},{key:"samples",get:function(){return this._samples}},{key:"keysounds",get:function(){return this._keysounds.all()}},{key:"barLines",get:function(){return this._barLines}},{key:"columns",get:function(){return["SC","1","2","3","4","5","6","7"]}},{key:"duration",get:function(){return this._duration}},{key:"songInfo",get:function(){return this._songInfo}},{key:"eyecatchImage",get:function(){return this._images&&this._images.eyecatch||"eyecatch_image.png"}},{key:"backgroundImage",get:function(){return this._images&&this._images.background||"back_image.png"}}],[{key:"fromBMSChart",value:function(e,n){var r=c["default"].Notes.fromBMSChart(e).all(),o=c["default"].Timing.fromBMSChart(e),i=c["default"].Keysounds.fromBMSChart(e),u=c["default"].SongInfo.fromBMSChart(e),s=c["default"].Positioning.fromBMSChart(e),f=c["default"].Spacing.fromBMSChart(e),l={notes:r,timing:o,keysounds:i,songInfo:u,positioning:s,spacing:f,barLines:a(r,e)};return new t(l,n)}}]),t}();e.Notechart=m,e["default"]=m},115:function(t,e){/*!
	 * bytes
	 * Copyright(c) 2012-2014 TJ Holowaychuk
	 * Copyright(c) 2015 Jed Watson
	 * MIT Licensed
	 */
"use strict";function n(t,e){return"string"==typeof t?o(t):"number"==typeof t?r(t,e):null}function r(t,e){if("number"!=typeof t)return null;var n=Math.abs(t),r=e&&e.thousandsSeparator||"",o="B",a=t;return n>=i.tb?(a=Math.round(a/i.tb*100)/100,o="TB"):n>=i.gb?(a=Math.round(a/i.gb*100)/100,o="GB"):n>=i.mb?(a=Math.round(a/i.mb*100)/100,o="MB"):n>=i.kb&&(a=Math.round(a/i.kb*100)/100,o="kB"),r&&(a=a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,r)),a+o}function o(t){if("number"==typeof t&&!isNaN(t))return t;if("string"!=typeof t)return null;var e,n=t.match(/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb)$/i),r="b";return n?(e=parseFloat(n[1]),r=n[4].toLowerCase()):(e=parseInt(t),r="b"),i[r]*e}t.exports=n,t.exports.format=r,t.exports.parse=o;var i={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:1024*(1<<30)}},143:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(249),s=r(u),c=n(8),f=r(c),l=n(93),h=r(l),p=function(){function t(){o(this,t),this._controls=new Map,this._plugins=[]}return a(t,[{key:"update",value:function(){var t=new Map,e=!0,n=!1,r=void 0;try{for(var o,a=this._controls[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var u=i(o.value,2),s=(u[0],u[1]);s.changed=!1}}catch(c){n=!0,r=c}finally{try{!e&&a["return"]&&a["return"]()}finally{if(n)throw r}}var f=!0,l=!1,h=void 0;try{for(var p,d=this._plugins[Symbol.iterator]();!(f=(p=d.next()).done);f=!0){var v=p.value,y=!0,g=!1,m=void 0;try{for(var _,b=v.get()[Symbol.iterator]();!(y=(_=b.next()).done);y=!0){var w=i(_.value,2),x=w[0],S=w[1];t.set(x,S)}}catch(c){g=!0,m=c}finally{try{!y&&b["return"]&&b["return"]()}finally{if(g)throw m}}}}catch(c){l=!0,h=c}finally{try{!f&&d["return"]&&d["return"]()}finally{if(l)throw h}}var k=!0,E=!1,j=void 0;try{for(var A,I=t[Symbol.iterator]();!(k=(A=I.next()).done);k=!0){var O=i(A.value,2),P=O[0],S=O[1],s=this.get(P);s.value!==S&&(s.changed=!0,s.value=S)}}catch(c){E=!0,j=c}finally{try{!k&&I["return"]&&I["return"]()}finally{if(E)throw j}}}},{key:"destroy",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,o=this._plugins[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value;i.destroy()}}catch(a){e=!0,n=a}finally{try{!t&&o["return"]&&o["return"]()}finally{if(e)throw n}}}},{key:"get",value:function(t){return this._controls.has(t)||this._controls.set(t,new s["default"]),this._controls.get(t)}},{key:"use",value:function(t){var e={},n="input:"+t.name;this._plugins.push({get:h["default"].wrap(n,function(){var n=t.get(),r=[],o=!0,i=!1,a=void 0;try{for(var u,s=f["default"].union(f["default"].keys(n),f["default"].keys(e))[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value,l=+e[c]||0,h=+n[c]||0;l!==h&&r.push([c,h]),e[c]=h}}catch(p){i=!0,a=p}finally{try{!o&&s["return"]&&s["return"]()}finally{if(i)throw a}}return r}),destroy:function(){return"function"==typeof t.destroy?t.destroy():!0}})}}]),t}();e.GameInput=p,e["default"]=p},144:function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,r,o){n(this,t),this._notechart=e,this._number=r,this._options={autosound:!!o.autosound,speed:+o.speed,placement:o.placement||"center",scratch:o.scratch||"left",input:o.input}}return r(t,[{key:"notechart",get:function(){return this._notechart}},{key:"columns",get:function(){return this._notechart.columns}},{key:"number",get:function(){return this._number}},{key:"options",get:function(){return this._options}}]),t}();e.Player=o,e["default"]=o},146:function(t,e,n){var r=n(151),o=n(150),i=n(148),a=(n(149),n(147),[new r,new o.UTF_16BE,new o.UTF_16LE,new i.sjis,new i.euc_kr]);t.exports.detect=function(t){for(var e=[],n=0;256>n;n++)e[n]=0;for(var n=t.length-1;n>=0;n--)e[255&t[n]]++;for(var r=!1,n=128;159>=n;n+=1)if(0!=e[n]){r=!0;break}var o={fByteStats:e,fC1Bytes:r,fRawInput:t,fRawLength:t.length,fInputBytes:t,fInputLen:t.length},i=a.map(function(t){return t.match(o)}).filter(function(t){return!!t}).sort(function(t,e){return t.confidence-e.confidence}).pop();return i?i.name:null}},147:function(t,e,n){function r(){}var o=n(36),i=n(27);r.prototype.match=function(t){var e,n,r,o,a=0,u=0,s=0,c=t.fInputBytes,f=t.fInputLen;t:for(e=0;f>e;e++){if(27==c[e]){e:for(r=0;r<this.escapeSequences.length;r++){var l=this.escapeSequences[r];if(!(f-e<l.length)){for(n=1;n<l.length;n++)if(l[n]!=c[e+n])continue e;a++,e+=l.length-1;continue t}}u++}(14==c[e]||15==c[e])&&s++}return 0==a?null:(o=(100*a-100*u)/(a+u),5>a+s&&(o-=10*(5-(a+s))),0>=o?null:new i(t,this,o))},t.exports.ISO_2022_JP=function(){this.name=function(){return"ISO-2022-JP"},this.escapeSequences=[[27,36,40,67],[27,36,40,68],[27,36,64],[27,36,65],[27,36,66],[27,38,64],[27,40,66],[27,40,72],[27,40,73],[27,40,74],[27,46,65],[27,46,70]]},o.inherits(t.exports.ISO_2022_JP,r),t.exports.ISO_2022_KR=function(){this.name=function(){return"ISO-2022-KR"},this.escapeSequences=[[27,36,41,67]]},o.inherits(t.exports.ISO_2022_KR,r),t.exports.ISO_2022_CN=function(){this.name=function(){return"ISO-2022-CN"},this.escapeSequences=[[27,36,41,65],[27,36,41,71],[27,36,42,72],[27,36,41,69],[27,36,43,73],[27,36,43,74],[27,36,43,75],[27,36,43,76],[27,36,43,77],[27,78],[27,79]]},o.inherits(t.exports.ISO_2022_CN,r)},148:function(t,e,n){function r(t,e){function n(t,e,r,o){if(r>o)return-1;var i=Math.floor(r+o>>>1);return e>t[i]?n(t,e,i+1,o):e<t[i]?n(t,e,r,i-1):i}return n(t,e,0,t.length-1)}function o(){this.charValue=0,this.index=0,this.nextIndex=0,this.error=!1,this.done=!1,this.reset=function(){this.charValue=0,this.index=-1,this.nextIndex=0,this.error=!1,this.done=!1},this.nextByte=function(t){if(this.nextIndex>=t.fRawLength)return this.done=!0,-1;var e=255&t.fRawInput[this.nextIndex++];return e}}function i(){}function a(t,e){t.index=t.nextIndex,t.error=!1;var n=0,r=0,o=0;return n=t.charValue=t.nextByte(e),0>n?t.done=!0:141>=n||(r=t.nextByte(e),t.charValue=t.charValue<<8|r,n>=161&&254>=n?161>r&&(t.error=!0):142!=n?143==n&&(o=t.nextByte(e),t.charValue=t.charValue<<8|o,161>o&&(t.error=!0)):161>r&&(t.error=!0)),0==t.done}var u=n(36),s=n(27);i.prototype.match=function(t){var e=0,n=0,i=0,a=0,u=0,c=0,f=new o;t:{for(f.reset();this.nextChar(f,t);){if(u++,f.error)a++;else{var l=4294967295&f.charValue;255>=l?e++:(n++,null!=this.commonChars&&r(this.commonChars,l)>=0&&i++)}if(a>=2&&5*a>=n)break t}if(10>=n&&0==a)c=0==n&&10>u?0:10;else if(20*a>n)c=0;else if(null==this.commonChars)c=30+n-20*a,c>100&&(c=100);else{var h=Math.log(parseFloat(n)/4),p=90/h;c=Math.floor(Math.log(i+1)*p+10),c=Math.min(c,100)}}return 0==c?null:new s(t,this,c)},i.prototype.nextChar=function(t,e){},t.exports.sjis=function(){this.name=function(){return"Shift-JIS"},this.language=function(){return"ja"},this.commonChars=[33088,33089,33090,33093,33115,33129,33130,33141,33142,33440,33442,33444,33449,33450,33451,33453,33455,33457,33459,33461,33463,33469,33470,33473,33476,33477,33478,33480,33481,33484,33485,33500,33504,33511,33512,33513,33514,33520,33521,33601,33603,33614,33615,33624,33630,33634,33639,33653,33654,33673,33674,33675,33677,33683,36502,37882,38314],this.nextChar=function(t,e){t.index=t.nextIndex,t.error=!1;var n;if(n=t.charValue=t.nextByte(e),0>n)return!1;if(127>=n||n>160&&223>=n)return!0;var r=t.nextByte(e);return 0>r?!1:(t.charValue=n<<8|r,r>=64&&127>=r||r>=128&&255>=r||(t.error=!0),!0)}},u.inherits(t.exports.sjis,i),t.exports.big5=function(){this.name=function(){return"Big5"},this.language=function(){return"zh"},this.commonChars=[41280,41281,41282,41283,41287,41289,41333,41334,42048,42054,42055,42056,42065,42068,42071,42084,42090,42092,42103,42147,42148,42151,42177,42190,42193,42207,42216,42237,42304,42312,42328,42345,42445,42471,42583,42593,42594,42600,42608,42664,42675,42681,42707,42715,42726,42738,42816,42833,42841,42970,43171,43173,43181,43217,43219,43236,43260,43456,43474,43507,43627,43706,43710,43724,43772,44103,44111,44208,44242,44377,44745,45024,45290,45423,45747,45764,45935,46156,46158,46412,46501,46525,46544,46552,46705,47085,47207,47428,47832,47940,48033,48593,49860,50105,50240,50271],this.nextChar=function(t,e){t.index=t.nextIndex,t.error=!1;var n=t.charValue=t.nextByte(e);if(0>n)return!1;if(127>=n||255==n)return!0;var r=t.nextByte(e);return 0>r?!1:(t.charValue=t.charValue<<8|r,(64>r||127==r||255==r)&&(t.error=!0),!0)}},u.inherits(t.exports.big5,i),t.exports.euc_jp=function(){this.name=function(){return"EUC-JP"},this.language=function(){return"ja"},this.commonChars=[41377,41378,41379,41382,41404,41418,41419,41430,41431,42146,42148,42150,42152,42154,42155,42156,42157,42159,42161,42163,42165,42167,42169,42171,42173,42175,42176,42177,42179,42180,42182,42183,42184,42185,42186,42187,42190,42191,42192,42206,42207,42209,42210,42212,42216,42217,42218,42219,42220,42223,42226,42227,42402,42403,42404,42406,42407,42410,42413,42415,42416,42419,42421,42423,42424,42425,42431,42435,42438,42439,42440,42441,42443,42448,42453,42454,42455,42462,42464,42465,42469,42473,42474,42475,42476,42477,42483,47273,47572,47854,48072,48880,49079,50410,50940,51133,51896,51955,52188,52689],this.nextChar=a},u.inherits(t.exports.euc_jp,i),t.exports.euc_kr=function(){this.name=function(){return"EUC-KR"},this.language=function(){return"ko"},this.commonChars=[45217,45235,45253,45261,45268,45286,45293,45304,45306,45308,45496,45497,45511,45527,45538,45994,46011,46274,46287,46297,46315,46501,46517,46527,46535,46569,46835,47023,47042,47054,47270,47278,47286,47288,47291,47337,47531,47534,47564,47566,47613,47800,47822,47824,47857,48103,48115,48125,48301,48314,48338,48374,48570,48576,48579,48581,48838,48840,48863,48878,48888,48890,49057,49065,49088,49124,49131,49132,49144,49319,49327,49336,49338,49339,49341,49351,49356,49358,49359,49366,49370,49381,49403,49404,49572,49574,49590,49622,49631,49654,49656,50337,50637,50862,51151,51153,51154,51160,51173,51373],this.nextChar=a},u.inherits(t.exports.euc_kr,i),t.exports.gb_18030=function(){this.name=function(){return"GB18030"},this.language=function(){return"zh"},this.nextChar=function(t,e){t.index=t.nextIndex,t.error=!1;var n=0,r=0,o=0,i=0;t:if(n=t.charValue=t.nextByte(e),0>n)t.done=!0;else if(!(128>=n))if(r=t.nextByte(e),t.charValue=t.charValue<<8|r,n>=129&&254>=n){if(r>=64&&126>=r||r>=80&&254>=r)break t;if(r>=48&&57>=r&&(o=t.nextByte(e),o>=129&&254>=o&&(i=t.nextByte(e),i>=48&&57>=i))){t.charValue=t.charValue<<16|o<<8|i;break t}t.error=!0}else;return 0==t.done},this.commonChars=[41377,41378,41379,41380,41392,41393,41457,41459,41889,41900,41914,45480,45496,45502,45755,46025,46070,46323,46525,46532,46563,46767,46804,46816,47010,47016,47037,47062,47069,47284,47327,47350,47531,47561,47576,47610,47613,47821,48039,48086,48097,48122,48316,48347,48382,48588,48845,48861,49076,49094,49097,49332,49389,49611,49883,50119,50396,50410,50636,50935,51192,51371,51403,51413,51431,51663,51706,51889,51893,51911,51920,51926,51957,51965,52460,52728,52906,52932,52946,52965,53173,53186,53206,53442,53445,53456,53460,53671,53930,53938,53941,53947,53972,54211,54224,54269,54466,54490,54754,54992]},u.inherits(t.exports.gb_18030,i)},149:function(t,e,n){function r(t,e){var n=16777215;this.byteIndex=0,this.ngram=0,this.ngramList=t,this.byteMap=e,this.ngramCount=0,this.hitCount=0,this.spaceChar,this.search=function(t,e){var n=0;return t[n+32]<=e&&(n+=32),t[n+16]<=e&&(n+=16),t[n+8]<=e&&(n+=8),t[n+4]<=e&&(n+=4),t[n+2]<=e&&(n+=2),t[n+1]<=e&&(n+=1),t[n]>e&&(n-=1),0>n||t[n]!=e?-1:n},this.lookup=function(t){this.ngramCount+=1,this.search(this.ngramList,t)>=0&&(this.hitCount+=1)},this.addByte=function(t){this.ngram=(this.ngram<<8)+(255&t)&n,this.lookup(this.ngram)},this.nextByte=function(t){return this.byteIndex>=t.fInputLen?-1:255&t.fInputBytes[this.byteIndex++]},this.parse=function(t,e){var n,r=!1;for(this.spaceChar=e;(n=this.nextByte(t))>=0;){var o=this.byteMap[n];0!=o&&(o==this.spaceChar&&r||this.addByte(o),r=o==this.spaceChar)}this.addByte(this.spaceChar);var i=this.hitCount/this.ngramCount;return i>.33?98:Math.floor(300*i)}}function o(t,e){this.fLang=t,this.fNGrams=e}function i(){}var a=n(36),u=n(27);i.prototype.spaceChar=32,i.prototype.ngrams=function(){},i.prototype.byteMap=function(){},i.prototype.match=function(t){var e=this.ngrams(),n=Array.isArray(e)&&e[0]instanceof o;if(!n){var i=new r(e,this.byteMap()),a=i.parse(t,this.spaceChar);return 0>=a?null:new u(t,this,a)}for(var s=-1,c=null,f=e.length-1;f>=0;f--){var l=e[f],i=new r(l.fNGrams,this.byteMap()),a=i.parse(t,this.spaceChar);a>s&&(s=a,c=l.fLang)}var h=this.name(t);return 0>=s?null:new u(t,this,s,h,c)},t.exports.ISO_8859_1=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,186,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,255]},this.ngrams=function(){return[new o("da",[2122086,2122100,2122853,2123118,2123122,2123375,2123873,2124064,2125157,2125671,2126053,2126697,2126708,2126953,2127465,6383136,6385184,6385252,6386208,6386720,6579488,6579566,6579570,6579572,6627443,6644768,6644837,6647328,6647396,6648352,6648421,6648608,6648864,6713202,6776096,6776174,6776178,6907749,6908960,6909543,7038240,7039845,7103858,7104871,7105637,7169380,7234661,7234848,7235360,7235429,7300896,7302432,7303712,7398688,7479396,7479397,7479411,7496992,7566437,7610483,7628064,7628146,7629164,7759218]),new o("de",[2122094,2122101,2122341,2122849,2122853,2122857,2123113,2123621,2123873,2124142,2125161,2126691,2126693,2127214,2127461,2127471,2127717,2128501,6448498,6514720,6514789,6514804,6578547,6579566,6579570,6580581,6627428,6627443,6646126,6646132,6647328,6648352,6648608,6776174,6841710,6845472,6906728,6907168,6909472,6909541,6911008,7104867,7105637,7217249,7217252,7217267,7234592,7234661,7234848,7235360,7235429,7238757,7479396,7496805,7497065,7562088,7566437,7610468,7628064,7628142,7628146,7695972,7695975,7759218]),new o("en",[2122016,2122094,2122341,2122607,2123375,2123873,2123877,2124142,2125153,2125670,2125938,2126437,2126689,2126708,2126952,2126959,2127720,6383972,6384672,6385184,6385252,6386464,6386720,6386789,6386793,6561889,6561908,6627425,6627443,6627444,6644768,6647412,6648352,6648608,6713202,6840692,6841632,6841714,6906912,6909472,6909543,6909806,6910752,7217249,7217268,7234592,7235360,7238688,7300640,7302688,7303712,7496992,7500576,7544929,7544948,7561577,7566368,7610484,7628146,7628897,7628901,7629167,7630624,7631648]),new o("es",[2122016,2122593,2122607,2122853,2123116,2123118,2123123,2124142,2124897,2124911,2125921,2125935,2125938,2126197,2126437,2126693,2127214,2128160,6365283,6365284,6365285,6365292,6365296,6382441,6382703,6384672,6386208,6386464,6515187,6516590,6579488,6579564,6582048,6627428,6627429,6627436,6646816,6647328,6647412,6648608,6648692,6907246,6943598,7102752,7106419,7217253,7238757,7282788,7282789,7302688,7303712,7303968,7364978,7435621,7495968,7497075,7544932,7544933,7544944,7562528,7628064,7630624,7693600,15953440]),new o("fr",[2122101,2122607,2122849,2122853,2122869,2123118,2123124,2124897,2124901,2125921,2125935,2125938,2126197,2126693,2126703,2127214,2154528,6385268,6386793,6513952,6516590,6579488,6579571,6583584,6627425,6627427,6627428,6627429,6627436,6627440,6627443,6647328,6647412,6648352,6648608,6648864,6649202,6909806,6910752,6911008,7102752,7103776,7103859,7169390,7217252,7234848,7238432,7238688,7302688,7302772,7304562,7435621,7479404,7496992,7544929,7544932,7544933,7544940,7544944,7610468,7628064,7629167,7693600,7696928]),new o("it",[2122092,2122600,2122607,2122853,2122857,2123040,2124140,2124142,2124897,2125925,2125938,2127214,6365283,6365284,6365296,6365299,6386799,6514789,6516590,6579564,6580512,6627425,6627427,6627428,6627433,6627436,6627440,6627443,6646816,6646892,6647412,6648352,6841632,6889569,6889571,6889572,6889587,6906144,6908960,6909472,6909806,7102752,7103776,7104800,7105633,7234848,7235872,7237408,7238757,7282785,7282788,7282793,7282803,7302688,7302757,7366002,7495968,7496992,7563552,7627040,7628064,7629088,7630624,8022383]),new o("nl",[2122092,2122341,2122849,2122853,2122857,2123109,2123118,2123621,2123877,2124142,2125153,2125157,2125680,2126949,2127457,2127461,2127471,2127717,2128489,6381934,6381938,6385184,6385252,6386208,6386720,6514804,6579488,6579566,6579570,6627426,6627446,6645102,6645106,6647328,6648352,6648435,6648864,6776174,6841716,6907168,6909472,6909543,6910752,7217250,7217252,7217253,7217256,7217263,7217270,7234661,7235360,7302756,7303026,7303200,7303712,7562088,7566437,7610468,7628064,7628142,7628146,7758190,7759218,7761775]),new o("no",[2122100,2122102,2122853,2123118,2123122,2123375,2123873,2124064,2125157,2125671,2126053,2126693,2126699,2126703,2126708,2126953,2127465,2155808,6385252,6386208,6386720,6579488,6579566,6579572,6627443,6644768,6647328,6647397,6648352,6648421,6648864,6648948,6713202,6776174,6908779,6908960,6909543,7038240,7039845,7103776,7105637,7169380,7169390,7217267,7234848,7235360,7235429,7237221,7300896,7302432,7303712,7398688,7479411,7496992,7565165,7566437,7610483,7628064,7628142,7628146,7629164,7631904,7631973,7759218]),new o("pt",[2122016,2122607,2122849,2122853,2122863,2123040,2123123,2125153,2125423,2125600,2125921,2125935,2125938,2126197,2126437,2126693,2127213,6365281,6365283,6365284,6365296,6382693,6382703,6384672,6386208,6386273,6386464,6516589,6516590,6578464,6579488,6582048,6582131,6627425,6627428,6647072,6647412,6648608,6648692,6906144,6906721,7169390,7238757,7238767,7282785,7282787,7282788,7282789,7282800,7303968,7364978,7435621,7495968,7497075,7544929,7544932,7544933,7544944,7566433,7628064,7630624,7693600,14905120,15197039]),new o("sv",[2122100,2122102,2122853,2123118,2123510,2123873,2124064,2124142,2124655,2125157,2125667,2126053,2126699,2126703,2126708,2126953,2127457,2127465,2155634,6382693,6385184,6385252,6386208,6386804,6514720,6579488,6579566,6579570,6579572,6644768,6647328,6648352,6648864,6747762,6776174,6909036,6909543,7037216,7105568,7169380,7217267,7233824,7234661,7235360,7235429,7235950,7299944,7302432,7302688,7398688,7479393,7479411,7495968,7564129,7565165,7610483,7627040,7628064,7628146,7629164,7631904,7758194,14971424,16151072])]},this.name=function(t){return t&&t.fC1Bytes?"windows-1252":"ISO-8859-1"}},a.inherits(t.exports.ISO_8859_1,i),t.exports.ISO_8859_2=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,177,32,179,32,181,182,32,32,185,186,187,188,32,190,191,32,177,32,179,32,181,182,183,32,185,186,187,188,32,190,191,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,32]},this.ngrams=function(){return[new o("cs",[2122016,2122361,2122863,2124389,2125409,2125413,2125600,2125668,2125935,2125938,2126072,2126447,2126693,2126703,2126708,2126959,2127392,2127481,2128481,6365296,6513952,6514720,6627440,6627443,6627446,6647072,6647533,6844192,6844260,6910836,6972704,7042149,7103776,7104800,7233824,7268640,7269408,7269664,7282800,7300206,7301737,7304052,7304480,7304801,7368548,7368554,7369327,7403621,7562528,7565173,7566433,7566441,7566446,7628146,7630573,7630624,7676016,12477728,14773997,15296623,15540336,15540339,15559968,16278884]),new o("hu",[2122016,2122106,2122341,2123111,2123116,2123365,2123873,2123887,2124147,2124645,2124649,2124790,2124901,2125153,2125157,2125161,2125413,2126714,2126949,2156915,6365281,6365291,6365293,6365299,6384416,6385184,6388256,6447470,6448494,6645625,6646560,6646816,6646885,6647072,6647328,6648421,6648864,6648933,6648948,6781216,6844263,6909556,6910752,7020641,7075450,7169383,7170414,7217249,7233899,7234923,7234925,7238688,7300985,7544929,7567973,7567988,7568097,7596391,7610465,7631904,7659891,8021362,14773792,15299360]),new o("pl",[2122618,2122863,2124064,2124389,2124655,2125153,2125161,2125409,2125417,2125668,2125935,2125938,2126697,2127648,2127721,2127737,2128416,2128481,6365296,6365303,6385257,6514720,6519397,6519417,6582048,6584937,6627440,6627443,6627447,6627450,6645615,6646304,6647072,6647401,6778656,6906144,6907168,6907242,7037216,7039264,7039333,7170405,7233824,7235937,7235941,7282800,7305057,7305065,7368556,7369313,7369327,7369338,7502437,7502457,7563754,7564137,7566433,7825765,7955304,7957792,8021280,8022373,8026400,15955744]),new o("ro",[2122016,2122083,2122593,2122597,2122607,2122613,2122853,2122857,2124897,2125153,2125925,2125938,2126693,2126819,2127214,2144873,2158190,6365283,6365284,6386277,6386720,6386789,6386976,6513010,6516590,6518048,6546208,6579488,6627425,6627427,6627428,6627440,6627443,6644e3,6646048,6646885,6647412,6648692,6889569,6889571,6889572,6889584,6907168,6908192,6909472,7102752,7103776,7106418,7107945,7234848,7238770,7303712,7365998,7496992,7497057,7501088,7594784,7628064,7631477,7660320,7694624,7695392,12216608,15625760])]},this.name=function(t){return t&&t.fC1Bytes?"windows-1250":"ISO-8859-2"}},a.inherits(t.exports.ISO_8859_2,i),t.exports.ISO_8859_5=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,241,242,243,244,245,246,247,248,249,250,251,252,32,254,255,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,32,241,242,243,244,245,246,247,248,249,250,251,252,32,254,255]},this.ngrams=function(){return[2150944,2151134,2151646,2152400,2152480,2153168,2153182,2153936,2153941,2154193,2154462,2154464,2154704,2154974,2154978,2155230,2156514,2158050,13688280,13689580,13884960,14015468,14015960,14016994,14017056,14164191,14210336,14211104,14216992,14407133,14407712,14413021,14536736,14538016,14538965,14538991,14540320,14540498,14557394,14557407,14557409,14602784,14602960,14603230,14604576,14605292,14605344,14606818,14671579,14672085,14672088,14672094,14733522,14734804,14803664,14803666,14803672,14806816,14865883,14868e3,14868192,14871584,15196894,15459616]},this.name=function(t){return"ISO-8859-5"},this.language=function(){return"ru"}},a.inherits(t.exports.ISO_8859_5,i),t.exports.ISO_8859_6=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32]},this.ngrams=function(){return[2148324,2148326,2148551,2152932,2154986,2155748,2156006,2156743,13050055,13091104,13093408,13095200,13100064,13100227,13100231,13100232,13100234,13100236,13100237,13100239,13100243,13100249,13100258,13100261,13100264,13100266,13100320,13100576,13100746,13115591,13181127,13181153,13181156,13181157,13181160,13246663,13574343,13617440,13705415,13748512,13836487,14229703,14279913,14805536,14950599,14993696,15001888,15002144,15016135,15058720,15059232,15066656,15081671,15147207,15189792,15255524,15263264,15278279,15343815,15343845,15343848,15386912,15388960,15394336]},this.name=function(t){return"ISO-8859-6"},this.language=function(){return"ar"}},a.inherits(t.exports.ISO_8859_6,i),t.exports.ISO_8859_7=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,161,162,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,220,32,221,222,223,32,252,32,253,254,192,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,32,243,244,245,246,247,248,249,250,251,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,32]},this.ngrams=function(){return[2154989,2154992,2155497,2155753,2156016,2156320,2157281,2157797,2158049,2158368,2158817,2158831,2158833,2159604,2159605,2159847,2159855,14672160,14754017,14754036,14805280,14806304,14807292,14807584,14936545,15067424,15069728,15147252,15199520,15200800,15278324,15327520,15330014,15331872,15393257,15393268,15525152,15540449,15540453,15540464,15589664,15725088,15725856,15790069,15790575,15793184,15868129,15868133,15868138,15868144,15868148,15983904,15984416,15987951,16048416,16048617,16050157,16050162,16050666,16052e3,16052213,16054765,16379168,16706848]},this.name=function(t){return t&&t.fC1Bytes?"windows-1253":"ISO-8859-7"},this.language=function(){return"el"}},a.inherits(t.exports.ISO_8859_7,i),t.exports.ISO_8859_8=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,32,32,32,32,32]},this.ngrams=function(){return[new o("he",[2154725,2154727,2154729,2154746,2154985,2154990,2155744,2155749,2155753,2155758,2155762,2155769,2155770,2157792,2157796,2158304,2159340,2161132,14744096,14950624,14950625,14950628,14950636,14950638,14950649,15001056,15065120,15068448,15068960,15071264,15071776,15278308,15328288,15328762,15329773,15330592,15331104,15333408,15333920,15474912,15474916,15523872,15524896,15540448,15540449,15540452,15540460,15540462,15540473,15655968,15671524,15787040,15788320,15788525,15920160,16261348,16312813,16378912,16392416,16392417,16392420,16392428,16392430,16392441]),new o("he",[2154725,2154732,2155753,2155756,2155758,2155760,2157040,2157810,2157817,2158053,2158057,2158565,2158569,2160869,2160873,2161376,2161381,2161385,14688484,14688492,14688493,14688506,14738464,14738916,14740512,14741024,14754020,14754029,14754042,14950628,14950633,14950636,14950637,14950639,14950648,14950650,15002656,15065120,15066144,15196192,15327264,15327520,15328288,15474916,15474925,15474938,15528480,15530272,15591913,15591920,15591928,15605988,15605997,15606010,15655200,15655968,15918112,16326884,16326893,16326906,16376864,16441376,16442400,16442857])]},this.name=function(t){return t&&t.fC1Bytes?"windows-1255":"ISO-8859-8"},this.language=function(){return"he"}},a.inherits(t.exports.ISO_8859_8,i),t.exports.ISO_8859_9=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,186,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,105,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,255]},this.ngrams=function(){return[2122337,2122345,2122357,2122849,2122853,2123621,2123873,2124140,2124641,2124655,2125153,2125676,2126689,2126945,2127461,2128225,6365282,6384416,6384737,6384993,6385184,6385405,6386208,6386273,6386429,6386685,6388065,6449522,6578464,6579488,6580512,6627426,6627435,6644841,6647328,6648352,6648425,6648681,6909029,6909472,6909545,6910496,7102830,7102834,7103776,7103858,7217249,7217250,7217259,7234657,7234661,7234848,7235872,7235950,7273760,7498094,7535982,7759136,7954720,7958386,16608800,16608868,16609021,16642301]},this.name=function(t){return t&&t.fC1Bytes?"windows-1254":"ISO-8859-9"},this.language=function(){return"tr"}},a.inherits(t.exports.ISO_8859_9,i),t.exports.windows_1251=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,144,131,32,131,32,32,32,32,32,32,154,32,156,157,158,159,144,32,32,32,32,32,32,32,32,32,154,32,156,157,158,159,32,162,162,188,32,180,32,32,184,32,186,32,32,32,32,191,32,32,179,179,180,181,32,32,184,32,186,32,188,190,190,191,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255];
},this.ngrams=function(){return[2155040,2155246,2155758,2156512,2156576,2157280,2157294,2158048,2158053,2158305,2158574,2158576,2158816,2159086,2159090,2159342,2160626,2162162,14740968,14742268,14937632,15068156,15068648,15069682,15069728,15212783,15263008,15263776,15269664,15459821,15460384,15465709,15589408,15590688,15591653,15591679,15592992,15593186,15605986,15605999,15606001,15655456,15655648,15655918,15657248,15657980,15658016,15659506,15724267,15724773,15724776,15724782,15786210,15787492,15856352,15856354,15856360,15859488,15918571,15920672,15920880,15924256,16249582,16512288]},this.name=function(t){return"windows-1251"},this.language=function(){return"ru"}},a.inherits(t.exports.windows_1251,i),t.exports.windows_1256=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,129,32,131,32,32,32,32,136,32,138,32,156,141,142,143,144,32,32,32,32,32,32,32,152,32,154,32,156,32,32,159,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,32,32,32,32,32,32,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,32,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,32,32,32,32,244,32,32,32,32,249,32,251,252,32,32,255]},this.ngrams=function(){return[2148321,2148324,2148551,2153185,2153965,2154977,2155492,2156231,13050055,13091104,13093408,13095200,13099296,13099459,13099463,13099464,13099466,13099468,13099469,13099471,13099475,13099482,13099486,13099491,13099494,13099501,13099808,13100064,13100234,13115591,13181127,13181149,13181153,13181155,13181158,13246663,13574343,13617440,13705415,13748512,13836487,14295239,14344684,14544160,14753991,14797088,14806048,14806304,14885063,14927648,14928160,14935072,14950599,15016135,15058720,15124449,15131680,15474887,15540423,15540451,15540454,15583520,15585568,15590432]},this.name=function(t){return"windows-1256"},this.language=function(){return"ar"}},a.inherits(t.exports.windows_1256,i),t.exports.KOI8_R=function(){this.byteMap=function(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,163,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,163,32,32,32,32,32,32,32,32,32,32,32,32,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223]},this.ngrams=function(){return[2147535,2148640,2149313,2149327,2150081,2150085,2150338,2150607,2150610,2151105,2151375,2151380,2151631,2152224,2152399,2153153,2153684,2154196,12701385,12702936,12963032,12963529,12964820,12964896,13094688,13181136,13223200,13224224,13226272,13419982,13420832,13424846,13549856,13550880,13552069,13552081,13553440,13553623,13574352,13574355,13574359,13617103,13617696,13618392,13618464,13620180,13621024,13621185,13684684,13685445,13685449,13685455,13812183,13813188,13881632,13882561,13882569,13882583,13944268,13946656,13946834,13948960,14272544,14603471]},this.name=function(t){return"KOI8-R"},this.language=function(){return"ru"}},a.inherits(t.exports.KOI8_R,i)},150:function(t,e,n){function r(){}var o=n(36),i=n(27);t.exports.UTF_16BE=function(){this.name=function(){return"UTF-16BE"},this.match=function(t){var e=t.fRawInput;return e.length>=2&&254==(255&e[0])&&255==(255&e[1])?new i(t,this,confidence=100):null}},t.exports.UTF_16LE=function(){this.name=function(){return"UTF-16LE"},this.match=function(t){var e=t.fRawInput;return e.length>=2&&255==(255&e[0])&&254==(255&e[1])?e.length>=4&&0==e[2]&&0==e[3]?null:new i(t,this,confidence=100):null}},r.prototype.match=function(t){var e=t.fRawInput,n=t.fRawLength/4*4,r=0,o=0,a=!1,u=0;if(0==n)return null;65279==this.getChar(e,0)&&(a=!0);for(var s=0;n>s;s+=4){var c=this.getChar(e,s);0>c||c>=1114111||c>=55296&&57343>=c?o+=1:r+=1}return a&&0==o?u=100:a&&r>10*o?u=80:r>3&&0==o?u=100:r>0&&0==o?u=80:r>10*o&&(u=25),0==u?null:new i(t,this,u)},t.exports.UTF_32BE=function(){this.name=function(){return"UTF-32BE"},this.getChar=function(t,e){return(255&t[e+0])<<24|(255&t[e+1])<<16|(255&t[e+2])<<8|255&t[e+3]}},o.inherits(t.exports.UTF_32BE,r),t.exports.UTF_32LE=function(){this.name=function(){return"UTF-32LE"},this.getChar=function(t,e){return(255&t[e+3])<<24|(255&t[e+2])<<16|(255&t[e+1])<<8|255&t[e+0]}},o.inherits(t.exports.UTF_32LE,r)},151:function(t,e,n){var r=n(27);t.exports=function(){this.name=function(){return"UTF-8"},this.match=function(t){var e,n=!1,o=0,i=0,a=t.fRawInput,u=0;t.fRawLength>=3&&239==(255&a[0])&&187==(255&a[1])&&191==(255&a[2])&&(n=!0);for(var s=0;s<t.fRawLength;s++){var c=a[s];if(0!=(128&c)){if(192==(224&c))u=1;else if(224==(240&c))u=2;else if(240==(248&c))u=3;else{if(i++,i>5)break;u=0}for(;s++,!(s>=t.fRawLength);){if(128!=(192&a[s])){i++;break}if(0==--u){o++;break}}}}if(e=0,n&&0==i)e=100;else if(n&&o>10*i)e=80;else if(o>3&&0==i)e=100;else if(o>0&&0==i)e=80;else if(0==o&&0==i)e=10;else{if(!(o>10*i))return null;e=25}return new r(t,this,e)}}},152:function(t,e,n){function r(t,e){t.split(/\r\n|\r|\n/).map(function(t){return t.trim()}).forEach(function(t,n){e(t,n+1)})}var o=n(76),i=n(99);e.compile=function(t,e){function n(t,e,n,r){var o=Math.floor(n.length/2);if(0!==o)for(var i=0;o>i;i++){var a=n.substr(2*i,2),s=i/o;"00"!==a&&u.objects.add({measure:t,fraction:s,value:a,channel:e,lineNumber:r})}}function a(t,e){l.warnings.push({lineNumber:t,message:e})}e=e||{};var u=new i,s=e.rng||function(t){return 1+Math.floor(Math.random()*t)},c=[],f=[!1],l={headerSentences:0,channelSentences:0,controlSentences:0,skippedSentences:0,malformedSentences:0,chart:u,warnings:[]};return r(t,function(t,e){var r=!0;if("#"===t.charAt(0)&&(o(t).when(/^#RANDOM\s+(\d+)$/i,function(t){l.controlSentences+=1,c.push(s(+t[1]))}).when(/^#IF\s+(\d+)$/i,function(t){l.controlSentences+=1,f.push(c[c.length-1]!==+t[1])}).when(/^#ENDIF$/i,function(t){l.controlSentences+=1,f.pop()})["else"](function(){r=!1}),!r)){var i=f[f.length-1];o(t).when(/^#(\d\d\d)02:(\S*)$/,function(t){l.channelSentences+=1,i||u.timeSignatures.set(+t[1],+t[2])}).when(/^#(?:EXT\s+#)?(\d\d\d)(\S\S):(\S*)$/,function(t){l.channelSentences+=1,i||n(+t[1],t[2],t[3],e)}).when(/^#(\w+)(?:\s+(\S.*))?$/,function(t){l.headerSentences+=1,i||u.headers.set(t[1],t[2])})["else"](function(){a(e,"Invalid command")})}}),l}},153:function(t,e){t.exports={IIDX_P1:{11:"1",12:"2",13:"3",14:"4",15:"5",18:"6",19:"7",16:"SC"}}},154:function(t,e,n){function r(t){t.forEach(i.validate),this._notes=t}function o(t,e){this._chart=t,a(e.mapping,"Expected options.mapping"),a("object"==typeof e.mapping,"options.mapping must be object"),this._mapping=e.mapping}var i=n(155),a=n(42);t.exports=r,r.CHANNEL_MAPPING=n(153),r.prototype.count=function(){return this._notes.length},r.prototype.all=function(){return this._notes.slice()},r.fromBMSChart=function(t,e){e=e||{};var n=e.mapping||r.CHANNEL_MAPPING.IIDX_P1,i=new o(t,{mapping:n});return i.build()},o.prototype.build=function(){return this._notes=[],this._activeLN={},this._lastNote={},this._lnObj=(this._chart.headers.get("lnobj")||"").toLowerCase(),this._channelMapping=this._mapping,this._objects=this._chart.objects.allSorted(),this._objects.forEach(function(t){this._handle(t)}.bind(this)),new r(this._notes)},o.prototype._handle=function(t){if("01"===t.channel)this._handleNormalNote(t);else switch(t.channel.charAt(0)){case"1":case"2":this._handleNormalNote(t);break;case"5":case"6":this._handleLongNote(t)}},o.prototype._handleNormalNote=function(t){var e=this._normalizeChannel(t.channel),n=this._getBeat(t);if(t.value.toLowerCase()===this._lnObj)this._lastNote[e]&&(this._lastNote[e].endBeat=n);else{var r={beat:n,endBeat:void 0,keysound:t.value,column:this._getColumn(e)};this._lastNote[e]=r,this._notes.push(r)}},o.prototype._handleLongNote=function(t){var e=this._normalizeChannel(t.channel),n=this._getBeat(t);if(this._activeLN[e]){var r=this._activeLN[e];r.endBeat=n,this._notes.push(r),delete this._activeLN[e]}else this._activeLN[e]={beat:n,keysound:t.value,column:this._getColumn(e)}},o.prototype._getBeat=function(t){return this._chart.measureToBeat(t.measure,t.fraction)},o.prototype._getColumn=function(t){return this._channelMapping[t]},o.prototype._normalizeChannel=function(t){return t.replace(/^5/,"1").replace(/^6/,"2")}},155:function(t,e,n){var r=n(41);t.exports=new r({beat:"number",endBeat:r.maybe("number"),column:r.maybe("string"),keysound:"string"})},156:function(t,e,n){var r=n(146);e.read=function(t){throw new Error("Synchronous read unsupported in browser!")},e.readAsync=function(t,e){var n=r.detect(t),o=new FileReader;o.onload=function(){e(null,o.result)},o.onerror=function(){e(new Error("cannot read it"))},o.readAsText(new Blob([t]),n)}},157:function(t,e,n){function r(t){this.title="NO TITLE",this.artist="NO ARTIST",this.genre="NO GENRE",this.subtitles=[],this.subartists=[],this.difficulty=0,this.level=0,t&&i.assign(this,t)}var o=n(76),i=n(29);t.exports=r,r.fromBMSChart=function(t){var e={},n=t.headers.get("title"),i=t.headers.get("artist"),a=t.headers.get("genre"),u=+t.headers.get("difficulty"),s=+t.headers.get("playlevel"),c=t.headers.getAll("subtitle"),f=t.headers.getAll("subartist");if("string"==typeof n&&!c){var l=function(t){n=t[1],c=[t[2]]};o(n).when(/^(.*\S)\s*-(.+?)-$/,l).when(/^(.*\S)\s*～(.+?)～$/,l).when(/^(.*\S)\s*\((.+?)\)$/,l).when(/^(.*\S)\s*\[(.+?)\]$/,l).when(/^(.*\S)\s*<(.+?)>$/,l)}return n&&(e.title=n),i&&(e.artist=i),a&&(e.genre=a),c&&(e.subtitles=c),f&&(e.subartists=f),u&&(e.difficulty=u),s&&(e.level=s),new r(e)}},158:function(t,e,n){var r=n(41);t.exports=new r({t:"number",x:"number",dx:"number"})},159:function(t,e,n){function r(t,e){var n={bpm:t,beat:0,seconds:0},r=[];r.push({t:0,x:0,dx:n.bpm/60,bpm:n.bpm,inclusive:!0}),e=e.slice(),e.sort(function(t,e){return t.beat-e.beat||a[t.type]-a[e.type]}),e.forEach(function(t){var e=t.beat,o=n.seconds+60*(e-n.beat)/n.bpm;switch(t.type){case"bpm":n.bpm=t.bpm,r.push({t:o,x:e,dx:n.bpm/60,bpm:n.bpm,inclusive:!0});break;case"stop":r.push({t:o,x:e,dx:0,bpm:n.bpm,inclusive:!0}),o+=60*(t.stopBeats||0)/n.bpm,r.push({t:o,x:e,dx:n.bpm/60,bpm:n.bpm,inclusive:!1});break;default:throw new Error("Unrecognized segment object!")}n.beat=e,n.seconds=o}),this._speedcore=new o(r),this._eventBeats=i.uniq(i.pluck(e,"beat"),!0)}var o=n(45),i=n(29);t.exports=r;var a={bpm:1,stop:2};r.prototype.beatToSeconds=function(t){return this._speedcore.t(t)},r.prototype.secondsToBeat=function(t){return this._speedcore.x(t)},r.prototype.bpmAtBeat=function(t){return this._speedcore.segmentAtX(t).bpm},r.prototype.getEventBeats=function(t){return this._eventBeats},r.fromBMSChart=function(t){var e=[];return t.objects.all().forEach(function(n){var r,o=t.measureToBeat(n.measure,n.fraction);if("03"===n.channel)r=parseInt(n.value,16),e.push({type:"bpm",beat:o,bpm:r});else if("08"===n.channel)r=+t.headers.get("bpm"+n.value),isNaN(r)||e.push({type:"bpm",beat:o,bpm:r});else if("09"===n.channel){var i=t.headers.get("stop"+n.value)/48;e.push({type:"stop",beat:o,stopBeats:i})}}),new r(+t.headers.get("bpm")||60,e)}},163:function(t,e){(function(e){"undefined"!=typeof window?t.exports=window:"undefined"!=typeof e?t.exports=e:t.exports={}}).call(e,function(){return this}())},164:function(t,e){function n(t,e){for(var n=-1,r=t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}t.exports=n},165:function(t,e,n){function r(t,e){return null==e?t:o(e,i(e),t)}var o=n(166),i=n(21);t.exports=r},166:function(t,e){function n(t,e,n){n||(n={});for(var r=-1,o=e.length;++r<o;){var i=e[r];n[i]=t[i]}return n}t.exports=n},167:function(t,e,n){function r(t,e){return p(t,e,f)}function o(t){return function(e){return null==e?void 0:e[t]}}function i(t,e){return function(n,r){var o=n?d(n):0;if(!u(o))return t(n,r);for(var i=e?o:-1,a=s(n);(e?i--:++i<o)&&r(a[i],i,a)!==!1;);return n}}function a(t){return function(e,n,r){for(var o=s(e),i=r(e),a=i.length,u=t?a:-1;t?u--:++u<a;){var c=i[u];if(n(o[c],c,o)===!1)break}return e}}function u(t){return"number"==typeof t&&t>-1&&t%1==0&&l>=t}function s(t){return c(t)?t:Object(t)}function c(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var f=n(21),l=9007199254740991,h=i(r),p=a(),d=o("length");t.exports=h},168:function(t,e){function n(t,e,n){if(null!=t){void 0!==n&&n in r(t)&&(e=[n]);for(var o=0,i=e.length;null!=t&&i>o;)t=t[e[o++]];return o&&o==i?t:void 0}}function r(t){return o(t)?t:Object(t)}function o(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},169:function(t,e){function n(t,e,n){if(e!==e)return r(t,n);for(var o=n-1,i=t.length;++o<i;)if(t[o]===e)return o;return-1}function r(t,e,n){for(var r=t.length,o=e+(n?0:-1);n?o--:++o<r;){var i=t[o];if(i!==i)return o}return-1}t.exports=n},170:function(t,e,n){function r(t){return!!t&&"object"==typeof t}function o(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function i(t,e,n,o,u,s){return t===e?!0:null==t||null==e||!f(t)&&!r(e)?t!==t&&e!==e:a(t,e,i,n,o,u,s)}function a(t,e,n,r,o,i,a){var f=l(t),p=l(e),y=v,g=v;f||(y=E.call(t),y==d?y=b:y!=b&&(f=h(t))),p||(g=E.call(e),g==d?g=b:g!=b&&(p=h(e)));var m=y==b,_=g==b,w=y==g;if(w&&!f&&!m)return s(t,e,y);if(!o){var x=m&&k.call(t,"__wrapped__"),S=_&&k.call(e,"__wrapped__");if(x||S)return n(x?t.value():t,S?e.value():e,r,o,i,a)}if(!w)return!1;i||(i=[]),a||(a=[]);for(var j=i.length;j--;)if(i[j]==t)return a[j]==e;i.push(t),a.push(e);var A=(f?u:c)(t,e,n,r,o,i,a);return i.pop(),a.pop(),A}function u(t,e,n,r,i,a,u){var s=-1,c=t.length,f=e.length;if(c!=f&&!(i&&f>c))return!1;for(;++s<c;){var l=t[s],h=e[s],p=r?r(i?h:l,i?l:h,s):void 0;if(void 0!==p){if(p)continue;return!1}if(i){if(!o(e,function(t){return l===t||n(l,t,r,i,a,u)}))return!1}else if(l!==h&&!n(l,h,r,i,a,u))return!1}return!0}function s(t,e,n){switch(n){case y:case g:return+t==+e;case m:return t.name==e.name&&t.message==e.message;case _:return t!=+t?e!=+e:t==+e;case w:case x:return t==e+""}return!1}function c(t,e,n,r,o,i,a){var u=p(t),s=u.length,c=p(e),f=c.length;if(s!=f&&!o)return!1;for(var l=s;l--;){var h=u[l];if(!(o?h in e:k.call(e,h)))return!1}for(var d=o;++l<s;){h=u[l];var v=t[h],y=e[h],g=r?r(o?y:v,o?v:y,h):void 0;if(!(void 0===g?n(v,y,r,o,i,a):g))return!1;d||(d="constructor"==h)}if(!d){var m=t.constructor,_=e.constructor;if(m!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof _&&_ instanceof _))return!1}return!0}function f(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var l=n(20),h=n(179),p=n(21),d="[object Arguments]",v="[object Array]",y="[object Boolean]",g="[object Date]",m="[object Error]",_="[object Number]",b="[object Object]",w="[object RegExp]",x="[object String]",S=Object.prototype,k=S.hasOwnProperty,E=S.toString;t.exports=i},171:function(t,e,n){function r(t,e){var n=-1,r=o,s=t.length,c=!0,f=c&&s>=u,l=f?a():null,h=[];l?(r=i,c=!1):(f=!1,l=e?[]:h);t:for(;++n<s;){var p=t[n],d=e?e(p,n,t):p;if(c&&p===p){for(var v=l.length;v--;)if(l[v]===d)continue t;e&&l.push(d),h.push(p)}else r(l,d,0)<0&&((e||f)&&l.push(d),h.push(p))}return h}var o=n(169),i=n(173),a=n(175),u=200;t.exports=r},172:function(t,e){function n(t,e){for(var n=-1,r=e.length,o=Array(r);++n<r;)o[n]=t[e[n]];return o}t.exports=n},173:function(t,e){function n(t,e){var n=t.data,o="string"==typeof e||r(e)?n.set.has(e):n.hash[e];return o?0:-1}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},174:function(t,e,n){function r(t){return a(function(e,n){var r=-1,a=null==e?0:n.length,u=a>2?n[a-2]:void 0,s=a>2?n[2]:void 0,c=a>1?n[a-1]:void 0;for("function"==typeof u?(u=o(u,c,5),a-=2):(u="function"==typeof c?c:void 0,a-=u?1:0),s&&i(n[0],n[1],s)&&(u=3>a?void 0:u,a=1);++r<a;){var f=n[r];f&&t(e,f,u)}return e})}var o=n(80),i=n(82),a=n(183);t.exports=r},175:function(t,e,n){(function(e){function r(t){var e=t?t.length:0;for(this.data={hash:c(null),set:new s};e--;)this.push(t[e])}function o(t){var e=this.data;"string"==typeof t||a(t)?e.set.add(t):e.hash[t]=!0}function i(t){return c&&s?new r(t):null}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var u=n(81),s=u(e,"Set"),c=u(Object,"create");r.prototype.push=o,t.exports=i}).call(e,function(){return this}())},176:function(t,e,n){function r(t){return null==t?"":t+""}function o(t){if(i(t))return t;var e=[];return r(t).replace(a,function(t,n,r,o){e.push(r?o.replace(u,"$1"):n||t)}),e}var i=n(20),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,u=/\\(\\)?/g;t.exports=o},177:function(t,e,n){function r(t,e,n){for(var r=-1,o=a(e),i=o.length;++r<i;){var u=o[r],s=t[u],c=n(s,e[u],u,t,e);(c===c?c===s:s!==s)&&(void 0!==s||u in t)||(t[u]=c)}return t}var o=n(165),i=n(174),a=n(21),u=i(function(t,e,n){return n?r(t,e,n):o(t,e)});t.exports=u},178:function(t,e){function n(t){return!!t&&"object"==typeof t}function r(t){return function(e){return null==e?void 0:e[t]}}function o(t){return null!=t&&i(l(t))}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&f>=t}function a(t){return n(t)&&o(t)&&s.call(t,"callee")&&!c.call(t,"callee")}var u=Object.prototype,s=u.hasOwnProperty,c=u.propertyIsEnumerable,f=9007199254740991,l=r("length");t.exports=a},179:function(t,e){function n(t){return!!t&&"object"==typeof t}function r(t){return"number"==typeof t&&t>-1&&t%1==0&&M>=t}function o(t){return n(t)&&r(t.length)&&!!I[P.call(t)]}var i="[object Arguments]",a="[object Array]",u="[object Boolean]",s="[object Date]",c="[object Error]",f="[object Function]",l="[object Map]",h="[object Number]",p="[object Object]",d="[object RegExp]",v="[object Set]",y="[object String]",g="[object WeakMap]",m="[object ArrayBuffer]",_="[object Float32Array]",b="[object Float64Array]",w="[object Int8Array]",x="[object Int16Array]",S="[object Int32Array]",k="[object Uint8Array]",E="[object Uint8ClampedArray]",j="[object Uint16Array]",A="[object Uint32Array]",I={};I[_]=I[b]=I[w]=I[x]=I[S]=I[k]=I[E]=I[j]=I[A]=!0,I[i]=I[a]=I[m]=I[u]=I[s]=I[c]=I[f]=I[l]=I[h]=I[p]=I[d]=I[v]=I[y]=I[g]=!1;var O=Object.prototype,P=O.toString,M=9007199254740991;t.exports=o},180:function(t,e,n){function r(t,e){var n=-1,r=i(t)?Array(t.length):[];return f(t,function(t,o,i){r[++n]=e(t,o,i)}),r}function o(t){return function(e){return null==e?void 0:e[t]}}function i(t){return null!=t&&a(p(t))}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&h>=t}function u(t,e,n){var o=l(t)?s:r;return e=c(e,n,3),o(t,e)}var s=n(164),c=n(79),f=n(167),l=n(20),h=9007199254740991,p=o("length");t.exports=u},181:function(t,e,n){function r(t){return o(t)?t:Object(t)}function o(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function i(t){t=r(t);for(var e=-1,n=a(t),o=n.length,i=Array(o);++e<o;){var u=n[e];i[e]=[u,t[u]]}return i}var a=n(21);t.exports=i},182:function(t,e,n){function r(t){return function(e){return null==e?void 0:e[t]}}function o(t){var e=t+"";return t=l(t),function(n){return f(n,t,e)}}function i(t,e){var n=typeof t;if("string"==n&&v.test(t)||"number"==n)return!0;if(h(t))return!1;var r=!d.test(t);return r||null!=e&&t in a(e)}function a(t){return s(t)?t:Object(t)}function u(t,e){return p(t,c(e))}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function c(t){return i(t)?r(t):o(t)}var f=n(168),l=n(176),h=n(20),p=n(180),d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,v=/^\w*$/;t.exports=u},183:function(t,e){function n(t,e){if("function"!=typeof t)throw new TypeError(r);return e=o(void 0===e?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,i=o(n.length-e,0),a=Array(i);++r<i;)a[r]=n[e+r];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,n[0],a);case 2:return t.call(this,n[0],n[1],a)}var u=Array(e+1);for(r=-1;++r<e;)u[r]=n[r];return u[e]=a,t.apply(this,u)}}var r="Expected a function",o=Math.max;t.exports=n},184:function(t,e,n){function r(t,e){for(var n,r=-1,o=t.length,i=-1,a=[];++r<o;){var u=t[r],s=e?e(u,r,t):u;r&&n===s||(n=s,a[++i]=u)}return a}function o(t,e,n,o){var s=t?t.length:0;return s?(null!=e&&"boolean"!=typeof e&&(o=n,n=u(t,e,o)?void 0:e,e=!1),n=null==n?n:i(n,o,3),e?r(t,n):a(t,n)):[]}var i=n(79),a=n(171),u=n(82);t.exports=o},185:function(t,e,n){function r(t){return o(t,i(t))}var o=n(172),i=n(21);t.exports=r},191:function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},192:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){return 1-(n-t)/(e-t)}function a(t){return t.position}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(8),c=r(s),f=function(){function t(e,n){o(this,t),this._notes=c["default"].sortBy(e,a),this._barLines=(0,c["default"])(n).pluck("position").sortBy().value()}return u(t,[{key:"getVisibleNotes",value:function(t,e,n){var r=[],o=this._notes;n||(n=0);for(var a=0;a<o.length;a++){var u=o[a],s=u.end?!(u.position>e||u.end.position<t-n):!(u.position>e||u.position<t-n);if(s){var c={note:u};if(u.end){var f=i(t,e,u.position),l=i(t,e,u.end.position);c.y=Math.min(f,l),c.height=Math.abs(f-l)}else c.y=i(t,e,u.position);r.push(c)}}return r}},{key:"getVisibleBarLines",value:function(t,e,n){return n||(n=0),this._barLines.filter(function(r){return r>=t-n&&e>=r}).map(function(n){return{id:n,y:i(t,e,n)}})}}]),t}();e.NoteArea=f,e["default"]=f},193:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(192),u=r(a),s=n(46),c=function(){function t(e){o(this,t);var n=e.notechart;this._currentSpeed=1,this._player=e,this._noteArea=new u["default"](n.notes,n.barLines),this._stateful={},this._defaultData={placement:e.options.placement,scratch:e.options.scratch}}return i(t,[{key:"update",value:function(t,e,n){function r(){_.beat=y}function o(t){return n.stats.counts&&n.stats.counts[t]}function i(){return(100*(n.stats.currentAccuracy||0)).toFixed(2)+"%"}function a(){var t=d.getVisibleNotes(g,h(),1),e=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var u=i.value,c=u.note,f=c.column;if(u.height){var l=n.getNoteJudgment(c),p=n.getNoteStatus(c);b("longnote_"+f,{key:c.id,y:u.y,height:u.height,active:0!==l&&l!==s.MISSED,missed:"judged"===p&&l===s.MISSED})}else"judged"!==n.getNoteStatus(c)&&b("note_"+f,{key:c.id,y:u.y})}}catch(v){r=!0,o=v}finally{try{!e&&a["return"]&&a["return"]()}finally{if(r)throw o}}}function u(){var t=d.getVisibleBarLines(g,h(),1),e=!0,n=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;b("barlines",{key:a.id,y:a.y})}}catch(u){n=!0,r=u}finally{try{!e&&i["return"]&&i["return"]()}finally{if(n)throw r}}}function c(){var e=n.input,r=!0,o=!1,i=void 0;try{for(var a,u=p.columns[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=e.get(s);_[s+"_active"]=0!==c.value?1:0,c.changed&&(0!==c.value?v[s+"_down"]=t:v[s+"_up"]=t)}}catch(f){o=!0,i=f}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}}function f(){var e=n.notifications.judgments,r=e[e.length-1];if(r){var o=-1===r.judgment?"missed":""+r.judgment;v["judge_"+o]=t;var i=-1===r.judgment||1===r.judgment?"none":r.delta>0?"late":r.delta<0?"early":"none";v["judge_deviation_"+i]=t,v.combo=r.combo}_.score=n.stats.score}function l(){for(var e=n.notifications.judgments,r=0;r<e.length;r++){var o=e[r];(0,s.breaksCombo)(o.judgment)||(v[o.column+"_explode"]=t)}}function h(){return g+5/w}var p=this._player,d=this._noteArea,v=this._stateful,y=p.notechart.secondsToBeat(e),g=p.notechart.beatToPosition(y),m=p.notechart.spacingAtBeat(y),_=Object.assign({},this._defaultData),b=function(t,e){return(_[t]||(_[t]=[])).push(e)};this._currentSpeed+=(n.speed-this._currentSpeed)/3;var w=this._currentSpeed*m;return r(),a(),u(),c(),f(),l(),_.speed=n.speed.toFixed(1)+"x",_.stat_1=o(1),_.stat_2=o(2),_.stat_3=o(3),_.stat_4=o(4),_.stat_missed=o(s.MISSED),_.stat_acc=i(),_.bpm=Math.round(p.notechart.bpmAtBeat(y)),Object.assign(_,v),_}}]),t}();e.PlayerDisplay=c,e["default"]=c},194:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return function(e){var n=0;return Object.defineProperties({notes:e,update:function(){for(;n<e.length&&"judged"===t.getNoteStatus(e[n]);)n+=1}},{startIndex:{get:function(){return n},configurable:!0,enumerable:!0}})}}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(8),s=r(u),c=n(46),f=n(195),l=r(f),h=function(){function t(e){o(this,t),this._player=e,this._columns=e.columns,this._noteBufferByColumn=(0,s["default"])(e.notechart.notes).sortBy("time").groupBy("column").mapValues(i(this)).value(),this._noteResult=new Map,this._duration=e.notechart.duration,this.stats=new l["default"](e.notechart),this.notifications={},this.speed=e.options.speed,this.finished=!1}return a(t,[{key:"update",value:function(t,e){this._gameTime=t,this._rawInput=e,this.notifications={},this.notifications.sounds=[],this.notifications.judgments=[],this._updateInputColumnMap(),this._judgeNotes(),this._updateSpeed(),t>this._duration+1&&(this.finished=!0)}},{key:"getNoteStatus",value:function(t){var e=this._noteResult.get(t);return e?e.status:"unjudged"}},{key:"getNoteJudgment",value:function(t){var e=this._noteResult.get(t);return e?e.judgment:0}},{key:"getPlayerInput",value:function(t){return this._rawInput.get("p"+this._player.number+"_"+t)}},{key:"_updateInputColumnMap",value:function(){var t=this;this.input=new Map(this._columns.map(function(e){return[e,t.getPlayerInput(e)]}))}},{key:"_judgeNotes",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,o=this._columns[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value,a=this._noteBufferByColumn[i];if(a){var u=this.input.get(i);this._judgeColumn(a,u),a.update()}}}catch(s){e=!0,n=s}finally{try{!t&&o["return"]&&o["return"]()}finally{if(e)throw n}}}},{key:"_updateSpeed",value:function(){this.getPlayerInput("speedup").justPressed&&this._modifySpeed(1),this.getPlayerInput("speeddown").justPressed&&this._modifySpeed(-1);var t=this.getPlayerInput("pinch").value;if(t&&!this._pinching?this._pinching={start:t,speed:this.speed}:t||(this._pinching=null),t){var e=this._pinching,n=e.speed*t/e.start;this.speed=Math.max(.2,Math.round(10*n)/10)}}},{key:"_modifySpeed",value:function(t){var e=this._rawInput.get("select").value?.1:this.speed<.5?.3:.5;this.speed+=t*e,this.speed<.2&&(this.speed=.2)}},{key:"_judgeColumn",value:function(t,e){for(var n=void 0,r=void 0,o=t.notes,i=t.startIndex;i<o.length;i++){var a=o[i];if(this._shouldJudge(a,e,t)){var u="active"!==this.getNoteStatus(a);if(n=a,r=this._judge(a),u)break}}if(e.justPressed)if(n)this.notifications.sounds.push({note:n,type:"hit",judgment:r});else{var s=this._getFreestyleNote(o);s&&this.notifications.sounds.push({note:s,type:"free"})}}},{key:"_getClosestNote",value:function(t){var e=this;return s["default"].min(t,function(t){return Math.abs(e._gameTime-t.time)})}},{key:"_getFreestyleNote",value:function(t){var e=this;return s["default"].min(t,function(t){var n=Math.abs(e._gameTime-t.time),r=e._gameTime<t.time-1?1e6:0;return n+r})}},{key:"_shouldJudge",value:function(t,e,n){var r=this.getNoteStatus(t);if("unjudged"===r){var o=(0,c.judgeTime)(this._gameTime,t.time),i=o===c.MISSED,a=o>0&&e.changed&&e.value;return(0,c.isBad)(o)&&this._getClosestNote(n.notes)!==t&&(a=!1),i||a}if("active"===r){var o=(0,c.judgeEndTime)(this._gameTime,t.end.time),i=o===c.MISSED,u=e.changed,s="SC"===t.column,f=this._gameTime>=t.end.time;return i||u||s&&f}return!1}},{key:"_judge",value:function(t){var e=this._gameTime-t.time,n=(0,c.judgeTime)(this._gameTime,t.time),r=this._noteResult.get(t);if(t.end)if(r&&"unjudged"!==r.status){if("active"===r.status){var o="SC"===t.column;e=this._gameTime-t.end.time,n=(0,c.judgeEndTime)(this._gameTime,t.end.time)||c.MISSED,o&&e>0&&(n=1),r={status:"judged",judgment:n,delta:e}}}else{var i=n===c.MISSED?"judged":"active";r={status:i,judgment:n,delta:e}}else r={status:"judged",judgment:n,delta:e};return n===c.MISSED&&this.notifications.sounds.push({note:t,type:"break"}),this._noteResult.set(t,r),this._setJudgment(n,e,t.column),n}},{key:"_setJudgment",value:function(t,e,n){this.stats.handleJudgment(t);var r={judgment:t,combo:this.stats.combo,delta:e,column:n};this.notifications.judgments.push(r)}},{key:"player",get:function(){return this._player}}]),t}();e.PlayerState=h,e["default"]=h},195:function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(8),c=o(s),f=n(46),l=r(f),h=function(){function t(e){var n;a(this,t),this.totalCombo=(0,c["default"])(e.notes).map(function(t){return e.info(t).combos}).sum(),this.combo=0,this.maxCombo=0,this.rawSumJudgmentWeight=0,this.rawTotalComboScore=this._calculateRawTotalComboScore(),this.rawSumComboScore=0,this.counts=(n={},i(n,l.MISSED,0),i(n,"1",0),i(n,"2",0),i(n,"3",0),i(n,"4",0),n),this.numJudgments=0,this.poor=!1,this._log=[]}return u(t,[{key:"handleJudgment",value:function(t){l.breaksCombo(t)?(this.combo=0,this.poor=!0):(this.combo+=1,this.rawSumComboScore+=this._calculateRawComboScore(this.combo),this.poor=!1),this.rawSumJudgmentWeight+=l.weight(t),this.combo>this.maxCombo&&(this.maxCombo=this.combo),this.counts[t]+=1,this.numJudgments+=1,this._recordLog(t)}},{key:"_calculateRawTotalComboScore",value:function(){for(var t=0,e=1;e<=this.totalCombo;e++)t+=this._calculateRawComboScore(e);return t}},{key:"_calculateRawComboScore",value:function(t){return 0===t?0:23>t?1:51>t?2:92>t?3:161>t?4:5}},{key:"_recordLog",value:function(t){var e=this._getLogCharacter(t);e&&(0===this._log.length||this._log[this._log.length-1].character!==e?this._log.push({
character:e,count:1}):this._log[this._log.length-1].count+=1)}},{key:"_getLogCharacter",value:function(t){switch(t){case 1:return"A";case 2:return"B";case 3:return"C";case 4:return"D";case l.MISSED:return"M"}}},{key:"score",get:function(){var t=Math.floor(5e5*this.accuracy),e=Math.floor(55555*this.rawSumComboScore/this.rawTotalComboScore);return t+e}},{key:"accuracy",get:function(){return this.rawSumJudgmentWeight/(l.weight(1)*this.totalCombo)}},{key:"currentAccuracy",get:function(){return this.rawSumJudgmentWeight/(l.weight(1)*this.numJudgments||1)}},{key:"log",get:function(){return this._log.map(function(t){var e=t.character,n=t.count;return""+(n>1?n:"")+e}).join("")}}]),t}();e.PlayerStats=h,e["default"]=h},196:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(97),u=r(a),s=n(106),c=function(){function t(e){o(this,t),this._url=e}return i(t,[{key:"read",value:function(t){return(0,u["default"])(this._url).as("arraybuffer",t)}},{key:"name",get:function(){return(0,s.basename)(this._url)}}]),t}();e.URLResource=c,e["default"]=c},201:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e,n){var r=n.beatForPulse,i=new Set,a=new Set,s=new Set,c=!0,f=!1,l=void 0;try{for(var h,p=t[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var d=h.value,v=d.x,y=d.y,g=d.c;i.add(y),v&&a.add(y),g||s.add(y)}}catch(m){f=!0,l=m}finally{try{!c&&p["return"]&&p["return"]()}finally{if(f)throw l}}var _=new Map,b=null,w=!0,x=void 0,S=void 0,k=!0,E=!1,j=void 0;try{for(var A,I=u["default"].sortBy([].concat(o(i)))[Symbol.iterator]();!(k=(A=I.next()).done);k=!0){var y=A.value,O=e.beatToSeconds(r(y));null===b||s.has(y)?b=0:b+=O-x;var P=w||a.has(y)||s.has(y);if(P){S&&!s.has(y)&&(S.keysoundEnd=b);var M={keysoundStart:b,keysoundEnd:void 0};_.set(y,M),S=M}w=a.has(y),x=O}}catch(m){E=!0,j=m}finally{try{!k&&I["return"]&&I["return"]()}finally{if(E)throw j}}return _}Object.defineProperty(e,"__esModule",{value:!0}),e.slicesForNotesAndTiming=i;var a=n(8),u=r(a)},208:function(t,e,n){t.exports=n.p+"7d6d69a86d70e4e52079c5ce873435c6.jpg"},219:function(t,e,n){var r;(function(t,o){!function(i){function a(t){throw RangeError(B[t])}function u(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function s(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(M,".");var o=t.split("."),i=u(o,e).join(".");return r+i}function c(t){for(var e,n,r=[],o=0,i=t.length;i>o;)e=t.charCodeAt(o++),e>=55296&&56319>=e&&i>o?(n=t.charCodeAt(o++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--)):r.push(e);return r}function f(t){return u(t,function(t){var e="";return t>65535&&(t-=65536,e+=L(t>>>10&1023|55296),t=56320|1023&t),e+=L(t)}).join("")}function l(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:w}function h(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function p(t,e,n){var r=0;for(t=n?T(t/E):t>>1,t+=T(t/e);t>C*S>>1;r+=w)t=T(t/C);return T(r+(C+1)*t/(t+k))}function d(t){var e,n,r,o,i,u,s,c,h,d,v=[],y=t.length,g=0,m=A,_=j;for(n=t.lastIndexOf(I),0>n&&(n=0),r=0;n>r;++r)t.charCodeAt(r)>=128&&a("not-basic"),v.push(t.charCodeAt(r));for(o=n>0?n+1:0;y>o;){for(i=g,u=1,s=w;o>=y&&a("invalid-input"),c=l(t.charCodeAt(o++)),(c>=w||c>T((b-g)/u))&&a("overflow"),g+=c*u,h=_>=s?x:s>=_+S?S:s-_,!(h>c);s+=w)d=w-h,u>T(b/d)&&a("overflow"),u*=d;e=v.length+1,_=p(g-i,e,0==i),T(g/e)>b-m&&a("overflow"),m+=T(g/e),g%=e,v.splice(g++,0,m)}return f(v)}function v(t){var e,n,r,o,i,u,s,f,l,d,v,y,g,m,_,k=[];for(t=c(t),y=t.length,e=A,n=0,i=j,u=0;y>u;++u)v=t[u],128>v&&k.push(L(v));for(r=o=k.length,o&&k.push(I);y>r;){for(s=b,u=0;y>u;++u)v=t[u],v>=e&&s>v&&(s=v);for(g=r+1,s-e>T((b-n)/g)&&a("overflow"),n+=(s-e)*g,e=s,u=0;y>u;++u)if(v=t[u],e>v&&++n>b&&a("overflow"),v==e){for(f=n,l=w;d=i>=l?x:l>=i+S?S:l-i,!(d>f);l+=w)_=f-d,m=w-d,k.push(L(h(d+_%m,0))),f=T(_/m);k.push(L(h(f,0))),i=p(n,g,r==o),n=0,++r}++n,++e}return k.join("")}function y(t){return s(t,function(t){return O.test(t)?d(t.slice(4).toLowerCase()):t})}function g(t){return s(t,function(t){return P.test(t)?"xn--"+v(t):t})}var m=("object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof o&&o);(m.global===m||m.window===m||m.self===m)&&(i=m);var _,b=2147483647,w=36,x=1,S=26,k=38,E=700,j=72,A=128,I="-",O=/^xn--/,P=/[^\x20-\x7E]/,M=/[\x2E\u3002\uFF0E\uFF61]/g,B={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=w-x,T=Math.floor,L=String.fromCharCode;_={version:"1.3.2",ucs2:{decode:c,encode:f},decode:d,encode:v,toASCII:g,toUnicode:y},r=function(){return _}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)}).call(e,n(66)(t),function(){return this}())},245:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),n(273);var o=n(1),i=r(o);e["default"]=i["default"].createClass({displayName:"BenchmarkPanel",render:function(){return i["default"].createElement("div",{className:"BenchmarkPanel",onClick:this.handleInteraction,onTouchStart:this.handleInteraction},this.state.show?i["default"].createElement("article",null,i["default"].createElement("b",null,"Benchmark Stats"),i["default"].createElement("br",null),this.renderTable()):"Show Benchmark Stats")},componentDidMount:function(){var t=this;setInterval(function(){return t.forceUpdate()},1e3)},renderTable:function(){var t=this.props.bench.stats;return i["default"].createElement("table",null,i["default"].createElement("tbody",null,Object.keys(t).map(function(e){var n=t[e];return i["default"].createElement("tr",null,i["default"].createElement("td",null,i["default"].createElement("strong",null,e)),i["default"].createElement("td",{align:"right"},""+n))})))},getInitialState:function(){return{show:!1,text:"wow"}},handleInteraction:function(t){t.preventDefault(),t.stopPropagation(),this.setState({show:!this.state.show})}}),t.exports=e["default"]},246:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(41),i=r(o),a=n(110),u=r(a),s=new i["default"](u["default"],{id:Number,end:i["default"].maybe(u["default"]),column:String});e.GameNote=s,e["default"]=s},247:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(193),s=r(u);n(274);var c=n(25),f=r(c),l=function(){function t(e){var n=e.game,r=e.context,i=e.backgroundImagePromise;o(this,t),this._game=n,this._context=r,this._players=new Map(n.players.map(function(t){return[t,new s["default"](t)]})),this._stateful={},this._wrapper=this._createWrapper({backgroundImagePromise:i})}return a(t,[{key:"start",value:function(){this._started=(new Date).getTime();var t=this._game.players[0],e=t.notechart.songInfo;this._stateful.song_title=e.title,this._stateful.song_artist=e.artist,this._duration=t.notechart.duration}},{key:"destroy",value:function(){this._context.destroy()}},{key:"update",value:function(t,e){var n=((new Date).getTime()-this._started)/1e3,r=this._getData(n,t,e);this._updateStatefulData(n,t,e),this._context.render(Object.assign({},this._stateful,r))}},{key:"_getData",value:function(t,e,n){var r={};r.tutorial=this._game.options.tutorial?"yes":"no",r.t=t,r.gameTime=e,r.ready=this._getReady(n),r.song_time=this._getSongTime(e);var o=!0,a=!1,u=void 0;try{for(var s,c=this._players[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var f=i(s.value,2),l=f[0],h=f[1],p=n.player(l),d=h.update(t,e,p);for(var v in d)r["p"+l.number+"_"+v]=d[v]}}catch(y){a=!0,u=y}finally{try{!o&&c["return"]&&c["return"]()}finally{if(a)throw u}}return r}},{key:"_updateStatefulData",value:function(t,e,n){var r=this._stateful;void 0===r.started&&n.started&&(r.started=t),void 0===r.gettingStarted&&n.gettingStarted&&(r.gettingStarted=t)}},{key:"_getSongTime",value:function(t){return this._formatTime(Math.min(this._duration,Math.max(0,t)))+" / "+this._formatTime(this._duration)}},{key:"_getReady",value:function(t){var e=t.readyFraction;return e>.5?Math.pow(1-(e-.5)/.5,2):0}},{key:"_createWrapper",value:function(t){var e=t.backgroundImagePromise,n=(0,f["default"])('<div class="game-display"></div>').append('<div class="game-display--bg js-back-image"></div>').append(this.view);return e&&Promise.resolve(e).then(function(t){return n.find(".js-back-image").append(t)}),n[0]}},{key:"_formatTime",value:function(t){var e=Math.floor(t%60);return Math.floor(t/60)+":"+(10>e?"0":"")+e}},{key:"context",get:function(){return this._context}},{key:"view",get:function(){return this._context.view}},{key:"wrapper",get:function(){return this._wrapper}}]),t}();e.GameDisplay=l,e["default"]=l},248:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(144),u=r(a),s=function(){function t(e,n){o(this,t),this.options=n,this.players=n.players.map(function(t,r){return t=Object.assign({},t,{autosound:n.audioInputLatency>=.01}),new u["default"](e[r],r+1,t)})}return i(t,[{key:"samples",get:function(){var t=new Set,e=!0,n=!1,r=void 0;try{for(var o,i=this.players[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value,u=!0,s=!1,c=void 0;try{for(var f,l=a.notechart.samples[Symbol.iterator]();!(u=(f=l.next()).done);u=!0){var h=f.value;t.add(h)}}catch(p){s=!0,c=p}finally{try{!u&&l["return"]&&l["return"]()}finally{if(s)throw c}}}}catch(p){n=!0,r=p}finally{try{!e&&i["return"]&&i["return"]()}finally{if(n)throw r}}return Array.from(t)}}]),t}();e.Game=s,e["default"]=s},249:function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(){n(this,t),this.value=0,this.changed=!1}return r(t,[{key:"justPressed",get:function(){return this.changed&&this.value}}]),t}();e.Control=o,e["default"]=o},250:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(194),s=r(u),c=function(){function t(e){o(this,t),this._game=e,this._players=new Map(e.players.map(function(t){return[t,new s["default"](t)]}))}return a(t,[{key:"update",value:function(t,e,n){var r=!0,o=!0,a=!1,u=void 0;try{for(var s,c=this._players[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var f=i(s.value,2),l=(f[0],f[1]);l.update(t,e),l.finished||(r=!1)}}catch(h){a=!0,u=h}finally{try{!o&&c["return"]&&c["return"]()}finally{if(a)throw u}}this.readyFraction=n.readyFraction,this.gettingStarted=n.gettingStarted,this.started=n.started,this.finished=r}},{key:"player",value:function(t){return this._players.get(t)}},{key:"game",get:function(){return this._game}}]),t}();e.GameState=c,e["default"]=c},253:function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t){function e(t){return(0,f["default"])(regeneratorRuntime.mark(function e(){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.webkitGetAsEntry&&t.webkitGetAsEntry(),!r){e.next=6;break}return e.next=4,n(r,"");case 4:e.next=8;break;case 6:o=t.getAsFile&&t.getAsFile(),a(o);case 8:case"end":return e.stop()}},e,this)}))}function n(t){return t.isFile?r(t):t.isDirectory?o(t):void 0}function r(t){return new Promise(function(e,n){t.file(e,n)}).tap(function(t){a(t)})}function o(t){return(0,f["default"])(regeneratorRuntime.mark(function e(){var r,o,a,u,s,c,f,l,h,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=[],o=t.createReader(),a=function(){return new Promise(function(t,e){o.readEntries(t,e)})};case 3:return e.next=5,a();case 5:if(u=e.sent,u&&0!==u.length){e.next=8;break}return e.abrupt("break",11);case 8:r.push.apply(r,i(Array.from(u)));case 9:e.next=3;break;case 11:s=!0,c=!1,f=void 0,e.prev=14,l=r[Symbol.iterator]();case 16:if(s=(h=l.next()).done){e.next=23;break}return p=h.value,e.next=20,n(p);case 20:s=!0,e.next=16;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](14),c=!0,f=e.t0;case 29:e.prev=29,e.prev=30,!s&&l["return"]&&l["return"]();case 32:if(e.prev=32,!c){e.next=35;break}throw f;case 35:return e.finish(32);case 36:return e.finish(29);case 37:case"end":return e.stop()}},e,this,[[14,25,29,37],[30,,32,36]])}))}function a(t){t&&u.push({name:t.name,file:t})}var u=[];return(0,f["default"])(regeneratorRuntime.mark(function s(){var n,r,o,i,c,f,l,h,p,d,v,y;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!t.dataTransfer.items){s.next=29;break}n=!0,r=!1,o=void 0,s.prev=4,i=Array.from(t.dataTransfer.items)[Symbol.iterator]();case 6:if(n=(c=i.next()).done){s.next=13;break}return f=c.value,s.next=10,e(f);case 10:n=!0,s.next=6;break;case 13:s.next=19;break;case 15:s.prev=15,s.t0=s["catch"](4),r=!0,o=s.t0;case 19:s.prev=19,s.prev=20,!n&&i["return"]&&i["return"]();case 22:if(s.prev=22,!r){s.next=25;break}throw o;case 25:return s.finish(22);case 26:return s.finish(19);case 27:s.next=49;break;case 29:if(!t.dataTransfer.files){s.next=49;break}for(l=!0,h=!1,p=void 0,s.prev=33,d=Array.from(t.dataTransfer.files)[Symbol.iterator]();!(l=(v=d.next()).done);l=!0)y=v.value,a(y);s.next=41;break;case 37:s.prev=37,s.t1=s["catch"](33),h=!0,p=s.t1;case 41:s.prev=41,s.prev=42,!l&&d["return"]&&d["return"]();case 44:if(s.prev=44,!h){s.next=47;break}throw p;case 47:return s.finish(44);case 48:return s.finish(41);case 49:return s.abrupt("return",u);case 50:case"end":return s.stop()}},s,this,[[4,15,19,27],[20,,22,26],[33,37,41,49],[42,,44,48]])}))}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(23),f=o(c),l=n(53),h=o(l),p=n(68),d=r(p),v=function(){function t(e){a(this,t),this._files=u(e)}return s(t,[{key:"file",value:function(t){return this._files.then(function(e){var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;if(u.name.toLowerCase()===t.toLowerCase())return new y(u.file)}}catch(s){r=!0,o=s}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw o}}throw new Error("unable to find "+t)})}},{key:"fileList",get:function(){return Promise.resolve(this._files.map(function(t){return t.name}))}}]),t}();e.DndResources=v;var y=function(){function t(e){a(this,t),this._file=e}return s(t,[{key:"read",value:function(t){return d.atomic(t,(0,h["default"])(this._file).as("arraybuffer"))}},{key:"name",get:function(){return this._file.name}}]),t}();e.FileResource=y,e["default"]=v},255:function(t,e,n){function r(t){this._map=t}var o=n(29);r.prototype.get=function(t){return this._map[t.toLowerCase()]},r.prototype.files=function(){return o.uniq(o.values(this._map))},r.prototype.all=function(){return this._map},r.fromBMSChart=function(t){var e={};return t.headers.each(function(t,n){var r=t.match(/^wav(\S\S)$/i);r&&(e[r[1].toLowerCase()]=n)}),new r(e)},t.exports=r},256:function(t,e,n){function r(t){this._speedcore=new o(t)}var o=n(45);n(29);t.exports=r,r.prototype.speed=function(t){return this._speedcore.dx(t)},r.prototype.position=function(t){return this._speedcore.x(t)},r.fromBMSChart=function(t){var e=[],n=0;return e.push({t:0,x:n,dx:1,inclusive:!0}),t.objects.allSorted().forEach(function(r){if("SC"===r.channel){var o=t.measureToBeat(r.measure,r.fraction),i=+t.headers.get("scroll"+r.value);if(isNaN(i))return;var a=e[e.length-1];n+=(o-a.t)*a.dx,0===o&&1===e.length?e[0].dx=i:e.push({t:o,x:n,dx:i,inclusive:!0})}}),new r(e)}},257:function(t,e,n){function r(t){t.length>0&&(this._speedcore=new o(t))}var o=n(45);n(29);t.exports=r,r.prototype.factor=function(t){return this._speedcore?this._speedcore.x(t):1},r.fromBMSChart=function(t){var e=[];return t.objects.allSorted().forEach(function(n){if("SP"===n.channel){var r=t.measureToBeat(n.measure,n.fraction),o=+t.headers.get("speed"+n.value);if(isNaN(o))return;if(e.length>0){var i=e[e.length-1];i.dx=(o-i.x)/(r-i.t)}e.push({t:r,x:o,dx:0,inclusive:!0})}}),e.length>0&&e.unshift({t:0,x:e[0].x,dx:0,inclusive:!0}),new r(e)}},258:function(t,e,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===a||e===l?62:e===u||e===h?63:s>e?-1:s+10>e?e-s+26+26:f+26>e?e-f:c+26>e?e-c+26:void 0}function n(t){function n(t){c[l++]=t}var r,o,a,u,s,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=t.length;s="="===t.charAt(f-2)?2:"="===t.charAt(f-1)?1:0,c=new i(3*t.length/4-s),a=s>0?t.length-4:t.length;var l=0;for(r=0,o=0;a>r;r+=4,o+=3)u=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&u)>>16),n((65280&u)>>8),n(255&u);return 2===s?(u=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&u)):1===s&&(u=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(u>>8&255),n(255&u)),c}function o(t){function e(t){return r.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var o,i,a,u=t.length%3,s="";for(o=0,a=t.length-u;a>o;o+=3)i=(t[o]<<16)+(t[o+1]<<8)+t[o+2],s+=n(i);switch(u){case 1:i=t[t.length-1],s+=e(i>>2),s+=e(i<<4&63),s+="==";break;case 2:i=(t[t.length-2]<<8)+t[t.length-1],s+=e(i>>10),s+=e(i>>4&63),s+=e(i<<2&63),s+="="}return s}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),u="/".charCodeAt(0),s="0".charCodeAt(0),c="a".charCodeAt(0),f="A".charCodeAt(0),l="-".charCodeAt(0),h="_".charCodeAt(0);t.toByteArray=n,t.fromByteArray=o}(e)},261:function(t,e,n){e=t.exports=n(3)(),e.push([t.id,"body{font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}.BenchmarkPanel{background:#449;border:2px solid #66e;padding:4px}.BenchmarkPanel table{font-size:10px}",""])},262:function(t,e,n){e=t.exports=n(3)(),e.push([t.id,".game-display{display:block;margin:0 auto;overflow:hidden;position:relative}.game-display--bg{position:absolute;top:0;left:0;z-index:10;background:url("+n(264)+") center no-repeat;background-size:cover;-webkit-animation:1.5s game-display--bg-default;animation:1.5s game-display--bg-default;animation-fill-mode:both}.game-display--bg,.game-display--bg img{width:100%;height:100%;-webkit-animation-fill-mode:both}.game-display--bg img{display:block;object-fit:cover;-webkit-animation:1.2s game-display--bg-default;animation:1.2s game-display--bg-default;animation-fill-mode:both}.game-display>canvas{position:relative;z-index:100}@-webkit-keyframes game-display--bg-default{0%{-webkit-transform:translate(0);transform:translate(0);opacity:0}to{-webkit-transform:translateY(-35px);transform:translateY(-35px);opacity:1}}@keyframes game-display--bg-default{0%{-webkit-transform:translate(0);transform:translate(0);opacity:0}to{-webkit-transform:translateY(-35px);transform:translateY(-35px);opacity:1}}",""])},263:function(t,e,n){e=t.exports=n(3)(),e.push([t.id,"body{font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}.Scene{top:0;bottom:0;overflow:hidden;font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}.Scene,.Scene>.SceneHeading{position:absolute;right:0;left:0}.Scene>.SceneHeading{top:5vmin}.Scene>.SceneToolbar{position:absolute;right:0;bottom:0;left:0}",""])},264:function(t,e,n){t.exports=n.p+"ea410328703171d8f693d3a404a11a8f.jpg"},265:function(t,e){e.read=function(t,e,n,r,o){var i,a,u=8*o-r-1,s=(1<<u)-1,c=s>>1,f=-7,l=n?o-1:0,h=n?-1:1,p=t[e+l];for(l+=h,i=p&(1<<-f)-1,p>>=-f,f+=u;f>0;i=256*i+t[e+l],l+=h,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=r;f>0;a=256*a+t[e+l],l+=h,f-=8);if(0===i)i=1-c;else{if(i===s)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,r),i-=c}return(p?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,u,s,c=8*i-o-1,f=(1<<c)-1,l=f>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,d=r?1:-1,v=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-a))<1&&(a--,s*=2),e+=a+l>=1?h/s:h*Math.pow(2,1-l),e*s>=2&&(a++,s/=2),a+l>=f?(u=0,a=f):a+l>=1?(u=(e*s-1)*Math.pow(2,o),a+=l):(u=e*Math.pow(2,l-1)*Math.pow(2,o),a=0));o>=8;t[n+p]=255&u,p+=d,u/=256,o-=8);for(a=a<<o|u,c+=o;c>0;t[n+p]=255&a,p+=d,a/=256,c-=8);t[n+p-d]|=128*v}},266:function(t,e){var n=Array.isArray,r=Object.prototype.toString;t.exports=n||function(t){return!!t&&"[object Array]"==r.call(t)}},273:function(t,e,n){var r=n(261);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},274:function(t,e,n){var r=n(262);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},275:function(t,e,n){var r=n(263);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},276:function(t,e,n){(function(e){function r(t,e,n){function r(){try{a.send(""+(new Date).getTime())}catch(t){}}function i(t){var e=t.split(","),r=+e[0],i=+e[1],a=(new Date).getTime();a>=r&&u.push(o.convert([r,i,i,a])),u.length>=8&&n&&n(o.offset(u))}var a=new WebSocket(t),u=[];a.onmessage=function(t){"k"==t.data&&r(),t.data.indexOf(",")>=0&&(i(t.data),r())},a.onclose=function(){return u.length<1?e(new Error("no offset received")):e(null,o.offset(u))}}var o=n(277);t.exports=r}).call(e,n(5))},277:function(t,e){e.convert=function(t){var e=t[0],n=t[1],r=t[2],o=t[3];return{offset:(n-e+(r-o))/2,delay:o-e-(r-n)}},e.offset=function(t){t=t.slice(),t.sort(function(t,e){return t.offset-e.offset}),t=t.slice(1,t.length-1),t.sort(function(t,e){return t.delay-e.delay});for(var e=0,n=0,r=Math.ceil(t.length/8),o=0;o<t.length&&(t[o].delay>t[0].delay&&r--,0!==r);o++)e+=t[o].offset,n+=1;return e/n}},289:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){t=s["default"].sortBy(t,"time");var e=0;return{next:function(n){for(var r=[];e<t.length&&n>=t[e].time;e++)r.push(t[e]);return r}}}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(8),s=r(u),c=n(290),f=r(c),l=n(46),h=function(){function t(e){var n=e.player,r=e.samples,a=e.master,u=e.waveFactory;o(this,t);var s=n.notechart;this._waveFactory=u||new f["default"](a,r,s.keysounds),this._autos=i(s.autos),this._notes=i(s.notes),this._played=new Map,this._autosound=!!n.options.autosound}return a(t,[{key:"update",value:function(t,e){this._playAutokeysounds(t),this._playAutosounds(t,e),this._handleSoundNotifications(e&&e.notifications.sounds||[])}},{key:"_playAutokeysounds",value:function(t){var e=!0,n=!1,r=void 0;try{for(var o,i=this._autos.next(t+1/30)[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;this._waveFactory.playAuto(a,a.time-t)}}catch(u){n=!0,r=u}finally{try{!e&&i["return"]&&i["return"]()}finally{if(n)throw r}}}},{key:"_playAutosounds",value:function(t,e){var n=this._notes.next(t+1/30),r=e&&e.stats.poor,o=this._autosound&&!r;if(o){var i=!0,a=!1,u=void 0;try{for(var s,c=n[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var f=s.value;this._hitNote(f,f.time-t)}}catch(l){a=!0,u=l}finally{try{!i&&c["return"]&&c["return"]()}finally{if(a)throw u}}}}},{key:"_handleSoundNotifications",value:function(t){var e=!0,n=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value,u=a.type,s=a.note;"hit"===u?this._hitNote(s,0,a.judgment):"break"===u?this._breakNote(s):"free"===u&&this._waveFactory.playFree(s,0)}}catch(c){n=!0,r=c}finally{try{!e&&i["return"]&&i["return"]()}finally{if(n)throw r}}}},{key:"_hitNote",value:function(t,e,n){var r=this._played.get(t);r||(r=this._waveFactory.playNote(t,e),this._played.set(t,r)),r&&(0,l.isBad)(n)&&r.bad()}},{key:"_breakNote",value:function(t){var e=this._played.get(t);e&&(console.log(e),e.stop())}}]),t}();e.PlayerAudio=h,e["default"]=h},290:function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,r,o){n(this,t),this._master=e,this._samples=r,this._map=o,this._exclusiveInstances=new Map}return r(t,[{key:"playAuto",value:function(t,e,n){return this._play({note:t,delay:e,exclusive:!0,slice:n})}},{key:"playNote",value:function(t,e,n){return this._play({note:t,delay:e,exclusive:!0,slice:n})}},{key:"playFree",value:function(t,e,n){return this._play({note:t,delay:0,exclusive:!1,slice:n})}},{key:"_play",value:function(t){var e=t.note,n=t.delay,r=t.exclusive,o=e.keysound;r&&this._stopOldExclusiveSound(o,n);var i=this._map[o.toLowerCase()];if(!i)return null;var a=this._samples[i];if(!a)return null;var u=a.play(n,{start:e.keysoundStart,end:e.keysoundEnd});return r&&this._exclusiveInstances.set(o,u),u}},{key:"_stopOldExclusiveSound",value:function(t,e){var n=this._exclusiveInstances.get(t);n&&(setTimeout(function(){return n.stop()},1e3*e),this._exclusiveInstances["delete"](t))}}]),t}();e.WaveFactory=o,e["default"]=o},291:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){function e(){return t.input}function n(e,n){var r=t.refs[n];if(r){var o=!0,i=!1,a=void 0;try{for(var u,s=r[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value,f=c.getBounds(),l=!0,h=!1,p=void 0;try{for(var d,v=e[Symbol.iterator]();!(l=(d=v.next()).done);l=!0){var y=d.value;if(f.contains(y.x,y.y))return 1}}catch(g){h=!0,p=g}finally{try{!l&&v["return"]&&v["return"]()}finally{if(h)throw p}}}}catch(g){i=!0,a=g}finally{try{!o&&s["return"]&&s["return"]()}finally{if(i)throw a}}}return 0}function r(e){var n=t.refs.p1_SC;if(!n)return 0;s=null;var r=!0,o=!1,a=void 0;try{for(var u,c=e[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var f=u.value,l=!0,h=!1,p=void 0;try{for(var d,v=n[Symbol.iterator]();!(l=(d=v.next()).done);l=!0){var y=d.value;if(y.getBounds().contains(f.x,f.y)){s=f.y;break}}}catch(g){h=!0,p=g}finally{try{!l&&v["return"]&&v["return"]()}finally{if(h)throw p}}if(null!==s)break}}catch(g){o=!0,a=g}finally{try{!r&&c["return"]&&c["return"]()}finally{if(o)throw a}}return null===s?(i=null,0):(null===i&&(i=s),s>i+16?i=s-16:i-16>s&&(i=s+16),s>i+4?-1:i-4>s?1:0)}function o(t){var e=null,n=null,r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;if(s.y<550)if(null===e)e=s.y;else{if(null!==n)return 0;n=s.y}}}catch(c){o=!0,i=c}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return null!==e&&null!==n?Math.abs(e-n):0}var i=null,s=null,c=a["default"].wrap("input:touch:I",e),f=a["default"].wrap("input:touch:SC",r),l=a["default"].wrap("input:touch:B",n),h=a["default"].wrap("input:touch:P",o);return{name:"TouchPlugin",get:function(){var t=c(),e={};a["default"].enabled&&(a["default"].stats["input:touch:n"]=""+t.length),e.p1_SC=f(t);var n=!0,r=!1,o=void 0;try{for(var i,s=u[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var p=i.value;e[p]=l(t,p)}}catch(d){r=!0,o=d}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw o}}return e.p1_pinch=h(t),e}}}Object.defineProperty(e,"__esModule",{value:!0}),e.TouchPlugin=o;var i=n(93),a=r(i),u=["p1_1","p1_2","p1_3","p1_4","p1_5","p1_6","p1_7","start"];e["default"]=o},292:function(t,e,n){(function(t){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(23),s=o(u),c=n(54),f=o(c),l=n(111),h=o(l),p=n(318),d=r(p),v=function(){function e(){i(this,e)}return a(e,[{key:"load",value:function(t,e,n){return e.name.match(/\.bmson$/i)?this.loadBmson(t,e,n):this.loadBMS(t,e,n)}},{key:"loadBMS",value:function(e,n,r){return(0,s["default"])(regeneratorRuntime.mark(function o(){var n,i,a,u,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=new t(new Uint8Array(e)),o.next=3,Promise.promisify(f["default"].Reader.readAsync)(n);case 3:return i=o.sent,a=f["default"].Compiler.compile(i),u=a.chart,s=h["default"].fromBMSChart(u,r),o.abrupt("return",s);case 8:case"end":return o.stop()}},o,this)}))}},{key:"loadBmson",value:function(e,n,r){return(0,s["default"])(regeneratorRuntime.mark(function o(){
var n,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=new t(new Uint8Array(e)),i=n.toString("utf-8"),o.abrupt("return",d.load(i,r));case 3:case"end":return o.stop()}},o,this)}))}}]),e}();e.NotechartLoader=v,e["default"]=v}).call(e,n(77).Buffer)},293:function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(8),s=o(u),c=n(68),f=r(c),l=n(44),h=n(73),p=function(){function t(e,n){i(this,t),this._assets=e,this._master=n}return a(t,[{key:"loadFiles",value:function(t,e,n){var r=this,o=f.fixed(t.length,e),i=f.fixed(t.length,n),a=function(t){return r._loadSample(t,o,i)};return n&&(n.formatter=l.EXTRA_FORMATTER),Promise.map(t,a).then(function(t){return(0,s["default"])(t).filter().object().value()})}},{key:"_loadSample",value:function(t,e,n){var r=this;return this._getFile(t).then(function(o){return o.read().tap(function(){return e(t)}).then(function(t){return r._decode(t)}).tap(function(){return n(t)}).then(function(e){return[t,e]})["catch"](function(e){return console.error("Unable to decode: "+t,e),null})},function(e){return console.error("Unable to read: "+t,e),null})}},{key:"_decode",value:function(t){return this._master.sample(t)}},{key:"_getFile",value:function(t){var e=this;return Promise["try"](function(){if(!(0,h.canPlay)('audio/ogg; codecs="vorbis"'))throw new Error("cannot play OGG");return e._assets.file(t.replace(/\.\w+$/,".ogg"))})["catch"](function(){return e._assets.file(t.replace(/\.\w+$/,".m4a"))})["catch"](function(){return e._assets.file(t.replace(/\.\w+$/,".mp3"))})["catch"](function(){return e._assets.file(t)})}}]),t}();e.SamplesLoader=p,e["default"]=p},296:function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){return(0,v["default"])(t.slice(0,10)).as("text").then(function(e){if("BEMUSEPACK"!==e)throw new Error("Invalid magic number");return(0,v["default"])(t.slice(10,14)).as("arraybuffer")}).then(function(t){var e=new Uint8Array(t),n=e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24);return n}).then(function(e){return t.slice(14+e)})}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(55),f=n(442),l=o(f),h=n(97),p=o(h),d=n(53),v=o(d),y=n(494),g=o(y),m=n(95),_=o(m),b=n(68),w=r(b),x=n(196),S=function(){function t(e){var n=this,r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t);var o=l["default"].bind(null,this);this._url=e,this._fallback=r.fallback,this._fallbackPattern=r.fallbackPattern,o("metadata",function(){return(0,p["default"])((0,c.resolve)(n._url,"metadata.json")).as("text").then(function(t){return JSON.parse(t)})}),o("refs",function(){return n.metadata.then(function(t){return t.refs.map(function(t){return new E(n,t)})})}),o("_fileMap",function(){return n.metadata.then(function(t){var e=new Map,n=!0,r=!1,o=void 0;try{for(var i,a=t.files[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;e.set(u.name.toLowerCase(),u)}}catch(s){r=!0,o=s}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw o}}return e})}),this.progress={all:new _["default"],current:new _["default"]};var u=w.simultaneous(this.progress.current),s=function(){var t=new _["default"];return u.add(t),t};this._loadPayload=w.wrapPromise(this.progress.all,(0,g["default"])(2,function(t){return(0,p["default"])(t).as("blob",s()).then(a)}))}return s(t,[{key:"file",value:function(t){var e=this;return this._fileMap.then(function(n){var r=n.get(t.toLowerCase());if(r)return new k(e,r.ref,r.name);if(e._fallback&&e._fallbackPattern.test(t))return new x.URLResource((0,c.resolve)(e._fallback,t));throw new Error("Unable to find: "+t)})}},{key:"getBlob",value:function(t){var e=u(t,3),n=e[0],r=e[1],o=e[2];return this.refs.then(function(t){return t[n]}).then(function(t){return t.load()}).then(function(t){return t.slice(r,o)})}},{key:"url",get:function(){return this._url}}]),t}();e.BemusePackageResources=S;var k=function(){function t(e,n,r){i(this,t),this._resources=e,this._ref=n,this._name=r}return s(t,[{key:"read",value:function(t){return w.atomic(t,this._resources.getBlob(this._ref).then(function(t){return(0,v["default"])(t).as("arraybuffer")}))}},{key:"name",get:function(){return this._name}}]),t}(),E=function(){function t(e,n){i(this,t),this._resources=e,this._url=(0,c.resolve)(e.url,n.path)}return s(t,[{key:"load",value:function(){return this._promise||(this._promise=this._resources._loadPayload(this._url))}}]),t}();e["default"]=S},318:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t,e){var n=JSON.parse(t),r=u.songInfoForBmson(n),o=u.musicalScoreForBmson(n),i=u.barLinesForBmson(n),a={notes:o.notes.all(),timing:o.timing,keysounds:o.keysounds,songInfo:r,positioning:new l["default"].Positioning([{t:0,x:0,dx:1,inclusive:!0}]),spacing:new l["default"].Spacing([]),barLines:i,images:{eyecatch:n.info.eyecatch_image,background:n.info.back_image}};return new c["default"](a,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.load=i;var a=n(354),u=o(a),s=n(111),c=r(s),f=n(54),l=r(f)},319:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(289),s=r(u),c=function(){function t(e){var n=e.game,r=e.samples,i=e.master;o(this,t),this._master=i,this._context=i.audioContext,this._players=new Map(n.players.map(function(t){return[t,new s["default"]({player:t,samples:r,master:i})]}))}return a(t,[{key:"destroy",value:function(){this._master.destroy()}},{key:"unmute",value:function(){this._master.unmute()}},{key:"update",value:function(t,e){var n=!0,r=!1,o=void 0;try{for(var a,u=this._players[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=i(a.value,2),c=s[0],f=s[1];f.update(t,e.player(c))}}catch(l){r=!0,o=l}finally{try{!n&&u["return"]&&u["return"]()}finally{if(r)throw o}}}},{key:"context",get:function(){return this._context}}]),t}();e.GameAudio=c,e["default"]=c},320:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(56),u=r(a),s=function(){function t(e){o(this,t),e.unmute(),this._context=e.context,this._offset=[],this._sum=0,this.update()}return i(t,[{key:"update",value:function(){var t=(0,u["default"])()/1e3,e=t-this._context.currentTime;for(this._offset.push(e),this._sum+=e;this._offset.length>60;)this._sum-=this._offset.shift();this.time=t-this._sum/this._offset.length}}]),t}();e.Clock=s,e["default"]=s},321:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(323),u=r(a),s=n(250),c=r(s),f=n(143),l=r(f),h=n(320),p=r(h),d=n(93),v=r(d),y=n(325),g=r(y),m=n(291),_=r(m),b=n(324),w=r(b),x=function(){function t(e){var n=this,r=e.game,i=e.display,a=e.audio;o(this,t),this._audioInputLatency=r.options.audioInputLatency,this._game=r,this._display=i,this._audio=a,this._clock=new p["default"](this._audio),this._input=new l["default"],this._timer=new u["default"](this._clock,this._input),this._state=new c["default"](r),this._promise=new Promise(function(t){return n._resolvePromise=t}),v["default"].enabled&&this.enableBenchmark()}return i(t,[{key:"start",value:function(){var t=this;this._handleEscape(),this._display.start(),this._input.use(new g["default"]),this._input.use(new w["default"](this._game)),this._input.use(new _["default"](this._display.context)),/Mobile.*?Safari/.test(navigator.userAgent)?!function(){var e=setInterval(function(){return t._update()},10);t._endGameLoop=function(){return clearInterval(e)}}():!function(){var e=!1,n=function r(){e||(t._update(),requestAnimationFrame(r))};requestAnimationFrame(n),t._endGameLoop=function(){return e=!0}}()}},{key:"_handleEscape",value:function(){var t=this,e=function(e){27===e.keyCode&&(e.preventDefault(),e.stopPropagation(),t._resolvePromise(t._state))};window.addEventListener("keydown",e,!0),this._promise["finally"](function(){window.removeEventListener("keydown",e,!0)}).done()}},{key:"destroy",value:function(){this._endGameLoop(),this._audio.destroy(),this._input.destroy(),this._display.destroy()}},{key:"_update",value:function(){this._clock.update(),this._input.update(),this._timer.update();var t=this._timer.time,e=this._audioInputLatency;this._state.update(t-e,this._input,this._timer),this._audio.update(t,this._state),this._display.update(t,this._state),this._state.finished&&this._resolvePromise&&(this._resolvePromise(this._state),this._resolvePromise=null)}},{key:"enableBenchmark",value:function(){v["default"].benchmark("update",this,"_update"),v["default"].benchmark("input_update",this._input,"update"),v["default"].benchmark("state_update",this._state,"update"),v["default"].benchmark("audio_update",this._audio,"update"),v["default"].benchmark("display_update",this._display,"update"),v["default"].benchmark("display_compute",this._display,"_getData"),v["default"].benchmark("display_push",this._display._context._instance,"push"),v["default"].benchmark("display_render",this._display._context._renderer,"render")}},{key:"game",get:function(){return this._game}},{key:"display",get:function(){return this._display}},{key:"audio",get:function(){return this._audio}},{key:"promise",get:function(){return this._promise}}]),t}();e.GameController=x,e["default"]=x},322:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return function(e){var n=function(){return!1};return(0,u["default"])(window).on("touchstart",n),i(t,e),{teardown:function(){(0,u["default"])(window).off("touchstart",n)}}}}function i(t,e){function n(){var t=Math.min(window.innerWidth/i,window.innerHeight/a);r.style.width=Math.round(i*t)+"px",r.style.height=Math.round(a*t)+"px",o.style.width=Math.round(i*t)+"px",o.style.height=Math.round(a*t)+"px";var e=(window.innerHeight-a*t)/2;o.style.marginTop=Math.round(e)+"px"}var r=t.view,o=t.wrapper,i=r.width,a=r.height;return e.appendChild(o),n(),(0,u["default"])(window).on("resize",n),o}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var a=n(25),u=r(a);t.exports=e["default"]},323:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(56),u=r(a),s=function(){function t(e,n){o(this,t),this._clock=e,this._input=n,this._now=u["default"]["synchronized"](),this.startTime=null,this.readyFraction=0}return i(t,[{key:"update",value:function(){this._checkStartGame(),this.time=this._calculateTime()}},{key:"_checkStartGame",value:function(){this.started||(this._input.get("start").value&&(this.gettingStarted=!0),this.gettingStarted&&!this._input.get("start").value&&(this.startTime=this._clock.time+this._getWait()),this.started||(this.readyFraction=1-this._getWait()))}},{key:"_getWait",value:function(){var t=this._now()/1e3;return Math.ceil(t)-t}},{key:"_calculateTime",value:function(){var t=null===this.startTime?0:this._clock.time-this.startTime;return 0>t&&(t=0),1>t?(Math.pow(t,6)-1)/6-1/30:t-31/30}},{key:"started",get:function(){return null!==this.startTime}}]),t}();e.GameTimer=s,e["default"]=s},324:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){function e(t){o[t.which]=1,t.metaKey||t.ctrlKey||(t.preventDefault(),t.stopPropagation())}function n(t){o[t.which]=0,t.metaKey||t.ctrlKey||(t.preventDefault(),t.stopPropagation())}var r=t.players[0].options.input.keyboard,o={};return(0,a["default"])(window).on("keydown",e).on("keyup",n),{name:"GameKBPlugin",get:function(){return{p1_1:o[r[1]||83],p1_2:o[r[2]||68],p1_3:o[r[3]||70],p1_4:o[r[4]||32],p1_5:o[r[5]||74],p1_6:o[r[6]||75],p1_7:o[r[7]||76],p1_SC:o[r.SC||65]||-o[r.SC2||0],p1_speedup:o[38],p1_speeddown:o[40],start:o[13],select:o[18]}},destroy:function(){(0,a["default"])(window).off("keydown",e).off("keyup",n)}}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(25),a=r(i);e["default"]=o,t.exports=e["default"]},325:function(t,e){"use strict";function n(){function t(t){return r.some(function(e){return e&&e.buttons[t]&&e.buttons[t].pressed})}function e(t){for(var e=0;e<r.length;e++){var n=r[e];if(n&&Math.abs(n.axes[t])>.01)return n.axes[t]}return 0}return{name:"GamepadPlugin",get:function(){var n={p1_1:t(3),p1_2:t(6),p1_3:t(2),p1_4:t(7),p1_5:t(1),p1_6:t(4),p1_7:e(3)||e(0),p1_SC:e(4)||e(1),start:t(9),select:t(8)};return n.p1_speedup=(n.start||n.select)&&(n.p1_2||n.p1_4||n.p1_6),n.p1_speeddown=(n.start||n.select)&&(n.p1_1||n.p1_3||n.p1_5||n.p1_7),n}}}Object.defineProperty(e,"__esModule",{value:!0}),e.GamepadPlugin=n;var r=[];window.addEventListener("gamepadconnected",function(t){r.push(t.gamepad)}),e["default"]=n},326:function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function i(t){var e=t.assets,r=t.bms;return v.start(function(o,i){o("Scintillator","Loading game engine",[],function(t){return new Promise(function(e){var r=new p["default"](t);r.use(function(){n.e(5,function(t){return e(n(134))})})})}),o("Skin","Loading skin",["Scintillator"],function(t,e){return t.load(t.getSkinUrl(),e)}),o("SkinContext",null,["Scintillator","Skin"],function(t,e){return new t.Context(e)}),e.progress&&(e.progress.current&&o.bar("Loading package",e.progress.current),e.progress.all&&o.bar("Loading song packages",e.progress.all)),o("Notechart","Loading "+t.bms.name,[],u["default"].wrap(regeneratorRuntime.mark(function f(e){var n,o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=new _["default"],i.next=3,r.read(e);case 3:return o=i.sent,i.next=6,n.load(o,t.bms,t.options.players[0]);case 6:return i.abrupt("return",i.sent);case 7:case"end":return i.stop()}},f,this)}))),o("EyecatchImage",null,["Notechart"],function(t){return(0,w["default"])(e,t.eyecatchImage)}),o("BackgroundImage",null,["Notechart"],function(t){return(0,w["default"])(e,t.backgroundImage)});var a=new c["default"],s=new c["default"];return o.bar("Loading audio",a),o.bar("Decoding audio",s),o("SamplingMaster",null,[],function(){return new l["default"]}),o("Game",null,["Notechart"],function(e){return new S["default"]([e],t.options)}),o("GameDisplay",null,["Game","Skin","SkinContext"],function(t,e,n){return new O["default"]({game:t,skin:e,context:n,backgroundImagePromise:i("BackgroundImage")})}),o("Samples",null,["SamplingMaster","Game"],function(t,n){var r=new g["default"](e,t);return r.loadFiles(n.samples,a,s)}),o("GameAudio",null,["Game","Samples","SamplingMaster"],function(t,e,n){return new A["default"]({game:t,samples:e,master:n})}),o("GameController",null,["Game","GameDisplay","GameAudio"],function(t,e,n){return new E["default"]({game:t,display:e,audio:n})}),i("GameController")})}Object.defineProperty(e,"__esModule",{value:!0}),e.load=i;var a=n(23),u=o(a),s=n(95),c=o(s),f=n(73),l=o(f),h=n(576),p=o(h),d=n(328),v=r(d),y=n(293),g=o(y),m=n(292),_=o(m),b=n(327),w=o(b),x=n(248),S=o(x),k=n(321),E=o(k),j=n(319),A=o(j),I=n(247),O=o(I)},327:function(t,e){"use strict";function n(t,e){return t.file(e).then(function(t){return t.read()}).then(function(t){return new Blob([t])}).then(function(t){return URL.createObjectURL(t)}).then(function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src=t})})}Object.defineProperty(e,"__esModule",{value:!0}),e.loadImage=n,e["default"]=n},328:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t){function e(t,e,n,i){var u=new c["default"];e&&l.push({text:e,progress:u}),a[t]=function(){return Promise.all(n.map(r)).then(function(t){return i.apply(void 0,o(t.concat([u])))})}}function n(t,e){l.push({text:t,progress:e})}function r(t){return s[t]||(s[t]=a[t]())}function i(){return l.map(function(t){return{text:t.text,progress:t.progress.progress,progressText:t.progress.toString()}})}var a={},s={},l=[];e.bar=n;var h=t(e,r),p=new u["default"](i()),d=(0,f.throttle)(function(){p.value=i()},16),v=!0,y=!1,g=void 0;try{for(var m,_=l[Symbol.iterator]();!(v=(m=_.next()).done);v=!0){var b=m.value;b.progress.watch(d)}}catch(w){y=!0,g=w}finally{try{!v&&_["return"]&&_["return"]()}finally{if(y)throw g}}return{tasks:p,promise:h,get:r}}Object.defineProperty(e,"__esModule",{value:!0}),e.start=i;var a=n(349),u=r(a),s=n(95),c=r(s),f=n(8)},329:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),n(482);var o=n(1),i=r(o),a=n(70),u=r(a),s=n(332),c=r(s),f=n(330),l=r(f);e["default"]=i["default"].createClass({displayName:"LoadingScene",render:function(){return i["default"].createElement(u["default"],{className:"LoadingScene",ref:"scene"},i["default"].createElement("div",{className:"LoadingSceneのimage",ref:"eyecatch"}),i["default"].createElement("div",{className:"LoadingSceneのinfo"},i["default"].createElement(c["default"],{song:this.props.song})),i["default"].createElement(l["default"],{tasks:this.props.tasks}),i["default"].createElement("div",{className:"LoadingSceneのflash"}),i["default"].createElement("div",{className:"LoadingSceneのcover"}))},componentDidMount:function(){var t=this;this.props.eyecatchImagePromise&&this.props.eyecatchImagePromise.then(function(e){i["default"].findDOMNode(t.refs.eyecatch).appendChild(e)})},teardown:function(){return i["default"].findDOMNode(this.refs.scene).classList.add("is-exiting"),Promise.delay(500)}}),t.exports=e["default"]},330:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),n(483);var o=n(1),i=r(o),a=n(331),u=r(a);e["default"]=i["default"].createClass({displayName:"LoadingSceneProgress",render:function(){var t=this;return i["default"].createElement("div",{className:"LoadingSceneProgress"},this.props.tasks.value.map(function(e){return t.renderItem(e)}))},renderItem:function(t){var e=t.text,n=t.progressText,r=t.progress,o=Math.round(100*r||0)+"%",a=n?" ("+n+")":"";return i["default"].createElement("div",{className:"LoadingSceneProgressのitem"},i["default"].createElement(u["default"],{width:o}),e,i["default"].createElement("span",{className:"LoadingSceneProgressのextra"},a))},componentDidMount:function(){var t=this;this._unsubscribe=this.props.tasks.watch(function(){return t.forceUpdate()})},componentWillUnmount:function(){this._unsubscribe()}}),t.exports=e["default"]},331:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),n(484);var o=n(1),i=r(o);e["default"]=i["default"].createClass({displayName:"LoadingSceneProgressBar",render:function(){return i["default"].createElement("div",{className:"LoadingSceneProgressBar"},i["default"].createElement("div",{className:"LoadingSceneProgressBarのbar",style:{width:this.props.width}}))}}),t.exports=e["default"]},332:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),n(485);var o=n(1),i=r(o);e["default"]=i["default"].createClass({displayName:"LoadingSceneSongInfo",render:function(){var t=this.props.song;return i["default"].createElement("div",{className:"LoadingSceneSongInfo"},i["default"].createElement("div",{className:"LoadingSceneSongInfoのgenre"},t.genre),i["default"].createElement("div",{className:"LoadingSceneSongInfoのtitle"},t.title),t.subtitles.map(function(t){return i["default"].createElement("div",{className:"LoadingSceneSongInfoのsubtitle"},t)}),i["default"].createElement("div",{className:"LoadingSceneSongInfoのartist"},t.artist),t.subartists.map(function(t){return i["default"].createElement("div",{className:"LoadingSceneSongInfoのsubartist"},t)}))}}),t.exports=e["default"]},353:function(t,e,n){t.exports=n(572)},354:function(t,e,n){t.exports=n(355)},355:function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(t){function e(){if(!t.version)return["Warning: legacy bmson"];var e=[];return n.chart_name&&"string"==typeof n.chart_name&&e.push(n.chart_name),n.subtitle&&"string"==typeof n.subtitle&&e.push.apply(e,i(n.subtitle.split("\n"))),e}var n=t.info,r={};return n.title&&(r.title=n.title),n.artist&&(r.artist=n.artist),n.genre&&(r.genre=n.genre),n.level&&(r.level=n.level),r.subtitles=e(),n.subartists&&(r.subartists=n.subartists),new b["default"].SongInfo(r)}function u(t){if(!t.version)return x.barLinesForBmson(t);var e=p(t),n=t.lines;return(0,m["default"])(n).map(function(t){var n=t.y;return e(n)}).sortBy().value()}function s(t){if(!t.version)return x.timingInfoForBmson(t);var e=p(t);return{initialBPM:t.info.init_bpm,actions:[].concat(i((t.bpm_events||[]).map(function(t){var n=t.y,r=t.bpm;return{type:"bpm",beat:e(n),bpm:r}})),i((t.stop_events||[]).map(function(t){var n=t.y,r=t.duration;return{type:"stop",beat:e(n),stopBeats:e(Math.floor(r))}})))}}function c(t){var e=s(t),n=e.initialBPM,r=e.actions;return new b["default"].Timing(n,r)}function f(t){var e=c(t),n=h(t,e),r=n.notes,o=n.keysounds;return{timing:e,notes:new b["default"].Notes(r),keysounds:new b["default"].Keysounds(o)}}function l(t){return t.version?t.sound_channels:t.soundChannel}function h(t,e){var n=1,r=p(t),o=[],i={},a=l(t);if(a){var u=!0,s=!1,c=void 0;try{for(var f,h=a[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var v=f.value,y=v.name,g=v.notes,_=m["default"].sortBy(g,"y"),b=n++,w=m["default"].padLeft(""+b,4,"0"),x=k.slicesForNotesAndTiming(g,e,{beatForPulse:r});i[w]=y;var S=!0,E=!1,j=void 0;try{for(var A,I=_[Symbol.iterator]();!(S=(A=I.next()).done);S=!0){var O=A.value,P=O.x,M=O.y,B=O.l,C={column:d(P),beat:r(M),keysound:w,endBeat:void 0};B>0&&(C.endBeat=r(M+B));var T=x.get(M);T&&(Object.assign(C,T),o.push(C))}}catch(L){E=!0,j=L}finally{try{!S&&I["return"]&&I["return"]()}finally{if(E)throw j}}}}catch(L){s=!0,c=L}finally{try{!u&&h["return"]&&h["return"]()}finally{if(s)throw c}}}return{notes:o,keysounds:i}}function p(t){if(!t.version)return x.beatForLoc;var e=t.info&&t.info.resolution||240;return function(t){return t/e}}function d(t){switch(t){case 1:return"1";case 2:return"2";case 3:return"3";case 4:return"4";case 5:return"5";case 6:return"6";case 7:return"7";case 8:return"SC"}return void 0}function v(t){var e=l(t);if(e){var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value.notes,s=!0,c=!1,f=void 0;try{for(var h,p=u[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var d=h.value.x;if(8===d||18===d)return!0}}catch(v){c=!0,f=v}finally{try{!s&&p["return"]&&p["return"]()}finally{if(c)throw f}}}}catch(v){r=!0,o=v}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw o}}}return!1}function y(t){var e=l(t),n=!1,r=!1,o=!1;if(e){var i=!0,a=!1,u=void 0;try{for(var s,c=e[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var f=s.value.notes,h=!0,p=!1,d=void 0;try{for(var v,y=f[Symbol.iterator]();!(h=(v=y.next()).done);h=!0){var g=v.value.x;n=!0,g>=11&&20>=g&&(r=!0),(6===g||7===g||16===g||17===g)&&(o=!0)}}catch(m){p=!0,d=m}finally{try{!h&&y["return"]&&y["return"]()}finally{if(p)throw d}}}}catch(m){a=!0,u=m}finally{try{!i&&c["return"]&&c["return"]()}finally{if(a)throw u}}}return n?r?o?"14K":"10K":o?"7K":"5K":"empty"}Object.defineProperty(e,"__esModule",{value:!0}),e.songInfoForBmson=a,e.barLinesForBmson=u,e.timingInfoForBmson=s,e.musicalScoreForBmson=f,e.hasScratch=v,e.keysForBmson=y,n(353);var g=n(8),m=o(g),_=n(54),b=o(_),w=n(356),x=r(w),S=n(201),k=r(S);Object.defineProperty(e,"_slicesForNotesAndTiming",{enumerable:!0,get:function(){return w._slicesForNotesAndTiming}})},356:function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(t){var e=t.lines;return(0,l["default"])(e).map(function(t){var e=t.y;return s(e)}).sortBy().value()}function u(t){return{initialBPM:t.info.initBPM,actions:[].concat(i((t.bpmNotes||[]).map(function(t){var e=t.y,n=t.v;return{type:"bpm",beat:s(e),bpm:n}})),i((t.stopNotes||[]).map(function(t){var e=t.y,n=t.v;return{type:"stop",beat:s(e),stopBeats:s(Math.floor(n))}})))}}function s(t){return t/240}function c(t,e){return p.slicesForNotesAndTiming(t,e,{beatForPulse:s})}Object.defineProperty(e,"__esModule",{value:!0}),e.barLinesForBmson=a,e.timingInfoForBmson=u,e.beatForLoc=s;var f=n(8),l=o(f),h=n(201),p=r(h);e._slicesForNotesAndTiming=c},390:function(t,e,n){e=t.exports=n(3)(),e.push([t.id,'@charset "UTF-8";body{font-family:Source Sans Pro,Segoe UI,Helvetica Neue,sans-serif}.LoadingScene{background:url('+n(208)+") center no-repeat;background-size:cover}.LoadingSceneのinfo{position:absolute;top:40%;left:0;right:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.LoadingScene .LoadingSceneSongInfo{-webkit-animation:loading-scene--loading-scene-song-info--animation 1s ease;animation:loading-scene--loading-scene-song-info--animation 1s ease}.LoadingScene .LoadingSceneProgress{position:absolute;bottom:10px;left:10px}.LoadingSceneのimage{position:absolute;top:0;right:0;bottom:0;left:0}.LoadingSceneのimage img{width:100%;height:100%;display:block;object-fit:cover;-webkit-animation:loading-scene--eyecatch-fade .8s;animation:loading-scene--eyecatch-fade .8s}.LoadingSceneのflash{background:#fff;-webkit-animation:loading-scene--flash-animation .8s ease-out;animation:loading-scene--flash-animation .8s ease-out}.LoadingSceneのcover,.LoadingSceneのflash{position:absolute;top:0;right:0;bottom:0;left:0;opacity:0;pointer-events:none}.LoadingSceneのcover{background:#000}.Scene.is-exiting .LoadingSceneのinfo{-webkit-animation:loading-scene--info-exit .3s linear;animation:loading-scene--info-exit .3s linear}.Scene.is-exiting .LoadingSceneのflash{-webkit-animation:loading-scene--flash-exit .3s ease;animation:loading-scene--flash-exit .3s ease}.Scene.is-exiting .LoadingSceneのcover{-webkit-animation:loading-scene--cover-exit .3s linear;animation:loading-scene--cover-exit .3s linear;opacity:1}@-webkit-keyframes loading-scene--eyecatch-fade{0%{opacity:0}to{opacity:1}}@keyframes loading-scene--eyecatch-fade{0%{opacity:0}to{opacity:1}}@-webkit-keyframes loading-scene--loading-scene-song-info--animation{0%{-webkit-transform:scale(1.5,.02);transform:scale(1.5,.02)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes loading-scene--loading-scene-song-info--animation{0%{-webkit-transform:scale(1.5,.02);transform:scale(1.5,.02)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes loading-scene--info-exit{0%{-webkit-transform:translateY(-50%) scale(1);transform:translateY(-50%) scale(1)}to{-webkit-transform:translateY(-50%) scale(2);transform:translateY(-50%) scale(2)}}@keyframes loading-scene--info-exit{0%{-webkit-transform:translateY(-50%) scale(1);transform:translateY(-50%) scale(1)}to{-webkit-transform:translateY(-50%) scale(2);transform:translateY(-50%) scale(2)}}@-webkit-keyframes loading-scene--cover-exit{0%{opacity:0}to{opacity:1}}@keyframes loading-scene--cover-exit{0%{opacity:0}to{opacity:1}}@-webkit-keyframes loading-scene--flash-animation{0%{opacity:1}to{opacity:0}}@keyframes loading-scene--flash-animation{0%{opacity:1}to{opacity:0}}@-webkit-keyframes loading-scene--flash-exit{0%{opacity:.5}to{opacity:0}}@keyframes loading-scene--flash-exit{0%{opacity:.5}to{opacity:0}}",""])},391:function(t,e,n){e=t.exports=n(3)(),e.push([t.id,'@charset "UTF-8";.LoadingSceneProgress{color:#333;font-size:11px}.LoadingSceneProgress .LoadingSceneProgressBar{display:inline-block;vertical-align:middle;width:48px;margin-right:4px;position:relative;top:-1px}.LoadingSceneProgressのextra{font-size:83%;opacity:.7}',""])},392:function(t,e,n){e=t.exports=n(3)(),e.push([t.id,'@charset "UTF-8";.LoadingSceneProgressBar{border:1px solid rgba(0,0,0,.6);padding:1px}.LoadingSceneProgressBarのbar{height:8px;background:rgba(0,0,0,.6);width:0}',""])},393:function(t,e,n){e=t.exports=n(3)(),e.push([t.id,'@charset "UTF-8";.LoadingSceneSongInfo{background:hsla(0,0%,100%,.96);color:#191817;text-align:center;padding:25px 0;box-shadow:0 2px 18px rgba(0,0,0,.2)}.LoadingSceneSongInfoのgenre{font-size:3vmin}.LoadingSceneSongInfoのtitle{font-size:8vmin;font-weight:700}.LoadingSceneSongInfoのsubtitle{font-size:6vmin}.LoadingSceneSongInfoのartist{font-size:4vmin;margin-top:.8ex}.LoadingSceneSongInfoのsubartist{font-size:2.5vmin}',""]);
},442:function(t,e){"use strict";function n(t,e,n,r){Object.defineProperty(t,e,{get:function(){var t=n.call(this);return Object.defineProperty(this,e,{value:t,enumerable:!!r,writable:!0}),t},set:function(t){return Object.defineProperty(this,e,{value:t,enumerable:!!r,writable:!0}),t},enumerable:!!r,configurable:!0})}t.exports=n},482:function(t,e,n){var r=n(390);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},483:function(t,e,n){var r=n(391);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},484:function(t,e,n){var r=n(392);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},485:function(t,e,n){var r=n(393);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},494:function(t,e){"use strict";function n(t,e,n,r){this.resolve=t,this.fn=e,this.self=n||null,this.args=r}t.exports=function(e){function r(t,e){function r(e,r,u){if(t){t--;var s=new o(function(t){t(e.apply(r,u))});return s.then(i,i),s}return new o(function(t){a.push(new n(t,e,r,u))})}function i(){if(t++,a.length){var e=a.shift();e.resolve(r(e.fn,e.self,e.args))}}var a=[];if("function"==typeof t&&"number"==typeof e){var u=e;e=t,t=u}return"function"==typeof e?function(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);return r(e,this,t)}:function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);return r(t,this,e)}}var o;if("number"==typeof arguments[0]||"number"==typeof arguments[1]){if(o=t.exports.Promise,"function"!=typeof o)throw new Error("You must provide a Promise polyfill for this library to work in older environments");return r(arguments[0],arguments[1])}return o=e,r},"function"==typeof Promise&&(t.exports.Promise=Promise)},685:function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function i(){window.addEventListener("touchstart",function n(){(0,k.unmuteAudio)(j["default"]),window.removeEventListener("touchstart",n)});var t=function(t){return new Promise(function(e){var n=p["default"].createElement(g["default"],{options:t,play:function(t){e(t)}});c["default"].display(n).done()})},e=u["default"].wrap(regeneratorRuntime.mark(function r(){var e,n,o,i,a,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=(l["default"].keyboard||"").split(",").map(function(t){return+t}),n={url:l["default"].bms||"/music/[snack]dddd/dddd_sph.bme",game:{audioInputLatency:+l["default"].latency||0},players:[{speed:+l["default"].speed||3,autoplay:!!l["default"].autoplay,placement:"center",scratch:l["default"].scratch||"left",input:{keyboard:{1:e[0]||83,2:e[1]||68,3:e[2]||70,4:e[3]||32,5:e[4]||74,6:e[5]||75,7:e[6]||76,SC:e[7]||65,SC2:e[8]||16}}}]},r.next=4,t(n);case 4:return n=r.sent,o=n.url,i=(0,A.resolve)(o,"assets/"),a={title:"Loading",subtitles:[],artist:"",genre:"",subartists:[]},u={bms:n.resource||new w["default"](o),assets:n.resources||new S["default"](i),metadata:a,options:Object.assign({},n.game,{players:n.players})},r.abrupt("return",u);case 10:case"end":return r.stop()}},r,this)}));(0,u["default"])(regeneratorRuntime.mark(function o(){var t,n,r,i,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e();case 2:return t=o.sent,n=O.load(t),r=n.tasks,i=n.promise,o.next=8,c["default"].display(p["default"].createElement(v["default"],{tasks:r,song:t.metadata}));case 8:return o.next=10,i;case 10:return a=o.sent,o.next=13,c["default"].display(new _["default"](a.display));case 13:a.start();case 14:case"end":return o.stop()}},o,this)})).done()}Object.defineProperty(e,"__esModule",{value:!0}),e.main=i;var a=n(23),u=o(a),s=n(96),c=o(s),f=n(98),l=o(f),h=n(1),p=o(h),d=n(329),v=o(d),y=n(815),g=o(y),m=n(322),_=o(m),b=n(196),w=o(b),x=n(296),S=o(x),k=n(73),E=n(104),j=o(E),A=n(55),I=n(326),O=r(I)},815:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),n(1172);var o=n(1),i=r(o),a=n(253),u=r(a),s=n(17),c=r(s),f=i["default"].createClass({displayName:"CustomChartSelector",render:function(){var t=this,e=this.state.files;return i["default"].createElement("div",{className:"drop-zone"},e.length?i["default"].createElement("ul",null,e.map(function(e){return i["default"].createElement("li",null,i["default"].createElement("a",{href:"javascript://",onClick:t.handleItemClick(e),className:(0,c["default"])({"is-active":e.resource===t.props.selectedResource})},e.name))}),this.props.selectedResource?i["default"].createElement("li",null,i["default"].createElement("a",{href:"javascript://",onClick:this.handleClear},"Clear")):null):i["default"].createElement("div",{className:"drop-zone-hint"},"Drop BMS folder here",i["default"].createElement("br",null),"(only works on Google Chrome)"))},getInitialState:function(){return{files:[]}},handleDrop:function(t){var e=this;t.preventDefault();var n=t.nativeEvent,r=new u["default"](n);r.fileList.then(function(t){return t.filter(function(t){return/\.(bms|bme|bml)$/i.test(t)})}).map(function(t){return r.file(t).then(function(e){return{name:t,resource:e}})}).then(function(t){e.setState({files:t,resources:r})})["catch"](function(e){throw"FileError"===e.constructor.name?new Error("File Error code "+t.code):e}).done()},handleItemClick:function(t){var e=this;return function(){e.props.onSelect(e.state.resources,t.resource)}},handleClear:function(){this.props.onSelect(null,null)}});e["default"]=i["default"].createClass({displayName:"GameShellScene",render:function(){var t=this,e=this.state.options;return i["default"].createElement("div",{className:"GameShellScene",onDragOver:this.handleDragOver,onDrop:this.handleDrop},i["default"].createElement("h1",null,"Bemuse Game Shell"),i["default"].createElement("p",null,"This tool is intended for developers testing the game."),i["default"].createElement("form",{onSubmit:this.submit},i["default"].createElement("div",{className:"text"},i["default"].createElement("label",null,i["default"].createElement("span",{className:"label"},"BMS URL:"),i["default"].createElement("input",{type:"text",disabled:e.resource,onChange:this.bindOption(function(t,e){return t.url=e}),value:e.url}))),i["default"].createElement("div",{className:"text"},i["default"].createElement("label",null,i["default"].createElement("span",{className:"label"},"-or- Drop BMS folder here"),i["default"].createElement(f,{ref:"dropzone",selectedResource:e.resource,onSelect:this.handleSelectFile}))),i["default"].createElement("div",{className:"text"},i["default"].createElement("label",null,i["default"].createElement("span",{className:"label"},"Audio-Input Latency"),i["default"].createElement("input",{type:"text",onChange:this.bindOption(function(t,e){return t.game.audioInputLatency=e}),value:e.game.audioInputLatency}))),i["default"].createElement("div",{className:"text"},i["default"].createElement("label",null,i["default"].createElement("span",{className:"label"},"HI-SPEED:"),i["default"].createElement("input",{type:"text",onChange:this.bindOption(function(t,e){return t.players[0].speed=e}),value:e.players[0].speed}))),i["default"].createElement("div",{className:"radio"},i["default"].createElement("h3",null,"Placement"),["left","center","right"].map(function(n){return i["default"].createElement("label",null,i["default"].createElement("input",{type:"radio",value:n,onChange:t.bindOption(function(t,e){return t.players[0].placement=e}),checked:e.players[0].placement===n}),i["default"].createElement("span",{className:"label"},n))})),i["default"].createElement("button",{type:"submit"},"Play")))},submit:function(t){t.preventDefault(),this.props.play(this.state.options)},getInitialState:function(){return{options:this.props.options}},bindOption:function(t){var e=this;return function(n){t(e.state.options,n.target.value),e.forceUpdate()}},handleDragOver:function(t){t.preventDefault()},handleDrop:function(t){t.preventDefault(),this.refs.dropzone.handleDrop(t)},handleSelectFile:function(t,e){this.setState({options:Object.assign(this.state.options,{resources:t,resource:e})}),this.forceUpdate()}}),t.exports=e["default"]},980:function(t,e,n){e=t.exports=n(3)(),e.push([t.id,".GameShellScene{margin:20px auto;background:#353433;border:1px solid #555453;padding:15px;max-width:720px}.GameShellScene .drop-zone{border:2px dashed #555453;padding:5px}.GameShellScene .drop-zone a.is-active{font-weight:700}.GameShellScene .drop-zone-hint{padding:10px;text-align:center;color:#8b8685}.GameShellScene form>div{margin-bottom:1em}.GameShellScene form>div.text .label{display:block;color:#8b8685;font-weight:700;font-size:.8em;margin:0;margin-bottom:.5ex}.GameShellScene form>div.text input{font:inherit;display:block;width:100%;box-sizing:border-box;border:1px inset #555453;background:#252423;color:#bfb}.GameShellScene form>div.text input:disabled{opacity:.2}.GameShellScene form>div.checkbox input{margin-right:1ex}.GameShellScene form>div.radio>h3{display:block;color:#8b8685;font-weight:700;font-size:.8em;margin:0;margin-bottom:.5ex}.GameShellScene form>div.radio>label{display:block}.GameShellScene form>div.radio input{margin-right:1ex}.GameShellScene button{background:#8b8685;border:1px outset #aba6a5;font:inherit;font-size:1.5em;color:#e9e8e7;display:block;width:100%;box-sizing:border-box}.GameShellScene a{color:#fed}",""])},1172:function(t,e,n){var r=n(980);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)}});
//# sourceMappingURL=gameMode-d554dce164e51e2d40a8.js.map