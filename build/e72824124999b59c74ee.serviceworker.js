!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="build/",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];console.log.apply(console,["[serviceworker]"].concat(e))}function u(t,e){t.respondWith(caches.open(e).then(function(e){return e.match(t.request).then(function(n){return n||fetch(t.request).then(function(n){return o("[caching forever]",t.request.url),e.put(t.request,n.clone()),n})})}))}function s(t,e){t.respondWith(caches.open(e).then(function(e){return fetch(t.request).then(function(n){return n&&n.ok?(o("[cached]",t.request.url),e.put(t.request,n.clone()),n):e.match(t.request)})["catch"](function(){return e.match(t.request)})}))}function i(t,e){t.respondWith(caches.open(e).then(function(e){return e.match(t.request).then(function(n){var r=fetch(t.request).then(function(n){return n&&n.ok&&(o("[updated]",t.request.url),e.put(t.request,n.clone())),n});return n||r})}))}var c=n(1),a=r(c);n(2),o("I am a service worker! "+a["default"]);var l="app",h="site-v"+a["default"],f="site-v"+a["default"],p="skin-v"+a["default"],d="songs";self.addEventListener("install",function(t){t.waitUntil(caches.open(h).then(function(t){return t.addAll(["/"])}))}),self.addEventListener("activate",function(){o("Service worker activated!")}),self.addEventListener("fetch",function(t){var e=location.origin+"/build/",n=location.origin+"/skins/",r=location.origin+"/res/",o=location.origin,c=t.request;return c.url.startsWith(e)&&c.url!==e+"boot.js"?u(t,l):c.url.match(/assets\/[^\/]+\.bemuse$/)?u(t,d):c.url.match(/\.(bms|bme|bml)$/)?s(t,d):c.url.match(/\/index\.json$/)?s(t,d):c.url.match(/\/assets\/metadata\.json$/)?s(t,d):c.url.startsWith(n)?i(t,p):c.url.startsWith(r)?i(t,f):c.url.startsWith(o)?s(t,h):c.url.startsWith("https://fonts.googleapis.com/")?i(t,p):void 0})},function(t,e,n){"use strict";t.exports=n(3)},function(t,e){Cache.prototype.add||(Cache.prototype.add=function(t){return this.addAll([t])}),Cache.prototype.addAll||(Cache.prototype.addAll=function(t){function e(t){this.name="NetworkError",this.code=19,this.message=t}var n=this;return e.prototype=Object.create(Error.prototype),Promise.resolve().then(function(){if(arguments.length<1)throw new TypeError;return t=t.map(function(t){return t instanceof Request?t:String(t)}),Promise.all(t.map(function(t){"string"==typeof t&&(t=new Request(t));var n=new URL(t.url).protocol;if("http:"!==n&&"https:"!==n)throw new e("Invalid scheme");return fetch(t.clone())}))}).then(function(e){return Promise.all(e.map(function(e,r){return n.put(t[r],e)}))}).then(function(){return void 0})})},function(t,e){t.exports="1.0.0-beta.27"}]);
//# sourceMappingURL=e72824124999b59c74ee.serviceworker.js.map